"use strict";var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function __extends(e,t){function r(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var __assign=function(){return(__assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function __rest(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r}function __decorate(e,t,r,n){var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o}function __param(e,t){return function(r,n){t(r,n,e)}}function __metadata(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function __awaiter(e,t,r,n){return new(r||(r=Promise))(function(i,a){function o(e){try{u(n.next(e))}catch(e){a(e)}}function s(e){try{u(n.throw(e))}catch(e){a(e)}}function u(e){e.done?i(e.value):new r(function(t){t(e.value)}).then(o,s)}u((n=n.apply(e,t||[])).next())})}function __generator(e,t){var r,n,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,n=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],n=0}finally{r=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}function __values(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}}function __read(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,a=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)o.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return o}function __spread(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(__read(arguments[t]));return e}var global$1="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}var cachedSetTimeout=defaultSetTimout,cachedClearTimeout=defaultClearTimeout;function runTimeout(e){if(cachedSetTimeout===setTimeout)return setTimeout(e,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(e,0);try{return cachedSetTimeout(e,0)}catch(t){try{return cachedSetTimeout.call(null,e,0)}catch(t){return cachedSetTimeout.call(this,e,0)}}}function runClearTimeout(e){if(cachedClearTimeout===clearTimeout)return clearTimeout(e);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(e);try{return cachedClearTimeout(e)}catch(t){try{return cachedClearTimeout.call(null,e)}catch(t){return cachedClearTimeout.call(this,e)}}}"function"==typeof global$1.setTimeout&&(cachedSetTimeout=setTimeout),"function"==typeof global$1.clearTimeout&&(cachedClearTimeout=clearTimeout);var queue=[],draining=!1,currentQueue,queueIndex=-1;function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var e=runTimeout(cleanUpNextTick);draining=!0;for(var t=queue.length;t;){for(currentQueue=queue,queue=[];++queueIndex<t;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,t=queue.length}currentQueue=null,draining=!1,runClearTimeout(e)}}function nextTick(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];queue.push(new Item(e,t)),1!==queue.length||draining||runTimeout(drainQueue)}function Item(e,t){this.fun=e,this.array=t}Item.prototype.run=function(){this.fun.apply(null,this.array)};var title="browser",platform="browser",browser=!0,env={},argv=[],version="",versions={},release={},config={};function noop(){}var on=noop,addListener=noop,once=noop,off=noop,removeListener=noop,removeAllListeners=noop,emit=noop;function binding(e){throw new Error("process.binding is not supported")}function cwd(){return"/"}function chdir(e){throw new Error("process.chdir is not supported")}function umask(){return 0}var performance=global$1.performance||{},performanceNow=performance.now||performance.mozNow||performance.msNow||performance.oNow||performance.webkitNow||function(){return(new Date).getTime()};function hrtime(e){var t=.001*performanceNow.call(performance),r=Math.floor(t),n=Math.floor(t%1*1e9);return e&&(r-=e[0],(n-=e[1])<0&&(r--,n+=1e9)),[r,n]}var startTime=new Date;function uptime(){return(new Date-startTime)/1e3}var process={nextTick:nextTick,title:title,browser:browser,env:env,argv:argv,version:version,versions:versions,on:on,addListener:addListener,once:once,off:off,removeListener:removeListener,removeAllListeners:removeAllListeners,emit:emit,binding:binding,cwd:cwd,chdir:chdir,umask:umask,hrtime:hrtime,platform:platform,release:release,config:config,uptime:uptime},commonjsGlobal="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Reflect$1;function commonjsRequire(){throw new Error("Dynamic requires are not currently supported by rollup-plugin-commonjs")}function unwrapExports(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function createCommonjsModule(e,t){return e(t={exports:{}},t.exports),t.exports}function getCjsExportFromNamespace(e){return e&&e.default||e}!function(e){!function(t){var r="object"==typeof commonjsGlobal?commonjsGlobal:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),n=i(e);function i(e,t){return function(r,n){"function"!=typeof e[r]&&Object.defineProperty(e,r,{configurable:!0,writable:!0,value:n}),t&&t(r,n)}}void 0===r.Reflect?r.Reflect=e:n=i(r.Reflect,n),function(e){var t=Object.prototype.hasOwnProperty,r="function"==typeof Symbol,n=r&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",i=r&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",a="function"==typeof Object.create,o={__proto__:[]}instanceof Array,s=!a&&!o,u={create:a?function(){return O(Object.create(null))}:o?function(){return O({__proto__:null})}:function(){return O({})},has:s?function(e,r){return t.call(e,r)}:function(e,t){return t in e},get:s?function(e,r){return t.call(e,r)?e[r]:void 0}:function(e,t){return e[t]}},c=Object.getPrototypeOf(Function),f="object"==typeof process&&process.env&&"true"===process.env.REFLECT_METADATA_USE_MAP_POLYFILL,l=f||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?function(){var e={},t=[],r=function(){function e(e,t,r){this._index=0,this._keys=e,this._values=t,this._selector=r}return e.prototype["@@iterator"]=function(){return this},e.prototype[i]=function(){return this},e.prototype.next=function(){var e=this._index;if(e>=0&&e<this._keys.length){var r=this._selector(this._keys[e],this._values[e]);return e+1>=this._keys.length?(this._index=-1,this._keys=t,this._values=t):this._index++,{value:r,done:!1}}return{value:void 0,done:!0}},e.prototype.throw=function(e){throw this._index>=0&&(this._index=-1,this._keys=t,this._values=t),e},e.prototype.return=function(e){return this._index>=0&&(this._index=-1,this._keys=t,this._values=t),{value:e,done:!0}},e}();return function(){function t(){this._keys=[],this._values=[],this._cacheKey=e,this._cacheIndex=-2}return Object.defineProperty(t.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),t.prototype.has=function(e){return this._find(e,!1)>=0},t.prototype.get=function(e){var t=this._find(e,!1);return t>=0?this._values[t]:void 0},t.prototype.set=function(e,t){var r=this._find(e,!0);return this._values[r]=t,this},t.prototype.delete=function(t){var r=this._find(t,!1);if(r>=0){for(var n=this._keys.length,i=r+1;i<n;i++)this._keys[i-1]=this._keys[i],this._values[i-1]=this._values[i];return this._keys.length--,this._values.length--,t===this._cacheKey&&(this._cacheKey=e,this._cacheIndex=-2),!0}return!1},t.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=e,this._cacheIndex=-2},t.prototype.keys=function(){return new r(this._keys,this._values,n)},t.prototype.values=function(){return new r(this._keys,this._values,a)},t.prototype.entries=function(){return new r(this._keys,this._values,o)},t.prototype["@@iterator"]=function(){return this.entries()},t.prototype[i]=function(){return this.entries()},t.prototype._find=function(e,t){return this._cacheKey!==e&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=e)),this._cacheIndex<0&&t&&(this._cacheIndex=this._keys.length,this._keys.push(e),this._values.push(void 0)),this._cacheIndex},t}();function n(e,t){return e}function a(e,t){return t}function o(e,t){return[e,t]}}():Map,h=f||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?function(){function e(){this._map=new l}return Object.defineProperty(e.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),e.prototype.has=function(e){return this._map.has(e)},e.prototype.add=function(e){return this._map.set(e,e),this},e.prototype.delete=function(e){return this._map.delete(e)},e.prototype.clear=function(){this._map.clear()},e.prototype.keys=function(){return this._map.keys()},e.prototype.values=function(){return this._map.values()},e.prototype.entries=function(){return this._map.entries()},e.prototype["@@iterator"]=function(){return this.keys()},e.prototype[i]=function(){return this.keys()},e}():Set,d=new(f||"function"!=typeof WeakMap?function(){var e=16,r=u.create(),n=i();return function(){function e(){this._key=i()}return e.prototype.has=function(e){var t=a(e,!1);return void 0!==t&&u.has(t,this._key)},e.prototype.get=function(e){var t=a(e,!1);return void 0!==t?u.get(t,this._key):void 0},e.prototype.set=function(e,t){var r=a(e,!0);return r[this._key]=t,this},e.prototype.delete=function(e){var t=a(e,!1);return void 0!==t&&delete t[this._key]},e.prototype.clear=function(){this._key=i()},e}();function i(){var e;do{e="@@WeakMap@@"+s()}while(u.has(r,e));return r[e]=!0,e}function a(e,r){if(!t.call(e,n)){if(!r)return;Object.defineProperty(e,n,{value:u.create()})}return e[n]}function o(e,t){for(var r=0;r<t;++r)e[r]=255*Math.random()|0;return e}function s(){var t=function(e){if("function"==typeof Uint8Array)return"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(e)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(e)):o(new Uint8Array(e),e);return o(new Array(e),e)}(e);t[6]=79&t[6]|64,t[8]=191&t[8]|128;for(var r="",n=0;n<e;++n){var i=t[n];4!==n&&6!==n&&8!==n||(r+="-"),i<16&&(r+="0"),r+=i.toString(16).toLowerCase()}return r}}():WeakMap);function p(e,t,r){var n=d.get(e);if(y(n)){if(!r)return;n=new l,d.set(e,n)}var i=n.get(t);if(y(i)){if(!r)return;i=new l,n.set(t,i)}return i}function _(e,t,r){var n=p(t,r,!1);return!y(n)&&!!n.has(e)}function g(e,t,r){var n=p(t,r,!1);if(!y(n))return n.get(e)}function m(e,t,r,n){var i=p(r,n,!0);i.set(e,t)}function b(e,t){var r=[],n=p(e,t,!1);if(y(n))return r;for(var a=n.keys(),o=function(e){var t=R(e,i);if(!T(t))throw new TypeError;var r=t.call(e);if(!k(r))throw new TypeError;return r}(a),s=0;;){var u=M(o);if(!u)return r.length=s,r;var c=u.value;try{r[s]=c}catch(e){try{x(o)}finally{throw e}}s++}}function v(e){if(null===e)return 1;switch(typeof e){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===e?1:6;default:return 6}}function y(e){return void 0===e}function w(e){return null===e}function k(e){return"object"==typeof e?null!==e:"function"==typeof e}function E(e,t){switch(v(e)){case 0:case 1:case 2:case 3:case 4:case 5:return e}var r=3===t?"string":5===t?"number":"default",i=R(e,n);if(void 0!==i){var a=i.call(e,r);if(k(a))throw new TypeError;return a}return function(e,t){if("string"===t){var r=e.toString;if(T(r)){var n=r.call(e);if(!k(n))return n}var i=e.valueOf;if(T(i)){var n=i.call(e);if(!k(n))return n}}else{var i=e.valueOf;if(T(i)){var n=i.call(e);if(!k(n))return n}var a=e.toString;if(T(a)){var n=a.call(e);if(!k(n))return n}}throw new TypeError}(e,"default"===r?"number":r)}function A(e){var t=E(e,3);return"symbol"==typeof t?t:function(e){return""+e}(t)}function S(e){return Array.isArray?Array.isArray(e):e instanceof Object?e instanceof Array:"[object Array]"===Object.prototype.toString.call(e)}function T(e){return"function"==typeof e}function C(e){return"function"==typeof e}function R(e,t){var r=e[t];if(null!=r){if(!T(r))throw new TypeError;return r}}function M(e){var t=e.next();return!t.done&&t}function x(e){var t=e.return;t&&t.call(e)}function I(e){var t=Object.getPrototypeOf(e);if("function"!=typeof e||e===c)return t;if(t!==c)return t;var r=e.prototype,n=r&&Object.getPrototypeOf(r);if(null==n||n===Object.prototype)return t;var i=n.constructor;return"function"!=typeof i?t:i===e?t:i}function O(e){return e.__=void 0,delete e.__,e}e("decorate",function(e,t,r,n){if(y(r)){if(!S(e))throw new TypeError;if(!C(t))throw new TypeError;return function(e,t){for(var r=e.length-1;r>=0;--r){var n=e[r],i=n(t);if(!y(i)&&!w(i)){if(!C(i))throw new TypeError;t=i}}return t}(e,t)}if(!S(e))throw new TypeError;if(!k(t))throw new TypeError;if(!k(n)&&!y(n)&&!w(n))throw new TypeError;return w(n)&&(n=void 0),r=A(r),function(e,t,r,n){for(var i=e.length-1;i>=0;--i){var a=e[i],o=a(t,r,n);if(!y(o)&&!w(o)){if(!k(o))throw new TypeError;n=o}}return n}(e,t,r,n)}),e("metadata",function(e,t){return function(r,n){if(!k(r))throw new TypeError;if(!y(n)&&!function(e){switch(v(e)){case 3:case 4:return!0;default:return!1}}(n))throw new TypeError;m(e,t,r,n)}}),e("defineMetadata",function(e,t,r,n){if(!k(r))throw new TypeError;y(n)||(n=A(n));return m(e,t,r,n)}),e("hasMetadata",function(e,t,r){if(!k(t))throw new TypeError;y(r)||(r=A(r));return function e(t,r,n){var i=_(t,r,n);if(i)return!0;var a=I(r);if(!w(a))return e(t,a,n);return!1}(e,t,r)}),e("hasOwnMetadata",function(e,t,r){if(!k(t))throw new TypeError;y(r)||(r=A(r));return _(e,t,r)}),e("getMetadata",function(e,t,r){if(!k(t))throw new TypeError;y(r)||(r=A(r));return function e(t,r,n){var i=_(t,r,n);if(i)return g(t,r,n);var a=I(r);if(!w(a))return e(t,a,n);return}(e,t,r)}),e("getOwnMetadata",function(e,t,r){if(!k(t))throw new TypeError;y(r)||(r=A(r));return g(e,t,r)}),e("getMetadataKeys",function(e,t){if(!k(e))throw new TypeError;y(t)||(t=A(t));return function e(t,r){var n=b(t,r);var i=I(t);if(null===i)return n;var a=e(i,r);if(a.length<=0)return n;if(n.length<=0)return a;var o=new h;var s=[];for(var u=0,c=n;u<c.length;u++){var f=c[u],l=o.has(f);l||(o.add(f),s.push(f))}for(var d=0,p=a;d<p.length;d++){var f=p[d],l=o.has(f);l||(o.add(f),s.push(f))}return s}(e,t)}),e("getOwnMetadataKeys",function(e,t){if(!k(e))throw new TypeError;y(t)||(t=A(t));return b(e,t)}),e("deleteMetadata",function(e,t,r){if(!k(t))throw new TypeError;y(r)||(r=A(r));var n=p(t,r,!1);if(y(n))return!1;if(!n.delete(e))return!1;if(n.size>0)return!0;var i=d.get(t);return i.delete(r),i.size>0||(d.delete(t),!0)})}(n)}()}(Reflect$1||(Reflect$1={}));let output={};(function(){!function(e){function t(e,t,r){return r.a=e,r.f=t,r}function r(e){return t(2,e,function(t){return function(r){return e(t,r)}})}function n(e){return t(3,e,function(t){return function(r){return function(n){return e(t,r,n)}}})}function i(e){return t(4,e,function(t){return function(r){return function(n){return function(i){return e(t,r,n,i)}}}})}function a(e){return t(5,e,function(t){return function(r){return function(n){return function(i){return function(a){return e(t,r,n,i,a)}}}}})}function o(e){return t(6,e,function(t){return function(r){return function(n){return function(i){return function(a){return function(o){return e(t,r,n,i,a,o)}}}}}})}function s(e){return t(7,e,function(t){return function(r){return function(n){return function(i){return function(a){return function(o){return function(s){return e(t,r,n,i,a,o,s)}}}}}}})}function u(e){return t(8,e,function(t){return function(r){return function(n){return function(i){return function(a){return function(o){return function(s){return function(u){return e(t,r,n,i,a,o,s,u)}}}}}}}})}function c(e){return t(9,e,function(t){return function(r){return function(n){return function(i){return function(a){return function(o){return function(s){return function(u){return function(c){return e(t,r,n,i,a,o,s,u,c)}}}}}}}}})}function f(e,t,r){return 2===e.a?e.f(t,r):e(t)(r)}function l(e,t,r,n){return 3===e.a?e.f(t,r,n):e(t)(r)(n)}function h(e,t,r,n,i){return 4===e.a?e.f(t,r,n,i):e(t)(r)(n)(i)}function d(e,t,r,n,i,a){return 5===e.a?e.f(t,r,n,i,a):e(t)(r)(n)(i)(a)}function p(e,t,r,n,i,a,o){return 6===e.a?e.f(t,r,n,i,a,o):e(t)(r)(n)(i)(a)(o)}function _(e,t,r,n,i,a,o,s){return 7===e.a?e.f(t,r,n,i,a,o,s):e(t)(r)(n)(i)(a)(o)(s)}var g={$:0};function m(e,t){return{$:1,a:e,b:t}}var b=r(m);function v(e){for(var t=g,r=e.length;r--;)t=m(e[r],t);return t}function y(e){for(var t=[];e.b;e=e.b)t.push(e.a);return t}var w=n(function(e,t,r){for(var n=[];t.b&&r.b;t=t.b,r=r.b)n.push(f(e,t.a,r.a));return v(n)}),k=(i(function(e,t,r,n){for(var i=[];t.b&&r.b&&n.b;t=t.b,r=r.b,n=n.b)i.push(l(e,t.a,r.a,n.a));return v(i)}),a(function(e,t,r,n,i){for(var a=[];t.b&&r.b&&n.b&&i.b;t=t.b,r=r.b,n=n.b,i=i.b)a.push(h(e,t.a,r.a,n.a,i.a));return v(a)}),o(function(e,t,r,n,i,a){for(var o=[];t.b&&r.b&&n.b&&i.b&&a.b;t=t.b,r=r.b,n=n.b,i=i.b,a=a.b)o.push(d(e,t.a,r.a,n.a,i.a,a.a));return v(o)}),r(function(e,t){return v(y(t).sort(function(t,r){return T(e(t),e(r))}))}));r(function(e,t){return v(y(t).sort(function(t,r){var n=f(e,t,r);return n===gr?0:n===br?-1:1}))});function E(e,t){for(var r,n=[],i=A(e,t,0,n);i&&(r=n.pop());i=A(r.a,r.b,0,n));return i}function A(e,t,r,n){if(r>100)return n.push(M(e,t)),!0;if(e===t)return!0;if("object"!=typeof e||null===e||null===t)return"function"==typeof e&&L(5),!1;for(var i in e.$<0&&(e=wr(e),t=wr(t)),e)if(!A(e[i],t[i],r+1,n))return!1;return!0}var S=r(E);r(function(e,t){return!E(e,t)});function T(e,t,r){if("object"!=typeof e)return e===t?0:e<t?-1:1;if(void 0===e.$)return(r=T(e.a,t.a))?r:(r=T(e.b,t.b))?r:T(e.c,t.c);for(;e.b&&t.b&&!(r=T(e.a,t.a));e=e.b,t=t.b);return r||(e.b?1:t.b?-1:0)}r(function(e,t){return T(e,t)<0}),r(function(e,t){return T(e,t)<1}),r(function(e,t){return T(e,t)>0}),r(function(e,t){return T(e,t)>=0});var C=r(function(e,t){var r=T(e,t);return r<0?br:r?mr:gr}),R=0;function M(e,t){return{a:e,b:t}}function x(e){return e}function I(e,t){var r={};for(var n in e)r[n]=e[n];for(var n in t)r[n]=t[n];return r}var O=r(N);function N(e,t){if("string"==typeof e)return e+t;if(!e.b)return t;var r=m(e.a,t);e=e.b;for(var n=r;e.b;e=e.b)n=n.b=m(e.a,t);return r}var P=n(function(e,t,r){for(var n=new Array(e),i=0;i<e;i++)n[i]=r(t+i);return n}),D=r(function(e,t){for(var r=new Array(e),n=0;n<e&&t.b;n++)r[n]=t.a,t=t.b;return r.length=n,M(r,t)}),B=(r(function(e,t){return t[e]}),n(function(e,t,r){for(var n=r.length,i=new Array(n),a=0;a<n;a++)i[a]=r[a];return i[e]=t,i}),r(function(e,t){for(var r=t.length,n=new Array(r+1),i=0;i<r;i++)n[i]=t[i];return n[r]=e,n}),n(function(e,t,r){for(var n=r.length,i=0;i<n;i++)t=f(e,r[i],t);return t}),n(function(e,t,r){for(var n=r.length-1;n>=0;n--)t=f(e,r[n],t);return t}));r(function(e,t){for(var r=t.length,n=new Array(r),i=0;i<r;i++)n[i]=e(t[i]);return n}),n(function(e,t,r){for(var n=r.length,i=new Array(n),a=0;a<n;a++)i[a]=f(e,t+a,r[a]);return i}),n(function(e,t,r){return r.slice(e,t)}),n(function(e,t,r){var n=t.length,i=e-n;i>r.length&&(i=r.length);for(var a=new Array(n+i),o=0;o<n;o++)a[o]=t[o];for(o=0;o<i;o++)a[o+n]=r[o];return a}),r(function(e,t){return t}),r(function(e,t){return console.log(e+": <internals>"),t});function L(e){throw new Error("https://github.com/elm/core/blob/1.0.0/hints/"+e+".md")}r(function(e,t){return e+t}),r(function(e,t){return e-t}),r(function(e,t){return e*t}),r(function(e,t){return e/t}),r(function(e,t){return e/t|0}),r(Math.pow),r(function(e,t){return t%e});var $=r(function(e,t){var r=t%e;return 0===e?L(11):r>0&&e<0||r<0&&e>0?r+e:r});Math.PI,Math.E,r(Math.atan2);var F=Math.ceil,j=Math.floor,U=Math.round,H=Math.log,z=isNaN;r(function(e,t){return e&&t}),r(function(e,t){return e||t}),r(function(e,t){return e!==t});var W=r(function(e,t){return e+t});var Z=r(function(e,t){return e+t});r(function(e,t){for(var r=t.length,n=new Array(r),i=0;i<r;){var a=t.charCodeAt(i);55296<=a&&a<=56319?(n[i]=e(x(t[i]+t[i+1])),i+=2):(n[i]=e(x(t[i])),i++)}return n.join("")});var K=r(function(e,t){for(var r=[],n=t.length,i=0;i<n;){var a=t[i],o=t.charCodeAt(i);i++,55296<=o&&o<=56319&&(a+=t[i],i++),e(x(a))&&r.push(a)}return r.join("")});var G=n(function(e,t,r){for(var n=r.length,i=0;i<n;){var a=r[i],o=r.charCodeAt(i);i++,55296<=o&&o<=56319&&(a+=r[i],i++),t=f(e,x(a),t)}return t}),Y=n(function(e,t,r){for(var n=r.length;n--;){var i=r[n],a=r.charCodeAt(n);56320<=a&&a<=57343&&(i=r[--n]+i),t=f(e,x(i),t)}return t}),q=r(function(e,t){return t.split(e)}),V=r(function(e,t){return t.join(e)}),X=n(function(e,t,r){return r.slice(e,t)});r(function(e,t){for(var r=t.length;r--;){var n=t[r],i=t.charCodeAt(r);if(56320<=i&&i<=57343&&(n=t[--r]+n),e(x(n)))return!0}return!1});var J=r(function(e,t){for(var r=t.length;r--;){var n=t[r],i=t.charCodeAt(r);if(56320<=i&&i<=57343&&(n=t[--r]+n),!e(x(n)))return!1}return!0}),Q=r(function(e,t){return t.indexOf(e)>-1}),ee=r(function(e,t){return 0===t.indexOf(e)}),te=r(function(e,t){return t.length>=e.length&&t.lastIndexOf(e)===t.length-e.length}),re=r(function(e,t){var r=e.length;if(r<1)return g;for(var n=0,i=[];(n=t.indexOf(e,n))>-1;)i.push(n),n+=r;return v(i)});function ne(e){return e+""}function ie(e){return{$:2,b:e}}var ae=ie(function(e){return"number"!=typeof e?we("an INT",e):-2147483647<e&&e<2147483647&&(0|e)===e?Kr(e):!isFinite(e)||e%1?we("an INT",e):Kr(e)}),oe=ie(function(e){return"boolean"==typeof e?Kr(e):we("a BOOL",e)}),se=ie(function(e){return"number"==typeof e?Kr(e):we("a FLOAT",e)}),ue=ie(function(e){return Kr(Se(e))}),ce=ie(function(e){return"string"==typeof e?Kr(e):e instanceof String?Kr(e+""):we("a STRING",e)});var fe=r(function(e,t){return{$:6,d:e,b:t}});r(function(e,t){return{$:7,e:e,b:t}});function le(e,t){return{$:9,f:e,g:t}}var he=r(function(e,t){return{$:10,b:t,h:e}});var de=r(function(e,t){return le(e,[t])}),pe=n(function(e,t,r){return le(e,[t,r])}),_e=i(function(e,t,r,n){return le(e,[t,r,n])}),ge=(a(function(e,t,r,n,i){return le(e,[t,r,n,i])}),o(function(e,t,r,n,i,a){return le(e,[t,r,n,i,a])}),s(function(e,t,r,n,i,a,o){return le(e,[t,r,n,i,a,o])}),u(function(e,t,r,n,i,a,o,s){return le(e,[t,r,n,i,a,o,s])}),c(function(e,t,r,n,i,a,o,s,u){return le(e,[t,r,n,i,a,o,s,u])}),r(function(e,t){try{return me(e,JSON.parse(t))}catch(e){return Zr(f(Yr,"This is not valid JSON! "+e.message,Se(t)))}}),r(function(e,t){return me(e,Te(t))}));function me(e,t){switch(e.$){case 2:return e.b(t);case 5:return null===t?Kr(e.c):we("null",t);case 3:return ve(t)?be(e.b,t,v):we("a LIST",t);case 4:return ve(t)?be(e.b,t,ye):we("an ARRAY",t);case 6:var r=e.d;if("object"!=typeof t||null===t||!(r in t))return we("an OBJECT with a field named `"+r+"`",t);var n=me(e.b,t[r]);return Gr(n)?n:Zr(f(qr,r,n.a));case 7:var i=e.e;if(!ve(t))return we("an ARRAY",t);if(i>=t.length)return we("a LONGER array. Need index "+i+" but only see "+t.length+" entries",t);n=me(e.b,t[i]);return Gr(n)?n:Zr(f(Vr,i,n.a));case 8:if("object"!=typeof t||null===t||ve(t))return we("an OBJECT",t);var a=g;for(var o in t)if(t.hasOwnProperty(o)){n=me(e.b,t[o]);if(!Gr(n))return Zr(f(qr,o,n.a));a=m(M(o,n.a),a)}return Kr(Ir(a));case 9:for(var s=e.f,u=e.g,c=0;c<u.length;c++){n=me(u[c],t);if(!Gr(n))return n;s=s(n.a)}return Kr(s);case 10:n=me(e.b,t);return Gr(n)?me(e.h(n.a),t):n;case 11:for(var l=g,h=e.g;h.b;h=h.b){n=me(h.a,t);if(Gr(n))return n;l=m(n.a,l)}return Zr(Xr(Ir(l)));case 1:return Zr(f(Yr,e.a,Se(t)));case 0:return Kr(e.a)}}function be(e,t,r){for(var n=t.length,i=new Array(n),a=0;a<n;a++){var o=me(e,t[a]);if(!Gr(o))return Zr(f(Vr,a,o.a));i[a]=o.a}return Kr(r(i))}function ve(e){return Array.isArray(e)||"undefined"!=typeof FileList&&e instanceof FileList}function ye(e){return f(Hr,e.length,function(t){return e[t]})}function we(e,t){return Zr(f(Yr,"Expecting "+e,Se(t)))}function ke(e,t){if(e===t)return!0;if(e.$!==t.$)return!1;switch(e.$){case 0:case 1:return e.a===t.a;case 2:return e.b===t.b;case 5:return e.c===t.c;case 3:case 4:case 8:return ke(e.b,t.b);case 6:return e.d===t.d&&ke(e.b,t.b);case 7:return e.e===t.e&&ke(e.b,t.b);case 9:return e.f===t.f&&Ee(e.g,t.g);case 10:return e.h===t.h&&ke(e.b,t.b);case 11:return Ee(e.g,t.g)}}function Ee(e,t){var r=e.length;if(r!==t.length)return!1;for(var n=0;n<r;n++)if(!ke(e[n],t[n]))return!1;return!0}var Ae=r(function(e,t){return JSON.stringify(Te(t),null,e)+""});function Se(e){return e}function Te(e){return e}var Ce=n(function(e,t,r){return r[e]=Te(t),r});var Re=Se(null);function Me(e){return{$:0,a:e}}function xe(e){return{$:2,b:e,c:null}}var Ie=r(function(e,t){return{$:3,b:e,d:t}});r(function(e,t){return{$:4,b:e,d:t}});var Oe=0;function Ne(e){var t={$:0,e:Oe++,f:e,g:null,h:[]};return Fe(t),t}function Pe(e){return xe(function(t){t(Me(Ne(e)))})}function De(e,t){e.h.push(t),Fe(e)}var Be=r(function(e,t){return xe(function(r){De(e,t),r(Me(R))})});var Le=!1,$e=[];function Fe(e){if($e.push(e),!Le){for(Le=!0;e=$e.shift();)je(e);Le=!1}}function je(e){for(;e.f;){var t=e.f.$;if(0===t||1===t){for(;e.g&&e.g.$!==t;)e.g=e.g.i;if(!e.g)return;e.f=e.g.b(e.f.a),e.g=e.g.i}else{if(2===t)return void(e.f.c=e.f.b(function(t){e.f=t,Fe(e)}));if(5===t){if(0===e.h.length)return;e.f=e.f.b(e.h.shift())}else e.g={$:3===t?0:1,b:e.f.b,i:e.g},e.f=e.f.d}}}i(function(e,t,r,n){return Ue(t,n,e.de,e.dW,e.dR,function(){return function(){}})});function Ue(e,t,r,n,i,a){var o=f(ge,e,Se(t?t.flags:void 0));Gr(o)||L(2);var s={},u=(o=r(o.a)).a,c=a(h,u),l=function(e,t){var r;for(var n in He){var i=He[n];i.a&&((r=r||{})[n]=i.a(n,t)),e[n]=We(i,t)}return r}(s,h);function h(e,t){o=f(n,e,u),c(u=o.a,t),qe(s,o.b,i(u))}return qe(s,o.b,i(u)),l?{ports:l}:{}}var He={};function ze(e,t,r,n,i){return{b:e,c:t,d:r,e:n,f:i}}function We(e,t){var r={g:t,h:void 0},n=e.c,i=e.d,a=e.e,o=e.f;return r.h=Ne(f(Ie,function e(t){return f(Ie,e,{$:5,b:function(e){var s=e.a;return 0===e.$?l(i,r,s,t):a&&o?h(n,r,s.i,s.j,t):l(n,r,a?s.i:s.j,t)}})},e.b))}var Ze=r(function(e,t){return xe(function(r){e.g(t),r(Me(R))})}),Ke=r(function(e,t){return f(Be,e.h,{$:0,a:t})});function Ge(e){return function(t){return{$:1,k:e,l:t}}}function Ye(e){return{$:2,m:e}}r(function(e,t){return{$:3,n:e,o:t}});function qe(e,t,r){var n={};for(var i in Ve(!0,t,n,null),Ve(!1,r,n,null),e)De(e[i],{$:"fx",a:n[i]||{i:g,j:g}})}function Ve(e,t,r,n){switch(t.$){case 1:var i=t.k,a=function(e,t,r,n){return f(e?He[t].e:He[t].f,function(e){for(var t=r;t;t=t.q)e=t.p(e);return e},n)}(e,i,n,t.l);return void(r[i]=function(e,t,r){return r=r||{i:g,j:g},e?r.i=m(t,r.i):r.j=m(t,r.j),r}(e,a,r[i]));case 2:for(var o=t.m;o.b;o=o.b)Ve(e,o.a,r,n);return;case 3:return void Ve(e,t.o,r,{p:t.n,q:n})}}function Xe(e){He[e]&&L(3)}function Je(e,t){return Xe(e),He[e]={e:Qe,r:t,a:et},Ge(e)}var Qe=r(function(e,t){return t});function et(e){var t,r=[],i=He[e].r,a=(t=0,xe(function(e){var r=setTimeout(function(){e(Me(R))},t);return function(){clearTimeout(r)}}));return He[e].b=a,He[e].c=n(function(e,t,n){for(;t.b;t=t.b)for(var o=r,s=Te(i(t.a)),u=0;u<o.length;u++)o[u](s);return a}),{subscribe:function(e){r.push(e)},unsubscribe:function(e){var t=(r=r.slice()).indexOf(e);t>=0&&r.splice(t,1)}}}function tt(e,t){return Xe(e),He[e]={f:nt,r:t,a:it},Ge(e)}var rt,nt=r(function(e,t){return function(r){return e(t(r))}});function it(e,t){var r=g,i=He[e].r,a=Me(null);return He[e].b=a,He[e].c=n(function(e,t,n){return r=t,a}),{send:function(e){var n=f(ge,i,Se(e));Gr(n)||L(4,n.a);for(var a=n.a,o=r;o.b;o=o.b)t(o.a(a))}}}var at="undefined"!=typeof document?document:{};function ot(e,t){e.appendChild(t)}i(function(e,t,r,n){var i=n.node;return i.parentNode.replaceChild(Et(e,function(){}),i),{}});function st(e){return{$:0,a:e}}var ut=r(function(e,t){return r(function(r,n){for(var i=[],a=0;n.b;n=n.b){var o=n.a;a+=o.b||0,i.push(o)}return a+=i.length,{$:1,c:t,d:wt(r),e:i,f:e,b:a}})}),ct=ut(void 0),ft=r(function(e,t){return r(function(r,n){for(var i=[],a=0;n.b;n=n.b){var o=n.a;a+=o.b.b||0,i.push(o)}return a+=i.length,{$:2,c:t,d:wt(r),e:i,f:e,b:a}})}),lt=ft(void 0);r(function(e,t){return{$:4,j:e,k:t,b:1+(t.b||0)}});function ht(e,t){return{$:5,l:e,m:t,k:void 0}}r(function(e,t){return ht([e,t],function(){return e(t)})}),n(function(e,t,r){return ht([e,t,r],function(){return f(e,t,r)})}),i(function(e,t,r,n){return ht([e,t,r,n],function(){return l(e,t,r,n)})}),a(function(e,t,r,n,i){return ht([e,t,r,n,i],function(){return h(e,t,r,n,i)})}),o(function(e,t,r,n,i,a){return ht([e,t,r,n,i,a],function(){return d(e,t,r,n,i,a)})}),s(function(e,t,r,n,i,a,o){return ht([e,t,r,n,i,a,o],function(){return p(e,t,r,n,i,a,o)})}),u(function(e,t,r,n,i,a,o,s){return ht([e,t,r,n,i,a,o,s],function(){return _(e,t,r,n,i,a,o,s)})}),c(function(e,t,r,n,i,a,o,s,u){return ht([e,t,r,n,i,a,o,s,u],function(){return function(e,t,r,n,i,a,o,s,u){return 8===e.a?e.f(t,r,n,i,a,o,s,u):e(t)(r)(n)(i)(a)(o)(s)(u)}(e,t,r,n,i,a,o,s,u)})});var dt=r(function(e,t){return{$:"a0",n:e,o:t}}),pt=(r(function(e,t){return{$:"a1",n:e,o:t}}),r(function(e,t){return{$:"a2",n:e,o:t}})),_t=r(function(e,t){return{$:"a3",n:e,o:t}});n(function(e,t,r){return{$:"a4",n:t,o:{f:e,o:r}}});function gt(e){return"script"==e?"p":e}function mt(e){return/^\s*(javascript:|data:text\/html)/i.test(e)?"":e}r(function(e,t){return"a0"===t.$?f(dt,t.n,function(e,t){var r=Oi(t);return{$:t.$,a:r?l(wn,r<3?vt:yt,Rn(e),t.a):f(jn,e,t.a)}}(e,t.o)):t});var bt,vt=r(function(e,t){return M(e(t.a),t.b)}),yt=r(function(e,t){return{dj:e(t.dj),dP:t.dP,dG:t.dG}});function wt(e){for(var t={};e.b;e=e.b){var r=e.a,n=r.$,i=r.n,a=r.o;if("a2"!==n){var o=t[n]||(t[n]={});"a3"===n&&"class"===i?kt(o,i,a):o[i]=a}else"className"===i?kt(t,i,Te(a)):t[i]=Te(a)}return t}function kt(e,t,r){var n=e[t];e[t]=n?n+" "+r:r}function Et(e,t){var r=e.$;if(5===r)return Et(e.k||(e.k=e.m()),t);if(0===r)return at.createTextNode(e.a);if(4===r){for(var n=e.k,i=e.j;4===n.$;)"object"!=typeof i?i=[i,n.j]:i.push(n.j),n=n.k;var a={j:i,p:t};return(o=Et(n,a)).elm_event_node_ref=a,o}if(3===r)return At(o=e.h(e.g),t,e.d),o;var o=e.f?at.createElementNS(e.f,e.c):at.createElement(e.c);rt&&"a"==e.c&&o.addEventListener("click",rt(o)),At(o,t,e.d);for(var s=e.e,u=0;u<s.length;u++)ot(o,Et(1===r?s[u]:s[u].b,t));return o}function At(e,t,r){for(var n in r){var i=r[n];"a1"===n?St(e,i):"a0"===n?Rt(e,t,i):"a3"===n?Tt(e,i):"a4"===n?Ct(e,i):("value"!==n&&"checked"!==n||e[n]!==i)&&(e[n]=i)}}function St(e,t){var r=e.style;for(var n in t)r[n]=t[n]}function Tt(e,t){for(var r in t){var n=t[r];void 0!==n?e.setAttribute(r,n):e.removeAttribute(r)}}function Ct(e,t){for(var r in t){var n=t[r],i=n.f,a=n.o;void 0!==a?e.setAttributeNS(i,r,a):e.removeAttributeNS(i,r)}}function Rt(e,t,r){var n=e.elmFs||(e.elmFs={});for(var i in r){var a=r[i],o=n[i];if(a){if(o){if(o.q.$===a.$){o.q=a;continue}e.removeEventListener(i,o)}o=Mt(t,a),e.addEventListener(i,o,bt&&{passive:Oi(a)<2}),n[i]=o}else e.removeEventListener(i,o),n[i]=void 0}}try{window.addEventListener("t",null,Object.defineProperty({},"passive",{get:function(){bt=!0}}))}catch(e){}function Mt(e,t){function r(t){var n=r.q,i=me(n.a,t);if(Gr(i)){for(var a,o=Oi(n),s=i.a,u=o?o<3?s.a:s.dj:s,c=1==o?s.b:3==o&&s.dP,f=(c&&t.stopPropagation(),(2==o?s.b:3==o&&s.dG)&&t.preventDefault(),e);a=f.j;){if("function"==typeof a)u=a(u);else for(var l=a.length;l--;)u=a[l](u);f=f.p}f(u,c)}}return r.q=t,r}function xt(e,t){return e.$==t.$&&ke(e.a,t.a)}function It(e,t){var r=[];return Nt(e,t,r,0),r}function Ot(e,t,r,n){var i={$:t,r:r,s:n,t:void 0,u:void 0};return e.push(i),i}function Nt(e,t,r,n){if(e!==t){var i=e.$,a=t.$;if(i!==a){if(1!==i||2!==a)return void Ot(r,0,n,t);t=function(e){for(var t=e.e,r=t.length,n=new Array(r),i=0;i<r;i++)n[i]=t[i].b;return{$:1,c:e.c,d:e.d,e:n,f:e.f,b:e.b}}(t),a=1}switch(a){case 5:for(var o=e.l,s=t.l,u=o.length,c=u===s.length;c&&u--;)c=o[u]===s[u];if(c)return void(t.k=e.k);t.k=t.m();var f=[];return Nt(e.k,t.k,f,0),void(f.length>0&&Ot(r,1,n,f));case 4:for(var l=e.j,h=t.j,d=!1,p=e.k;4===p.$;)d=!0,"object"!=typeof l?l=[l,p.j]:l.push(p.j),p=p.k;for(var _=t.k;4===_.$;)d=!0,"object"!=typeof h?h=[h,_.j]:h.push(_.j),_=_.k;return d&&l.length!==h.length?void Ot(r,0,n,t):((d?function(e,t){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}(l,h):l===h)||Ot(r,2,n,h),void Nt(p,_,r,n+1));case 0:return void(e.a!==t.a&&Ot(r,3,n,t.a));case 1:return void Pt(e,t,r,n,Bt);case 2:return void Pt(e,t,r,n,Lt);case 3:if(e.h!==t.h)return void Ot(r,0,n,t);var g=Dt(e.d,t.d);g&&Ot(r,4,n,g);var m=t.i(e.g,t.g);return void(m&&Ot(r,5,n,m))}}}function Pt(e,t,r,n,i){if(e.c===t.c&&e.f===t.f){var a=Dt(e.d,t.d);a&&Ot(r,4,n,a),i(e,t,r,n)}else Ot(r,0,n,t)}function Dt(e,t,r){var n;for(var i in e)if("a1"!==i&&"a0"!==i&&"a3"!==i&&"a4"!==i)if(i in t){var a=e[i],o=t[i];a===o&&"value"!==i&&"checked"!==i||"a0"===r&&xt(a,o)||((n=n||{})[i]=o)}else(n=n||{})[i]=r?"a1"===r?"":"a0"===r||"a3"===r?void 0:{f:e[i].f,o:void 0}:"string"==typeof e[i]?"":null;else{var s=Dt(e[i],t[i]||{},i);s&&((n=n||{})[i]=s)}for(var u in t)u in e||((n=n||{})[u]=t[u]);return n}function Bt(e,t,r,n){var i=e.e,a=t.e,o=i.length,s=a.length;o>s?Ot(r,6,n,{v:s,i:o-s}):o<s&&Ot(r,7,n,{v:o,e:a});for(var u=o<s?o:s,c=0;c<u;c++){var f=i[c];Nt(f,a[c],r,++n),n+=f.b||0}}function Lt(e,t,r,n){for(var i=[],a={},o=[],s=e.e,u=t.e,c=s.length,f=u.length,l=0,h=0,d=n;l<c&&h<f;){var p=s[l],_=u[h],g=p.a,m=_.a,b=p.b,v=_.b,y=void 0,w=void 0;if(g!==m){var k=s[l+1],E=u[h+1];if(k){var A=k.a,S=k.b;w=m===A}if(E){var T=E.a,C=E.b;y=g===T}if(y&&w)Nt(b,C,i,++d),Ft(a,i,g,v,h,o),d+=b.b||0,jt(a,i,g,S,++d),d+=S.b||0,l+=2,h+=2;else if(y)d++,Ft(a,i,m,v,h,o),Nt(b,C,i,d),d+=b.b||0,l+=1,h+=2;else if(w)jt(a,i,g,b,++d),d+=b.b||0,Nt(S,v,i,++d),d+=S.b||0,l+=2,h+=1;else{if(!k||A!==T)break;jt(a,i,g,b,++d),Ft(a,i,m,v,h,o),d+=b.b||0,Nt(S,C,i,++d),d+=S.b||0,l+=2,h+=2}}else Nt(b,v,i,++d),d+=b.b||0,l++,h++}for(;l<c;){d++;b=(p=s[l]).b;jt(a,i,p.a,b,d),d+=b.b||0,l++}for(;h<f;){var R=R||[];Ft(a,i,(_=u[h]).a,_.b,void 0,R),h++}(i.length>0||o.length>0||R)&&Ot(r,8,n,{w:i,x:o,y:R})}var $t="_elmW6BL";function Ft(e,t,r,n,i,a){var o=e[r];if(!o)return o={c:0,z:n,r:i,s:void 0},a.push({r:i,A:o}),void(e[r]=o);if(1===o.c){a.push({r:i,A:o}),o.c=2;var s=[];return Nt(o.z,n,s,o.r),o.r=i,void(o.s.s={w:s,A:o})}Ft(e,t,r+$t,n,i,a)}function jt(e,t,r,n,i){var a=e[r];if(a){if(0===a.c){a.c=2;var o=[];return Nt(n,a.z,o,i),void Ot(t,9,i,{w:o,A:a})}jt(e,t,r+$t,n,i)}else{var s=Ot(t,9,i,void 0);e[r]={c:1,z:n,r:i,s:s}}}function Ut(e,t,r,n){!function e(t,r,n,i,a,o,s){var u=n[i];var c=u.r;for(;c===a;){var f=u.$;if(1===f)Ut(t,r.k,u.s,s);else if(8===f){u.t=t,u.u=s;var l=u.s.w;l.length>0&&e(t,r,l,0,a,o,s)}else if(9===f){u.t=t,u.u=s;var h=u.s;if(h){h.A.s=t;var l=h.w;l.length>0&&e(t,r,l,0,a,o,s)}}else u.t=t,u.u=s;if(!(u=n[++i])||(c=u.r)>o)return i}var d=r.$;if(4===d){for(var p=r.k;4===p.$;)p=p.k;return e(t,p,n,i,a+1,o,t.elm_event_node_ref)}var _=r.e;var g=t.childNodes;for(var m=0;m<_.length;m++){a++;var b=1===d?_[m]:_[m].b,v=a+(b.b||0);if(a<=c&&c<=v&&(i=e(g[m],b,n,i,a,v,s),!(u=n[i])||(c=u.r)>o))return i;a=v}return i}(e,t,r,0,0,t.b,n)}function Ht(e,t,r,n){return 0===r.length?e:(Ut(e,t,r,n),zt(e,r))}function zt(e,t){for(var r=0;r<t.length;r++){var n=t[r],i=n.t,a=Wt(i,n);i===e&&(e=a)}return e}function Wt(e,t){switch(t.$){case 0:return function(e,t,r){var n=e.parentNode,i=Et(t,r);i.elm_event_node_ref||(i.elm_event_node_ref=e.elm_event_node_ref);n&&i!==e&&n.replaceChild(i,e);return i}(e,t.s,t.u);case 4:return At(e,t.u,t.s),e;case 3:return e.replaceData(0,e.length,t.s),e;case 1:return zt(e,t.s);case 2:return e.elm_event_node_ref?e.elm_event_node_ref.j=t.s:e.elm_event_node_ref={j:t.s,p:t.u},e;case 6:for(var r=t.s,n=0;n<r.i;n++)e.removeChild(e.childNodes[r.v]);return e;case 7:for(var i=(r=t.s).e,a=(n=r.v,e.childNodes[n]);n<i.length;n++)e.insertBefore(Et(i[n],t.u),a);return e;case 9:if(!(r=t.s))return e.parentNode.removeChild(e),e;var o=r.A;return void 0!==o.r&&e.parentNode.removeChild(e),o.s=zt(e,r.w),e;case 8:return function(e,t){var r=t.s,n=function(e,t){if(!e)return;for(var r=at.createDocumentFragment(),n=0;n<e.length;n++){var i=e[n],a=i.A;ot(r,2===a.c?a.s:Et(a.z,t.u))}return r}(r.y,t);e=zt(e,r.w);for(var i=r.x,a=0;a<i.length;a++){var o=i[a],s=o.A,u=2===s.c?s.s:Et(s.z,t.u);e.insertBefore(u,e.childNodes[o.r])}n&&ot(e,n);return e}(e,t);case 5:return t.s(e);default:L(10)}}function Zt(e){if(3===e.nodeType)return st(e.textContent);if(1!==e.nodeType)return st("");for(var t=g,r=e.attributes,n=r.length;n--;){var i=r[n],a=i.name,o=i.value;t=m(f(_t,a,o),t)}var s=e.tagName.toLowerCase(),u=g,c=e.childNodes;for(n=c.length;n--;)u=m(Zt(c[n]),u);return l(ct,s,t,u)}i(function(e,t,r,n){return Ue(t,n,e.de,e.dW,e.dR,function(t,r){var i=e.dZ,a=n.node,o=Zt(a);return Yt(r,function(e){var r=i(e),n=It(o,r);a=Ht(a,o,n,t),o=r})})});var Kt=i(function(e,t,r,n){return Ue(t,n,e.de,e.dW,e.dR,function(t,r){var n=e.aM&&e.aM(t),i=e.dZ,a=at.title,o=at.body,s=Zt(o);return Yt(r,function(e){rt=n;var r=i(e),u=ct("body")(g)(r.cN),c=It(s,u);o=Ht(o,s,c,t),s=u,rt=0,a!==r.dV&&(at.title=a=r.dV)})})}),Gt="undefined"!=typeof requestAnimationFrame?requestAnimationFrame:function(e){return setTimeout(e,1e3/60)};function Yt(e,t){t(e);var r=0;function n(){r=1===r?0:(Gt(n),t(e),1)}return function(i,a){e=i,a?(t(e),2===r&&(r=1)):(0===r&&Gt(n),r=2)}}function qt(){return Gi(at.location.href).a||L(1)}r(function(e,t){return f(Ii,gi,xe(function(){t&&history.go(t),e()}))});var Vt=r(function(e,t){return f(Ii,gi,xe(function(){history.pushState({},"",t),e()}))}),Xt=r(function(e,t){return f(Ii,gi,xe(function(){history.replaceState({},"",t),e()}))}),Jt="undefined"!=typeof window?window:{addEventListener:function(){},removeEventListener:function(){}};n(function(e,t,r){return Pe(xe(function(n){function i(e){Ne(r(e))}return e.addEventListener(t,i,bt&&{passive:!0}),function(){e.removeEventListener(t,i)}}))}),r(function(e,t){var r=me(e,t);return Gr(r)?zr(r.a):Wr});function Qt(e,t){return xe(function(r){Gt(function(){var n=document.getElementById(e);r(n?Me(t(n)):{$:1,a:_i(e)})})})}r(function(e,t){return Qt(t,function(t){return t[e](),R})}),r(function(e,t){return r=function(){return Jt.scroll(e,t),R},xe(function(e){Gt(function(){e(Me(r()))})});var r}),n(function(e,t,r){return Qt(e,function(e){return e.scrollLeft=t,e.scrollTop=r,R})});var er=n(function(e,t,r){return xe(function(n){function i(e){n(t(r.c2.a(e)))}var a=new XMLHttpRequest;a.addEventListener("error",function(){i(va)}),a.addEventListener("timeout",function(){i(ka)}),a.addEventListener("load",function(){i(function(e,t){return f(200<=t.status&&t.status<300?ba:ga,function(e){return{dY:e.responseURL,cy:e.status,dO:e.statusText,o:tr(e.getAllResponseHeaders())}}(t),e(t.response))}(r.c2.b,a))}),pa(r.x)&&function(e,t,r){t.upload.addEventListener("progress",function(n){t.c||Ne(f(_a,e,M(r,wa({dM:n.loaded,bw:n.total}))))}),t.addEventListener("progress",function(n){t.c||Ne(f(_a,e,M(r,ya({dH:n.loaded,bw:n.lengthComputable?zr(n.total):Wr}))))})}(e,a,r.x.a);try{a.open(r.t,r.dY,!0)}catch(e){return i(ma(r.dY))}return function(e,t){for(var r=t.o;r.b;r=r.b)e.setRequestHeader(r.a.a,r.a.b);e.timeout=t.v.a||0,e.responseType=t.c2.d,e.withCredentials=t.Z}(a,r),r.cN.a&&a.setRequestHeader("Content-Type",r.cN.a),a.send(r.cN.b),function(){a.c=!0,a.abort()}})});function tr(e){if(!e)return Qi;for(var t=Qi,r=e.split("\r\n"),n=r.length;n--;){var i=r[n],a=i.indexOf(": ");if(a>0){var o=i.substring(0,a),s=i.substring(a+2);t=l(da,o,function(e){return zr(pa(e)?s+", "+e.a:s)},t)}}return t}var rr=n(function(e,t,r){return{$:0,d:e,b:t,a:r}}),nr=r(function(e,t){return{$:0,d:t.d,b:t.b,a:function(r){return e(t.a(r))}}});r(function(e,t){return{$:0,a:e,b:t}}),r(function(e,t){return new Blob([t],{type:e})});r(function(e,t){return e&t}),r(function(e,t){return e|t}),r(function(e,t){return e^t}),r(function(e,t){return t<<e}),r(function(e,t){return t>>e}),r(function(e,t){return t>>>e});var ir=r(function(e,t){var r="g";e.cb&&(r+="m"),e.bS&&(r+="i");try{return zr(new RegExp(t,r))}catch(e){return Wr}}),ar=(r(function(e,t){return null!==t.match(e)}),n(function(e,t,r){for(var n,i=[],a=0,o=r,s=t.lastIndex,u=-1;a++<e&&(n=t.exec(o))&&u!=t.lastIndex;){for(var c=n.length-1,f=new Array(c);c>0;){var l=n[c];f[--c]=l?zr(l):Wr}i.push(h(Gl,n[0],n.index,a,v(f))),u=t.lastIndex}return t.lastIndex=s,v(i)}),i(function(e,t,r,n){var i=0;return n.replace(t,function(t){if(i++>=e)return t;for(var n=arguments.length-3,a=new Array(n);n>0;){var o=arguments[n];a[--n]=o?zr(o):Wr}return r(h(Gl,t,arguments[arguments.length-2],i,v(a)))})})),or=(n(function(e,t,r){for(var n=r,i=[],a=t.lastIndex,o=t.lastIndex;e--;){var s=t.exec(n);if(!s)break;i.push(n.slice(a,s.index)),a=t.lastIndex}return i.push(n.slice(a)),t.lastIndex=o,v(i)}),n(function(e,t,r){return function(e,t,r,n){return{$:3,d:wt(e),g:t,h:r,i:n}}(t,{a:e,b:r},sr,ur)}));function sr(e){return f(lr,e,at.createElement("div"))}function ur(e,t){return(e.b!==t.b||e.a!==t.a)&&lr(t)}var cr,fr,lr=r(function(e,t){return t.innerHTML=hr(e.b,function(e){var t=e.b1.a;return{highlight:function(t,r){!r&&pa(e.bW)&&(r=e.bW.a);if("undefined"!=typeof hljs&&r&&hljs.listLanguages().indexOf(r)>=0)return hljs.highlight(r,t,!0).value;return t},gfm:t,tables:t&&t.dS,breaks:t&&t.cO,sanitize:e.cu,smartypants:e.cw}}(e.a)),t}),hr=(fr=(cr={}).exports={},function(){var e={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:u,hr:/^( *[-*_]){3,} *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:u,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,blockquote:/^( *>[^\n]+(\n(?!def)[^\n]+)*\n*)+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment *(?:\n|\s*$)|closed *(?:\n{2,}|\s*$)|closing *(?:\n{2,}|\s*$))/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,table:u,paragraph:/^((?:[^\n]+\n?(?!hr|heading|lheading|blockquote|tag|def))+)\n*/,text:/^[^\n]+/};function t(t){this.tokens=[],this.tokens.links={},this.options=t||f.defaults,this.rules=e.normal,this.options.gfm&&(this.options.tables?this.rules=e.tables:this.rules=e.gfm)}e.bullet=/(?:[*+-]|\d+\.)/,e.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/,e.item=s(e.item,"gm")(/bull/g,e.bullet)(),e.list=s(e.list)(/bull/g,e.bullet)("hr","\\n+(?=\\1?(?:[-*_] *){3,}(?:\\n+|$))")("def","\\n+(?="+e.def.source+")")(),e.blockquote=s(e.blockquote)("def",e.def)(),e._tag="(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:/|[^\\w\\s@]*@)\\b",e.html=s(e.html)("comment",/<!--[\s\S]*?-->/)("closed",/<(tag)[\s\S]+?<\/\1>/)("closing",/<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/)(/tag/g,e._tag)(),e.paragraph=s(e.paragraph)("hr",e.hr)("heading",e.heading)("lheading",e.lheading)("blockquote",e.blockquote)("tag","<"+e._tag)("def",e.def)(),e.normal=c({},e),e.gfm=c({},e.normal,{fences:/^ *(`{3,}|~{3,})[ \.]*(\S+)? *\n([\s\S]*?)\s*\1 *(?:\n+|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/}),e.gfm.paragraph=s(e.paragraph)("(?!","(?!"+e.gfm.fences.source.replace("\\1","\\2")+"|"+e.list.source.replace("\\1","\\3")+"|")(),e.tables=c({},e.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/}),t.rules=e,t.lex=function(e,r){return new t(r).lex(e)},t.prototype.lex=function(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(e,!0)},t.prototype.token=function(t,r,n){var i,a,o,s,u,c,f,l,h;for(t=t.replace(/^ +$/gm,"");t;)if((o=this.rules.newline.exec(t))&&(t=t.substring(o[0].length),o[0].length>1&&this.tokens.push({type:"space"})),o=this.rules.code.exec(t))t=t.substring(o[0].length),o=o[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?o:o.replace(/\n+$/,"")});else if(o=this.rules.fences.exec(t))t=t.substring(o[0].length),this.tokens.push({type:"code",lang:o[2],text:o[3]||""});else if(o=this.rules.heading.exec(t))t=t.substring(o[0].length),this.tokens.push({type:"heading",depth:o[1].length,text:o[2]});else if(r&&(o=this.rules.nptable.exec(t))){for(t=t.substring(o[0].length),c={type:"table",header:o[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:o[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:o[3].replace(/\n$/,"").split("\n")},l=0;l<c.align.length;l++)/^ *-+: *$/.test(c.align[l])?c.align[l]="right":/^ *:-+: *$/.test(c.align[l])?c.align[l]="center":/^ *:-+ *$/.test(c.align[l])?c.align[l]="left":c.align[l]=null;for(l=0;l<c.cells.length;l++)c.cells[l]=c.cells[l].split(/ *\| */);this.tokens.push(c)}else if(o=this.rules.lheading.exec(t))t=t.substring(o[0].length),this.tokens.push({type:"heading",depth:"="===o[2]?1:2,text:o[1]});else if(o=this.rules.hr.exec(t))t=t.substring(o[0].length),this.tokens.push({type:"hr"});else if(o=this.rules.blockquote.exec(t))t=t.substring(o[0].length),this.tokens.push({type:"blockquote_start"}),o=o[0].replace(/^ *> ?/gm,""),this.token(o,r,!0),this.tokens.push({type:"blockquote_end"});else if(o=this.rules.list.exec(t)){for(t=t.substring(o[0].length),s=o[2],this.tokens.push({type:"list_start",ordered:s.length>1}),i=!1,h=(o=o[0].match(this.rules.item)).length,l=0;l<h;l++)f=(c=o[l]).length,~(c=c.replace(/^ *([*+-]|\d+\.) +/,"")).indexOf("\n ")&&(f-=c.length,c=this.options.pedantic?c.replace(/^ {1,4}/gm,""):c.replace(new RegExp("^ {1,"+f+"}","gm"),"")),this.options.smartLists&&l!==h-1&&(s===(u=e.bullet.exec(o[l+1])[0])||s.length>1&&u.length>1||(t=o.slice(l+1).join("\n")+t,l=h-1)),a=i||/\n\n(?!\s*$)/.test(c),l!==h-1&&(i="\n"===c.charAt(c.length-1),a||(a=i)),this.tokens.push({type:a?"loose_item_start":"list_item_start"}),this.token(c,!1,n),this.tokens.push({type:"list_item_end"});this.tokens.push({type:"list_end"})}else if(o=this.rules.html.exec(t))t=t.substring(o[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===o[1]||"script"===o[1]||"style"===o[1]),text:o[0]});else if(!n&&r&&(o=this.rules.def.exec(t)))t=t.substring(o[0].length),this.tokens.links[o[1].toLowerCase()]={href:o[2],title:o[3]};else if(r&&(o=this.rules.table.exec(t))){for(t=t.substring(o[0].length),c={type:"table",header:o[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:o[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:o[3].replace(/(?: *\| *)?\n$/,"").split("\n")},l=0;l<c.align.length;l++)/^ *-+: *$/.test(c.align[l])?c.align[l]="right":/^ *:-+: *$/.test(c.align[l])?c.align[l]="center":/^ *:-+ *$/.test(c.align[l])?c.align[l]="left":c.align[l]=null;for(l=0;l<c.cells.length;l++)c.cells[l]=c.cells[l].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */);this.tokens.push(c)}else if(r&&(o=this.rules.paragraph.exec(t)))t=t.substring(o[0].length),this.tokens.push({type:"paragraph",text:"\n"===o[1].charAt(o[1].length-1)?o[1].slice(0,-1):o[1]});else if(o=this.rules.text.exec(t))t=t.substring(o[0].length),this.tokens.push({type:"text",text:o[0]});else if(t)throw new Error("Infinite loop on byte: "+t.charCodeAt(0));return this.tokens};var r={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<([^ >]+(@|:\/)[^ >]+)>/,url:u,tag:/^<!--[\s\S]*?-->|^<\/?\w+(?:"[^"]*"|'[^']*'|[^'">])*?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,strong:/^_\_([\s\S]+?)_\_(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^\b_((?:[^_]|_\_)+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:u,text:/^[\s\S]+?(?=[\\<!\[_*`]| {2,}\n|$)/};function n(e,t){if(this.options=t||f.defaults,this.links=e,this.rules=r.normal,this.renderer=this.options.renderer||new i,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.gfm?this.options.breaks?this.rules=r.breaks:this.rules=r.gfm:this.options.pedantic&&(this.rules=r.pedantic)}function i(e){this.options=e||{}}function a(e){this.tokens=[],this.token=null,this.options=e||f.defaults,this.options.renderer=this.options.renderer||new i,this.renderer=this.options.renderer,this.renderer.options=this.options}function o(e,t){return e.replace(t?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function s(e,t){return e=e.source,t=t||"",function r(n,i){return n?(i=(i=i.source||i).replace(/(^|[^\[])\^/g,"$1"),e=e.replace(n,i),r):new RegExp(e,t)}}function u(){}function c(e){for(var t,r,n=1;n<arguments.length;n++)for(r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}function f(e,r,n){if(n||"function"==typeof r){n||(n=r,r=null);var i,s,u=(r=c({},f.defaults,r||{})).highlight,l=0;try{i=t.lex(e,r)}catch(e){return n(e)}s=i.length;var h=function(e){if(e)return r.highlight=u,n(e);var t;try{t=a.parse(i,r)}catch(t){e=t}return r.highlight=u,e?n(e):n(null,t)};if(!u||u.length<3)return h();if(delete r.highlight,!s)return h();for(;l<i.length;l++)!function(e){"code"!==e.type?--s||h():u(e.text,e.lang,function(t,r){return t?h(t):null==r||r===e.text?--s||h():(e.text=r,e.escaped=!0,void(--s||h()))})}(i[l])}else try{return r&&(r=c({},f.defaults,r)),a.parse(t.lex(e,r),r)}catch(e){if(e.message+="\nPlease report this to https://github.com/chjj/marked.",(r||f.defaults).silent)return"<p>An error occured:</p><pre>"+o(e.message+"",!0)+"</pre>";throw e}}r._inside=/(?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*/,r._href=/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/,r.link=s(r.link)("inside",r._inside)("href",r._href)(),r.reflink=s(r.reflink)("inside",r._inside)(),r.normal=c({},r),r.pedantic=c({},r.normal,{strong:/^_\_(?=\S)([\s\S]*?\S)_\_(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/}),r.gfm=c({},r.normal,{escape:s(r.escape)("])","~|])")(),url:/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:s(r.text)("]|","~]|")("|","|https?://|")()}),r.breaks=c({},r.gfm,{br:s(r.br)("{2,}","*")(),text:s(r.gfm.text)("{2,}","*")()}),n.rules=r,n.output=function(e,t,r){return new n(t,r).output(e)},n.prototype.output=function(e){for(var t,r,n,i,a="";e;)if(i=this.rules.escape.exec(e))e=e.substring(i[0].length),a+=i[1];else if(i=this.rules.autolink.exec(e))e=e.substring(i[0].length),"@"===i[2]?(r=":"===i[1].charAt(6)?this.mangle(i[1].substring(7)):this.mangle(i[1]),n=this.mangle("mailto:")+r):n=r=o(i[1]),a+=this.renderer.link(n,null,r);else if(this.inLink||!(i=this.rules.url.exec(e))){if(i=this.rules.tag.exec(e))!this.inLink&&/^<a /i.test(i[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(i[0])&&(this.inLink=!1),e=e.substring(i[0].length),a+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(i[0]):o(i[0]):i[0];else if(i=this.rules.link.exec(e))e=e.substring(i[0].length),this.inLink=!0,a+=this.outputLink(i,{href:i[2],title:i[3]}),this.inLink=!1;else if((i=this.rules.reflink.exec(e))||(i=this.rules.nolink.exec(e))){if(e=e.substring(i[0].length),t=(i[2]||i[1]).replace(/\s+/g," "),!(t=this.links[t.toLowerCase()])||!t.href){a+=i[0].charAt(0),e=i[0].substring(1)+e;continue}this.inLink=!0,a+=this.outputLink(i,t),this.inLink=!1}else if(i=this.rules.strong.exec(e))e=e.substring(i[0].length),a+=this.renderer.strong(this.output(i[2]||i[1]));else if(i=this.rules.em.exec(e))e=e.substring(i[0].length),a+=this.renderer.em(this.output(i[2]||i[1]));else if(i=this.rules.code.exec(e))e=e.substring(i[0].length),a+=this.renderer.codespan(o(i[2],!0));else if(i=this.rules.br.exec(e))e=e.substring(i[0].length),a+=this.renderer.br();else if(i=this.rules.del.exec(e))e=e.substring(i[0].length),a+=this.renderer.del(this.output(i[1]));else if(i=this.rules.text.exec(e))e=e.substring(i[0].length),a+=this.renderer.text(o(this.smartypants(i[0])));else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0))}else e=e.substring(i[0].length),n=r=o(i[1]),a+=this.renderer.link(n,null,r);return a},n.prototype.outputLink=function(e,t){var r=o(t.href),n=t.title?o(t.title):null;return"!"!==e[0].charAt(0)?this.renderer.link(r,n,this.output(e[1])):this.renderer.image(r,n,o(e[1]))},n.prototype.smartypants=function(e){return this.options.smartypants?e.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014\/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014\/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…"):e},n.prototype.mangle=function(e){if(!this.options.mangle)return e;for(var t,r="",n=e.length,i=0;i<n;i++)t=e.charCodeAt(i),Math.random()>.5&&(t="x"+t.toString(16)),r+="&#"+t+";";return r},i.prototype.code=function(e,t,r){if(this.options.highlight){var n=this.options.highlight(e,t);null!=n&&n!==e&&(r=!0,e=n)}return t?'<pre><code class="'+this.options.langPrefix+o(t,!0)+'">'+(r?e:o(e,!0))+"\n</code></pre>\n":"<pre><code>"+(r?e:o(e,!0))+"\n</code></pre>"},i.prototype.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"},i.prototype.html=function(e){return e},i.prototype.heading=function(e,t,r){return"<h"+t+' id="'+this.options.headerPrefix+r.toLowerCase().replace(/[^\w]+/g,"-")+'">'+e+"</h"+t+">\n"},i.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},i.prototype.list=function(e,t){var r=t?"ol":"ul";return"<"+r+">\n"+e+"</"+r+">\n"},i.prototype.listitem=function(e){return"<li>"+e+"</li>\n"},i.prototype.paragraph=function(e){return"<p>"+e+"</p>\n"},i.prototype.table=function(e,t){return"<table>\n<thead>\n"+e+"</thead>\n<tbody>\n"+t+"</tbody>\n</table>\n"},i.prototype.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"},i.prototype.tablecell=function(e,t){var r=t.header?"th":"td";return(t.align?"<"+r+' style="text-align:'+t.align+'">':"<"+r+">")+e+"</"+r+">\n"},i.prototype.strong=function(e){return"<strong>"+e+"</strong>"},i.prototype.em=function(e){return"<em>"+e+"</em>"},i.prototype.codespan=function(e){return"<code>"+e+"</code>"},i.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},i.prototype.del=function(e){return"<del>"+e+"</del>"},i.prototype.link=function(e,t,r){if(this.options.sanitize){try{var n=decodeURIComponent((i=e,i.replace(/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/g,function(e,t){return"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""}))).replace(/[^\w:]/g,"").toLowerCase()}catch(e){return""}if(0===n.indexOf("javascript:")||0===n.indexOf("vbscript:")||0===n.indexOf("data:"))return""}var i,a='<a href="'+e+'"';return t&&(a+=' title="'+t+'"'),a+=">"+r+"</a>"},i.prototype.image=function(e,t,r){var n='<img src="'+e+'" alt="'+r+'"';return t&&(n+=' title="'+t+'"'),n+=this.options.xhtml?"/>":">"},i.prototype.text=function(e){return e},a.parse=function(e,t,r){return new a(t,r).parse(e)},a.prototype.parse=function(e){this.inline=new n(e.links,this.options,this.renderer),this.tokens=e.reverse();for(var t="";this.next();)t+=this.tok();return t},a.prototype.next=function(){return this.token=this.tokens.pop()},a.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},a.prototype.parseText=function(){for(var e=this.token.text;"text"===this.peek().type;)e+="\n"+this.next().text;return this.inline.output(e)},a.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,this.token.text);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var e,t,r,n,i="",a="";for(r="",e=0;e<this.token.header.length;e++)this.token.align[e],r+=this.renderer.tablecell(this.inline.output(this.token.header[e]),{header:!0,align:this.token.align[e]});for(i+=this.renderer.tablerow(r),e=0;e<this.token.cells.length;e++){for(t=this.token.cells[e],r="",n=0;n<t.length;n++)r+=this.renderer.tablecell(this.inline.output(t[n]),{header:!1,align:this.token.align[n]});a+=this.renderer.tablerow(r)}return this.renderer.table(i,a);case"blockquote_start":for(a="";"blockquote_end"!==this.next().type;)a+=this.tok();return this.renderer.blockquote(a);case"list_start":a="";for(var o=this.token.ordered;"list_end"!==this.next().type;)a+=this.tok();return this.renderer.list(a,o);case"list_item_start":for(a="";"list_item_end"!==this.next().type;)a+="text"===this.token.type?this.parseText():this.tok();return this.renderer.listitem(a);case"loose_item_start":for(a="";"list_item_end"!==this.next().type;)a+=this.tok();return this.renderer.listitem(a);case"html":var s=this.token.pre||this.options.pedantic?this.token.text:this.inline.output(this.token.text);return this.renderer.html(s);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText())}},u.exec=u,f.options=f.setOptions=function(e){return c(f.defaults,e),f},f.defaults={gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!1,sanitizer:null,mangle:!0,smartLists:!1,silent:!1,highlight:null,langPrefix:"lang-",smartypants:!1,headerPrefix:"",renderer:new i,xhtml:!1},f.Parser=a,f.parser=a.parse,f.Renderer=i,f.Lexer=t,f.lexer=t.lex,f.InlineLexer=n,f.inlineLexer=n.output,f.parse=f,void 0!==cr&&"object"==typeof fr?cr.exports=f:"function"==typeof define&&define.amd?define(function(){return f}):this.marked=f}.call(function(){return this||("undefined"!=typeof window?window:global)}()),cr.exports);var dr=n(function(e,t,r){return{aW:t,aX:e,bb:r}}),pr=r(function(e,t){return t(e)}),_r=i(function(e,t,r,n){return{$:0,a:e,b:t,c:r,d:n}}),gr=1,mr=2,br=0,vr=n(function(e,t,r){for(;;){if(-2===r.$)return t;var n=r.b,i=r.c,a=r.d,o=r.e,s=e,u=l(e,n,i,l(vr,e,t,o));e=s,t=u,r=a}}),yr=b,wr=function(e){return l(vr,n(function(e,t,r){return f(yr,M(e,t),r)}),g,e)},kr=B,Er=(n(function(e,t,n){var i=n.c,a=n.d,o=r(function(t,r){if(t.$){var n=t.a;return l(kr,e,r,n)}var i=t.a;return l(kr,o,r,i)});return l(kr,o,l(kr,e,t,a),i)}),F),Ar=r(function(e,t){return H(t)/H(e)}),Sr=function(e){return e},Tr=Er(f(Ar,2,32)),Cr=[],Rr=h(_r,0,Tr,Cr,Cr),Mr=D,xr=n(function(e,t,r){for(;;){if(!r.b)return t;var n=r.a,i=r.b,a=e,o=f(e,n,t);e=a,t=o,r=i}}),Ir=function(e){return l(xr,yr,g,e)},Or=r(function(e,t){for(;;){var r=f(Mr,32,e),n=r.a,i=r.b,a=f(yr,{$:0,a:n},t);if(!i.b)return Ir(a);e=i,t=a}}),Nr=S,Pr=function(e){return e.a},Dr=r(function(e,t){for(;;){var r=Er(t/32);if(1===r)return f(Mr,32,e).a;e=f(Or,e,g),t=r}}),Br=(r(function(e,t){return e(t)}),j),Lr=r(function(e,t){return T(e,t)>0?e:t}),$r=function(e){return e.length},Fr=r(function(e,t){if(t.h){var r=32*t.h,n=Br(f(Ar,32,r-1)),i=e?Ir(t.k):t.k,a=f(Dr,i,t.h);return h(_r,$r(t.j)+r,f(Lr,5,n*Tr),a,t.j)}return h(_r,$r(t.j),Tr,Cr,t.j)}),jr=P,Ur=a(function(e,t,r,n,i){for(;;){if(t<0)return f(Fr,!1,{k:n,h:r/32|0,j:i});var a={$:1,a:l(jr,32,t,e)};e=e,t=t-32,r=r,n=f(yr,a,n),i=i}}),Hr=r(function(e,t){if(e<=0)return Rr;var r=e%32,n=l(jr,r,e-r,t);return d(Ur,t,e-r-32,e,g,n)}),zr=function(e){return{$:0,a:e}},Wr={$:1},Zr=function(e){return{$:1,a:e}},Kr=function(e){return{$:0,a:e}},Gr=function(e){return!e.$},Yr=r(function(e,t){return{$:3,a:e,b:t}}),qr=r(function(e,t){return{$:0,a:e,b:t}}),Vr=r(function(e,t){return{$:1,a:e,b:t}}),Xr=function(e){return{$:2,a:e}},Jr=O,Qr=function(e){var t=e.charCodeAt(0);return 55296<=t&&t<=56319?1024*(t-55296)+e.charCodeAt(1)-56320+65536:t},en=function(e){var t=Qr(e);return 97<=t&&t<=122},tn=function(e){var t=Qr(e);return t<=90&&65<=t},rn=function(e){return en(e)||tn(e)},nn=function(e){var t=Qr(e);return t<=57&&48<=t},an=function(e){return en(e)||tn(e)||nn(e)},on=function(e){return l(xr,r(function(e,t){return t+1}),0,e)},sn=w,un=n(function(e,t,r){for(;;){if(!(T(e,t)<1))return r;var n=e,i=t-1,a=f(yr,t,r);e=n,t=i,r=a}}),cn=r(function(e,t){return l(un,e,t,g)}),fn=r(function(e,t){return l(sn,e,f(cn,0,on(t)-1),t)}),ln=J,hn=ne,dn=r(function(e,t){return f(V,e,y(t))}),pn=function(e){var t=e.charCodeAt(0);return t?zr(55296<=t&&t<=56319?M(x(e[0]+e[1]),e.slice(2)):M(x(e[0]),e.slice(1))):Wr},_n=r(function(e,t){return v(f(q,e,t))}),gn=function(e){return f(dn,"\n    ",f(_n,"\n",e))},mn=Ae,bn=r(function(e,t){return"\n\n("+hn(e+1)+") "+gn(vn(t))}),vn=function(e){return f(yn,e,g)},yn=r(function(e,t){e:for(;;)switch(e.$){case 0:var r=e.a,n=e.b,i=function(){var e=pn(r);if(1===e.$)return!1;var t=e.a,n=t.a,i=t.b;return rn(n)&&f(ln,an,i)}(),a=n,o=f(yr,i?"."+r:"['"+r+"']",t);e=a,t=o;continue e;case 1:var s=e.a,u=(n=e.b,"["+hn(s)+"]");a=n,o=f(yr,u,t);e=a,t=o;continue e;case 2:var c=e.a;if(c.b){if(c.b.b){var l=(t.b?"The Json.Decode.oneOf at json"+f(dn,"",Ir(t)):"Json.Decode.oneOf")+" failed in the following "+hn(on(c))+" ways:";return f(dn,"\n\n",f(yr,l,f(fn,bn,c)))}e=a=n=c.a,t=o=t;continue e}return"Ran into a Json.Decode.oneOf with no possibilities"+(t.b?" at json"+f(dn,"",Ir(t)):"!");default:var h=e.a,d=e.b;return(l=t.b?"Problem with the value at json"+f(dn,"",Ir(t))+":\n\n    ":"Problem with the given value:\n\n")+(gn(f(mn,4,d))+"\n\n")+h}}),wn=pe,kn=wn(pr),En=he,An=ge,Sn=function(e){return{$:1,a:e}},Tn=function(e){return{$:5,c:e}},Cn=function(e){return{$:11,g:e}},Rn=function(e){return{$:0,a:e}},Mn=ue,xn=n(function(e,t,r){return f(En,function(n){var i=f(An,e,n);if(i.$)return Rn(r);var a=i.a,o=f(An,Cn(v([t,Tn(r)])),a);if(o.$){var s=o.a;return Sn(vn(s))}var u=o.a;return Rn(u)},Mn)}),In=fe,On=i(function(e,t,r,n){return f(kn,l(xn,f(In,e,Mn),t,r),n)}),Nn=n(function(e,t,r){return f(kn,f(In,e,t),r)}),Pn=ce,Dn=f(En,function(e){switch(e){case"pcm":return Rn(1);case"waveform":return Rn(0);default:return Sn("invalid AudioEmulation value")}},Pn),Bn=f(En,function(e){switch(e){case"cycle":return Rn(0);case"instruction":return Rn(1);default:return Sn("invalid CpuEmulation value")}},Pn),Ln=f(En,function(e){switch(e){case"pal":return Rn(0);case"ntsc":return Rn(1);case"secam":return Rn(2);default:return Sn("invalid TvMode value")}},Pn),$n=oe,Fn=ae,jn=de,Un=function(e){return Cn(v([f(jn,zr,e),Rn(Wr)]))},Hn=h(On,"phosphorEmulation",Un($n),Wr,h(On,"audioEmulation",Un(Dn),Wr,h(On,"cpuEmulation",Un(Bn),Wr,h(On,"firstVisibleLine",Un(Fn),Wr,h(On,"rngSeed",Un(Fn),Wr,l(Nn,"volume",Fn,l(Nn,"emulatePaddles",$n,l(Nn,"tvMode",Ln,l(Nn,"cartridgeType",Pn,l(Nn,"name",Pn,l(Nn,"hash",Pn,Rn(function(e){return function(t){return function(r){return function(n){return function(i){return function(a){return function(o){return function(s){return function(u){return function(c){return function(f){return{az:c,bR:r,aC:u,bY:i,b0:s,ah:e,dn:t,aJ:f,cs:o,cG:n,aT:a}}}}}}}}}}}})))))))))))),zn=r(function(e,t){return{c_:t,dg:e}}),Wn=l(wn,zn,f(In,"key",Pn),f(In,"description",Pn)),Zn=se,Kn=l(Nn,"uiSize",Fn,h(On,"uiMode",Un(f(En,function(e){switch(e){case"wide":return Rn(1);case"narrow":return Rn(0);default:return Sn("invalid media value")}},Pn)),Wr,l(Nn,"virtualJoystickSensitivity",Fn,l(Nn,"leftHanded",$n,h(On,"touchControls",Un($n),Wr,l(Nn,"videoSync",$n,l(Nn,"gammaCorrection",Zn,l(Nn,"phosphorEmulation",$n,l(Nn,"smoothScaling",$n,l(Nn,"audioEmulation",Dn,l(Nn,"volume",Fn,l(Nn,"cpuEmulation",Bn,Rn(function(e){return function(t){return function(r){return function(n){return function(i){return function(a){return function(o){return function(s){return function(u){return function(c){return function(f){return function(l){return{az:r,aC:e,bm:a,bq:u,aJ:i,bx:n,bC:s,bf:f,bD:l,bE:o,bF:c,aT:t}}}}}}}}}}}}}))))))))))))),Gn=function(e){return{$:3,b:e}},Yn=h(_e,dr,f(In,"cartridges",Gn(Hn)),f(In,"cartridgeTypes",Gn(Wn)),Un(f(In,"settings",Kn))),qn={$:0},Vn={$:23},Xn={az:1,aC:0,bm:1,bq:!1,aJ:!0,bx:!0,bC:Wr,bf:Wr,bD:100,bE:!0,bF:10,aT:80},Jn=r(function(e,t){return Se(l(xr,function(e){return r(function(t,r){return r.push(Te(e(t))),r})}(e),[],t))}),Qn=Se,ei=Je("watchMedia_",Jn(Qn)),ti=v([M(2,"emulation"),M(1,"settings"),M(0,"cartridges"),M(3,"help")]),ri=n(function(e,t,r){return t(e(r))}),ni=i(function(e,t,r,n){if(n.b){var i=n.a,a=n.b;if(a.b){var o=a.a,s=a.b;if(s.b){var u=s.a,c=s.b;if(c.b){var d=c.a,p=c.b;return f(e,i,f(e,o,f(e,u,f(e,d,r>500?l(xr,e,t,Ir(p)):h(ni,e,t,r+1,p)))))}return f(e,i,f(e,o,f(e,u,t)))}return f(e,i,f(e,o,t))}return f(e,i,t)}return t}),ii=n(function(e,t,r){return h(ni,e,t,0,r)}),ai=r(function(e,t){return l(ii,r(function(t,r){return e(t)?f(yr,t,r):r}),g,t)}),oi=function(e){if(e.b){var t=e.a;e.b;return zr(t)}return Wr},si=r(function(e,t){return t.$?Wr:e(t.a)}),ui=r(function(e,t){if(t.$)return Wr;var r=t.a;return zr(e(r))}),ci=function(e){var t=e.c8;return f(si,function(e){return l(ri,ai(function(t){return E(t.b,e)}),f(ri,oi,ui(Pr)),ti)},t)},fi=r(function(e,t){return t.$?e:t.a}),li=function(e){return e.b},hi=function(e){return"#"+l(ri,ai(function(t){return E(t.a,e)}),f(ri,oi,f(ri,ui(li),fi(""))),ti)},di=function(e){return{$:1,a:e}},pi=function(e){return{$:0,a:e}},_i=mi,gi=function(e){for(;;);},mi=function(e){return e},bi=Me,vi=bi(0),yi=r(function(e,t){return l(ii,r(function(t,r){return f(yr,e(t),r)}),g,t)}),wi=Ie,ki=r(function(e,t){return f(wi,function(t){return bi(e(t))},t)}),Ei=n(function(e,t,r){return f(wi,function(t){return f(wi,function(r){return bi(f(e,t,r))},r)},t)}),Ai=function(e){return l(ii,Ei(yr),bi(g),e)},Si=Ze,Ti=r(function(e,t){var r=t;return Pe(f(wi,Si(e),r))}),Ci=n(function(e,t,r){return f(ki,function(e){return 0},Ai(f(yi,Ti(e),t)))}),Ri=n(function(e,t,r){return bi(0)}),Mi=r(function(e,t){return f(ki,e,t)});He.Task=ze(vi,Ci,Ri,Mi);var xi=Ge("Task"),Ii=r(function(e,t){return xi(f(ki,e,t))}),Oi=function(e){switch(e.$){case 0:return 0;case 1:return 1;case 2:return 2;default:return 3}},Ni=function(e){return e.length},Pi=X,Di=r(function(e,t){return e<1?t:l(Pi,e,Ni(t),t)}),Bi=ee,Li=re,$i=function(e){return""===e},Fi=r(function(e,t){return e<1?"":l(Pi,0,e,t)}),ji=Q,Ui=function(e){for(var t=0,r=e.charCodeAt(0),n=43==r||45==r?1:0,i=n;i<e.length;++i){var a=e.charCodeAt(i);if(a<48||57<a)return Wr;t=10*t+a-48}return i==n?Wr:zr(45==r?-t:t)},Hi=o(function(e,t,r,n,i,a){return{c8:a,b3:t,cg:n,ci:r,cl:e,cm:i}}),zi=a(function(e,t,r,n,i){if($i(i)||f(ji,"@",i))return Wr;var a=f(Li,":",i);if(a.b){if(a.b.b)return Wr;var o=a.a,s=Ui(f(Di,o+1,i));if(1===s.$)return Wr;var u=s;return zr(p(Hi,e,f(Fi,o,i),u,t,r,n))}return zr(p(Hi,e,i,Wr,t,r,n))}),Wi=i(function(e,t,r,n){if($i(n))return Wr;var i=f(Li,"/",n);if(i.b){var a=i.a;return d(zi,e,f(Di,a,n),t,r,f(Fi,a,n))}return d(zi,e,"/",t,r,n)}),Zi=n(function(e,t,r){if($i(r))return Wr;var n=f(Li,"?",r);if(n.b){var i=n.a;return h(Wi,e,zr(f(Di,i+1,r)),t,f(Fi,i,r))}return h(Wi,e,Wr,t,r)}),Ki=r(function(e,t){if($i(t))return Wr;var r=f(Li,"#",t);if(r.b){var n=r.a;return l(Zi,e,zr(f(Di,n+1,t)),f(Fi,n,t))}return l(Zi,e,Wr,t)}),Gi=function(e){return f(Bi,"http://",e)?f(Ki,0,f(Di,7,e)):f(Bi,"https://",e)?f(Ki,1,f(Di,8,e)):Wr},Yi=Xt,qi=k,Vi=Ye,Xi=function(e){return e.toUpperCase()},Ji={$:-2},Qi=Ji,ea=C,ta=r(function(e,t){e:for(;;){if(-2===t.$)return Wr;var r=t.b,n=t.c,i=t.d,a=t.e;switch(f(ea,e,r)){case 0:e=e,t=i;continue e;case 1:return zr(n);default:e=e,t=a;continue e}}}),ra=a(function(e,t,r,n,i){return{$:-1,a:e,b:t,c:r,d:n,e:i}}),na=a(function(e,t,r,n,i){if(-1!==i.$||i.a){if(-1!==n.$||n.a||-1!==n.d.$||n.d.a)return d(ra,e,t,r,n,i);n.a,_=n.b,g=n.c;var a=n.d,o=(a.a,a.b),s=a.c,u=a.d,c=a.e;b=n.e;return d(ra,0,_,g,d(ra,1,o,s,u,c),d(ra,1,t,r,b,i))}i.a;var f=i.b,l=i.c,h=i.d,p=i.e;if(-1!==n.$||n.a)return d(ra,e,f,l,d(ra,0,t,r,n,h),p);n.a;var _=n.b,g=n.c,m=n.d,b=n.e;return d(ra,0,t,r,d(ra,1,_,g,m,b),d(ra,1,f,l,h,p))}),ia=n(function(e,t,r){if(-2===r.$)return d(ra,0,e,t,Ji,Ji);var n=r.a,i=r.b,a=r.c,o=r.d,s=r.e;switch(f(ea,e,i)){case 0:return d(na,n,i,a,l(ia,e,t,o),s);case 1:return d(ra,n,i,t,o,s);default:return d(na,n,i,a,o,l(ia,e,t,s))}}),aa=n(function(e,t,r){var n=l(ia,e,t,r);if(-1!==n.$||n.a)return n;n.a;var i=n.b,a=n.c,o=n.d,s=n.e;return d(ra,1,i,a,o,s)}),oa=function(e){if(-1===e.$&&-1===e.d.$&&-1===e.e.$){if(-1!==e.e.d.$||e.e.d.a){e.a,i=e.b,a=e.c;var t=e.d,r=(t.a,s=t.b,u=t.c,c=t.d,f=t.e,e.e);r.a,h=r.b,p=r.c,n=r.d,v=r.e;return d(ra,1,i,a,d(ra,0,s,u,c,f),d(ra,0,h,p,n,v))}e.a;var n,i=e.b,a=e.c,o=e.d,s=(o.a,o.b),u=o.c,c=o.d,f=o.e,l=e.e,h=(l.a,l.b),p=l.c,_=((n=l.d).a,n.b),g=n.c,m=n.d,b=n.e,v=l.e;return d(ra,0,_,g,d(ra,1,i,a,d(ra,0,s,u,c,f),m),d(ra,1,h,p,b,v))}return e},sa=function(e){if(-1===e.$&&-1===e.d.$&&-1===e.e.$){if(-1!==e.d.d.$||e.d.d.a){e.a,i=e.b,a=e.c;var t=e.d,r=(t.a,s=t.b,u=t.c,t.d),n=(_=t.e,e.e);n.a,m=n.b,b=n.c,v=n.d,y=n.e;return d(ra,1,i,a,d(ra,0,s,u,r,_),d(ra,0,m,b,v,y))}e.a;var i=e.b,a=e.c,o=e.d,s=(o.a,o.b),u=o.c,c=o.d,f=(c.a,c.b),l=c.c,h=c.d,p=c.e,_=o.e,g=e.e,m=(g.a,g.b),b=g.c,v=g.d,y=g.e;return d(ra,0,s,u,d(ra,1,f,l,h,p),d(ra,1,i,a,_,d(ra,0,m,b,v,y)))}return e},ua=s(function(e,t,r,n,i,a,o){if(-1!==a.$||a.a){e:for(;;){if(-1===o.$&&1===o.a){if(-1===o.d.$){if(1===o.d.a){o.a,o.d.a;return sa(t)}break e}o.a,o.d;return sa(t)}break e}return t}a.a;var s=a.b,u=a.c,c=a.d,f=a.e;return d(ra,r,s,u,c,d(ra,0,n,i,f,o))}),ca=function(e){if(-1===e.$&&-1===e.d.$){var t=e.a,r=e.b,n=e.c,i=e.d,a=i.a,o=i.d,s=e.e;if(1===a){if(-1!==o.$||o.a){var u=oa(e);if(-1===u.$){var c=u.a,f=u.b,l=u.c,h=u.d,p=u.e;return d(na,c,f,l,ca(h),p)}return Ji}o.a;return d(ra,t,r,n,ca(i),s)}return d(ra,t,r,n,ca(i),s)}return Ji},fa=r(function(e,t){if(-2===t.$)return Ji;var r=t.a,n=t.b,i=t.c,a=t.d,o=t.e;if(T(e,n)<0){if(-1===a.$&&1===a.a){a.a;var s=a.d;if(-1!==s.$||s.a){var u=oa(t);if(-1===u.$){var c=u.a,l=u.b,h=u.c,p=u.d,g=u.e;return d(na,c,l,h,f(fa,e,p),g)}return Ji}s.a;return d(ra,r,n,i,f(fa,e,a),o)}return d(ra,r,n,i,f(fa,e,a),o)}return f(la,e,_(ua,e,t,r,n,i,a,o))}),la=r(function(e,t){if(-1===t.$){var r=t.a,n=t.b,i=t.c,a=t.d,o=t.e;if(E(e,n)){var s=function(e){for(;;){if(-1!==e.$||-1!==e.d.$)return e;e=e.d}}(o);if(-1===s.$){var u=s.b,c=s.c;return d(na,r,u,c,a,ca(o))}return Ji}return d(na,r,n,i,a,f(fa,e,o))}return Ji}),ha=r(function(e,t){var r=f(fa,e,t);if(-1!==r.$||r.a)return r;r.a;var n=r.b,i=r.c,a=r.d,o=r.e;return d(ra,1,n,i,a,o)}),da=n(function(e,t,r){var n=t(f(ta,e,r));if(n.$)return f(ha,e,r);var i=n.a;return l(aa,e,i,r)}),pa=function(e){return!e.$},_a=Ke,ga=(r(function(e,t){if(t.$){var r=t.a;return Zr(r)}var n=t.a;return Kr(e(n))}),r(function(e,t){return{$:3,a:e,b:t}})),ma=function(e){return{$:0,a:e}},ba=r(function(e,t){return{$:4,a:e,b:t}}),va={$:2},ya=function(e){return{$:1,a:e}},wa=function(e){return{$:0,a:e}},ka={$:1},Ea=r(function(e,t){return l(rr,"",mi,f(ri,t,e))}),Aa=r(function(e,t){if(t.$){var r=t.a;return Zr(e(r))}var n=t.a;return Kr(n)}),Sa=function(e){return{$:4,a:e}},Ta={$:2},Ca={$:1},Ra=r(function(e,t){switch(t.$){case 0:var r=t.a;return Zr({$:0,a:r});case 1:return Zr(Ca);case 2:return Zr(Ta);case 3:var n=t.a;return Zr(function(e){return{$:3,a:e}}(n.cy));default:var i=t.b;return f(Aa,Sa,e(i))}}),Ma={$:0},xa=function(e){return{$:1,a:e}},Ia=r(function(e,t){return{cp:e,cB:t}}),Oa=bi(f(Ia,Qi,g)),Na=function(e){return xe(function(t){var r=e.f;2===r.$&&r.c&&r.c(),e.f=null,t(Me(R))})},Pa=Pe,Da=n(function(e,t,r){e:for(;;){if(t.b){var n=t.a,i=t.b;if(n.$){var a=n.a;return f(wi,function(t){var n=a.x;if(1===n.$)return l(Da,e,i,r);var o=n.a;return l(Da,e,i,l(aa,o,t,r))},Pa(l(er,e,Si(e),a)))}var o=n.a,s=f(ta,o,r);if(1===s.$){e=e,t=i,r=r;continue e}var u=s.a;return f(wi,function(t){return l(Da,e,i,f(ha,o,r))},Na(u))}return bi(r)}}),Ba=i(function(e,t,r,n){return f(wi,function(e){return bi(f(Ia,e,r))},l(Da,e,t,n.cp))}),La=n(function(e,t,r){var n=e(t);if(n.$)return r;var i=n.a;return f(yr,i,r)}),$a=r(function(e,t){return l(ii,La(e),g,t)}),Fa=i(function(e,t,r,n){var i=n.a,a=n.b;return E(t,i)?zr(f(Si,e,a(r))):Wr}),ja=n(function(e,t,r){var n=t.a,i=t.b;return f(wi,function(e){return bi(r)},Ai(f($a,l(Fa,e,n,i),r.cB)))}),Ua=r(function(e,t){if(t.$){var r=t.a;return xa({Z:r.Z,cN:r.cN,c2:f(nr,e,r.c2),o:r.o,t:r.t,v:r.v,x:r.x,dY:r.dY})}var n=t.a;return{$:0,a:n}}),Ha=r(function(e,t){return{$:0,a:e,b:t}}),za=r(function(e,t){var r=t.a,n=t.b;return f(Ha,r,f(ri,n,e))});He.Http=ze(Oa,Ba,ja,Ua,za);var Wa=Ge("Http"),Za=function(e){return function(e){return Wa(xa({Z:!1,cN:e.cN,c2:e.c2,o:e.o,t:e.t,v:e.v,x:e.x,dY:e.dY}))}({cN:Ma,c2:e.c2,o:g,t:"GET",v:Wr,x:Wr,dY:e.dY})},Ka=n(function(e,t,r){var n,i,a=(n=f(An,Yn,e)).$?{aW:g,aX:g,bb:Wr}:n.a,o=f(fi,0,ci(t));return M({cP:"",aW:a.aW,cQ:0,aX:f(qi,f(ri,function(e){return e.dn},Xi),a.aX),cT:Wr,cU:o,c0:qn,c9:Wr,dg:r,di:Wr,dk:M("",Wr),bb:f(fi,Xn,a.bb),dN:!1},Vi(v([f(Yi,r,hi(o)),ei(v(["(max-width: 750px)"])),Za({c2:(i=function(e){if(e.$)return Vn;var t=e.a;return{$:3,a:t}},f(Ea,i,Ra(Kr))),dY:"doc/stellerator.md"})])))}),Ga=function(e){return{$:18,a:e}},Ya=function(e){return{$:2,a:e}},qa=tt("onMediaUpdate_",Gn($n)),Va=qa,Xa=tt("onNewCartridges_",Mn),Ja=n(function(e,t,r){return e(t(r))}),Qa=Ye,eo=function(e){return{$:0,a:e}},to=f(ri,ci,f(ri,ui(function(e){return{$:1,a:e}}),fi(eo(hi(0))))),ro=r(function(e,t){if(1===e.$)return t;var r=e.a;return t+":"+hn(r)}),no=n(function(e,t,r){return 1===t.$?r:N(r,N(e,t.a))}),io={$:1},ao=function(e){return{$:2,a:e}},oo=function(e){return{$:7,a:e}},so=function(e){return!e},uo=r(function(e,t){for(;;){if(!t.b)return!1;var r=t.a,n=t.b;if(e(r))return!0;e=e,t=n}}),co=r(function(e,t){return!f(uo,f(Ja,so,e),t)}),fo=function(e){return v(e.trim().split(/\s+/g))},lo=function(e){var t=fo(Xi(e.cP));return f(ai,function(e){return f(co,function(t){return f(ji,t,Xi(e.dn))},t)},e.aX)},ho=r(function(e,t){var r=function(n){if(n.b&&n.b.b){var i=n.a,a=n.b,o=a.a,s=a.b;return E(i.ah,t)?zr(o):r(f(yr,o,s))}return oi(e)};return r(N(e,N(e,e)))}),po=r(function(e,t){var r=function(n){if(n.b&&n.b.b){var i=n.a,a=n.b,o=a.a,s=a.b;return E(o.ah,t)?zr(i):r(f(yr,o,s))}return oi(Ir(e))};return r(N(e,N(e,e)))}),_o=r(function(e,t){for(;;){if(!t.b)return Wr;var r=t.a,n=t.b;if(e(r))return zr(r);e=e,t=n}}),go=function(e){return l(ri,si(function(t){return f(_o,function(e){return E(e.ah,t)},lo(e))}),ui(function(e){return e.ah}),e.cT)},mo=Re,bo=Je("addCartridge_",function(e){return mo}),vo=bo(0),yo=Je("deleteAllCartridges_",function(e){return mo}),wo=yo(0),ko=Je("deleteCartridge_",Qn),Eo=ko,Ao=Je("scrollIntoView_",function(e){var t=e.a,r=e.b;return f(Jn,mi,v([Qn(t),Qn(r)]))}),So=r(function(e,t){var r=function(){switch(e){case 0:return"start";case 1:return"center";case 2:return"end";default:return"nearest"}}();return Ao(M(r,t))}),To=function(e){return Qn(1===e?"pcm":"waveform")},Co=function(e){return Qn(e?"instruction":"cycle")},Ro=i(function(e,t,r,n){return f(fi,n,f(ui,function(r){return f(yr,M(e,t(r)),n)},r))}),Mo=function(e){switch(e){case 0:return Qn("pal");case 1:return Qn("ntsc");default:return Qn("secam")}},xo=Se,Io=Se,Oo=function(e){return Se(l(xr,r(function(e,t){var r=e.a,n=e.b;return l(Ce,r,n,t)}),{},e))},No=Je("updateCartridge_",mi),Po=function(e){return No(Oo(h(Ro,"phosphorEmulation",xo,(t=e).aJ,h(Ro,"audioEmulation",To,t.az,h(Ro,"cpuEmulation",Co,t.aC,h(Ro,"firstVisibleLine",Io,t.b0,h(Ro,"rngSeed",Io,t.cs,v([M("hash",Qn(t.ah)),M("name",Qn(t.dn)),M("cartridgeType",Qn(t.bR)),M("tvMode",Mo(t.cG)),M("emulatePaddles",xo(t.bY)),M("volume",Io(t.aT))]))))))));var t},Do=function(e){return Qn(1===e?"wide":"narrow")},Bo=Se,Lo=Je("updateSettings_",mi),$o=f(ri,function(e){return Oo(h(Ro,"uiMode",Do,e.bf,h(Ro,"touchControls",xo,e.bC,v([M("cpuEmulation",Co(e.aC)),M("volume",Io(e.aT)),M("audioEmulation",To(e.az)),M("smoothScaling",xo(e.bx)),M("phosphorEmulation",xo(e.aJ)),M("gammaCorrection",Bo(e.bm)),M("videoSync",xo(e.bE)),M("leftHanded",xo(e.bq)),M("virtualJoystickSensitivity",Io(e.bF)),M("uiSize",Io(e.bD))]))))},Lo),Fo=n(function(e,t,r){switch(t.$){case 0:var n=t.a;return I(r,{dn:n});case 1:var i=t.a,a=f(fi,r.bR,f(ui,function(e){return e.dg},f(_o,function(e){return E(e.dg,i)},e)));return I(r,{bR:a});case 2:var o=t.a;return I(r,{cG:o});case 3:var s=t.a;return I(r,{bY:s});case 4:var u=t.a,c=f(si,function(e){return e>=0?zr(e):r.cs},u);return I(r,{cs:c});case 5:var l=t.a,h=f(si,function(e){return e>=0&&e<100?zr(e):r.b0},l);return I(r,{b0:h});case 6:var d=t.a;return I(r,{aC:d});case 7:d=t.a;return I(r,{az:d});case 8:d=t.a;return I(r,{aJ:d});default:var p=t.a;return I(r,{aT:p})}}),jo=v([50,75,100,125,150]),Uo=r(function(e,t){switch(e.$){case 0:var r=e.a;return I(t,{aC:r});case 1:var n=e.a;return I(t,{aT:n});case 2:var i=e.a;return I(t,{az:i});case 3:var a=e.a;return I(t,{bx:a});case 4:var o=e.a;return I(t,{aJ:o});case 5:var s=e.a;return I(t,{bm:s});case 6:var u=e.a;return I(t,{bE:u});case 7:var c=e.a;return I(t,{bC:c});case 8:var l=e.a;return I(t,{bq:l});case 9:var h=e.a;return I(t,{bF:h});case 10:var d=e.a;return I(t,{bf:d});case 11:var p=e.a;return f(fi,t,f(ui,function(e){return I(t,{bD:e})},f(_o,Nr(p),jo)));default:return Xn}}),Ho=Vt,zo=Vi(g),Wo=r(function(e,t){e:for(;;){var i=function(e){return M(e,zo)},a=function(e){return M(I(t,{cT:e}),f(fi,zo,f(ui,So(3),e)))};switch(e.$){case 0:var o=e.a;return M(t,f(Ho,t.dg,o));case 1:var s=e.a,u=function(){var e=M(s,go(t));if(e.a||e.b.$)return zo;var r=e.b.a;return t.cU?f(So,1,r):zo}();return M(O=I(t,{cU:s,c0:function(e){switch(e){case 0:return qn;case 1:return io;case 2:return ao(zr(3.55));default:return ao(Wr)}}(s),dN:!1}),u);case 2:var c=e.a;u=function(){var e=M(t.cU,go(t));if(e.a||e.b.$)return zo;var r=e.b.a;return f(So,1,r)}();return M(I(t,{cQ:0,di:zr(c)}),u);case 5:var h=e.a;return M(O=I(t,{cP:h}),u=f(fi,zo,f(ui,So(3),go(O))));case 6:u=f(fi,zo,f(ui,So(3),t.cT));return M(I(t,{cP:""}),u);case 7:var d=e.a;return a(zr(d));case 8:d=e.a;return a(f(ui,function(e){return e.ah},f(ho,lo(t),d)));case 9:d=e.a;return a(f(ui,function(e){return e.ah},f(po,lo(t),d)));case 10:return a(f(ui,function(e){return e.ah},oi(lo(t))));case 11:return a(f(ui,function(e){return e.ah},oi(Ir(lo(t)))));case 12:return i(I(t,{cT:Wr}));case 13:d=e.a;var p=E(t.cT,zr(d))?f(ui,function(e){return e.ah},f(ho,lo(t),d)):t.cT;u=E(p,t.cT)?zo:f(fi,zo,f(ui,So(3),p));return M(I(t,{cQ:0,aX:f(ai,function(e){return!E(e.ah,d)},t.aX),cT:p}),Vi(v([u,Eo(d)])));case 14:return M(I(t,{aX:g,cT:Wr}),wo);case 15:d=e.a;var _=e.b,m=f(yi,function(e){return E(e.ah,d)?l(Fo,t.aW,_,e):e},t.aX);u=f(fi,zo,f(ui,Po,f(_o,f(Ja,Nr(d),function(e){return e.ah}),m)));return M(I(t,{aX:m}),u);case 3:var b=e.a;return i(I(t,{c9:zr(b)}));case 4:return i(I(t,{dN:!t.dN}));case 16:var y=e.a,w=(B=void 0,1!==(B=M(y,t.cT)).a||B.b.$?0:1);u=function(){var e,r,n,i=(e=w,r=t.cQ,n=go(t),{a:e,b:r,c:n});if(i.a||1!==i.b||i.c.$)return zo;var a=i.c.a;return f(So,1,a)}();return M(I(t,{cQ:w}),u);case 17:return M(t,vo);case 18:var k=e.a,A=I(t,{aX:f(qi,f(Ja,Xi,function(e){return e.dn}),(D=l(xr,r(function(e,t){return l(aa,e.ah,e,t)}),Qi,N(t.aX,k)),l(vr,n(function(e,t,r){return f(yr,t,r)}),g,D)))});if(k.b){var S=k.a;e=oo(S.ah),t=A;continue e}return i(A);case 19:var T=e.a,C=f(Uo,T,t.bb);return M(I(t,{bb:C}),$o(C));case 20:var R=e.a,x=e.b;return i(I(t,{dk:M(R,zr(x))}));case 21:return i(I(t,{dk:M(t.dk.a,Wr)}));case 22:var O=I(t,{dk:M(t.dk.a,Wr)}),P=t.dk;if(P.b.$)return i(O);e=P.b.a,t=O;continue e;default:return i(t)}}var D,B}),Zo=n(function(e,t,r){return{$:0,a:e,b:t,c:r}}),Ko=Zo,Go=Ko,Yo=Go("div"),qo=st,Vo=function(e){return{$:4,a:e}},Xo=function(e){return Vo(qo(e))},Jo=v([f(Yo,g,v([Xo("Happy scrappy emulation page")]))]),Qo=function(e){return"var(--"+function(){switch(e){case 0:return"black";case 1:return"blue";case 2:return"light-blue";case 3:return"green";case 4:return"light-green";case 5:return"cyan";case 6:return"light-cyan";case 9:return"magenta";case 10:return"light-magenta";case 7:return"red";case 8:return"light-red";case 11:return"dark-gray";case 12:return"light-gray";case 13:return"brown";case 14:return"yellow";default:return"white"}}()+")"},es=function(e){return{$:0,a:e}},ts=r(function(e,t){return es(e+":"+t)}),rs=function(e){return f(ts,"background-color",Qo(e))},ns=function(e){return f(ts,"color",Qo(e))},is={$:17},as=r(function(e,t){return{$:1,a:e,b:t}}),os=function(e){return as({$:2,a:e})},ss=os("active"),us=r(function(e,t){return f(ts,e,t.E)}),cs=us("bottom"),fs=us("center"),ls=ne,hs=n(function(e,t,r){return{bG:0,bQ:0,ae:0,n:0,aF:0,aj:0,K:0,ak:0,al:0,R:0,S:0,C:0,M:r,as:0,au:t,aR:e,E:N(ls(r),t)}}),ds=f(hs,0,"em"),ps={aA:0,aK:0,bd:0,E:"fixed"},_s=te,gs=function(e){return e.toLowerCase()},ms=function(e){return{$:6,a:e}},bs=r(function(e,t){if(t.b){if(t.b.b){var r=t.a,n=t.b;return f(yr,r,f(bs,e,n))}return v([e(t.a)])}return t}),vs=r(function(e,t){if(t.b){if(t.b.b){var r=t.a,n=t.b;return f(yr,r,f(vs,e,n))}var i=t.a;return v([f(ys,e,i)])}return t}),ys=r(function(e,t){switch(t.$){case 0:var r=t.a;return es(e(r));case 1:var n=t.a,i=t.b;return f(as,n,f(vs,e,i));case 2:case 3:case 4:case 5:return t;default:var a=t.a;return ms(f(bs,ys(e),a))}}),ws=ys(function(e){return f(_s," !important",gs(e))?e:e+" !important"}),ks=function(e){return{J:0,a$:0,S:0,C:0,dy:0,a2:0,M:e,au:"",aR:0,E:hn(e)}},Es=n(function(e,t,r){return f(ts,e,f(dn," ",v([t.E,r.E])))}),As=Es("padding"),Ss=us("position"),Ts=us("right"),Cs=r(function(e,t){return es(e+":"+t)}),Rs=n(function(e,t,r){e:for(;;)switch(r.$){case 0:var n=r.a,i=f(fi,"",oi(f(_n,":",n)));return f(Cs,t,i);case 1:r.a;return f(Cs,t,"elm-css-error-cannot-apply-"+e+"-with-inapplicable-Style-for-selector");case 2:r.a;return f(Cs,t,"elm-css-error-cannot-apply-"+e+"-with-inapplicable-Style-for-combinator");case 3:r.a;return f(Cs,t,"elm-css-error-cannot-apply-"+e+"-with-inapplicable-Style-for-pseudo-element setter");case 4:return f(Cs,t,"elm-css-error-cannot-apply-"+e+"-with-inapplicable-Style-for-media-query");case 5:return f(Cs,t,"elm-css-error-cannot-apply-"+e+"-with-inapplicable-Style-for-keyframes");default:if(r.a.b){if(r.a.b.b){var a=r.a,o=(a.a,a.b);e=e,t=t,r=ms(o);continue e}e=e,t=t,r=r.a.a;continue e}return f(Cs,t,"elm-css-error-cannot-apply-"+e+"-with-empty-Style")}}),Ms=l(hs,0,"",0),xs=function(e){return l(Rs,"textAlign","text-align",e(Ms))},Is=us("z-index"),Os=Go("button"),Ns=r(function(e,t){return f(pt,function(e){return"innerHTML"==e||"formAction"==e?"data-"+e:e}(e),mt(t))}),Ps=n(function(e,t,r){return{$:0,a:e,b:t,c:r}}),Ds=i(function(e,t,r,n){return{ab:n,ah:r,V:t,ap:e}}),Bs=r(function(e,t){return(65535&t)*e+(((t>>>16)*e&65535)<<16)}),Ls=r(function(e,t){return t<<e|t>>>32-e}),$s=r(function(e,t){return f(Bs,5,f(Ls,13,e^f(Bs,461845907,f(Ls,15,f(Bs,3432918353,t)))))+3864292196}),Fs=r(function(e,t){var r=t.ah|(255&Qr(e))<<t.ap;return 24===t.ap?{ab:t.ab+1,ah:0,V:f($s,t.V,r),ap:0}:{ab:t.ab+1,ah:r,V:t.V,ap:t.ap+8}}),js=G,Us=r(function(e,t){return r=l(js,Fs,h(Ds,0,e,0,0),t),n=(r.ah?r.V^f(Bs,461845907,f(Ls,15,f(Bs,3432918353,r.ah))):r.V)^r.ab,i=f(Bs,2246822507,n^n>>>16),((a=f(Bs,3266489909,i^i>>>13))^a>>>16)>>>0;var r,n,i,a}),Hs=function(e){return!e.b},zs=function(e){return v([e])},Ws=W,Zs=function(e){return{bU:Wr,b4:g,cc:g,cx:e}},Ks=r(function(e,t){return t.b?l(ii,yr,t,e):e}),Gs=function(e){return l(ii,Ks,g,e)},Ys=r(function(e,t){return Gs(f(yi,e,t))}),qs=function(e){return e},Vs=n(function(e,t,r){for(;;){if(e<=0)return r;if(!t.b)return r;var n=t.a;e=e-1,t=t.b,r=f(yr,n,r)}}),Xs=r(function(e,t){return Ir(l(Vs,e,t,g))}),Js=n(function(e,t,r){if(t<=0)return g;var n=M(t,r);e:for(;;){t:for(;;){if(!n.b.b)return r;if(!n.b.b.b){if(1===n.a)break e;break t}switch(n.a){case 1:break e;case 2:var i=n.b;return v([o=i.a,h=i.b.a]);case 3:if(n.b.b.b.b){var a=n.b,o=a.a,s=a.b;return v([o,h=s.a,p=s.b.a])}break t;default:if(n.b.b.b.b&&n.b.b.b.b.b){var u=n.b,o=u.a,c=u.b,h=c.a,d=c.b,p=d.a,_=d.b,m=_.a,b=_.b;return f(yr,o,f(yr,h,f(yr,p,f(yr,m,e>1e3?f(Xs,t-4,b):l(Js,e+1,t-4,b)))))}break t}}return r}return v([o=n.b.a])}),Qs=r(function(e,t){return l(Js,0,e,t)}),eu=function(e){e:for(;;){if(e.b){if(e.a.$){e=i=e.b;continue e}var t=e.a.a,r=t.a,n=t.b,i=e.b;return N(f(yr,r,n),eu(i))}return g}},tu=function(e){e:for(;;){if(e.b){if(e.b.b){e=e.b;continue e}var t=e.a;return zr(v([t]))}return Wr}},ru=function(e){var t,r=function(e){if(e.b){var t=e.a,n=e.b;return f(yr,t,r(n))}return g},n=r(e);return v([(t=n,{$:9,a:t})])},nu=a(function(e,t,r,n,i){return{$:3,a:e,b:t,c:r,d:n,e:i}}),iu=a(function(e,t,r,n,i){if(i.$)return i;var a=i.a;return d(nu,e,t,r,n,a)}),au=r(function(e,t){return{$:1,a:e,b:t}}),ou=r(function(e,t){return{$:2,a:e,b:t}}),su=r(function(e,t){switch(t.$){case 0:var r=t.a;return f(au,e,v([r]));case 1:var n=t.a,i=t.b;return f(au,N(e,n),i);case 2:var a=t.a,o=t.b;return f(ou,a,f(yi,su(e),o));case 3:var s=t.a,u=t.b,c=t.c,l=t.d;r=t.e;return d(nu,s,u,c,l,r);case 4:case 5:case 6:case 7:case 8:default:return t}}),uu=function(e){return{$:8,a:e}},cu=function(e){return{$:5,a:e}},fu=function(e){return{$:6,a:e}},lu=r(function(e,t){return{$:4,a:e,b:t}}),hu=n(function(e,t,r){return{$:0,a:e,b:t,c:r}}),du=n(function(e,t,r){return{$:0,a:e,b:t,c:r}}),pu=function(e){return{$:0,a:e}},_u=function(e){return{$:7,a:e}},gu=r(function(e,t){var r=t.a,n=t.b,i=t.c;return l(du,r,n,N(i,v([e])))}),mu=r(function(e,t){if(!t.b)return t;if(t.b.b){var r=t.a,n=t.b;return f(yr,r,f(mu,e,n))}switch(t.a.$){case 0:var i=t.a.a;return v([pu(f(gu,e,i))]);case 1:var a=t.a,o=a.a,s=a.b;return v([f(au,o,f(bs,gu(e),s))]);default:return t}}),bu=r(function(e,t){if(t.b.b){var r=t.a,n=t.b,i=(s=t.c,f(yi,e,n)),a=e(r);return v([l(du,r,n,s),l(du,a,i,g)])}var o=t.a,s=t.c;return v([l(du,o,g,s),l(du,e(o),g,g)])}),vu=r(function(e,t){var r=t.a,n=t.b;return l(hu,r,n,zr(e))}),yu=r(function(e,t){return f(bu,vu(e),t)}),wu=r(function(e,t){return{$:2,a:e,b:t}}),ku=r(function(e,t){return{$:0,a:e,b:t}}),Eu=function(e){return{$:1,a:e}},Au=r(function(e,t){switch(t.$){case 0:var r=t.a,n=t.b;return f(ku,r,N(n,v([e])));case 1:n=t.a;return Eu(N(n,v([e])));default:var i=t.a;n=t.b;return f(wu,i,N(n,v([e])))}}),Su=r(function(e,t){if(t.b){if(t.b.b){var r=t.a,n=t.b;return f(yr,r,f(Su,e,n))}var i=t.a,a=i.a,o=i.b;return v([M(a,f(Au,e,o))])}return g}),Tu=r(function(e,t){if(t.b.b){var r=t.a,n=t.b;a=t.c;return l(hu,r,f(Su,e,n),a)}var i=t.a,a=t.c;return l(hu,f(Au,e,i),g,a)}),Cu=r(function(e,t){return f(bu,Tu(e),t)}),Ru=r(function(e,t){e:for(;;){if(!t.b)return t;if(t.b.b)break e;switch(t.a.$){case 0:var r=t.a.a;return f(yi,pu,e(r));case 1:if(t.a.b.b){if(t.a.b.b.b){var n=t.a,i=(p=n.a,n.b),a=i.a,o=i.b,s=f(Ru,e,v([f(au,p,o)]));if(s.b&&1===s.a.$&&!s.b.b){var u=s.a,c=u.a,l=u.b;return v([f(au,c,f(yr,a,l))])}return s}var d=t.a,p=d.a;r=d.b.a;return v([f(au,p,e(r))])}break e;case 2:var _=t.a,g=_.a,m=_.b;return v([f(ou,g,f(Ru,e,m))]);case 3:var b=t.a,y=b.a,w=b.b,k=b.c,E=b.d;r=b.e;return f(yi,h(nu,y,w,k,E),e(r));case 4:t.a;return t;case 5:case 6:case 7:case 8:default:return t}}a=t.a,o=t.b;return f(yr,a,f(Ru,e,o))}),Mu=r(function(e,t){if(t.$)return t;var r=t.a;return f(au,e,v([r]))}),xu=function(e){return y(e).join("")},Iu=$,Ou=function(e){e:for(;;)switch(e){case 0:return"0";case 1:return"1";case 2:return"2";case 3:return"3";case 4:return"4";case 5:return"5";case 6:return"6";case 7:return"7";case 8:return"8";case 9:return"9";case 10:return"a";case 11:return"b";case 12:return"c";case 13:return"d";case 14:return"e";case 15:return"f";default:e=e;continue e}},Nu=r(function(e,t){for(;;){if(t<16)return f(yr,Ou(t),e);e=f(yr,Ou(f(Iu,16,t)),e),t=t/16|0}}),Pu=function(e){return xu(e<0?f(yr,"-",f(Nu,g,-e)):f(Nu,g,e))},Du=i(function(e,t,r,n){var i=function(e){return f(fi,g,function(e){if(e.b){e.a;var t=e.b;return zr(t)}return Wr}(e))},a=f(Bu,t,f(fi,g,tu(n))),o=function(){var e=M(oi(a),function(e){e:for(;;){if(e.b){if(e.b.b){e=e.b;continue e}var t=e.a;return zr(t)}return Wr}}(n));if(e.a.$||e.b.$)return n;var t=e.a.a,r=e.b.a;return N(f(Qs,on(n)-1,n),v([E(r,t)?r:t]))}();return N(o,N(i(f(fi,g,f(ui,function(t){return Gs(f(bs,Bu(e),f(yi,zs,f(Ru,r,t))))},tu(n)))),i(a)))}),Bu=r(function(e,t){if(!e.b)return t;switch(e.a.$){case 0:var n=e.a.a,i=e.b;return f(Bu,i,f(mu,n,t));case 1:var a=e.a,o=a.a,s=a.b;i=e.b;return h(Du,s,i,Cu(o),t);case 2:var u=e.a,c=u.a,d=u.b,p=(i=e.b,r(function(e,t){var r=e.a,n=e.b,i=e.c,a=t.a,o=t.b,s=t.c;return l(hu,r,N(n,f(yr,M(c,a),o)),function(e){e:for(;;){if(e.b){var t=e.a,r=e.b;if(1===t.$){e=r;continue e}return t}return Wr}}(v([s,i])))}));return Gs(N(v([f(Bu,i,t)]),f(yi,function(e){switch(e.$){case 0:var r=e.a,n=r.a,i=r.b,a=r.c,o=f(Ys,function(e){return f(yi,p(e),f(yr,n,i))},eu(t)),s=function(){if(o.b){var e=o.a,t=o.b;return v([pu(l(du,e,t,g))])}return g}();return f(Bu,a,s);case 1:var u=e.a,c=e.b;return f(Fu,u,c);case 2:var d=e.a,_=e.b;return f(ju,d,_);case 3:var m=e.a,b=e.b,y=e.c,w=e.d,k=e.e;return f(yi,h(iu,m,b,y,w),Lu(k));case 4:d=e.a;var E=e.b;return v([f(lu,d,E)]);case 5:return E=e.a,v([cu(E)]);case 6:return E=e.a,v([_u(E)]);case 7:return E=e.a,v([uu(E)]);default:var A=e.a;return ru(A)}},f(Ys,qs,d))));case 3:var _=e.a,m=_.a;s=_.b,i=e.b;return h(Du,s,i,yu(m),t);case 5:var b=e.a.a,y=(i=e.b,function(e){return f(Ws,"_",Pu(f(Us,15739,e)))}(b)),w=f(Bu,i,f(mu,"animation-name:"+y,t));return f(Ks,w,v([fu({cX:b,dn:y})]));case 4:var k=e.a,E=k.a,A=(s=k.b,i=e.b,function(){var e=eu(t);if(e.b){var r=e.a,n=e.b;return f(yi,Mu(E),f(Bu,s,zs(pu(l(du,r,n,g)))))}return g}());return N(f(Bu,i,t),A);default:var S=e.a.a;i=e.b;return f(Bu,N(S,i),t)}}),Lu=function(e){var t=e.a,r=e.b,n=e.c;return f(Bu,n,v([pu(l(du,t,r,g))]))},$u=function(e){if(e.b){var t=e.a,r=e.b;return N(Uu(t),$u(r))}return g},Fu=r(function(e,t){return f(Ys,function(t){return f(yi,su(e),Lu(t))},t)}),ju=r(function(e,t){var r=$u(f(Ys,qs,t));return v([f(ou,e,r)])}),Uu=function(e){switch(e.$){case 0:var t=e.a;return Lu(t);case 1:var r=e.a,n=e.b;return f(Fu,r,n);case 2:var i=e.a,a=e.b;return f(ju,i,a);case 3:var o=e.a,s=e.b,u=e.c,c=e.d;t=e.e;return f(yi,h(iu,o,s,u,c),Lu(t));case 4:i=e.a;var l=e.b;return v([f(lu,i,l)]);case 5:l=e.a;return v([cu(l)]);case 6:l=e.a;return v([_u(l)]);case 7:l=e.a;return v([uu(l)]);default:var d=e.a;return ru(d)}},Hu=r(function(e,t){var r=t.a,n=t.b;switch(e.$){case 0:var i=e.a.c;return Hs(i)?M(r,n):M(r,f(yr,e,n));case 1:var a=e.b;return f(co,function(e){var t=e.c;return Hs(t)},a)?M(r,n):M(r,f(yr,e,n));case 2:var o=e.b;return Hs(o)?M(r,n):M(r,f(yr,e,n));case 3:return M(r,f(yr,e,n));case 4:i=e.b;return Hs(i)?M(r,n):M(r,f(yr,e,n));case 5:i=e.a;return Hs(i)?M(r,n):M(r,f(yr,e,n));case 6:var s=e.a;return $i(s.cX)?M(r,n):M(l(aa,s.dn,s.cX,r),n);case 7:case 8:i=e.a;return Hs(i)?M(r,n):M(r,f(yr,e,n));default:var u=e.a;return f(co,function(e){var t=e.b;return Hs(t)},u)?M(r,n):M(r,f(yr,e,n))}}),zu=r(function(e,t){return f(Ks,f(yi,function(e){var t=e.a,r=e.b;return fu({cX:r,dn:t})},wr(e)),t)}),Wu=function(e){return f(fi,"",f(ui,function(e){return'@charset "'+e+'"'},e))},Zu=function(e){return"("+e.b$+f(fi,"",f(ui,Jr(": "),e.E))+")"},Ku=function(e){var t=n(function(e,t,r){return e+" "+f(dn," and ",f(yr,function(e){switch(e){case 0:return"print";case 1:return"screen";default:return"speech"}}(t),f(yi,Zu,r)))});switch(e.$){case 0:var r=e.a;return f(dn," and ",f(yi,Zu,r));case 1:return l(t,"only",e.a,r=e.b);case 2:return l(t,"not",e.a,r=e.b);default:return e.a}},Gu=r(function(e,t){return'@import "'+e+Ku(t)+'"'}),Yu=function(e){var t=e.a,r=e.b;return f(dn,"\n",f(yi,Gu(t),r))},qu=function(e){return"@namespace "+e.a+'"'+e.b+'"'},Vu=function(e){return N("    ",e)},Xu=function(e){return e+";"},Ju=function(e){return f(dn,"\n",f(yi,f(Ja,Vu,Xu),e))},Qu=Z,ec=function(e){return"::"+e},tc=function(e){switch(e){case 0:return"+";case 1:return"~";case 2:return">";default:return""}},rc=function(e){switch(e.$){case 0:return"."+e.a;case 1:return"#"+e.a;case 2:return":"+e.a;default:return"["+e.a+"]"}},nc=function(e){switch(e.$){case 0:var t=e.a,r=e.b;return f(dn,"",f(yr,t,f(yi,rc,r)));case 1:r=e.a;return Hs(r)?"*":f(dn,"",f(yi,rc,r));default:t=e.a,r=e.b;return f(dn,"",f(yr,t,f(yi,rc,r)))}},ic=function(e){var t=e.a,r=e.b;return f(dn," ",v([tc(t),nc(r)]))},ac=function(e){var t=e.a,r=e.b,n=e.c,i=f(yr,nc(t),f(yi,ic,r)),a=f(dn,"",v([f(fi,"",f(ui,ec,n))]));return f(Qu,f(dn," ",f(ai,f(Ja,so,$i),i)),a)},oc=r(function(e,t){var r=t.a,n=t.b,i=t.c,a=f(dn,", ",f(yi,ac,f(yr,r,n)));return f(dn,"",v([a," {\n",e,Ju(i),"\n",e,"}"]))}),sc=function(e){switch(e.$){case 0:var t=e.a;return f(oc,"",t);case 1:var r=e.a,n=e.b;return"@media "+f(dn,",\n",f(yi,Ku,r))+" {\n"+f(dn,"\n\n",f(yi,f(Ja,Vu,oc("    ")),n))+"\n}";case 2:case 3:case 4:case 5:return"TODO";case 6:return"@keyframes "+e.a.dn+" {\n"+e.a.cX+"\n}";case 7:case 8:default:return"TODO"}},uc=function(e){return function(e){var t=e.bU,r=e.b4,n=e.cc,i=e.cY;return f(dn,"\n\n",f(ai,f(Ja,so,$i),v([Wu(t),f(dn,"\n",f(yi,Yu,r)),f(dn,"\n",f(yi,qu,n)),f(dn,"\n\n",f(yi,sc,i))])))}(function(e){var t=e.bU,r=e.b4,n=e.cc,i=e.cY,a=l(ii,Hu,M(Qi,g),i),o=a.a,s=a.b;return{bU:t,cY:f(zu,o,s),b4:r,cc:n}}((r=(t=e).bU,n=t.b4,i=t.cc,a=t.cx,{bU:r,cY:$u(f(Ys,qs,a)),b4:n,cc:i})));var t,r,n,i,a},cc=function(e){return f(dn,"\n\n",f(yi,uc,e))},fc=n(function(e,t,r){return{$:0,a:e,b:t,c:r}}),lc=function(e){return{$:0,a:e}},hc=r(function(e,t){var r=l(hu,t,g,Wr);return v([lc(l(fc,r,g,e))])}),dc=function(e){var t=function(e){return Hs(e)?"unstyled":f(Ws,"_",Pu(f(Us,15739,cc(zs(Zs(zs(f(hc,e,Eu(g)))))))))}(e),r=f(Ns,"className",Qn(t));return l(Ps,r,e,t)},pc=dt,_c=r(function(e,t){return l(Ps,f(pc,e,t),g,"")}),gc=r(function(e,t){return f(_c,e,{$:0,a:t})}),mc=function(e){return f(gc,"click",Rn(e))},bc=f(Os,v([dc(v([xs(fs),Ss(ps),Ts(ds(0)),cs(ds(0)),f(As,ds(1),ds(.75)),ws(rs(2)),ns(12),Is(ks(10)),ss(v([ws(rs(1))]))])),mc(is)]),v([Xo("─┼─")])),vc=r(function(e,t){return l(Ps,f(Ns,e,t),g,"")}),yc=r(function(e,t){return f(vc,e,Qn(t))}),wc=yc("className"),kc=wc("panel"),Ec=function(e){return{$:16,a:e}},Ac=n(function(e,t,r){var n=f(yi,on,v([e.aX,lo(e)]));e:for(;;){if(n.b&&n.b.b&&!n.b.b.b){if(n.a){if(n.b.a)break e;n.b;return t("no cartridges match the search")}n.b;return t('start by clicking "Add new" to add a ROM image')}break e}return r}),Sc=r(function(e,t){return f(fi,!1,f(ui,Nr(e.ah),t))}),Tc=i(function(e,t,r,n){return f(Sc,e,t)?r:n}),Cc=us("display"),Rc={g:0,E:"inline-block"},Mc=Go("span"),xc=r(function(e,t){return f(_c,e,{$:3,a:t})}),Ic=n(function(e,t,r){return f(Mc,v([dc(v([Cc(Rc),f(os,"not(:last-child)",v([f(ts,"margin-right","var(--cw)")]))])),f(xc,"click",Rn({dj:t,dG:!0,dP:!0}))]),v([f(Os,f(yr,dc(v([ws(f(ts,"margin-right","var(--cw)"))])),e),v([Xo(r)]))]))}),Oc={bi:0,aV:0,E:"border-box"},Nc=us("box-sizing"),Pc=us("cursor"),Dc=f(ts,"display","flex"),Bc=function(e){return l(Rs,"justifyContent","justify-content",e(Ms))},Lc=us("left"),$c=us("margin-bottom"),Fc=us("margin-top"),jc=us("min-height"),Uc=function(e){return os("nth-child("+e+")")},Hc={a:0,E:"pointer"},zc=us("space-between"),Wc=f(hs,0,"vw"),Zc=us("width"),Kc=yc("id"),Gc=yc("type"),Yc=n(function(e,t,r){return{$:2,a:e,b:t,c:r}}),qc=Yc,Vc=qc,Xc=function(e){var t=function(e){return f(Yo,v([Kc(e.ah),dc(v([Nc(Oc),f(ts,"padding","2.25em calc(2 * var(--cw))"),jc(ds(5)),xs(fs),f(Uc,"odd",v([rs(12)])),f(Uc,"even",v([rs(5)])),ns(0),Pc(Hc)])),mc(oo(e.ah))]),v([Xo(e.dn)]))},n=function(e){var t=r(function(e,t){return l(Ic,v([Gc("button"),dc(v([f(ts,"width","calc(8 * var(--cw))")]))]),e,t)});return f(Yo,v([Kc(e.ah),kc,dc(v([Nc(Oc),jc(ds(4)),xs(fs),rs(11),ns(15),Pc(Hc)]))]),v([Xo(e.dn),f(Yo,v([dc(v([Dc,xs(Lc),Fc(ds(1)),$c(ds(-.5)),Bc(zc)]))]),v([f(t,Ec(1),"Edit"),f(t,Vn,"Run")]))]))},i=v([l(Vc,"div",v([dc(v([Nc(Oc),Zc(Wc(100)),Fc(ds(3.5))]))]),f(yi,function(r){return M(r.ah,d(Tc,i=r,e.cT,n,t,i));var i},lo(e)))]);return l(Ac,e,function(e){return v([f(Yo,v([dc(v([Zc(Wc(100)),Fc(ds(3.5)),f(ts,"padding","3em calc(2 * var(--cw)) 0 calc(2 * var(--cw))"),xs(fs),Nc(Oc)]))]),v([Xo(e)]))])},i)},Jc=function(e){return"calc("+ls(e)+" * var(--cw))"},Qc=function(e){return f(ts,"margin-right",Jc(e))},ef=function(e){return{$:5,a:e}},tf={$:6},rf=r(function(e,t){return f(_c,e,{$:2,a:t})}),nf=r(function(e,t){return l(ii,In,t,e)}),af=f(nf,v(["target","value"]),Pn),of=function(e){return f(rf,"change",f(jn,f(ri,e,function(e){return M(e,!0)}),af))},sf=Go("input"),uf=r(function(e,t){return f(_t,function(e){return/^(on|formAction$)/i.test(e)?"data-"+e:e}(e),mt(t))}),cf=r(function(e,t){return l(Ps,f(uf,e,t),g,"")}),ff=cf,lf=function(e){return f(yc,"autocomplete",e?"on":"off")},hf=function(e){return f(sf,N(v([Gc("text"),lf(!1),f(ff,"autocorrect","off"),f(ff,"autocapitalize","off")]),e),g)},df=us("flex-grow"),pf=Go("label"),_f=r(function(e,t){return f(vc,e,xo(t))}),gf=_f("disabled"),mf=yc("placeholder"),bf=yc("value"),vf=r(function(e,t){return f(pf,v([dc(N(v([Dc]),e)),kc]),v([hf(v([Gc("text"),dc(v([df(ks(1)),Qc(1)])),mf("Search cartridges..."),bf(t.cP),of(ef)])),l(Ic,v([Gc("button"),gf(""===t.cP),dc(v([$c(ds(.5))]))]),tf,"Clear")]))}),yf=us("padding-bottom"),wf=f(hs,0,"px"),kf=us("top"),Ef=function(e){return ct(gt(e))},Af=Vo,Sf=function(e){return Af(l(Ef,"style",g,zs(qo(cc(zs(Zs(e)))))))},Tf=r(function(e,t){return f(hc,t,f(wu,e,g))}),Cf=function(e){return f(ff,"data-label",e)},Rf=function(e){return{$:13,a:e}},Mf=r(function(e,t){return{$:15,a:e,b:t}}),xf=function(e){return{$:7,a:e}},If=function(e){return{$:6,a:e}},Of=function(e){return{$:3,a:e}},Nf=function(e){return{$:5,a:e}},Pf=function(e){return{$:0,a:e}},Df=function(e){return{$:8,a:e}},Bf=function(e){return{$:4,a:e}},Lf=function(e){return{$:2,a:e}},$f=function(e){return{$:1,a:e}},Ff=function(e){return{$:9,a:e}},jf=f(nf,v(["target","checked"]),$n),Uf=function(e){return f(rf,"change",f(jn,f(ri,e,function(e){return M(e,!0)}),jf))},Hf=_f("checked"),zf=r(function(e,t){return f(sf,v([Gc("checkbox"),Uf(e),Hf(t)]),g)}),Wf=function(e){return f(rf,"input",f(jn,f(ri,e,function(e){return M(e,!0)}),af))},Zf=Go("option"),Kf=Go("select"),Gf=_f("selected"),Yf=i(function(e,t,r,n){return f(Mc,v([wc("select-wrapper"),dc(e)]),v([f(Kf,N(v([bf(n),lf(!1)]),t),f(yi,function(e){var t=e.a,r=e.b;return f(Zf,v([bf(t),Gf(E(t,n))]),v([Xo(r)]))},r))]))})(g),qf=us("max-width"),Vf=f(hs,0,"%"),Xf=n(function(e,t,r){return l(Yf,v([dc(v([qf(Vf(100))])),of(t)]),e,r)}),Jf={aD:0,a_:0,E:"nowrap",O:0},Qf=us("white-space"),el=i(function(e,t,r,n){return f(Mc,e,f(yi,function(e){return f(pf,v([dc(v([Pc(Hc),Qf(Jf),f(os,"not(:first-of-type)",v([f(ts,"margin-left","calc(2 * var(--cw))")]))]))]),v([Xo(e.b),f(sf,v([Gc("radio"),dc(v([f(ts,"margin-left","var(--cw)")])),Hf(E(n,e.a)),l(Ja,f(Ja,rf("change"),jn(function(e){return M(e,!0)})),En(function(t){return t?Rn(r(e.a)):Sn("")}),jf)]),g)]))},t))}),tl={g:0,E:"block"},rl=us("flex-shrink"),nl={g:0,E:"inline-flex"},il=yc("max"),al=yc("min"),ol=function(e){return f(cf,"tabIndex",hn(e))},sl=a(function(e,t,r,n,i){var a=t.a,o=t.b,s=function(e){return T(e,a)>-1&&T(e,o)<1?zr(e):Wr},u=f(gc,"keydown",f(En,function(e){switch(e){case"ArrowLeft":return Rn(r(s(i-1)));case"ArrowRight":return Rn(r(s(i+1)));default:return Sn("")}},f(In,"key",Pn)));return f(Mc,v([dc(N(e,v([Cc(nl)]))),ol(0),u]),v([f(sf,v([dc(v([df(ks(1))])),Gc("range"),al(hn(a)),il(hn(o)),bf(hn(i)),Wf(f(ri,Ui,f(ri,si(s),r)))]),g),f(Mc,v([dc(v([Cc(tl),f(ts,"padding-left","calc(2 * var(--cw))"),f(ts,"min-width","calc(4 * var(--cw))"),df(ks(0)),rl(ks(0))]))]),v([Xo(n(i))]))]))}),ul=Go("br"),cl=yc("htmlFor"),fl=r(function(e,t){var n,i=r(function(e,t){return f(pf,v([cl("nothing")]),v([f(Mc,v([dc(v([Cc(Rc),f(ts,"width","calc(20 * var(--cw))")]))]),v([Xo(e)])),t]))}),a=r(function(e,t){return f(pf,v([dc(v([Pc(Hc)]))]),v([f(Mc,v([dc(v([Cc(Rc),f(ts,"width","calc(20 * var(--cw))")]))]),v([Xo(e)])),t]))}),o=r(function(e,t){return f(pf,v([dc(v([Cc(tl),Zc(Vf(100))]))]),v([Xo(e),f(ul,g,g),t]))}),s=function(e){return f(ri,e,Mf(t.ah))},u=r(function(e,t){return hf(v([Gc("text"),mf("Auto"),dc(v([f(ts,"width","calc(10 * var(--cw))")])),bf(l(Ja,fi(""),ui(hn),t)),Wf(function(t){return""===t?f(s,e,Wr):f(fi,Vn,f(ui,f(Ja,s(e),zr),Ui(t)))})]))});return v([f(o,"Cartridge name:",hf(v([Gc("text"),bf(t.dn),dc(v([Zc(Vf(100))])),Wf(s(Pf))]))),f(o,"Cartridge type:",l(Xf,f(yi,function(e){return M(e.dg,e.c_)},e.aW),s($f),t.bR)),f(i,"TV mode:",h(el,g,v([M(0,"PAL"),M(1,"NTSC"),M(2,"SECAM")]),s(Lf),t.cG)),f(a,"Emulate paddles:",f(zf,s(Of),t.bY)),f(i,"RNG seed:",f(u,Bf,t.cs)),f(i,"First visible line:",f(u,Nf,t.b0)),f(i,"CPU emulation:",h(el,g,v([M(Wr,"Default"),M(zr(1),"Instruction"),M(zr(0),"Cycle")]),s(If),t.aC)),f(i,"Audio emulation:",h(el,g,v([M(Wr,"Default"),M(zr(1),"PCM"),M(zr(0),"Waveform")]),s(xf),t.az)),f(i,"Phosphor emulation:",h(el,g,v([M(Wr,"Default"),M(zr(!0),"On"),M(zr(!1),"Off")]),s(Df),t.aJ)),f(i,"Volume:",(n=function(){var t=e.di;if(t.$||t.a)return"calc(40 * var(--cw))";t.a;return"calc(100vw - 10 * var(--cw))"}(),d(sl,v([f(ts,"width",n)]),M(0,100),f(ri,ui(s(Ff)),fi(Vn)),function(e){return hn(e)+"%"},t.aT)))])}),ll=function(e){return l(Rs,"alignItems","align-items",e(Ms))},hl=I({bl:0,aD:0,E:"row"},{E:"column"}),dl=us("flex-direction"),pl=us("flex-start"),_l=us("padding-top"),gl=r(function(e,t){return{$:2,a:e,b:t}}),ml=gl(2),bl=r(function(e,t){var r=f(ku,e,g),n=l(hu,r,g,Wr);return v([lc(l(fc,n,g,t))])}),vl=bl("label"),yl=Go("form"),wl=r(function(e,t){var n,i=r(function(e,t){return l(Ic,v([Gc("button"),dc(v([f(ts,"width","calc(10 * var(--cw))")]))]),e,t)});return v([f(yl,v([dc(v([yf(ds(.5)),Dc,Bc(zc),Ss(ps),kf(ds(2)),Lc(wf(0)),Is(ks(10)),Zc(Wc(100)),Nc(Oc)])),kc]),v([f(i,Ec(0),"Back"),f(i,Rf(t.ah),"Delete")])),(n=f(fl,e,t),f(yl,v([kc,Cf("Settings:"),dc(v([Dc,dl(hl),ll(pl),ml(v([vl(v([f(os,"not(:first-of-type)",v([_l(ds(1))]))]))])),Fc(ds(4)),_l(ds(2))]))]),n))])}),kl=function(e){var t=M(e.cQ,f(si,function(t){return f(_o,f(Ja,Nr(t),function(e){return e.ah}),e.aX)},e.cT));if(1!==t.a||t.b.$)return function(e){return f(yr,f(vf,v([Zc(Wc(100)),Ss(ps),kf(ds(2)),Lc(wf(0)),Nc(Oc),Is(ks(10))]),e),f(yr,bc,f(yr,Sf(v([f(Tf,"body",v([yf(ds(5))]))])),Xc(e))))}(e);var r=t.b.a;return f(wl,e,r)},El={r:0,am:0,E:"hidden",aS:0},Al=us("overflow-y"),Sl={aA:0,bN:0,b6:0,am:0,dL:0,E:"scroll"},Tl=us("stretch"),Cl=function(e){var t=f(Yo,v([kc,dc(v([Dc,df(ks(1)),ll(Tl),Al(El)]))]),v([l(Vc,"div",v([dc(v([df(ks(1)),Al(Sl),f(ts,"-webkit-overflow-scrolling","touch")]))]),f(yi,function(t){return M(t.ah,(n=f(Tc,r=t,e.cT),f(Yo,v([Kc(r.ah),dc(v([f(Uc,"odd",v([rs(f(n,11,5))])),f(Uc,"even",v([rs(f(n,11,12))])),f(n,ns(15),ns(0)),f(ts,"padding-left","var(--cw)"),Pc(Hc)])),mc(oo(r.ah))]),v([Xo(" * "+r.dn)]))));var r,n},lo(e)))]));return l(Ac,e,function(e){return f(Yo,v([kc,dc(v([df(ks(1)),Dc,dl(hl),xs(fs),Bc(fs)]))]),v([Xo(e)]))},t)},Rl=n(function(e,t,r){return go(e).$?r:t}),Ml=function(e){var t=f(Yo,v([dc(v([Dc]))]),v([hf(v([Gc("text"),dc(v([df(ks(1)),Qc(1)])),mf("Search cartridges..."),bf(e.cP),Wf(ef)])),f(Os,v([Gc("button"),gf(""===e.cP),mc(tf)]),v([Xo("Clear")]))])),n=r(function(e,t){return f(Os,N(v([Gc("button"),dc(v([f(ts,"width","calc(10 * var(--cw))")]))]),e),t)});return f(yl,v([kc]),v([t,f(Yo,g,v([f(n,v([mc(is)]),v([Xo("Add new")])),f(n,v([gf(l(Rl,e,!1,!0)),mc(f(fi,Vn,f(ui,Rf,e.cT)))]),v([Xo("Delete")])),f(n,g,v([Xo("Run")]))]))]))},xl={$:10},Il={$:11},Ol=function(e){return{$:8,a:e}},Nl=function(e){return{$:9,a:e}},Pl=r(function(e,t){e:for(;;){if(t.a){if("d"===t.b)return f(fi,Vn,f(ui,Rf,go(e)));break e}switch(t.b){case"ArrowUp":return f(fi,Il,f(ui,Nl,e.cT));case"ArrowDown":return f(fi,xl,f(ui,Ol,e.cT));default:break e}}return Vn}),Dl=r(function(e,t){return M(e,t)}),Bl=r(function(e,t){return f(Yo,v([kc,Cf("Settings:"),dc(N(v([Dc]),N(l(Rl,e,v([ll(Tl)]),v([ll(fs),Bc(fs)])),t)))]),v([f(fi,Xo("no cartridge selected"),f(ui,f(Ja,function(e){return f(yl,v([dc(v([Dc,dl(hl),ll(pl),_l(ds(1)),Al(Sl),f(ts,"-webkit-overflow-scrolling","touch"),df(ks(1)),ml(v([vl(v([f(os,"not(:first-of-type)",v([_l(ds(1))]))]))]))]))]),e)},fl(e)),f(si,function(t){return f(_o,function(e){return E(t,e.ah)},lo(e))},e.cT)))]))}),Ll=us("border-style"),$l=function(e){return e?"-":"+"},Fl=r(function(e,t){return e+"("+f(dn,", ",t)+")"}),jl=n(function(e,t,r){var n=function(e){return f(Bi,"calc(",e.E)?f(Di,4,e.E):e.E},i=f(dn," ",v([n(e),$l(t),n(r)]));return{bQ:0,ae:0,n:0,aF:0,aj:0,K:0,ak:0,al:0,R:0,S:0,C:0,as:0,E:f(Fl,"calc",v([i]))}}),Ul=us("flex-basis"),Hl=us("height"),zl={_:0,bN:0,r:0,a:0,g:0,db:0,b6:0,bp:0,al:0,R:0,C:0,c:0,b:0,bt:0,a4:0,dD:0,z:0,a7:0,dK:0,ar:0,X:0,w:0,e:0,dX:0,E:"none"},Wl=us("outline-style"),Zl=f(hs,0,"vh"),Kl=r(function(e,t){return 1===t?function(e){return v([f(Yo,v([dc(v([Hl(l(jl,Zl(100),1,ds(2))),Dc,ll(Tl),_l(ds(1)),Nc(Oc),ws(Ll(zl)),ws(Wl(zl))])),ol(0),(t=Pl(e),f(rf,"keydown",f(jn,function(e){return 23===e.$?M(e,!1):M(e,!0)},f(jn,t,l(wn,Dl,f(In,"ctrlKey",$n),f(In,"key",Pn))))))]),v([f(Yo,v([dc(v([Nc(Oc),df(ks(1)),Ul(wf(0)),Dc,dl(hl)]))]),v([Ml(e),Cl(e)])),f(Bl,e,v([Nc(Oc),df(ks(1)),Ul(wf(0))]))]))]);var t}(e):kl(e)}),Gl=i(function(e,t,r,n){return{dd:t,dh:e,dy:r,dQ:n}}),Yl=f(ir,{bS:!1,cb:!1},"(\\[.*?\\])\\((?!/|https?://)(.*?)\\)"),ql=ar(1/0),Vl=r(function(e,t){var r=function(t){var r=t.dQ;if(!r.b||r.a.$||!r.b.b||r.b.a.$||r.b.b.b)return"";var n=r.a.a,i=r.b.a.a;return n+"("+e+i+")"},n=f(ui,function(e){return l(ql,e,r,t)},Yl);return f(fi,t,n)}),Xl=or({bW:Wr,b1:zr({cO:!1,dS:!1}),cu:!0,cw:!1}),Jl=gl(3),Ql=Af,eh=function(e){var t=e.c9;if(t.$)return Xo("loading...");var r=t.a;return f(Yo,v([wc("helppage"),dc(v([f(ts,"padding","0 var(--cw)"),_l(ds(1)),Jl(v([f(Tf,"img",v([f(ts,"max-width","calc(100vw - 2 * var(--cw))")]))]))]))]),v([Ql(f(Xl,g,f(Vl,"doc/",r)))]))},th=function(e){return f(ts,"background-color",e.E)},rh=i(function(e,t,r,n){return{ay:n,aB:r,B:0,aE:t,aL:e,E:f(Fl,"rgba",N(f(yi,hn,v([e,t,r])),v([ls(n)])))}}),nh=function(e){var t=e?g:v([Cc(zl)]);return f(Yo,v([dc(N(t,v([Ss(ps),kf(wf(0)),Lc(wf(0)),Zc(Wc(100)),Hl(Zl(100)),Is(ks(100)),th(h(rh,0,0,0,.5))])))]),g)},ih={$:22},ah={$:21},oh=i(function(e,t,r,n){return e?f(Os,f(yr,mc(r),t),v([Xo(n)])):l(Ic,t,r,n)}),sh=r(function(e,t){return f(Yo,v([kc,dc(v([Zc(Wc(100)),f(ts,"max-width","calc(80*var(--cw))")]))]),v([f(Yo,g,v([Xo(e)])),f(Yo,v([dc(v([Dc,Bc(zc),_l(ds(2))]))]),v([h(oh,t,v([dc(v([f(ts,"width","calc(8*var(--cw))")]))]),ah,"Cancel"),h(oh,t,v([dc(v([f(ts,"width","calc(8*var(--cw))")]))]),ih,"OK")]))]))}),uh=f(Ja,us("transform"),function(e){return Hs(e)?{E:"none"}:{E:f(dn," ",f(yi,function(e){return e.E},e))}}),ch=function(e){return uh(v([e]))},fh=function(e){var t=e.E;return{e:0,E:f(Fl,"translateY",v([t]))}},lh=r(function(e,t){return{aU:e,aY:Wr,bX:t,be:Wr}})(89),hh=function(e){switch(e){case 0:return"background";case 1:return"background-color";case 2:return"background-position";case 3:return"background-size";case 4:return"border";case 5:return"border-bottom";case 6:return"border-bottom-color";case 7:return"border-bottom-left-radius";case 8:return"border-bottom-right-radius";case 9:return"border-bottom-width";case 10:return"border-color";case 11:return"border-left";case 12:return"border-left-color";case 13:return"border-left-width";case 14:return"border-radius";case 15:return"border-right";case 16:return"border-right-color";case 17:return"border-right-width";case 18:return"border-top";case 19:return"border-top-color";case 20:return"border-top-left-radius";case 21:return"border-top-right-radius";case 22:return"border-top-width";case 23:return"border-width";case 24:return"bottom";case 25:return"box-shadow";case 26:return"caret-color";case 27:return"clip";case 28:return"clip-path";case 29:return"color";case 30:return"column-count";case 31:return"column-gap";case 32:return"column-rule";case 33:return"column-rule-color";case 34:return"column-rule-width";case 35:return"column-width";case 36:return"columns";case 37:return"filter";case 38:return"flex";case 39:return"flex-basis";case 40:return"flex-grow";case 41:return"flex-shrink";case 42:return"font";case 43:return"font-size";case 44:return"font-size-adjust";case 45:return"font-stretch";case 46:return"font-variation-settings";case 47:return"font-weight";case 48:return"grid-column-gap";case 49:return"grid-gap";case 50:return"grid-row-gap";case 51:return"height";case 52:return"left";case 53:return"letter-spacing";case 54:return"line-height";case 55:return"margin";case 56:return"margin-bottom";case 57:return"margin-left";case 58:return"margin-right";case 59:return"margin-top";case 60:return"mask";case 61:return"mask-position";case 62:return"mask-size";case 63:return"max-height";case 64:return"max-width";case 65:return"min-height";case 66:return"min-width";case 67:return"object-position";case 68:return"offset";case 69:return"offset-anchor";case 70:return"offset-distance";case 71:return"offset-path";case 72:return"offset-rotate";case 73:return"opacity";case 74:return"order";case 75:return"outline";case 76:return"outline-color";case 77:return"outline-offset";case 78:return"outline-width";case 79:return"padding";case 80:return"padding-bottom";case 81:return"padding-left";case 82:return"padding-right";case 83:return"padding-top";case 84:return"right";case 85:return"tab-size";case 86:return"text-indent";case 87:return"text-shadow";case 88:return"top";case 89:return"transform";case 90:return"transform-origin";case 91:return"vertical-align";case 92:return"visibility";case 93:return"width";case 94:return"word-spacing";default:return"z-index"}},dh=function(e){return ls(e)+"ms"},ph=function(e){switch(e.$){case 0:return"ease";case 1:return"linear";case 2:return"ease-in";case 3:return"ease-out";case 4:return"ease-in-out";case 5:return"step-start";case 6:return"step-end";default:var t=e.a,r=e.b,n=e.c,i=e.d;return"cubic-bezier("+ls(t)+" , "+ls(r)+" , "+ls(n)+" , "+ls(i)+")"}},_h=function(e){var t=l(Pi,0,-1,l(xr,r(function(e,t){var r=e.aU,n=e.bX,i=e.aY,a=e.be;return t+(f(dn," ",v([hh(r),dh(n),f(fi,"",f(ui,dh,i)),f(fi,"",f(ui,ph,a))]))+",")}),"",e));return f(ts,"transition",t)},gh=r(function(e,t){var r=e.a,n=e.b,i=f(fi,!1,f(ui,function(e){return!0},n));return v([nh(i),f(Yo,v([dc(v([Ss(ps),kf(wf(0)),Lc(wf(0)),Zc(Wc(100)),Is(ks(150)),Dc,Bc(fs),_h(v([lh(300)])),ch(fh(Vf(i?0:-100)))]))]),v([f(sh,r,t)]))])}),mh=a(function(e,t,r,n,i){return{cW:r,bo:t,cf:e,a6:n,bc:i}}),bh=function(e){return f(dn,"",e)},vh=r(function(e,t){return e<1?t:l(Pi,0,-e,t)}),yh=r(function(e,t){return e<1?"":l(Pi,-e,Ni(t),t)}),wh=r(function(e,t){for(;;){if(e<=0)return t;if(!t.b)return t;t.a;e=e-1,t=t.b}}),kh=K,Eh=function(e){return e<0?-e:e},Ah=function(e){return e===1/0||e===-1/0},Sh=z,Th=function(e){return f(Ws,e,"")},Ch=n(function(e,t,r){return e<=0?r:l(Ch,e>>1,N(t,t),1&e?N(r,t):r)}),Rh=r(function(e,t){return l(Ch,e,t,"")}),Mh=n(function(e,t,r){return N(r,f(Rh,e-Ni(r),Th(t)))}),xh=function(e){for(var t=e.length,r=new Array(t),n=0;n<t;){var i=e.charCodeAt(n);55296<=i&&i<=56319?(r[t-n]=e[n+1],r[t-++n]=e[n-1],n++):(r[t-n]=e[n],n++)}return r.join("")},Ih=Y,Oh=r(function(e,t){var r=f(uo,function(e){return"0"!==e&&"."!==e},function(e){return l(Ih,yr,g,e)}(t));return N(e&&r?"-":"",t)}),Nh=function(e){return x(e<0||1114111<e?"�":e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(Math.floor(e/1024)+55296,e%1024+56320)))},Ph=function(e){var t=e.a,r=e.b;if("9"===t){var n=pn(r);if(1===n.$)return"01";var i=n.a;return f(Ws,"0",Ph(i))}var a=Qr(t);return a>=48&&a<57?f(Ws,Nh(a+1),r):"0"},Dh=function(e){var t=f(_n,".",e);return t.b?t.b.b?M(t.a,t.b.a):M(t.a,"0"):M("0","0")},Bh=r(function(e,t){var r=t.a,n=t.b;return M(e(r),n)}),Lh=n(function(e,t,r){if(Ah(r)||Sh(r))return ls(r);var n=r<0,i=Dh(function(e){var t=f(_n,"e",ls(Eh(e)));if(t.b){if(t.b.b){var r=t.a,n=t.b.a,i=f(fi,0,Ui(f(Bi,"+",n)?f(Di,1,n):n)),a=Dh(r),o=N(a.a,a.b),s=i<0?f(fi,"0",f(ui,function(e){return e.a+"."+e.b},f(ui,Bh(Th),pn(N(f(Rh,Eh(i),"0"),o))))):l(Mh,i+1,"0",o);return N(e<0?"-":"",s)}return N(e<0?"-":"",r=t.a)}return""}(Eh(r))),a=i.a,o=i.b,s=Ni(a)+t,u=N(f(Rh,1-s,"0"),l(Mh,s,"0",N(a,o))),c=Ni(u),h=f(Lr,1,s),d=f(e,n,l(Pi,h,c,u)),p=l(Pi,0,h,u),_=d?xh(f(fi,"1",f(ui,Ph,pn(xh(p))))):p,g=Ni(_),m="0"===_?_:t<=0?N(_,f(Rh,Eh(t),"0")):T(t,Ni(o))<0?l(Pi,0,g-t,_)+"."+l(Pi,g-t,g,_):N(a+".",l(Mh,t,"0",o));return f(Oh,n,m)})(r(function(e,t){var r=pn(t);if(1===r.$)return!1;if("5"===r.a.a)return""!==r.a.b||!e;var n=r.a.a;return function(t){return t>53&&e||t>=53&&!e}(Qr(n))})),$h=r(function(e,t){var r,n=f(_n,".",f(Lh,e.cW,t)),i=function(e){var t=function(e){return Ni(e)>3?f(yr,f(yh,3,e),t(f(vh,3,e))):v([e])};return Ir(t(e))}(f(kh,nn,f(fi,"0",oi(n)))),a=oi(f(wh,1,n)),o=d(mh,t,i,a,"","");switch(f(ln,function(e){return"0"===e},bh(f(Ks,(r=o).bo,zs(f(fi,"",r.cW)))))?1:r.cf<0?2:0){case 2:return I(o,{a6:e.dp,bc:e.dq});case 0:return I(o,{a6:e.dE,bc:e.dF});default:return o}}),Fh=r(function(e,t){var r=f(dn,e.dU,t.bo),n=function(){var r=t.cW;if(r.$)return"";var n=r.a;return N(e.cV,n)}();return bh(v([t.a6,r,n,t.bc]))}),jh=r(function(e,t){return f(Fh,e,f($h,e,t))}),Uh=_(s(function(e,t,r,n,i,a,o){return{cV:r,cW:e,dp:n,dq:i,dE:a,dF:o,dU:t}}),2,",",".","−","","",""),Hh=function(e){var t=e.c0;switch(t.$){case 0:return"stopped";case 1:return"paused";default:if(1===t.a.$){t.a;return"running"}var r=t.a.a;return"running: "+f(jh,I(Uh,{cW:2}),r)+" MHz"}},zh={$:4},Wh={aK:0,E:"absolute"},Zh=r(function(e,t){return{cL:0,A:0,E:N(ls(t),e)}})("deg"),Kh=us("overflow"),Gh=function(e){var t,r,n,i=e.dN?v([ch((t=Zh(-90),r=t.E,{e:0,E:f(Fl,"rotate",v([r]))}))]):g;return f(Yo,v([dc(v([Ss(Wh),kf(wf(0)),Lc(wf(0)),rs(11),Hl(ds(2)),(n=4,f(ts,"width",Jc(n))),Kh(El)])),mc(zh)]),v([f(Yo,v([dc(N(v([ns(15),_h(v([lh(300)]))]),i))]),v([Xo("░░░░"),f(ul,g,g),Xo("░░░░")]))]))},Yh=I({bI:0,l:0,aA:0,bK:0,_:0,bL:0,aa:0,G:0,r:0,aV:0,B:0,a:0,g:0,ae:0,bl:0,aD:0,a_:0,P:0,n:0,af:0,d:0,J:0,a$:0,b7:0,bp:0,aF:0,aj:0,K:0,ak:0,al:0,R:0,S:0,C:0,a0:0,c:0,b:0,bt:0,dy:0,M:0,a4:0,am:0,z:0,bd:0,ar:0,W:0,as:0,at:0,X:0,w:0,au:"",aR:0,E:"initial",aS:0,O:0},{E:"inherit"}),qh=us("text-decoration"),Vh=Go("a"),Xh=i(function(e,t,r,n){var i,a=E(t.cU,r)?ns(15):ns(0),o=E(t.cU,r)?rs(11):th(Yh);return f(Vh,v([(i=hi(r),f(yc,"href",i)),dc(N(v([f(ts,"padding","0 var(--cw)"),ws(a),ws(o),ws(qh(zl)),Cc(Rc)]),e))]),v([Xo(n)]))}),Jh=function(e){var t,r,n=v([_l(ds(1)),yf(ds(1)),xs(fs)]),i=e.dN?g:v([ch((t=Vf(-100),r=t.E,{e:0,E:f(Fl,"translateX",v([r]))}))]);return f(Yo,v([kc,dc(N(v([Ss(ps),Lc(wf(0)),kf(ds(2)),Zc(Wc(70)),rs(12),ns(0),_h(v([lh(300)])),Dc,dl(hl)]),i))]),v([h(Xh,n,e,0,"Cartridges"),h(Xh,n,e,1,"Settings"),h(Xh,n,e,2,"Emulation"),h(Xh,n,e,3,"Help")]))},Qh=Go("nav"),ed=r(function(e,t){return 1===t?function(e){return v([f(Yo,v([dc(v([Zc(Wc(100)),Hl(ds(2)),Ss(ps),kf(wf(0)),Lc(wf(0)),Is(ks(10)),ns(12),rs(0)]))]),v([f(Yo,v([dc(v([xs(fs)]))]),v([Xo("----====≡≡≡≡ 6502.ts / Stellerator ≡≡≡≡====----")])),f(Qh,v([dc(v([rs(12),ns(0)]))]),v([h(Xh,g,e,0,"Cartridges"),h(Xh,g,e,1,"Settings"),h(Xh,g,e,2,"Emulation"),h(Xh,g,e,3,"Help"),f(Mc,v([dc(v([(t=Ts,l(Rs,"float","float",t(Ms))),f(ts,"margin-right","var(--cw)")]))]),v([Xo(Hh(e))]))]))])),Sf(v([f(Tf,"body",v([_l(ds(2))]))]))]);var t}(e):function(e){return v([f(Yo,v([dc(v([Zc(Wc(100)),Hl(ds(2)),Ss(ps),kf(wf(0)),Lc(wf(0)),Is(ks(20)),ns(12),rs(0)]))]),v([f(Yo,v([dc(v([xs(fs),f(ts,"padding-left","calc(4 * var(--cw))")]))]),v([Xo("--==≡≡ Stellerator ≡≡==--")])),f(Yo,v([dc(v([rs(12),ns(0),xs(Ts)]))]),v([Xo(Hh(e))])),Gh(e),Jh(e)])),Sf(v([f(Tf,"body",v([_l(ds(2))]))]))])}(e)}),td=function(e){return{$:19,a:e}},rd=function(e){return{$:2,a:e}},nd=function(e){return{$:0,a:e}},id=function(e){return{$:5,a:e}},ad=function(e){return{$:8,a:e}},od=function(e){return{$:4,a:e}},sd={$:12},ud=function(e){return{$:3,a:e}},cd=function(e){return{$:7,a:e}},fd=function(e){return{$:10,a:e}},ld=function(e){return{$:11,a:e}},hd=function(e){return{$:6,a:e}},dd=function(e){return{$:9,a:e}},pd=function(e){return{$:1,a:e}},_d={$:14},gd=r(function(e,t){return{$:20,a:e,b:t}}),md=U,bd=Go("h1"),vd=Go("p"),yd=n(function(e,t,i){var a,o=r(function(e,t){return f(pf,v([cl("nothing"),dc(v([Cc(tl)]))]),v([f(Mc,v([dc(v([Cc(Rc),f(ts,"width","calc(20 * var(--cw))")]))]),v([Xo(e)])),t]))}),s=n(function(e,t,r){return f(pf,v([dc(v([Pc(Hc),Cc(tl)]))]),v([f(Mc,v([dc(v([Cc(Rc),f(ts,"width","calc(20 * var(--cw))")]))]),v([Xo(e)])),f(zf,t,r)]))}),u=function(e){return f(bd,v([dc(v([ns(5)]))]),v([Xo(e)]))};return v([u("General"),f(vd,g,v([f(o,"CPU emulation:",h(el,g,v([M(1,"Instruction"),M(0,"Cycle")]),f(Ja,td,nd),e.aC))])),u("Audio"),f(vd,g,v([f(o,"Audio emulation:",h(el,g,v([M(1,"PCM"),M(0,"Waveform")]),f(Ja,td,rd),e.az)),f(o,"Volume:",d(sl,v([f(ts,"width","calc(40*var(--cw))"),f(ts,"max-width","calc(100vw - 4*var(--cw))")]),M(0,100),f(ri,ui(f(Ja,td,pd)),fi(Vn)),function(e){return hn(e)+"%"},e.aT))])),u("Display"),f(vd,g,v([l(s,"Smooth scaling:",f(Ja,td,ud),e.bx),l(s,"Phosphor emulation:",f(Ja,td,od),e.aJ),l(s,"Sync video:",f(Ja,td,hd),e.bE),f(o,"Gamma correction:",d(sl,v([f(ts,"width","calc(40*var(--cw))"),f(ts,"max-width","calc(100vw - 4*var(--cw))")]),M(0,50),f(ri,ui(f(Ja,f(Ja,f(Ja,td,id),function(e){return e/10}),Sr)),fi(Vn)),function(e){return ls(e/10)},md(10*e.bm)))])),u("Controls"),f(vd,g,v([f(o,"Touch controls:",h(el,g,v([M(Wr,"Auto"),M(zr(!0),"On"),M(zr(!1),"Off")]),f(Ja,td,cd),e.bC)),l(s,"Left handed mode:",f(Ja,td,ad),e.bq),f(o,"Touch joystick sensitivity:",d(sl,v([f(ts,"width","calc(40*var(--cw))"),f(ts,"max-width","calc(100vw - 4*var(--cw))")]),M(0,100),f(ri,ui(f(Ja,td,dd)),fi(Vn)),hn,e.bF))])),u("Ui"),f(vd,g,v([f(o,"Display mode:",h(el,g,v([M(Wr,"Auto"),M(zr(1),"Wide"),M(zr(0),"Narrow")]),f(Ja,td,fd),e.bf)),f(o,"Scale:",l(Xf,f(yi,f(Ja,function(e){return M(e,e+"%")},hn),jo),f(ri,Ui,f(ri,ui(f(Ja,td,ld)),fi(Vn))),hn(e.bD)))])),u("Reset"),f(vd,g,(a=f(ts,"width","calc(25*var(--cw))"),v([h(oh,t,v([dc(v([a]))]),td(sd),"Reset to defaults"),h(oh,t,v([dc(v([a])),gf(!i)]),f(gd,"Do you really want to delete all cartridges?",_d),"Delete all cartridges")])))])}),wd=r(function(e,t){return v([f(Yo,v([dc(v([f(ts,"padding","1rem var(--cw) 1rem var(--cw)"),Zc(Wc(100)),Nc(Oc),Jl(v([vl(v([f(os,"not(:first-of-type)",v([_l(ds(1))]))]))]))]))]),l(yd,e.bb,t,on(e.aX)>0))])}),kd=us("font-size"),Ed=us("line-height"),Ad=bl("body"),Sd=function(e){var t,r=function(e){var t=e.bb.bf;if(t.$)return e.di;var r=t.a;return zr(r)}(e),n=f(fi,g,f(ui,ed(e),r)),i=(t=wf(e.bb.bD/100*18),Sf(v([Ad(v([kd(t),Ed(t)]))]))),a=function(){var t=M(e.cU,r);if(t.b.$)return g;switch(t.a){case 0:var n=t.b.a;return f(Kl,e,n);case 1:n=t.b.a;return f(wd,e,n);case 2:return Jo;default:return function(e){return v([eh(e)])}(e)}}();return f(yr,i,N(n,N(f(fi,g,f(ui,gh(e.dk),r)),a)))},Td=function(e){return lt(gt(e))},Cd=r(function(e,t){return f(ft,e,gt(t))}),Rd=function(e){return ut(gt(e))},Md=r(function(e,t){var r=e.b,n=e.c;return Hs(r)?t:l(aa,n,r,t)}),xd=function(e){return e.a},Id=r(function(e,t){var r=e.a,n=e.b,i=t.a,a=t.b;switch(n.$){case 4:var o=n.a;return M(f(yr,M(r,o),i),a);case 0:var s=n.a,u=n.b,c=n.c,d=l(xr,Md,a,u),p=l(xr,Od,M(g,d),c),_=p.a,m=p.b;o=l(Ef,s,f(yi,xd,u),Ir(_));return M(f(yr,M(r,o),i),m);case 1:var b=n.a,v=(s=n.b,u=n.c,c=n.d,d=l(xr,Md,a,u),l(xr,Od,M(g,d),c));_=v.a,m=v.b,o=h(Rd,b,s,f(yi,xd,u),Ir(_));return M(f(yr,M(r,o),i),m);case 2:s=n.a,u=n.b,c=n.c,d=l(xr,Md,a,u);var y=l(xr,Id,M(g,d),c);_=y.a,m=y.b,o=l(Td,s,f(yi,xd,u),Ir(_));return M(f(yr,M(r,o),i),m);default:b=n.a,s=n.b,u=n.c,c=n.d,d=l(xr,Md,a,u);var w=l(xr,Id,M(g,d),c);_=w.a,m=w.b,o=h(Cd,b,s,f(yi,xd,u),Ir(_));return M(f(yr,M(r,o),i),m)}}),Od=r(function(e,t){var r=t.a,n=t.b;switch(e.$){case 4:var i=e.a;return M(f(yr,i,r),n);case 0:var a=e.a,o=e.b,s=e.c,u=l(xr,Md,n,o),c=l(xr,Od,M(g,u),s),d=c.a,p=c.b;i=l(Ef,a,f(yi,xd,o),Ir(d));return M(f(yr,i,r),p);case 1:var _=e.a,m=(a=e.b,o=e.c,s=e.d,u=l(xr,Md,n,o),l(xr,Od,M(g,u),s));d=m.a,p=m.b,i=h(Rd,_,a,f(yi,xd,o),Ir(d));return M(f(yr,i,r),p);case 2:a=e.a,o=e.b,s=e.c,u=l(xr,Md,n,o);var b=l(xr,Id,M(g,u),s);d=b.a,p=b.b,i=l(Td,a,f(yi,xd,o),Ir(d));return M(f(yr,i,r),p);default:_=e.a,a=e.b,o=e.c,s=e.d,u=l(xr,Md,n,o);var v=l(xr,Id,M(g,u),s);d=v.a,p=v.b,i=h(Cd,_,a,f(yi,xd,o),Ir(d));return M(f(yr,i,r),p)}}),Nd=r(function(e,t){return d(ra,1,e,t,Ji,Ji)}),Pd=r(function(e,t){for(;;){if(!t.b)return e;var r=t.a,n=r.b,i=r.c,a=t.b;if($i(i))e=e,t=a;else e=zr(M(i,n)),t=a}}),Dd=function(e){var t=f(Pd,Wr,e);if(1===t.$)return Qi;var r=t.a,n=r.a,i=r.b;return f(Nd,n,i)},Bd=function(e){var t,r=e.a,n=e.b;return f(hc,n,Eu(v([(t=r,{$:0,a:t})])))},Ld=function(e){return l(Ef,"style",g,zs(qo(cc(zs(Zs(f(yi,Bd,wr(e))))))))},$d=n(function(e,t,r){var n=f(yi,xd,t),i=Dd(t),a=l(xr,Od,M(g,i),r),o=a.a,s=a.b,u=Ld(s);return l(Ef,e,n,f(yr,u,Ir(o)))}),Fd=r(function(e,t){for(;;){if(!t.b)return!1;var r=t.a.a,n=t.b;if(E(e,r))return!0;e=e,t=n}}),jd=r(function(e,t){e:for(;;){if(t.b){var r=t.a.a,n=t.b,i="_"+r;if(f(Fd,i,n)){e=i,t=n;continue e}return i}return e}}),Ud=r(function(e,t){return M(f(jd,"_",t),Ld(e))}),Hd=n(function(e,t,r){var n=f(yi,xd,t),i=Dd(t),a=l(xr,Id,M(g,i),r),o=a.a,s=a.b,u=f(Ud,s,o);return l(Td,e,n,f(yr,u,Ir(o)))}),zd=i(function(e,t,r,n){var i=f(yi,xd,r),a=Dd(r),o=l(xr,Id,M(g,a),n),s=o.a,u=o.b,c=f(Ud,u,s);return h(Cd,e,t,i,f(yr,c,Ir(s)))}),Wd=i(function(e,t,r,n){var i=f(yi,xd,r),a=Dd(r),o=l(xr,Od,M(g,a),n),s=o.a,u=o.b,c=Ld(u);return h(Rd,e,t,i,f(yr,c,Ir(s)))}),Zd=function(e){switch(e.$){case 4:return e.a;case 0:var t=e.a,r=e.b,n=e.c;return l($d,t,r,n);case 1:var i=e.a;return t=e.b,r=e.c,n=e.d,h(Wd,i,t,r,n);case 2:return t=e.a,r=e.b,n=e.c,l(Hd,t,r,n);default:return i=e.a,t=e.b,r=e.c,n=e.d,h(zd,i,t,r,n)}};!function(t){e.Elm?function e(t,r){for(var n in r)n in t?"init"==n?L(6):e(t[n],r[n]):t[n]=r[n]}(e.Elm,t):e.Elm=t}({Stellerator:{Main:{init:function(e){var t=e.dz,n=e.dA,i=function(){i.a(t(qt()))};return Kt({aM:function(e){return i.a=e,Jt.addEventListener("popstate",i),Jt.navigator.userAgent.indexOf("Trident")<0||Jt.addEventListener("hashchange",i),r(function(t,r){if(!r.ctrlKey&&!r.metaKey&&!r.shiftKey&&r.button<1&&!t.target&&!t.hasAttribute("download")){r.preventDefault();var i=t.href,a=qt(),o=Gi(i).a;e(n(o&&a.cl===o.cl&&a.b3===o.b3&&a.ci.a===o.ci.a?pi(o):di(i)))}})},de:function(t){return l(e.de,t,qt(),i)},dZ:e.dZ,dW:e.dW,dR:e.dR})}({de:Ka,dz:to,dA:function(e){if(e.$)return Vn;var t=e.a;return eo(function(e){var t=e.cl?"https://":"http://";return l(no,"#",e.c8,l(no,"?",e.cm,N(f(ro,e.ci,N(t,e.b3)),e.cg)))}(t))},dR:function(e){return Qa(v([Va(f(ri,oi,f(ri,ui(function(e){return Ya(e?0:1)}),fi(Vn)))),(t=Ga,Xa(f(Ja,t,function(e){var t=f(An,Gn(Hn),e);return t.$?g:t.a})))]));var t},dW:Wo,dZ:function(e){return{cN:f(yi,Zd,Sd(e)),dV:"Stellerator"}}})(Mn)(0)}}})}(this)}).call(output);var Elm=output.Elm;const defaults={addCSS:!0,thumbWidth:15,watch:!0};function matches(e,t){return function(){return Array.from(document.querySelectorAll(t)).includes(this)}.call(e,t)}function trigger(e,t){if(!e||!t)return;const r=new Event(t);e.dispatchEvent(r)}const getConstructor=e=>null!=e?e.constructor:null,instanceOf=(e,t)=>Boolean(e&&t&&e instanceof t),isNullOrUndefined=e=>null==e,isObject=e=>getConstructor(e)===Object,isNumber=e=>getConstructor(e)===Number&&!Number.isNaN(e),isString=e=>getConstructor(e)===String,isBoolean=e=>getConstructor(e)===Boolean,isFunction=e=>getConstructor(e)===Function,isArray=e=>Array.isArray(e),isNodeList=e=>instanceOf(e,NodeList),isElement=e=>instanceOf(e,Element),isEvent=e=>instanceOf(e,Event),isEmpty=e=>isNullOrUndefined(e)||(isString(e)||isArray(e)||isNodeList(e))&&!e.length||isObject(e)&&!Object.keys(e).length;var is={nullOrUndefined:isNullOrUndefined,object:isObject,number:isNumber,string:isString,boolean:isBoolean,function:isFunction,array:isArray,nodeList:isNodeList,element:isElement,event:isEvent,empty:isEmpty};function getDecimalPlaces(e){const t=`${e}`.match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return t?Math.max(0,(t[1]?t[1].length:0)-(t[2]?+t[2]:0)):0}function round(e,t){if(t<1){const r=getDecimalPlaces(t);return parseFloat(e.toFixed(r))}return Math.round(e/t)*t}class RangeTouch{constructor(e,t){is.element(e)?this.element=e:is.string(e)&&(this.element=document.querySelector(e)),is.element(this.element)&&is.empty(this.element.rangeTouch)&&(this.config=Object.assign({},defaults,t),this.init())}static get enabled(){return"ontouchstart"in document.documentElement}static setup(e,t={}){let r=null;if(is.empty(e)||is.string(e)?r=Array.from(document.querySelectorAll(is.string(e)?e:'input[type="range"]')):is.element(e)?r=[e]:is.nodeList(e)?r=Array.from(e):is.array(e)&&(r=e.filter(is.element)),is.empty(r))return null;const n=Object.assign({},defaults,t);if(is.string(e)&&n.watch){new MutationObserver(t=>{Array.from(t).forEach(t=>{Array.from(t.addedNodes).forEach(t=>{if(!is.element(t)||!matches(t,e))return;new RangeTouch(t,n)})})}).observe(document.body,{childList:!0,subtree:!0})}return r.map(e=>new RangeTouch(e,t))}init(){RangeTouch.enabled&&(this.config.addCSS&&(this.element.style.userSelect="none",this.element.style.webKitUserSelect="none",this.element.style.touchAction="manipulation"),this.listeners(!0),this.element.rangeTouch=this)}destroy(){RangeTouch.enabled&&(this.listeners(!1),this.element.rangeTouch=null)}listeners(e){const t=e?"addEventListener":"removeEventListener";["touchstart","touchmove","touchend"].forEach(e=>{this.element[t](e,e=>this.set(e),!1)})}get(e){if(!RangeTouch.enabled||!is.event(e))return null;const t=e.target,r=e.changedTouches[0],n=parseFloat(t.getAttribute("min"))||0,i=parseFloat(t.getAttribute("max"))||100,a=parseFloat(t.getAttribute("step"))||1,o=i-n;let s;const u=t.getBoundingClientRect(),c=100/u.width*(this.config.thumbWidth/2)/100;return(s=100/u.width*(r.clientX-u.left))<0?s=0:s>100&&(s=100),s<50?s-=(100-2*s)*c:s>50&&(s+=2*(s-50)*c),n+round(o*(s/100),a)}set(e){RangeTouch.enabled&&is.event(e)&&!e.target.disabled&&(e.preventDefault(),e.target.value=this.get(e),trigger(e.target,"touchend"===e.type?"change":"input"))}}var instances=new WeakMap;function registerOne(e){instances.has(e)||instances.set(e,new RangeTouch(e,{watch:!1,addCSS:!1,thumbWidth:8}))}function registerRecursive(e){e.matches&&e.matches("input[type=range]")&&registerOne(e),e.querySelectorAll&&e.querySelectorAll("input[type=range]").forEach(registerOne)}var observer=null,CartridgeInfo;function initialize(){observer||(registerRecursive(document.body),(observer=new MutationObserver(function(e){return e.forEach(function(e){return e.addedNodes.forEach(registerRecursive)})})).observe(document.body,{attributes:!1,characterData:!1,childList:!0,subtree:!0}))}!function(e){var t;!function(e){e.vanilla_2k="vanilla_2k",e.vanilla_4k="vanilla_4k",e.bankswitch_2k_cv="bankswitch_2k_cv",e.bankswitch_8k_F8="bankswitch_8k_F8",e.bankswitch_8k_E0="bankswitch_8k_E0",e.bankswitch_8k_3F="bankswitch_8k_3F",e.bankswitch_8k_FE="bankswitch_8k_FE",e.bankswitch_8k_UA="bankswitch_8k_UA",e.bankswitch_8k_DPC="bankswitch_8k_DPC",e.bankswitch_8k_econobanking="bankswitch_8k_econobanking",e.bankswitch_12k_FA="bankswitch_12k_FA",e.bankswitch_16k_F6="bankswitch_16k_F6",e.bankswitch_16k_E7="bankswitch_16k_E7",e.bankswitch_FA2="bankswitch_FA2",e.bankswitch_32k_F4="bankswitch_32k_F4",e.bankswitch_64k_F0="bankswitch_64k_F0",e.bankswitch_64k_EF="bankswitch_64k_EF",e.bankswitch_3E="bankswitch_3E",e.bankswitch_supercharger="bankswitch_supercharger",e.bankswitch_dpc_plus="bankswitch_dpc_plus",e.bankswitch_cdf="bankswitch_cdf",e.unknown="unknown"}(t=e.CartridgeType||(e.CartridgeType={})),e.getAllTypes=function(){return[t.vanilla_2k,t.vanilla_4k,t.bankswitch_2k_cv,t.bankswitch_8k_F8,t.bankswitch_8k_E0,t.bankswitch_8k_3F,t.bankswitch_8k_FE,t.bankswitch_8k_UA,t.bankswitch_8k_econobanking,t.bankswitch_12k_FA,t.bankswitch_8k_DPC,t.bankswitch_16k_F6,t.bankswitch_16k_E7,t.bankswitch_FA2,t.bankswitch_32k_F4,t.bankswitch_3E,t.bankswitch_64k_F0,t.bankswitch_64k_EF,t.bankswitch_supercharger,t.bankswitch_dpc_plus,t.bankswitch_cdf,t.unknown]},e.describeCartridgeType=function(e){switch(e){case t.vanilla_2k:return"plain 2k";case t.vanilla_4k:return"plain 4k";case t.bankswitch_2k_cv:return"2k CommaVideo scheme";case t.bankswitch_8k_F8:return"bankswitched 8k, F8 (Atari) scheme";case t.bankswitch_8k_E0:return"bankswitched 8k, E0 (Parker Bros.) scheme";case t.bankswitch_8k_3F:return"bankswitched 8k, 3F (Tigervision) scheme";case t.bankswitch_8k_FE:return"bankswitched 8k, FE (Activision) scheme";case t.bankswitch_8k_UA:return"bankswitched 8k, UA (Pleiades) scheme";case t.bankswitch_12k_FA:return"bankswitched 12k, FA (CBS) scheme";case t.bankswitch_8k_DPC:return"bankswitched 8k + DPC";case t.bankswitch_8k_econobanking:return"bankswitched 8k, econobanking scheme";case t.bankswitch_16k_F6:return"bankswitched 16k, F6 (Atari) scheme";case t.bankswitch_16k_E7:return"bankswitched 16k, E7 (M-Network) scheme";case t.bankswitch_FA2:return"bankswitched 28k/29k, FA2 (modified CBS) scheme";case t.bankswitch_32k_F4:return"bankswitched 32k, F4 (Atari) scheme";case t.bankswitch_3E:return"bankswitched 3E (Tigervision + RAM) scheme";case t.bankswitch_64k_F0:return"bankswitched 64k, F0 (Megaboy) scheme";case t.bankswitch_64k_EF:return"bankswitched 64k, EFSC (Homestar Runner) scheme";case t.bankswitch_supercharger:return"bankswitched supercharger";case t.bankswitch_dpc_plus:return"bankswitched DPC+";case t.bankswitch_cdf:return"bankswitched CDF";case t.unknown:return"unknown"}}}(CartridgeInfo||(CartridgeInfo={}));var metadata_keys=createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.NAMED_TAG="named",t.NAME_TAG="name",t.UNMANAGED_TAG="unmanaged",t.OPTIONAL_TAG="optional",t.INJECT_TAG="inject",t.MULTI_INJECT_TAG="multi_inject",t.TAGGED="inversify:tagged",t.TAGGED_PROP="inversify:tagged_props",t.PARAM_TYPES="inversify:paramtypes",t.DESIGN_PARAM_TYPES="design:paramtypes",t.POST_CONSTRUCT="post_construct"});unwrapExports(metadata_keys);var metadata_keys_1=metadata_keys.NAMED_TAG,metadata_keys_2=metadata_keys.NAME_TAG,metadata_keys_3=metadata_keys.UNMANAGED_TAG,metadata_keys_4=metadata_keys.OPTIONAL_TAG,metadata_keys_5=metadata_keys.INJECT_TAG,metadata_keys_6=metadata_keys.MULTI_INJECT_TAG,metadata_keys_7=metadata_keys.TAGGED,metadata_keys_8=metadata_keys.TAGGED_PROP,metadata_keys_9=metadata_keys.PARAM_TYPES,metadata_keys_10=metadata_keys.DESIGN_PARAM_TYPES,metadata_keys_11=metadata_keys.POST_CONSTRUCT,literal_types=createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.BindingScopeEnum={Request:"Request",Singleton:"Singleton",Transient:"Transient"};t.BindingTypeEnum={ConstantValue:"ConstantValue",Constructor:"Constructor",DynamicValue:"DynamicValue",Factory:"Factory",Function:"Function",Instance:"Instance",Invalid:"Invalid",Provider:"Provider"};t.TargetTypeEnum={ClassProperty:"ClassProperty",ConstructorArgument:"ConstructorArgument",Variable:"Variable"}});unwrapExports(literal_types);var literal_types_1=literal_types.BindingScopeEnum,literal_types_2=literal_types.BindingTypeEnum,literal_types_3=literal_types.TargetTypeEnum,id_1=createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=0;t.id=function(){return r++}});unwrapExports(id_1);var id_2=id_1.id,binding$1=createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){this.id=id_1.id(),this.activated=!1,this.serviceIdentifier=e,this.scope=t,this.type=literal_types.BindingTypeEnum.Invalid,this.constraint=function(e){return!0},this.implementationType=null,this.cache=null,this.factory=null,this.provider=null,this.onActivation=null,this.dynamicValue=null}return e.prototype.clone=function(){var t=new e(this.serviceIdentifier,this.scope);return t.activated=!1,t.implementationType=this.implementationType,t.dynamicValue=this.dynamicValue,t.scope=this.scope,t.type=this.type,t.factory=this.factory,t.provider=this.provider,t.constraint=this.constraint,t.onActivation=this.onActivation,t.cache=this.cache,t},e}();t.Binding=r});unwrapExports(binding$1);var binding_1=binding$1.Binding,error_msgs=createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.DUPLICATED_INJECTABLE_DECORATOR="Cannot apply @injectable decorator multiple times.",t.DUPLICATED_METADATA="Metadata key was used more than once in a parameter:",t.NULL_ARGUMENT="NULL argument",t.KEY_NOT_FOUND="Key Not Found",t.AMBIGUOUS_MATCH="Ambiguous match found for serviceIdentifier:",t.CANNOT_UNBIND="Could not unbind serviceIdentifier:",t.NOT_REGISTERED="No matching bindings found for serviceIdentifier:",t.MISSING_INJECTABLE_ANNOTATION="Missing required @injectable annotation in:",t.MISSING_INJECT_ANNOTATION="Missing required @inject or @multiInject annotation in:",t.UNDEFINED_INJECT_ANNOTATION=function(e){return"@inject called with undefined this could mean that the class "+e+" has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation."},t.CIRCULAR_DEPENDENCY="Circular dependency found:",t.NOT_IMPLEMENTED="Sorry, this feature is not fully implemented yet.",t.INVALID_BINDING_TYPE="Invalid binding type:",t.NO_MORE_SNAPSHOTS_AVAILABLE="No snapshot available to restore.",t.INVALID_MIDDLEWARE_RETURN="Invalid return type in middleware. Middleware must return!",t.INVALID_FUNCTION_BINDING="Value provided to function binding must be a function!",t.INVALID_TO_SELF_VALUE="The toSelf function can only be applied when a constructor is used as service identifier",t.INVALID_DECORATOR_OPERATION="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.",t.ARGUMENTS_LENGTH_MISMATCH=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"The number of constructor arguments in the derived class "+e[0]+" must be >= than the number of constructor arguments of its base class."},t.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT="Invalid Container constructor argument. Container options must be an object.",t.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE="Invalid Container option. Default scope must be a string ('singleton' or 'transient').",t.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE="Invalid Container option. Auto bind injectable must be a boolean",t.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK="Invalid Container option. Skip base check must be a boolean",t.MULTIPLE_POST_CONSTRUCT_METHODS="Cannot apply @postConstruct decorator multiple times in the same class",t.POST_CONSTRUCT_ERROR=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"@postConstruct error in class "+e[0]+": "+e[1]},t.CIRCULAR_DEPENDENCY_IN_FACTORY=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"It looks like there is a circular dependency in one of the '"+e[0]+"' bindings. Please investigate bindings withservice identifier '"+e[1]+"'."},t.STACK_OVERFLOW="Maximum call stack size exceeded"});unwrapExports(error_msgs);var error_msgs_1=error_msgs.DUPLICATED_INJECTABLE_DECORATOR,error_msgs_2=error_msgs.DUPLICATED_METADATA,error_msgs_3=error_msgs.NULL_ARGUMENT,error_msgs_4=error_msgs.KEY_NOT_FOUND,error_msgs_5=error_msgs.AMBIGUOUS_MATCH,error_msgs_6=error_msgs.CANNOT_UNBIND,error_msgs_7=error_msgs.NOT_REGISTERED,error_msgs_8=error_msgs.MISSING_INJECTABLE_ANNOTATION,error_msgs_9=error_msgs.MISSING_INJECT_ANNOTATION,error_msgs_10=error_msgs.UNDEFINED_INJECT_ANNOTATION,error_msgs_11=error_msgs.CIRCULAR_DEPENDENCY,error_msgs_12=error_msgs.NOT_IMPLEMENTED,error_msgs_13=error_msgs.INVALID_BINDING_TYPE,error_msgs_14=error_msgs.NO_MORE_SNAPSHOTS_AVAILABLE,error_msgs_15=error_msgs.INVALID_MIDDLEWARE_RETURN,error_msgs_16=error_msgs.INVALID_FUNCTION_BINDING,error_msgs_17=error_msgs.INVALID_TO_SELF_VALUE,error_msgs_18=error_msgs.INVALID_DECORATOR_OPERATION,error_msgs_19=error_msgs.ARGUMENTS_LENGTH_MISMATCH,error_msgs_20=error_msgs.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT,error_msgs_21=error_msgs.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE,error_msgs_22=error_msgs.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE,error_msgs_23=error_msgs.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK,error_msgs_24=error_msgs.MULTIPLE_POST_CONSTRUCT_METHODS,error_msgs_25=error_msgs.POST_CONSTRUCT_ERROR,error_msgs_26=error_msgs.CIRCULAR_DEPENDENCY_IN_FACTORY,error_msgs_27=error_msgs.STACK_OVERFLOW,metadata_reader=createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.prototype.getConstructorMetadata=function(e){return{compilerGeneratedMetadata:Reflect.getMetadata(metadata_keys.PARAM_TYPES,e),userGeneratedMetadata:Reflect.getMetadata(metadata_keys.TAGGED,e)||{}}},e.prototype.getPropertiesMetadata=function(e){return Reflect.getMetadata(metadata_keys.TAGGED_PROP,e)||[]},e}();t.MetadataReader=r});unwrapExports(metadata_reader);var metadata_reader_1=metadata_reader.MetadataReader,binding_count=createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.BindingCount={MultipleBindingsAvailable:2,NoBindingsAvailable:0,OnlyOneBindingAvailable:1}});unwrapExports(binding_count);var binding_count_1=binding_count.BindingCount,exceptions=createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.isStackOverflowExeption=function(e){return e instanceof RangeError||e.message===error_msgs.STACK_OVERFLOW}});unwrapExports(exceptions);var exceptions_1=exceptions.isStackOverflowExeption,serialization=createCommonjsModule(function(e,t){function r(e){return"function"==typeof e?e.name:"symbol"==typeof e?e.toString():e}function n(e){if(e.name)return e.name;var t=e.toString(),r=t.match(/^function\s*([^\s(]+)/);return r?r[1]:"Anonymous function: "+t}Object.defineProperty(t,"__esModule",{value:!0}),t.getServiceIdentifierAsString=r,t.listRegisteredBindingsForServiceIdentifier=function(e,t,r){var i="",a=r(e,t);return 0!==a.length&&(i="\nRegistered bindings:",a.forEach(function(e){var t="Object";null!==e.implementationType&&(t=n(e.implementationType)),i=i+"\n "+t,e.constraint.metaData&&(i=i+" - "+e.constraint.metaData)})),i},t.circularDependencyToException=function e(t){t.childRequests.forEach(function(t){if(function e(t,r){return null!==t.parentRequest&&(t.parentRequest.serviceIdentifier===r||e(t.parentRequest,r))}(t,t.serviceIdentifier)){var n=function(e){return function e(t,n){void 0===n&&(n=[]);var i=r(t.serviceIdentifier);return n.push(i),null!==t.parentRequest?e(t.parentRequest,n):n}(e).reverse().join(" --\x3e ")}(t);throw new Error(error_msgs.CIRCULAR_DEPENDENCY+" "+n)}e(t)})},t.listMetadataForTarget=function(e,t){if(t.isTagged()||t.isNamed()){var r="",n=t.getNamedTag(),i=t.getCustomTags();return null!==n&&(r+=n.toString()+"\n"),null!==i&&i.forEach(function(e){r+=e.toString()+"\n"})," "+e+"\n "+e+" - "+r}return" "+e},t.getFunctionName=n});unwrapExports(serialization);var serialization_1=serialization.getServiceIdentifierAsString,serialization_2=serialization.listRegisteredBindingsForServiceIdentifier,serialization_3=serialization.circularDependencyToException,serialization_4=serialization.listMetadataForTarget,serialization_5=serialization.getFunctionName,context=createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this.id=id_1.id(),this.container=e}return e.prototype.addPlan=function(e){this.plan=e},e.prototype.setCurrentRequest=function(e){this.currentRequest=e},e}();t.Context=r});unwrapExports(context);var context_1=context.Context,metadata=createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){this.key=e,this.value=t}return e.prototype.toString=function(){return this.key===metadata_keys.NAMED_TAG?"named: "+this.value.toString()+" ":"tagged: { key:"+this.key.toString()+", value: "+this.value+" }"},e}();t.Metadata=r});unwrapExports(metadata);var metadata_1=metadata.Metadata,plan=createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e,t){this.parentContext=e,this.rootRequest=t}}();t.Plan=r});unwrapExports(plan);var plan_1=plan.Plan,decorator_utils=createCommonjsModule(function(e,t){function r(e,t,r,n,i){var a={},o="number"==typeof i,s=void 0!==i&&o?i.toString():r;if(o&&void 0!==r)throw new Error(error_msgs.INVALID_DECORATOR_OPERATION);Reflect.hasOwnMetadata(e,t)&&(a=Reflect.getMetadata(e,t));var u=a[s];if(Array.isArray(u))for(var c=0,f=u;c<f.length;c++){var l=f[c];if(l.key===n.key)throw new Error(error_msgs.DUPLICATED_METADATA+" "+l.key.toString())}else u=[];u.push(n),a[s]=u,Reflect.defineMetadata(e,a,t)}function n(e,t){Reflect.decorate(e,t)}function i(e,t){return function(r,n){t(r,n,e)}}Object.defineProperty(t,"__esModule",{value:!0}),t.tagParameter=function(e,t,n,i){r(metadata_keys.TAGGED,e,t,i,n)},t.tagProperty=function(e,t,n){r(metadata_keys.TAGGED_PROP,e.constructor,t,n)},t.decorate=function(e,t,r){"number"==typeof r?n([i(r,e)],t):"string"==typeof r?Reflect.decorate([e],t,r):n([e],t)}});unwrapExports(decorator_utils);var decorator_utils_1=decorator_utils.tagParameter,decorator_utils_2=decorator_utils.tagProperty,decorator_utils_3=decorator_utils.decorate,inject_1=createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this._cb=e}return e.prototype.unwrap=function(){return this._cb()},e}();t.LazyServiceIdentifer=r,t.inject=function(e){return function(t,r,n){if(void 0===e)throw new Error(error_msgs.UNDEFINED_INJECT_ANNOTATION(t.name));var i=new metadata.Metadata(metadata_keys.INJECT_TAG,e);"number"==typeof n?decorator_utils.tagParameter(t,r,n,i):decorator_utils.tagProperty(t,r,i)}}});unwrapExports(inject_1);var inject_2=inject_1.LazyServiceIdentifer,inject_3=inject_1.inject,queryable_string=createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this.str=e}return e.prototype.startsWith=function(e){return 0===this.str.indexOf(e)},e.prototype.endsWith=function(e){var t,r=e.split("").reverse().join("");return t=this.str.split("").reverse().join(""),this.startsWith.call({str:t},r)},e.prototype.contains=function(e){return-1!==this.str.indexOf(e)},e.prototype.equals=function(e){return this.str===e},e.prototype.value=function(){return this.str},e}();t.QueryableString=r});unwrapExports(queryable_string);var queryable_string_1=queryable_string.QueryableString,target=createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t,r,n){this.id=id_1.id(),this.type=e,this.serviceIdentifier=r,this.name=new queryable_string.QueryableString(t||""),this.metadata=new Array;var i=null;"string"==typeof n?i=new metadata.Metadata(metadata_keys.NAMED_TAG,n):n instanceof metadata.Metadata&&(i=n),null!==i&&this.metadata.push(i)}return e.prototype.hasTag=function(e){for(var t=0,r=this.metadata;t<r.length;t++){if(r[t].key===e)return!0}return!1},e.prototype.isArray=function(){return this.hasTag(metadata_keys.MULTI_INJECT_TAG)},e.prototype.matchesArray=function(e){return this.matchesTag(metadata_keys.MULTI_INJECT_TAG)(e)},e.prototype.isNamed=function(){return this.hasTag(metadata_keys.NAMED_TAG)},e.prototype.isTagged=function(){return this.metadata.some(function(e){return e.key!==metadata_keys.INJECT_TAG&&e.key!==metadata_keys.MULTI_INJECT_TAG&&e.key!==metadata_keys.NAME_TAG&&e.key!==metadata_keys.UNMANAGED_TAG&&e.key!==metadata_keys.NAMED_TAG})},e.prototype.isOptional=function(){return this.matchesTag(metadata_keys.OPTIONAL_TAG)(!0)},e.prototype.getNamedTag=function(){return this.isNamed()?this.metadata.filter(function(e){return e.key===metadata_keys.NAMED_TAG})[0]:null},e.prototype.getCustomTags=function(){return this.isTagged()?this.metadata.filter(function(e){return e.key!==metadata_keys.INJECT_TAG&&e.key!==metadata_keys.MULTI_INJECT_TAG&&e.key!==metadata_keys.NAME_TAG&&e.key!==metadata_keys.UNMANAGED_TAG&&e.key!==metadata_keys.NAMED_TAG}):null},e.prototype.matchesNamedTag=function(e){return this.matchesTag(metadata_keys.NAMED_TAG)(e)},e.prototype.matchesTag=function(e){var t=this;return function(r){for(var n=0,i=t.metadata;n<i.length;n++){var a=i[n];if(a.key===e&&a.value===r)return!0}return!1}},e}();t.Target=r});unwrapExports(target);var target_1=target.Target,reflection_utils=createCommonjsModule(function(e,t){function r(e,t,r,a){var o=e.getConstructorMetadata(r),s=o.compilerGeneratedMetadata;if(void 0===s){var u=error_msgs.MISSING_INJECTABLE_ANNOTATION+" "+t+".";throw new Error(u)}var c=o.userGeneratedMetadata,f=Object.keys(c),l=function(e,t,r,i,a){for(var o=[],s=0;s<a;s++){var u=s,c=n(u,e,t,r,i);null!==c&&o.push(c)}return o}(a,t,s,c,0===r.length&&f.length>0?f.length:r.length),h=function e(t,r){var n=t.getPropertiesMetadata(r);var a=[];var o=Object.keys(n);for(var s=0,u=o;s<u.length;s++){var c=u[s],f=n[c],l=i(n[c]),h=l.targetName||c,d=l.inject||l.multiInject,p=new target.Target(literal_types.TargetTypeEnum.ClassProperty,h,d);p.metadata=f,a.push(p)}var _=Object.getPrototypeOf(r.prototype).constructor;if(_!==Object){var g=e(t,_);a=a.concat(g)}return a}(e,r);return l.concat(h)}function n(e,t,r,n,a){var o=a[e.toString()]||[],s=i(o),u=!0!==s.unmanaged,c=n[e],f=s.inject||s.multiInject;if((c=f||c)instanceof inject_1.LazyServiceIdentifer&&(c=c.unwrap()),u){var l=c===Object,h=c===Function;if(!t&&(l||h||void 0===c)){var d=error_msgs.MISSING_INJECT_ANNOTATION+" argument "+e+" in class "+r+".";throw new Error(d)}var p=new target.Target(literal_types.TargetTypeEnum.ConstructorArgument,s.targetName,c);return p.metadata=o,p}return null}function i(e){var t={};return e.forEach(function(e){t[e.key.toString()]=e.value}),{inject:t[metadata_keys.INJECT_TAG],multiInject:t[metadata_keys.MULTI_INJECT_TAG],targetName:t[metadata_keys.NAME_TAG],unmanaged:t[metadata_keys.UNMANAGED_TAG]}}Object.defineProperty(t,"__esModule",{value:!0}),t.getFunctionName=serialization.getFunctionName,t.getDependencies=function(e,t){return r(e,serialization.getFunctionName(t),t,!1)},t.getBaseClassDependencyCount=function e(t,n){var i=Object.getPrototypeOf(n.prototype).constructor;if(i!==Object){var a=r(t,serialization.getFunctionName(i),i,!0),o=a.map(function(e){return e.metadata.filter(function(e){return e.key===metadata_keys.UNMANAGED_TAG})}),s=[].concat.apply([],o).length,u=a.length-s;return u>0?u:e(t,i)}return 0}});unwrapExports(reflection_utils);var reflection_utils_1=reflection_utils.getFunctionName,reflection_utils_2=reflection_utils.getDependencies,reflection_utils_3=reflection_utils.getBaseClassDependencyCount,request=createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t,r,n,i){this.id=id_1.id(),this.serviceIdentifier=e,this.parentContext=t,this.parentRequest=r,this.target=i,this.childRequests=[],this.bindings=Array.isArray(n)?n:[n],this.requestScope=null===r?new Map:null}return e.prototype.addChildRequest=function(t,r,n){var i=new e(t,this.parentContext,this,r,n);return this.childRequests.push(i),i},e}();t.Request=r});unwrapExports(request);var request_1=request.Request,planner=createCommonjsModule(function(e,t){function r(e){return e._bindingDictionary}function n(e,t,r,n,i,a){var o=e?metadata_keys.MULTI_INJECT_TAG:metadata_keys.INJECT_TAG,s=new metadata.Metadata(o,r),u=new target.Target(t,n,r,s);if(void 0!==i){var c=new metadata.Metadata(i,a);u.metadata.push(c)}return u}function i(e,t,r,n,i){var o=a(r.container,i.serviceIdentifier),s=[];return o.length===binding_count.BindingCount.NoBindingsAvailable&&r.container.options.autoBindInjectable&&"function"==typeof i.serviceIdentifier&&e.getConstructorMetadata(i.serviceIdentifier).compilerGeneratedMetadata&&(r.container.bind(i.serviceIdentifier).toSelf(),o=a(r.container,i.serviceIdentifier)),s=t?o:o.filter(function(e){var t=new request.Request(e.serviceIdentifier,r,n,e,i);return e.constraint(t)}),function(e,t,r,n){switch(t.length){case binding_count.BindingCount.NoBindingsAvailable:if(r.isOptional())return t;var i=serialization.getServiceIdentifierAsString(e),o=error_msgs.NOT_REGISTERED;throw o+=serialization.listMetadataForTarget(i,r),o+=serialization.listRegisteredBindingsForServiceIdentifier(n,i,a),new Error(o);case binding_count.BindingCount.OnlyOneBindingAvailable:if(!r.isArray())return t;case binding_count.BindingCount.MultipleBindingsAvailable:default:if(r.isArray())return t;var i=serialization.getServiceIdentifierAsString(e),o=error_msgs.AMBIGUOUS_MATCH+" "+i;throw o+=serialization.listRegisteredBindingsForServiceIdentifier(n,i,a),new Error(o)}}(i.serviceIdentifier,s,i,r.container),s}function a(e,t){var n=[],i=r(e);return i.hasKey(t)?n=i.get(t):null!==e.parent&&(n=a(e.parent,t)),n}Object.defineProperty(t,"__esModule",{value:!0}),t.getBindingDictionary=r,t.plan=function(e,t,r,a,o,s,u,c){void 0===c&&(c=!1);var f=new context.Context(t),l=n(r,a,o,"",s,u);try{return function e(t,r,n,a,o,s){var u,c;if(null===o){u=i(t,r,a,null,s),c=new request.Request(n,a,null,u,s);var f=new plan.Plan(a,c);a.addPlan(f)}else u=i(t,r,a,o,s),c=o.addChildRequest(s.serviceIdentifier,u,s);u.forEach(function(r){var n=null;if(s.isArray())n=c.addChildRequest(r.serviceIdentifier,r,s);else{if(r.cache)return;n=c}if(r.type===literal_types.BindingTypeEnum.Instance&&null!==r.implementationType){var i=reflection_utils.getDependencies(t,r.implementationType);if(!a.container.options.skipBaseClassChecks){var o=reflection_utils.getBaseClassDependencyCount(t,r.implementationType);if(i.length<o){var u=error_msgs.ARGUMENTS_LENGTH_MISMATCH(reflection_utils.getFunctionName(r.implementationType));throw new Error(u)}}i.forEach(function(r){e(t,!1,r.serviceIdentifier,a,n,r)})}})}(e,c,o,f,null,l),f}catch(e){throw exceptions.isStackOverflowExeption(e)&&f.plan&&serialization.circularDependencyToException(f.plan.rootRequest),e}},t.createMockRequest=function(e,t,r,n){var i=new target.Target(literal_types.TargetTypeEnum.Variable,"",t,new metadata.Metadata(r,n)),a=new context.Context(e);return new request.Request(t,a,null,[],i)}});unwrapExports(planner);var planner_1=planner.getBindingDictionary,planner_2=planner.plan,planner_3=planner.createMockRequest,instantiation=createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.resolveInstance=function(e,t,r){var n,i,a=null;if(t.length>0){var o=t.filter(function(e){return null!==e.target&&e.target.type===literal_types.TargetTypeEnum.ConstructorArgument}).map(r);i=o,a=function(e,t,r){var n=t.filter(function(e){return null!==e.target&&e.target.type===literal_types.TargetTypeEnum.ClassProperty}),i=n.map(r);return n.forEach(function(t,r){var n;n=t.target.name.value();var a=i[r];e[n]=a}),e}(a=new((n=e).bind.apply(n,[void 0].concat(i))),t,r)}else a=new e;return function(e,t){if(Reflect.hasMetadata(metadata_keys.POST_CONSTRUCT,e)){var r=Reflect.getMetadata(metadata_keys.POST_CONSTRUCT,e);try{t[r.value]()}catch(t){throw new Error(error_msgs.POST_CONSTRUCT_ERROR(e.name,t.message))}}}(e,a),a}});unwrapExports(instantiation);var instantiation_1=instantiation.resolveInstance,resolver=createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,r){try{return r()}catch(r){throw exceptions.isStackOverflowExeption(r)?new Error(error_msgs.CIRCULAR_DEPENDENCY_IN_FACTORY(e,t.toString())):r}},n=function(e){return function(t){t.parentContext.setCurrentRequest(t);var i=t.bindings,a=t.childRequests,o=t.target&&t.target.isArray(),s=!(t.parentRequest&&t.parentRequest.target&&t.target&&t.parentRequest.target.matchesArray(t.target.serviceIdentifier));if(o&&s)return a.map(function(t){return n(e)(t)});var u=null;if(!t.target.isOptional()||0!==i.length){var c=i[0],f=c.scope===literal_types.BindingScopeEnum.Singleton,l=c.scope===literal_types.BindingScopeEnum.Request;if(f&&c.activated)return c.cache;if(l&&null!==e&&e.has(c.id))return e.get(c.id);if(c.type===literal_types.BindingTypeEnum.ConstantValue)u=c.cache;else if(c.type===literal_types.BindingTypeEnum.Function)u=c.cache;else if(c.type===literal_types.BindingTypeEnum.Constructor)u=c.implementationType;else if(c.type===literal_types.BindingTypeEnum.DynamicValue&&null!==c.dynamicValue)u=r("toDynamicValue",c.serviceIdentifier,function(){return c.dynamicValue(t.parentContext)});else if(c.type===literal_types.BindingTypeEnum.Factory&&null!==c.factory)u=r("toFactory",c.serviceIdentifier,function(){return c.factory(t.parentContext)});else if(c.type===literal_types.BindingTypeEnum.Provider&&null!==c.provider)u=r("toProvider",c.serviceIdentifier,function(){return c.provider(t.parentContext)});else{if(c.type!==literal_types.BindingTypeEnum.Instance||null===c.implementationType){var h=serialization.getServiceIdentifierAsString(t.serviceIdentifier);throw new Error(error_msgs.INVALID_BINDING_TYPE+" "+h)}u=instantiation.resolveInstance(c.implementationType,a,n(e))}return"function"==typeof c.onActivation&&(u=c.onActivation(t.parentContext,u)),f&&(c.cache=u,c.activated=!0),l&&null!==e&&!e.has(c.id)&&e.set(c.id,u),u}}};t.resolve=function(e){return n(e.plan.rootRequest.requestScope)(e.plan.rootRequest)}});unwrapExports(resolver);var resolver_1=resolver.resolve,constraint_helpers=createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){var n=e.parentRequest;return null!==n&&(!!t(n)||r(n,t))};t.traverseAncerstors=r;var n=function(e){return function(t){var r=function(r){return null!==r&&null!==r.target&&r.target.matchesTag(e)(t)};return r.metaData=new metadata.Metadata(e,t),r}};t.taggedConstraint=n;var i=n(metadata_keys.NAMED_TAG);t.namedConstraint=i;t.typeConstraint=function(e){return function(t){var r=null;if(null!==t){if(r=t.bindings[0],"string"==typeof e)return r.serviceIdentifier===e;var n=t.bindings[0].implementationType;return e===n}return!1}}});unwrapExports(constraint_helpers);var constraint_helpers_1=constraint_helpers.traverseAncerstors,constraint_helpers_2=constraint_helpers.taggedConstraint,constraint_helpers_3=constraint_helpers.namedConstraint,constraint_helpers_4=constraint_helpers.typeConstraint,binding_when_syntax=createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this._binding=e}return e.prototype.when=function(e){return this._binding.constraint=e,new binding_on_syntax.BindingOnSyntax(this._binding)},e.prototype.whenTargetNamed=function(e){return this._binding.constraint=constraint_helpers.namedConstraint(e),new binding_on_syntax.BindingOnSyntax(this._binding)},e.prototype.whenTargetIsDefault=function(){return this._binding.constraint=function(e){return null!==e.target&&!e.target.isNamed()&&!e.target.isTagged()},new binding_on_syntax.BindingOnSyntax(this._binding)},e.prototype.whenTargetTagged=function(e,t){return this._binding.constraint=constraint_helpers.taggedConstraint(e)(t),new binding_on_syntax.BindingOnSyntax(this._binding)},e.prototype.whenInjectedInto=function(e){return this._binding.constraint=function(t){return constraint_helpers.typeConstraint(e)(t.parentRequest)},new binding_on_syntax.BindingOnSyntax(this._binding)},e.prototype.whenParentNamed=function(e){return this._binding.constraint=function(t){return constraint_helpers.namedConstraint(e)(t.parentRequest)},new binding_on_syntax.BindingOnSyntax(this._binding)},e.prototype.whenParentTagged=function(e,t){return this._binding.constraint=function(r){return constraint_helpers.taggedConstraint(e)(t)(r.parentRequest)},new binding_on_syntax.BindingOnSyntax(this._binding)},e.prototype.whenAnyAncestorIs=function(e){return this._binding.constraint=function(t){return constraint_helpers.traverseAncerstors(t,constraint_helpers.typeConstraint(e))},new binding_on_syntax.BindingOnSyntax(this._binding)},e.prototype.whenNoAncestorIs=function(e){return this._binding.constraint=function(t){return!constraint_helpers.traverseAncerstors(t,constraint_helpers.typeConstraint(e))},new binding_on_syntax.BindingOnSyntax(this._binding)},e.prototype.whenAnyAncestorNamed=function(e){return this._binding.constraint=function(t){return constraint_helpers.traverseAncerstors(t,constraint_helpers.namedConstraint(e))},new binding_on_syntax.BindingOnSyntax(this._binding)},e.prototype.whenNoAncestorNamed=function(e){return this._binding.constraint=function(t){return!constraint_helpers.traverseAncerstors(t,constraint_helpers.namedConstraint(e))},new binding_on_syntax.BindingOnSyntax(this._binding)},e.prototype.whenAnyAncestorTagged=function(e,t){return this._binding.constraint=function(r){return constraint_helpers.traverseAncerstors(r,constraint_helpers.taggedConstraint(e)(t))},new binding_on_syntax.BindingOnSyntax(this._binding)},e.prototype.whenNoAncestorTagged=function(e,t){return this._binding.constraint=function(r){return!constraint_helpers.traverseAncerstors(r,constraint_helpers.taggedConstraint(e)(t))},new binding_on_syntax.BindingOnSyntax(this._binding)},e.prototype.whenAnyAncestorMatches=function(e){return this._binding.constraint=function(t){return constraint_helpers.traverseAncerstors(t,e)},new binding_on_syntax.BindingOnSyntax(this._binding)},e.prototype.whenNoAncestorMatches=function(e){return this._binding.constraint=function(t){return!constraint_helpers.traverseAncerstors(t,e)},new binding_on_syntax.BindingOnSyntax(this._binding)},e}();t.BindingWhenSyntax=r});unwrapExports(binding_when_syntax);var binding_when_syntax_1=binding_when_syntax.BindingWhenSyntax,binding_on_syntax=createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this._binding=e}return e.prototype.onActivation=function(e){return this._binding.onActivation=e,new binding_when_syntax.BindingWhenSyntax(this._binding)},e}();t.BindingOnSyntax=r});unwrapExports(binding_on_syntax);var binding_on_syntax_1=binding_on_syntax.BindingOnSyntax,binding_when_on_syntax=createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this._binding=e,this._bindingWhenSyntax=new binding_when_syntax.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new binding_on_syntax.BindingOnSyntax(this._binding)}return e.prototype.when=function(e){return this._bindingWhenSyntax.when(e)},e.prototype.whenTargetNamed=function(e){return this._bindingWhenSyntax.whenTargetNamed(e)},e.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},e.prototype.whenTargetTagged=function(e,t){return this._bindingWhenSyntax.whenTargetTagged(e,t)},e.prototype.whenInjectedInto=function(e){return this._bindingWhenSyntax.whenInjectedInto(e)},e.prototype.whenParentNamed=function(e){return this._bindingWhenSyntax.whenParentNamed(e)},e.prototype.whenParentTagged=function(e,t){return this._bindingWhenSyntax.whenParentTagged(e,t)},e.prototype.whenAnyAncestorIs=function(e){return this._bindingWhenSyntax.whenAnyAncestorIs(e)},e.prototype.whenNoAncestorIs=function(e){return this._bindingWhenSyntax.whenNoAncestorIs(e)},e.prototype.whenAnyAncestorNamed=function(e){return this._bindingWhenSyntax.whenAnyAncestorNamed(e)},e.prototype.whenAnyAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenAnyAncestorTagged(e,t)},e.prototype.whenNoAncestorNamed=function(e){return this._bindingWhenSyntax.whenNoAncestorNamed(e)},e.prototype.whenNoAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenNoAncestorTagged(e,t)},e.prototype.whenAnyAncestorMatches=function(e){return this._bindingWhenSyntax.whenAnyAncestorMatches(e)},e.prototype.whenNoAncestorMatches=function(e){return this._bindingWhenSyntax.whenNoAncestorMatches(e)},e.prototype.onActivation=function(e){return this._bindingOnSyntax.onActivation(e)},e}();t.BindingWhenOnSyntax=r});unwrapExports(binding_when_on_syntax);var binding_when_on_syntax_1=binding_when_on_syntax.BindingWhenOnSyntax,binding_in_syntax=createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this._binding=e}return e.prototype.inRequestScope=function(){return this._binding.scope=literal_types.BindingScopeEnum.Request,new binding_when_on_syntax.BindingWhenOnSyntax(this._binding)},e.prototype.inSingletonScope=function(){return this._binding.scope=literal_types.BindingScopeEnum.Singleton,new binding_when_on_syntax.BindingWhenOnSyntax(this._binding)},e.prototype.inTransientScope=function(){return this._binding.scope=literal_types.BindingScopeEnum.Transient,new binding_when_on_syntax.BindingWhenOnSyntax(this._binding)},e}();t.BindingInSyntax=r});unwrapExports(binding_in_syntax);var binding_in_syntax_1=binding_in_syntax.BindingInSyntax,binding_in_when_on_syntax=createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this._binding=e,this._bindingWhenSyntax=new binding_when_syntax.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new binding_on_syntax.BindingOnSyntax(this._binding),this._bindingInSyntax=new binding_in_syntax.BindingInSyntax(e)}return e.prototype.inRequestScope=function(){return this._bindingInSyntax.inRequestScope()},e.prototype.inSingletonScope=function(){return this._bindingInSyntax.inSingletonScope()},e.prototype.inTransientScope=function(){return this._bindingInSyntax.inTransientScope()},e.prototype.when=function(e){return this._bindingWhenSyntax.when(e)},e.prototype.whenTargetNamed=function(e){return this._bindingWhenSyntax.whenTargetNamed(e)},e.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},e.prototype.whenTargetTagged=function(e,t){return this._bindingWhenSyntax.whenTargetTagged(e,t)},e.prototype.whenInjectedInto=function(e){return this._bindingWhenSyntax.whenInjectedInto(e)},e.prototype.whenParentNamed=function(e){return this._bindingWhenSyntax.whenParentNamed(e)},e.prototype.whenParentTagged=function(e,t){return this._bindingWhenSyntax.whenParentTagged(e,t)},e.prototype.whenAnyAncestorIs=function(e){return this._bindingWhenSyntax.whenAnyAncestorIs(e)},e.prototype.whenNoAncestorIs=function(e){return this._bindingWhenSyntax.whenNoAncestorIs(e)},e.prototype.whenAnyAncestorNamed=function(e){return this._bindingWhenSyntax.whenAnyAncestorNamed(e)},e.prototype.whenAnyAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenAnyAncestorTagged(e,t)},e.prototype.whenNoAncestorNamed=function(e){return this._bindingWhenSyntax.whenNoAncestorNamed(e)},e.prototype.whenNoAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenNoAncestorTagged(e,t)},e.prototype.whenAnyAncestorMatches=function(e){return this._bindingWhenSyntax.whenAnyAncestorMatches(e)},e.prototype.whenNoAncestorMatches=function(e){return this._bindingWhenSyntax.whenNoAncestorMatches(e)},e.prototype.onActivation=function(e){return this._bindingOnSyntax.onActivation(e)},e}();t.BindingInWhenOnSyntax=r});unwrapExports(binding_in_when_on_syntax);var binding_in_when_on_syntax_1=binding_in_when_on_syntax.BindingInWhenOnSyntax,binding_to_syntax=createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this._binding=e}return e.prototype.to=function(e){return this._binding.type=literal_types.BindingTypeEnum.Instance,this._binding.implementationType=e,new binding_in_when_on_syntax.BindingInWhenOnSyntax(this._binding)},e.prototype.toSelf=function(){if("function"!=typeof this._binding.serviceIdentifier)throw new Error(""+error_msgs.INVALID_TO_SELF_VALUE);var e=this._binding.serviceIdentifier;return this.to(e)},e.prototype.toConstantValue=function(e){return this._binding.type=literal_types.BindingTypeEnum.ConstantValue,this._binding.cache=e,this._binding.dynamicValue=null,this._binding.implementationType=null,new binding_when_on_syntax.BindingWhenOnSyntax(this._binding)},e.prototype.toDynamicValue=function(e){return this._binding.type=literal_types.BindingTypeEnum.DynamicValue,this._binding.cache=null,this._binding.dynamicValue=e,this._binding.implementationType=null,new binding_in_when_on_syntax.BindingInWhenOnSyntax(this._binding)},e.prototype.toConstructor=function(e){return this._binding.type=literal_types.BindingTypeEnum.Constructor,this._binding.implementationType=e,new binding_when_on_syntax.BindingWhenOnSyntax(this._binding)},e.prototype.toFactory=function(e){return this._binding.type=literal_types.BindingTypeEnum.Factory,this._binding.factory=e,new binding_when_on_syntax.BindingWhenOnSyntax(this._binding)},e.prototype.toFunction=function(e){if("function"!=typeof e)throw new Error(error_msgs.INVALID_FUNCTION_BINDING);var t=this.toConstantValue(e);return this._binding.type=literal_types.BindingTypeEnum.Function,t},e.prototype.toAutoFactory=function(e){return this._binding.type=literal_types.BindingTypeEnum.Factory,this._binding.factory=function(t){return function(){return t.container.get(e)}},new binding_when_on_syntax.BindingWhenOnSyntax(this._binding)},e.prototype.toProvider=function(e){return this._binding.type=literal_types.BindingTypeEnum.Provider,this._binding.provider=e,new binding_when_on_syntax.BindingWhenOnSyntax(this._binding)},e.prototype.toService=function(e){this.toDynamicValue(function(t){return t.container.get(e)})},e}();t.BindingToSyntax=r});unwrapExports(binding_to_syntax);var binding_to_syntax_1=binding_to_syntax.BindingToSyntax,container_snapshot=createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.of=function(t,r){var n=new e;return n.bindings=t,n.middleware=r,n},e}();t.ContainerSnapshot=r});unwrapExports(container_snapshot);var container_snapshot_1=container_snapshot.ContainerSnapshot,lookup=createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this._map=new Map}return e.prototype.getMap=function(){return this._map},e.prototype.add=function(e,t){if(null==e)throw new Error(error_msgs.NULL_ARGUMENT);if(null==t)throw new Error(error_msgs.NULL_ARGUMENT);var r=this._map.get(e);void 0!==r?(r.push(t),this._map.set(e,r)):this._map.set(e,[t])},e.prototype.get=function(e){if(null==e)throw new Error(error_msgs.NULL_ARGUMENT);var t=this._map.get(e);if(void 0!==t)return t;throw new Error(error_msgs.KEY_NOT_FOUND)},e.prototype.remove=function(e){if(null==e)throw new Error(error_msgs.NULL_ARGUMENT);if(!this._map.delete(e))throw new Error(error_msgs.KEY_NOT_FOUND)},e.prototype.removeByCondition=function(e){var t=this;this._map.forEach(function(r,n){var i=r.filter(function(t){return!e(t)});i.length>0?t._map.set(n,i):t._map.delete(n)})},e.prototype.hasKey=function(e){if(null==e)throw new Error(error_msgs.NULL_ARGUMENT);return this._map.has(e)},e.prototype.clone=function(){var t=new e;return this._map.forEach(function(e,r){e.forEach(function(e){return t.add(r,e.clone())})}),t},e.prototype.traverse=function(e){this._map.forEach(function(t,r){e(r,t)})},e}();t.Lookup=r});unwrapExports(lookup);var lookup_1=lookup.Lookup,container=createCommonjsModule(function(e,t){var r=commonjsGlobal&&commonjsGlobal.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,a){function o(e){try{u(n.next(e))}catch(e){a(e)}}function s(e){try{u(n.throw(e))}catch(e){a(e)}}function u(e){e.done?i(e.value):new r(function(t){t(e.value)}).then(o,s)}u((n=n.apply(e,t||[])).next())})},n=commonjsGlobal&&commonjsGlobal.__generator||function(e,t){var r,n,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(i=n[2&a[0]?"return":a[0]?"throw":"next"])&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[0,i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,n=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],n=0}finally{r=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e){var t=e||{};if("object"!=typeof t)throw new Error(""+error_msgs.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT);if(void 0===t.defaultScope)t.defaultScope=literal_types.BindingScopeEnum.Transient;else if(t.defaultScope!==literal_types.BindingScopeEnum.Singleton&&t.defaultScope!==literal_types.BindingScopeEnum.Transient&&t.defaultScope!==literal_types.BindingScopeEnum.Request)throw new Error(""+error_msgs.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE);if(void 0===t.autoBindInjectable)t.autoBindInjectable=!1;else if("boolean"!=typeof t.autoBindInjectable)throw new Error(""+error_msgs.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE);if(void 0===t.skipBaseClassChecks)t.skipBaseClassChecks=!1;else if("boolean"!=typeof t.skipBaseClassChecks)throw new Error(""+error_msgs.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK);this.options={autoBindInjectable:t.autoBindInjectable,defaultScope:t.defaultScope,skipBaseClassChecks:t.skipBaseClassChecks},this.id=id_1.id(),this._bindingDictionary=new lookup.Lookup,this._snapshots=[],this._middleware=null,this.parent=null,this._metadataReader=new metadata_reader.MetadataReader}return e.merge=function(t,r){var n=new e,i=planner.getBindingDictionary(n),a=planner.getBindingDictionary(t),o=planner.getBindingDictionary(r);function s(e,t){e.traverse(function(e,r){r.forEach(function(e){t.add(e.serviceIdentifier,e.clone())})})}return s(a,i),s(o,i),n},e.prototype.load=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r=this._getContainerModuleHelpersFactory(),n=0,i=e;n<i.length;n++){var a=i[n],o=r(a.id);a.registry(o.bindFunction,o.unbindFunction,o.isboundFunction,o.rebindFunction)}},e.prototype.loadAsync=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r(this,void 0,void 0,function(){var t,r,i,a,o;return n(this,function(n){switch(n.label){case 0:t=this._getContainerModuleHelpersFactory(),r=0,i=e,n.label=1;case 1:return r<i.length?(a=i[r],o=t(a.id),[4,a.registry(o.bindFunction,o.unbindFunction,o.isboundFunction,o.rebindFunction)]):[3,4];case 2:n.sent(),n.label=3;case 3:return r++,[3,1];case 4:return[2]}})})},e.prototype.unload=function(){for(var e=this,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];t.forEach(function(t){var r,n=(r=t.id,function(e){return e.moduleId===r});e._bindingDictionary.removeByCondition(n)})},e.prototype.bind=function(e){var t=this.options.defaultScope||literal_types.BindingScopeEnum.Transient,r=new binding$1.Binding(e,t);return this._bindingDictionary.add(e,r),new binding_to_syntax.BindingToSyntax(r)},e.prototype.rebind=function(e){return this.unbind(e),this.bind(e)},e.prototype.unbind=function(e){try{this._bindingDictionary.remove(e)}catch(t){throw new Error(error_msgs.CANNOT_UNBIND+" "+serialization.getServiceIdentifierAsString(e))}},e.prototype.unbindAll=function(){this._bindingDictionary=new lookup.Lookup},e.prototype.isBound=function(e){var t=this._bindingDictionary.hasKey(e);return!t&&this.parent&&(t=this.parent.isBound(e)),t},e.prototype.isBoundNamed=function(e,t){return this.isBoundTagged(e,metadata_keys.NAMED_TAG,t)},e.prototype.isBoundTagged=function(e,t,r){var n=!1;if(this._bindingDictionary.hasKey(e)){var i=this._bindingDictionary.get(e),a=planner.createMockRequest(this,e,t,r);n=i.some(function(e){return e.constraint(a)})}return!n&&this.parent&&(n=this.parent.isBoundTagged(e,t,r)),n},e.prototype.snapshot=function(){this._snapshots.push(container_snapshot.ContainerSnapshot.of(this._bindingDictionary.clone(),this._middleware))},e.prototype.restore=function(){var e=this._snapshots.pop();if(void 0===e)throw new Error(error_msgs.NO_MORE_SNAPSHOTS_AVAILABLE);this._bindingDictionary=e.bindings,this._middleware=e.middleware},e.prototype.createChild=function(t){var r=new e(t||this.options);return r.parent=this,r},e.prototype.applyMiddleware=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=this._middleware?this._middleware:this._planAndResolve();this._middleware=e.reduce(function(e,t){return t(e)},r)},e.prototype.applyCustomMetadataReader=function(e){this._metadataReader=e},e.prototype.get=function(e){return this._get(!1,!1,literal_types.TargetTypeEnum.Variable,e)},e.prototype.getTagged=function(e,t,r){return this._get(!1,!1,literal_types.TargetTypeEnum.Variable,e,t,r)},e.prototype.getNamed=function(e,t){return this.getTagged(e,metadata_keys.NAMED_TAG,t)},e.prototype.getAll=function(e){return this._get(!0,!0,literal_types.TargetTypeEnum.Variable,e)},e.prototype.getAllTagged=function(e,t,r){return this._get(!1,!0,literal_types.TargetTypeEnum.Variable,e,t,r)},e.prototype.getAllNamed=function(e,t){return this.getAllTagged(e,metadata_keys.NAMED_TAG,t)},e.prototype.resolve=function(e){var t=this.createChild();return t.bind(e).toSelf(),t.get(e)},e.prototype._getContainerModuleHelpersFactory=function(){var e=this,t=function(e,t){e._binding.moduleId=t},r=function(r){return function(n){var i=e.rebind.bind(e)(n);return t(i,r),i}};return function(n){return{bindFunction:(i=n,function(r){var n=e.bind.bind(e)(r);return t(n,i),n}),isboundFunction:function(t){return e.isBound.bind(e)(t)},rebindFunction:r(n),unbindFunction:function(t){e.unbind.bind(e)(t)}};var i}},e.prototype._get=function(e,t,r,n,i,a){var o=null,s={avoidConstraints:e,contextInterceptor:function(e){return e},isMultiInject:t,key:i,serviceIdentifier:n,targetType:r,value:a};if(this._middleware){if(null==(o=this._middleware(s)))throw new Error(error_msgs.INVALID_MIDDLEWARE_RETURN)}else o=this._planAndResolve()(s);return o},e.prototype._planAndResolve=function(){var e=this;return function(t){var r=planner.plan(e._metadataReader,e,t.isMultiInject,t.targetType,t.serviceIdentifier,t.key,t.value,t.avoidConstraints);return r=t.contextInterceptor(r),resolver.resolve(r)}},e}();t.Container=i});unwrapExports(container);var container_1=container.Container,container_module=createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e){this.id=id_1.id(),this.registry=e}}();t.ContainerModule=r;var n=function(){return function(e){this.id=id_1.id(),this.registry=e}}();t.AsyncContainerModule=n});unwrapExports(container_module);var container_module_1=container_module.ContainerModule,container_module_2=container_module.AsyncContainerModule,injectable_1=createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.injectable=function(){return function(e){if(Reflect.hasOwnMetadata(metadata_keys.PARAM_TYPES,e))throw new Error(error_msgs.DUPLICATED_INJECTABLE_DECORATOR);var t=Reflect.getMetadata(metadata_keys.DESIGN_PARAM_TYPES,e)||[];return Reflect.defineMetadata(metadata_keys.PARAM_TYPES,t,e),e}}});unwrapExports(injectable_1);var injectable_2=injectable_1.injectable,tagged_1=createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.tagged=function(e,t){return function(r,n,i){var a=new metadata.Metadata(e,t);"number"==typeof i?decorator_utils.tagParameter(r,n,i,a):decorator_utils.tagProperty(r,n,a)}}});unwrapExports(tagged_1);var tagged_2=tagged_1.tagged,named_1=createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.named=function(e){return function(t,r,n){var i=new metadata.Metadata(metadata_keys.NAMED_TAG,e);"number"==typeof n?decorator_utils.tagParameter(t,r,n,i):decorator_utils.tagProperty(t,r,i)}}});unwrapExports(named_1);var named_2=named_1.named,optional_1=createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.optional=function(){return function(e,t,r){var n=new metadata.Metadata(metadata_keys.OPTIONAL_TAG,!0);"number"==typeof r?decorator_utils.tagParameter(e,t,r,n):decorator_utils.tagProperty(e,t,n)}}});unwrapExports(optional_1);var optional_2=optional_1.optional,unmanaged_1=createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.unmanaged=function(){return function(e,t,r){var n=new metadata.Metadata(metadata_keys.UNMANAGED_TAG,!0);decorator_utils.tagParameter(e,t,r,n)}}});unwrapExports(unmanaged_1);var unmanaged_2=unmanaged_1.unmanaged,multi_inject=createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.multiInject=function(e){return function(t,r,n){var i=new metadata.Metadata(metadata_keys.MULTI_INJECT_TAG,e);"number"==typeof n?decorator_utils.tagParameter(t,r,n,i):decorator_utils.tagProperty(t,r,i)}}});unwrapExports(multi_inject);var multi_inject_1=multi_inject.multiInject,target_name=createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.targetName=function(e){return function(t,r,n){var i=new metadata.Metadata(metadata_keys.NAME_TAG,e);decorator_utils.tagParameter(t,r,n,i)}}});unwrapExports(target_name);var target_name_1=target_name.targetName,post_construct=createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.postConstruct=function(){return function(e,t,r){var n=new metadata.Metadata(metadata_keys.POST_CONSTRUCT,t);if(Reflect.hasOwnMetadata(metadata_keys.POST_CONSTRUCT,e.constructor))throw new Error(error_msgs.MULTIPLE_POST_CONSTRUCT_METHODS);Reflect.defineMetadata(metadata_keys.POST_CONSTRUCT,n,e.constructor)}}});unwrapExports(post_construct);var post_construct_1=post_construct.postConstruct,binding_utils=createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.multiBindToService=function(e){return function(t){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return r.forEach(function(r){return e.bind(r).toService(t)})}}}});unwrapExports(binding_utils);var binding_utils_1=binding_utils.multiBindToService,inversify=createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.METADATA_KEY=metadata_keys,t.Container=container.Container,t.BindingScopeEnum=literal_types.BindingScopeEnum,t.BindingTypeEnum=literal_types.BindingTypeEnum,t.TargetTypeEnum=literal_types.TargetTypeEnum,t.AsyncContainerModule=container_module.AsyncContainerModule,t.ContainerModule=container_module.ContainerModule,t.injectable=injectable_1.injectable,t.tagged=tagged_1.tagged,t.named=named_1.named,t.inject=inject_1.inject,t.LazyServiceIdentifer=inject_1.LazyServiceIdentifer,t.optional=optional_1.optional,t.unmanaged=unmanaged_1.unmanaged,t.multiInject=multi_inject.multiInject,t.targetName=target_name.targetName,t.postConstruct=post_construct.postConstruct,t.MetadataReader=metadata_reader.MetadataReader,t.id=id_1.id,t.decorate=decorator_utils.decorate,t.traverseAncerstors=constraint_helpers.traverseAncerstors,t.taggedConstraint=constraint_helpers.taggedConstraint,t.namedConstraint=constraint_helpers.namedConstraint,t.typeConstraint=constraint_helpers.typeConstraint,t.getServiceIdentifierAsString=serialization.getServiceIdentifierAsString,t.multiBindToService=binding_utils.multiBindToService});unwrapExports(inversify);var inversify_1=inversify.METADATA_KEY,inversify_2=inversify.Container,inversify_3=inversify.BindingScopeEnum,inversify_4=inversify.BindingTypeEnum,inversify_5=inversify.TargetTypeEnum,inversify_6=inversify.AsyncContainerModule,inversify_7=inversify.ContainerModule,inversify_8=inversify.injectable,inversify_9=inversify.tagged,inversify_10=inversify.named,inversify_11=inversify.inject,inversify_12=inversify.LazyServiceIdentifer,inversify_13=inversify.optional,inversify_14=inversify.unmanaged,inversify_15=inversify.multiInject,inversify_16=inversify.targetName,inversify_17=inversify.postConstruct,inversify_18=inversify.MetadataReader,inversify_19=inversify.id,inversify_20=inversify.decorate,inversify_21=inversify.traverseAncerstors,inversify_22=inversify.taggedConstraint,inversify_23=inversify.namedConstraint,inversify_24=inversify.typeConstraint,inversify_25=inversify.getServiceIdentifierAsString,inversify_26=inversify.multiBindToService,MediaApi=function(){function e(){var e=this;this._watchMedia=function(t){e._queries.forEach(function(t){t.removeEventListener?t.removeEventListener("change",e._updateQueries):t.removeListener(e._updateQueries)}),e._queries=t.map(function(e){return matchMedia(e)}),e._queries.forEach(function(t){t.removeEventListener?t.addEventListener("change",e._updateQueries):t.addListener(e._updateQueries)}),e._updateQueries()},this._updateQueries=function(){return e._ports.onMediaUpdate_.send(e._queries.map(function(e){return e.matches}))},this._queries=[]}return e.prototype.init=function(e){this._ports=e,e.watchMedia_.subscribe(this._watchMedia)},e=__decorate([inversify_8()],e)}(),ScrollIntoView=function(){function e(){this._scrollIntoView=function(e){var t=__read(e,2),r=t[0],n=t[1],i=document.getElementById(n);i?i.scrollIntoView({block:r}):new Task(r,n).start()}}return e.prototype.init=function(e){e.scrollIntoView_.subscribe(this._scrollIntoView)},e=__decorate([inversify_8()],e)}(),Task=function(){function e(e,t,r){var n=this;void 0===r&&(r=100),this._position=e,this._id=t,this._timeout=r,this._onMutation=function(e){if(e.find(function(e){return e.addedNodes})){var t=document.getElementById(n._id);t&&(n._observer.disconnect(),clearTimeout(n._timeoutHandle),t.scrollIntoView({block:n._position}))}},this._observer=new MutationObserver(this._onMutation),this._timeoutHandle=null}return e.prototype.start=function(){var e=this;setTimeout(function(){return e._observer.disconnect()},this._timeout),this._observer.observe(document.body,{attributes:!1,characterData:!1,childList:!0,subtree:!0})},e}(),lookup$1=[],revLookup=[],Arr="undefined"!=typeof Uint8Array?Uint8Array:Array,inited=!1;function init(){inited=!0;for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=0,r=e.length;t<r;++t)lookup$1[t]=e[t],revLookup[e.charCodeAt(t)]=t;revLookup["-".charCodeAt(0)]=62,revLookup["_".charCodeAt(0)]=63}function toByteArray(e){var t,r,n,i,a,o;inited||init();var s=e.length;if(s%4>0)throw new Error("Invalid string. Length must be a multiple of 4");a="="===e[s-2]?2:"="===e[s-1]?1:0,o=new Arr(3*s/4-a),n=a>0?s-4:s;var u=0;for(t=0,r=0;t<n;t+=4,r+=3)i=revLookup[e.charCodeAt(t)]<<18|revLookup[e.charCodeAt(t+1)]<<12|revLookup[e.charCodeAt(t+2)]<<6|revLookup[e.charCodeAt(t+3)],o[u++]=i>>16&255,o[u++]=i>>8&255,o[u++]=255&i;return 2===a?(i=revLookup[e.charCodeAt(t)]<<2|revLookup[e.charCodeAt(t+1)]>>4,o[u++]=255&i):1===a&&(i=revLookup[e.charCodeAt(t)]<<10|revLookup[e.charCodeAt(t+1)]<<4|revLookup[e.charCodeAt(t+2)]>>2,o[u++]=i>>8&255,o[u++]=255&i),o}function tripletToBase64(e){return lookup$1[e>>18&63]+lookup$1[e>>12&63]+lookup$1[e>>6&63]+lookup$1[63&e]}function encodeChunk(e,t,r){for(var n,i=[],a=t;a<r;a+=3)n=(e[a]<<16)+(e[a+1]<<8)+e[a+2],i.push(tripletToBase64(n));return i.join("")}function fromByteArray(e){var t;inited||init();for(var r=e.length,n=r%3,i="",a=[],o=0,s=r-n;o<s;o+=16383)a.push(encodeChunk(e,o,o+16383>s?s:o+16383));return 1===n?(t=e[r-1],i+=lookup$1[t>>2],i+=lookup$1[t<<4&63],i+="=="):2===n&&(t=(e[r-2]<<8)+e[r-1],i+=lookup$1[t>>10],i+=lookup$1[t>>4&63],i+=lookup$1[t<<2&63],i+="="),a.push(i),a.join("")}function read$1(e,t,r,n,i){var a,o,s=8*i-n-1,u=(1<<s)-1,c=u>>1,f=-7,l=r?i-1:0,h=r?-1:1,d=e[t+l];for(l+=h,a=d&(1<<-f)-1,d>>=-f,f+=s;f>0;a=256*a+e[t+l],l+=h,f-=8);for(o=a&(1<<-f)-1,a>>=-f,f+=n;f>0;o=256*o+e[t+l],l+=h,f-=8);if(0===a)a=1-c;else{if(a===u)return o?NaN:1/0*(d?-1:1);o+=Math.pow(2,n),a-=c}return(d?-1:1)*o*Math.pow(2,a-n)}function write(e,t,r,n,i,a){var o,s,u,c=8*a-i-1,f=(1<<c)-1,l=f>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:a-1,p=n?1:-1,_=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=f):(o=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-o))<1&&(o--,u*=2),(t+=o+l>=1?h/u:h*Math.pow(2,1-l))*u>=2&&(o++,u/=2),o+l>=f?(s=0,o=f):o+l>=1?(s=(t*u-1)*Math.pow(2,i),o+=l):(s=t*Math.pow(2,l-1)*Math.pow(2,i),o=0));i>=8;e[r+d]=255&s,d+=p,s/=256,i-=8);for(o=o<<i|s,c+=i;c>0;e[r+d]=255&o,d+=p,o/=256,c-=8);e[r+d-p]|=128*_}var toString={}.toString,isArray$1=Array.isArray||function(e){return"[object Array]"==toString.call(e)},INSPECT_MAX_BYTES=50;Buffer.TYPED_ARRAY_SUPPORT=void 0===global$1.TYPED_ARRAY_SUPPORT||global$1.TYPED_ARRAY_SUPPORT;var _kMaxLength=kMaxLength();function kMaxLength(){return Buffer.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function createBuffer(e,t){if(kMaxLength()<t)throw new RangeError("Invalid typed array length");return Buffer.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=Buffer.prototype:(null===e&&(e=new Buffer(t)),e.length=t),e}function Buffer(e,t,r){if(!(Buffer.TYPED_ARRAY_SUPPORT||this instanceof Buffer))return new Buffer(e,t,r);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return allocUnsafe(this,e)}return from(this,e,t,r)}function from(e,t,r,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?fromArrayBuffer(e,t,r,n):"string"==typeof t?fromString(e,t,r):fromObject(e,t)}function assertSize(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function alloc(e,t,r,n){return assertSize(t),t<=0?createBuffer(e,t):void 0!==r?"string"==typeof n?createBuffer(e,t).fill(r,n):createBuffer(e,t).fill(r):createBuffer(e,t)}function allocUnsafe(e,t){if(assertSize(t),e=createBuffer(e,t<0?0:0|checked(t)),!Buffer.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function fromString(e,t,r){if("string"==typeof r&&""!==r||(r="utf8"),!Buffer.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|byteLength(t,r),i=(e=createBuffer(e,n)).write(t,r);return i!==n&&(e=e.slice(0,i)),e}function fromArrayLike(e,t){var r=t.length<0?0:0|checked(t.length);e=createBuffer(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function fromArrayBuffer(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");return t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n),Buffer.TYPED_ARRAY_SUPPORT?(e=t).__proto__=Buffer.prototype:e=fromArrayLike(e,t),e}function fromObject(e,t){if(internalIsBuffer(t)){var r=0|checked(t.length);return 0===(e=createBuffer(e,r)).length?e:(t.copy(e,0,0,r),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||isnan(t.length)?createBuffer(e,0):fromArrayLike(e,t);if("Buffer"===t.type&&isArray$1(t.data))return fromArrayLike(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function checked(e){if(e>=kMaxLength())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+kMaxLength().toString(16)+" bytes");return 0|e}function SlowBuffer(e){return+e!=e&&(e=0),Buffer.alloc(+e)}function internalIsBuffer(e){return!(null==e||!e._isBuffer)}function byteLength(e,t){if(internalIsBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return utf8ToBytes(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return base64ToBytes(e).length;default:if(n)return utf8ToBytes(e).length;t=(""+t).toLowerCase(),n=!0}}function slowToString(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return hexSlice(this,t,r);case"utf8":case"utf-8":return utf8Slice(this,t,r);case"ascii":return asciiSlice(this,t,r);case"latin1":case"binary":return latin1Slice(this,t,r);case"base64":return base64Slice(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function swap(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function bidirectionalIndexOf(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=Buffer.from(t,n)),internalIsBuffer(t))return 0===t.length?-1:arrayIndexOf(e,t,r,n,i);if("number"==typeof t)return t&=255,Buffer.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):arrayIndexOf(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function arrayIndexOf(e,t,r,n,i){var a,o=1,s=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;o=2,s/=2,u/=2,r/=2}function c(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){var f=-1;for(a=r;a<s;a++)if(c(e,a)===c(t,-1===f?0:a-f)){if(-1===f&&(f=a),a-f+1===u)return f*o}else-1!==f&&(a-=a-f),f=-1}else for(r+u>s&&(r=s-u),a=r;a>=0;a--){for(var l=!0,h=0;h<u;h++)if(c(e,a+h)!==c(t,h)){l=!1;break}if(l)return a}return-1}function hexWrite(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var a=t.length;if(a%2!=0)throw new TypeError("Invalid hex string");n>a/2&&(n=a/2);for(var o=0;o<n;++o){var s=parseInt(t.substr(2*o,2),16);if(isNaN(s))return o;e[r+o]=s}return o}function utf8Write(e,t,r,n){return blitBuffer(utf8ToBytes(t,e.length-r),e,r,n)}function asciiWrite(e,t,r,n){return blitBuffer(asciiToBytes(t),e,r,n)}function latin1Write(e,t,r,n){return asciiWrite(e,t,r,n)}function base64Write(e,t,r,n){return blitBuffer(base64ToBytes(t),e,r,n)}function ucs2Write(e,t,r,n){return blitBuffer(utf16leToBytes(t,e.length-r),e,r,n)}function base64Slice(e,t,r){return 0===t&&r===e.length?fromByteArray(e):fromByteArray(e.slice(t,r))}function utf8Slice(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var a,o,s,u,c=e[i],f=null,l=c>239?4:c>223?3:c>191?2:1;if(i+l<=r)switch(l){case 1:c<128&&(f=c);break;case 2:128==(192&(a=e[i+1]))&&(u=(31&c)<<6|63&a)>127&&(f=u);break;case 3:a=e[i+1],o=e[i+2],128==(192&a)&&128==(192&o)&&(u=(15&c)<<12|(63&a)<<6|63&o)>2047&&(u<55296||u>57343)&&(f=u);break;case 4:a=e[i+1],o=e[i+2],s=e[i+3],128==(192&a)&&128==(192&o)&&128==(192&s)&&(u=(15&c)<<18|(63&a)<<12|(63&o)<<6|63&s)>65535&&u<1114112&&(f=u)}null===f?(f=65533,l=1):f>65535&&(f-=65536,n.push(f>>>10&1023|55296),f=56320|1023&f),n.push(f),i+=l}return decodeCodePointsArray(n)}Buffer.poolSize=8192,Buffer._augment=function(e){return e.__proto__=Buffer.prototype,e},Buffer.from=function(e,t,r){return from(null,e,t,r)},Buffer.TYPED_ARRAY_SUPPORT&&(Buffer.prototype.__proto__=Uint8Array.prototype,Buffer.__proto__=Uint8Array),Buffer.alloc=function(e,t,r){return alloc(null,e,t,r)},Buffer.allocUnsafe=function(e){return allocUnsafe(null,e)},Buffer.allocUnsafeSlow=function(e){return allocUnsafe(null,e)},Buffer.isBuffer=isBuffer,Buffer.compare=function(e,t){if(!internalIsBuffer(e)||!internalIsBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,i=0,a=Math.min(r,n);i<a;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},Buffer.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer.concat=function(e,t){if(!isArray$1(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return Buffer.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=Buffer.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var a=e[r];if(!internalIsBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,i),i+=a.length}return n},Buffer.byteLength=byteLength,Buffer.prototype._isBuffer=!0,Buffer.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)swap(this,t,t+1);return this},Buffer.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)swap(this,t,t+3),swap(this,t+1,t+2);return this},Buffer.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)swap(this,t,t+7),swap(this,t+1,t+6),swap(this,t+2,t+5),swap(this,t+3,t+4);return this},Buffer.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?utf8Slice(this,0,e):slowToString.apply(this,arguments)},Buffer.prototype.equals=function(e){if(!internalIsBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===Buffer.compare(this,e)},Buffer.prototype.inspect=function(){var e="",t=INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},Buffer.prototype.compare=function(e,t,r,n,i){if(!internalIsBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;for(var a=(i>>>=0)-(n>>>=0),o=(r>>>=0)-(t>>>=0),s=Math.min(a,o),u=this.slice(n,i),c=e.slice(t,r),f=0;f<s;++f)if(u[f]!==c[f]){a=u[f],o=c[f];break}return a<o?-1:o<a?1:0},Buffer.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},Buffer.prototype.indexOf=function(e,t,r){return bidirectionalIndexOf(this,e,t,r,!0)},Buffer.prototype.lastIndexOf=function(e,t,r){return bidirectionalIndexOf(this,e,t,r,!1)},Buffer.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var a=!1;;)switch(n){case"hex":return hexWrite(this,e,t,r);case"utf8":case"utf-8":return utf8Write(this,e,t,r);case"ascii":return asciiWrite(this,e,t,r);case"latin1":case"binary":return latin1Write(this,e,t,r);case"base64":return base64Write(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,e,t,r);default:if(a)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),a=!0}},Buffer.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var MAX_ARGUMENTS_LENGTH=4096;function decodeCodePointsArray(e){var t=e.length;if(t<=MAX_ARGUMENTS_LENGTH)return String.fromCharCode.apply(String,e);for(var r="",n=0;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=MAX_ARGUMENTS_LENGTH));return r}function asciiSlice(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function latin1Slice(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function hexSlice(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",a=t;a<r;++a)i+=toHex(e[a]);return i}function utf16leSlice(e,t,r){for(var n=e.slice(t,r),i="",a=0;a<n.length;a+=2)i+=String.fromCharCode(n[a]+256*n[a+1]);return i}function checkOffset(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function checkInt(e,t,r,n,i,a){if(!internalIsBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<a)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function objectWriteUInt16(e,t,r,n){t<0&&(t=65535+t+1);for(var i=0,a=Math.min(e.length-r,2);i<a;++i)e[r+i]=(t&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function objectWriteUInt32(e,t,r,n){t<0&&(t=4294967295+t+1);for(var i=0,a=Math.min(e.length-r,4);i<a;++i)e[r+i]=t>>>8*(n?i:3-i)&255}function checkIEEE754(e,t,r,n,i,a){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function writeFloat(e,t,r,n,i){return i||checkIEEE754(e,t,r,4),write(e,t,r,n,23,4),r+4}function writeDouble(e,t,r,n,i){return i||checkIEEE754(e,t,r,8),write(e,t,r,n,52,8),r+8}Buffer.prototype.slice=function(e,t){var r,n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),Buffer.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=Buffer.prototype;else{var i=t-e;r=new Buffer(i,void 0);for(var a=0;a<i;++a)r[a]=this[a+e]}return r},Buffer.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||checkOffset(e,t,this.length);for(var n=this[e],i=1,a=0;++a<t&&(i*=256);)n+=this[e+a]*i;return n},Buffer.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||checkOffset(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},Buffer.prototype.readUInt8=function(e,t){return t||checkOffset(e,1,this.length),this[e]},Buffer.prototype.readUInt16LE=function(e,t){return t||checkOffset(e,2,this.length),this[e]|this[e+1]<<8},Buffer.prototype.readUInt16BE=function(e,t){return t||checkOffset(e,2,this.length),this[e]<<8|this[e+1]},Buffer.prototype.readUInt32LE=function(e,t){return t||checkOffset(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},Buffer.prototype.readUInt32BE=function(e,t){return t||checkOffset(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},Buffer.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||checkOffset(e,t,this.length);for(var n=this[e],i=1,a=0;++a<t&&(i*=256);)n+=this[e+a]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},Buffer.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||checkOffset(e,t,this.length);for(var n=t,i=1,a=this[e+--n];n>0&&(i*=256);)a+=this[e+--n]*i;return a>=(i*=128)&&(a-=Math.pow(2,8*t)),a},Buffer.prototype.readInt8=function(e,t){return t||checkOffset(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},Buffer.prototype.readInt16LE=function(e,t){t||checkOffset(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},Buffer.prototype.readInt16BE=function(e,t){t||checkOffset(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},Buffer.prototype.readInt32LE=function(e,t){return t||checkOffset(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},Buffer.prototype.readInt32BE=function(e,t){return t||checkOffset(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},Buffer.prototype.readFloatLE=function(e,t){return t||checkOffset(e,4,this.length),read$1(this,e,!0,23,4)},Buffer.prototype.readFloatBE=function(e,t){return t||checkOffset(e,4,this.length),read$1(this,e,!1,23,4)},Buffer.prototype.readDoubleLE=function(e,t){return t||checkOffset(e,8,this.length),read$1(this,e,!0,52,8)},Buffer.prototype.readDoubleBE=function(e,t){return t||checkOffset(e,8,this.length),read$1(this,e,!1,52,8)},Buffer.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||checkInt(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,a=0;for(this[t]=255&e;++a<r&&(i*=256);)this[t+a]=e/i&255;return t+r},Buffer.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||checkInt(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,a=1;for(this[t+i]=255&e;--i>=0&&(a*=256);)this[t+i]=e/a&255;return t+r},Buffer.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,1,255,0),Buffer.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},Buffer.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):objectWriteUInt16(this,e,t,!0),t+2},Buffer.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):objectWriteUInt16(this,e,t,!1),t+2},Buffer.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):objectWriteUInt32(this,e,t,!0),t+4},Buffer.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):objectWriteUInt32(this,e,t,!1),t+4},Buffer.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);checkInt(this,e,t,r,i-1,-i)}var a=0,o=1,s=0;for(this[t]=255&e;++a<r&&(o*=256);)e<0&&0===s&&0!==this[t+a-1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+r},Buffer.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);checkInt(this,e,t,r,i-1,-i)}var a=r-1,o=1,s=0;for(this[t+a]=255&e;--a>=0&&(o*=256);)e<0&&0===s&&0!==this[t+a+1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+r},Buffer.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,1,127,-128),Buffer.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},Buffer.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):objectWriteUInt16(this,e,t,!0),t+2},Buffer.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):objectWriteUInt16(this,e,t,!1),t+2},Buffer.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,4,2147483647,-2147483648),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):objectWriteUInt32(this,e,t,!0),t+4},Buffer.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):objectWriteUInt32(this,e,t,!1),t+4},Buffer.prototype.writeFloatLE=function(e,t,r){return writeFloat(this,e,t,!0,r)},Buffer.prototype.writeFloatBE=function(e,t,r){return writeFloat(this,e,t,!1,r)},Buffer.prototype.writeDoubleLE=function(e,t,r){return writeDouble(this,e,t,!0,r)},Buffer.prototype.writeDoubleBE=function(e,t,r){return writeDouble(this,e,t,!1,r)},Buffer.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i,a=n-r;if(this===e&&r<t&&t<n)for(i=a-1;i>=0;--i)e[i+t]=this[i+r];else if(a<1e3||!Buffer.TYPED_ARRAY_SUPPORT)for(i=0;i<a;++i)e[i+t]=this[i+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+a),t);return a},Buffer.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!Buffer.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var a;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(a=t;a<r;++a)this[a]=e;else{var o=internalIsBuffer(e)?e:utf8ToBytes(new Buffer(e,n).toString()),s=o.length;for(a=0;a<r-t;++a)this[a+t]=o[a%s]}return this};var INVALID_BASE64_RE=/[^+\/0-9A-Za-z-_]/g;function base64clean(e){if((e=stringtrim(e).replace(INVALID_BASE64_RE,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}function stringtrim(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function toHex(e){return e<16?"0"+e.toString(16):e.toString(16)}function utf8ToBytes(e,t){var r;t=t||1/0;for(var n=e.length,i=null,a=[],o=0;o<n;++o){if((r=e.charCodeAt(o))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(o+1===n){(t-=3)>-1&&a.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&a.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&a.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;a.push(r)}else if(r<2048){if((t-=2)<0)break;a.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;a.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return a}function asciiToBytes(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}function utf16leToBytes(e,t){for(var r,n,i,a=[],o=0;o<e.length&&!((t-=2)<0);++o)n=(r=e.charCodeAt(o))>>8,i=r%256,a.push(i),a.push(n);return a}function base64ToBytes(e){return toByteArray(base64clean(e))}function blitBuffer(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function isnan(e){return e!=e}function isBuffer(e){return null!=e&&(!!e._isBuffer||isFastBuffer(e)||isSlowBuffer(e))}function isFastBuffer(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function isSlowBuffer(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&isFastBuffer(e.slice(0,0))}var bufferEs6=Object.freeze({INSPECT_MAX_BYTES:INSPECT_MAX_BYTES,kMaxLength:_kMaxLength,Buffer:Buffer,SlowBuffer:SlowBuffer,isBuffer:isBuffer}),domain,inherits;function EventHandlers(){}function EventEmitter(){EventEmitter.init.call(this)}function $getMaxListeners(e){return void 0===e._maxListeners?EventEmitter.defaultMaxListeners:e._maxListeners}function emitNone(e,t,r){if(t)e.call(r);else for(var n=e.length,i=arrayClone(e,n),a=0;a<n;++a)i[a].call(r)}function emitOne(e,t,r,n){if(t)e.call(r,n);else for(var i=e.length,a=arrayClone(e,i),o=0;o<i;++o)a[o].call(r,n)}function emitTwo(e,t,r,n,i){if(t)e.call(r,n,i);else for(var a=e.length,o=arrayClone(e,a),s=0;s<a;++s)o[s].call(r,n,i)}function emitThree(e,t,r,n,i,a){if(t)e.call(r,n,i,a);else for(var o=e.length,s=arrayClone(e,o),u=0;u<o;++u)s[u].call(r,n,i,a)}function emitMany(e,t,r,n){if(t)e.apply(r,n);else for(var i=e.length,a=arrayClone(e,i),o=0;o<i;++o)a[o].apply(r,n)}function _addListener(e,t,r,n){var i,a,o;if("function"!=typeof r)throw new TypeError('"listener" argument must be a function');if((a=e._events)?(a.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),a=e._events),o=a[t]):(a=e._events=new EventHandlers,e._eventsCount=0),o){if("function"==typeof o?o=a[t]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),!o.warned&&(i=$getMaxListeners(e))&&i>0&&o.length>i){o.warned=!0;var s=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+t+" listeners added. Use emitter.setMaxListeners() to increase limit");s.name="MaxListenersExceededWarning",s.emitter=e,s.type=t,s.count=o.length,emitWarning(s)}}else o=a[t]=r,++e._eventsCount;return e}function emitWarning(e){"function"==typeof console.warn?console.warn(e):console.log(e)}function _onceWrap(e,t,r){var n=!1;function i(){e.removeListener(t,i),n||(n=!0,r.apply(e,arguments))}return i.listener=r,i}function listenerCount(e){var t=this._events;if(t){var r=t[e];if("function"==typeof r)return 1;if(r)return r.length}return 0}function spliceOne(e,t){for(var r=t,n=r+1,i=e.length;n<i;r+=1,n+=1)e[r]=e[n];e.pop()}function arrayClone(e,t){for(var r=new Array(t);t--;)r[t]=e[t];return r}function unwrapListeners(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}EventHandlers.prototype=Object.create(null),EventEmitter.EventEmitter=EventEmitter,EventEmitter.usingDomains=!1,EventEmitter.prototype.domain=void 0,EventEmitter.prototype._events=void 0,EventEmitter.prototype._maxListeners=void 0,EventEmitter.defaultMaxListeners=10,EventEmitter.init=function(){this.domain=null,EventEmitter.usingDomains&&domain.active&&domain.Domain,this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=new EventHandlers,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},EventEmitter.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=e,this},EventEmitter.prototype.getMaxListeners=function(){return $getMaxListeners(this)},EventEmitter.prototype.emit=function(e){var t,r,n,i,a,o,s,u="error"===e;if(o=this._events)u=u&&null==o.error;else if(!u)return!1;if(s=this.domain,u){if(t=arguments[1],!s){if(t instanceof Error)throw t;var c=new Error('Uncaught, unspecified "error" event. ('+t+")");throw c.context=t,c}return t||(t=new Error('Uncaught, unspecified "error" event')),t.domainEmitter=this,t.domain=s,t.domainThrown=!1,s.emit("error",t),!1}if(!(r=o[e]))return!1;var f="function"==typeof r;switch(n=arguments.length){case 1:emitNone(r,f,this);break;case 2:emitOne(r,f,this,arguments[1]);break;case 3:emitTwo(r,f,this,arguments[1],arguments[2]);break;case 4:emitThree(r,f,this,arguments[1],arguments[2],arguments[3]);break;default:for(i=new Array(n-1),a=1;a<n;a++)i[a-1]=arguments[a];emitMany(r,f,this,i)}return!0},EventEmitter.prototype.addListener=function(e,t){return _addListener(this,e,t,!1)},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.prependListener=function(e,t){return _addListener(this,e,t,!0)},EventEmitter.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.on(e,_onceWrap(this,e,t)),this},EventEmitter.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.prependListener(e,_onceWrap(this,e,t)),this},EventEmitter.prototype.removeListener=function(e,t){var r,n,i,a,o;if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');if(!(n=this._events))return this;if(!(r=n[e]))return this;if(r===t||r.listener&&r.listener===t)0==--this._eventsCount?this._events=new EventHandlers:(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(i=-1,a=r.length;a-- >0;)if(r[a]===t||r[a].listener&&r[a].listener===t){o=r[a].listener,i=a;break}if(i<0)return this;if(1===r.length){if(r[0]=void 0,0==--this._eventsCount)return this._events=new EventHandlers,this;delete n[e]}else spliceOne(r,i);n.removeListener&&this.emit("removeListener",e,o||t)}return this},EventEmitter.prototype.removeAllListeners=function(e){var t,r;if(!(r=this._events))return this;if(!r.removeListener)return 0===arguments.length?(this._events=new EventHandlers,this._eventsCount=0):r[e]&&(0==--this._eventsCount?this._events=new EventHandlers:delete r[e]),this;if(0===arguments.length){for(var n,i=Object.keys(r),a=0;a<i.length;++a)"removeListener"!==(n=i[a])&&this.removeAllListeners(n);return this.removeAllListeners("removeListener"),this._events=new EventHandlers,this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(t)do{this.removeListener(e,t[t.length-1])}while(t[0]);return this},EventEmitter.prototype.listeners=function(e){var t,r=this._events;return r&&(t=r[e])?"function"==typeof t?[t.listener||t]:unwrapListeners(t):[]},EventEmitter.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):listenerCount.call(e,t)},EventEmitter.prototype.listenerCount=listenerCount,EventEmitter.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]},inherits="function"==typeof Object.create?function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e};var inherits$1=inherits,formatRegExp=/%[sdj%]/g;function format(e){if(!isString$1(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(inspect(arguments[r]));return t.join(" ")}r=1;for(var n=arguments,i=n.length,a=String(e).replace(formatRegExp,function(e){if("%%"===e)return"%";if(r>=i)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return e}}),o=n[r];r<i;o=n[++r])isNull(o)||!isObject$1(o)?a+=" "+o:a+=" "+inspect(o);return a}function deprecate(e,t){if(isUndefined(global$1.process))return function(){return deprecate(e,t).apply(this,arguments)};var r=!1;return function(){return r||(console.error(t),r=!0),e.apply(this,arguments)}}var debugs={},debugEnviron;function debuglog(e){if(isUndefined(debugEnviron)&&(debugEnviron=""),e=e.toUpperCase(),!debugs[e])if(new RegExp("\\b"+e+"\\b","i").test(debugEnviron)){debugs[e]=function(){var t=format.apply(null,arguments);console.error("%s %d: %s",e,0,t)}}else debugs[e]=function(){};return debugs[e]}function inspect(e,t){var r={seen:[],stylize:stylizeNoColor};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),isBoolean$1(t)?r.showHidden=t:t&&_extend(r,t),isUndefined(r.showHidden)&&(r.showHidden=!1),isUndefined(r.depth)&&(r.depth=2),isUndefined(r.colors)&&(r.colors=!1),isUndefined(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=stylizeWithColor),formatValue(r,e,r.depth)}function stylizeWithColor(e,t){var r=inspect.styles[t];return r?"["+inspect.colors[r][0]+"m"+e+"["+inspect.colors[r][1]+"m":e}function stylizeNoColor(e,t){return e}function arrayToHash(e){var t={};return e.forEach(function(e,r){t[e]=!0}),t}function formatValue(e,t,r){if(e.customInspect&&t&&isFunction$1(t.inspect)&&t.inspect!==inspect&&(!t.constructor||t.constructor.prototype!==t)){var n=t.inspect(r,e);return isString$1(n)||(n=formatValue(e,n,r)),n}var i=formatPrimitive(e,t);if(i)return i;var a=Object.keys(t),o=arrayToHash(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(t)),isError(t)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return formatError(t);if(0===a.length){if(isFunction$1(t)){var s=t.name?": "+t.name:"";return e.stylize("[Function"+s+"]","special")}if(isRegExp(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(isDate(t))return e.stylize(Date.prototype.toString.call(t),"date");if(isError(t))return formatError(t)}var u,c="",f=!1,l=["{","}"];(isArray$2(t)&&(f=!0,l=["[","]"]),isFunction$1(t))&&(c=" [Function"+(t.name?": "+t.name:"")+"]");return isRegExp(t)&&(c=" "+RegExp.prototype.toString.call(t)),isDate(t)&&(c=" "+Date.prototype.toUTCString.call(t)),isError(t)&&(c=" "+formatError(t)),0!==a.length||f&&0!=t.length?r<0?isRegExp(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special"):(e.seen.push(t),u=f?formatArray(e,t,r,o,a):a.map(function(n){return formatProperty(e,t,r,o,n,f)}),e.seen.pop(),reduceToSingleString(u,c,l)):l[0]+c+l[1]}function formatPrimitive(e,t){if(isUndefined(t))return e.stylize("undefined","undefined");if(isString$1(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}return isNumber$1(t)?e.stylize(""+t,"number"):isBoolean$1(t)?e.stylize(""+t,"boolean"):isNull(t)?e.stylize("null","null"):void 0}function formatError(e){return"["+Error.prototype.toString.call(e)+"]"}function formatArray(e,t,r,n,i){for(var a=[],o=0,s=t.length;o<s;++o)hasOwnProperty(t,String(o))?a.push(formatProperty(e,t,r,n,String(o),!0)):a.push("");return i.forEach(function(i){i.match(/^\d+$/)||a.push(formatProperty(e,t,r,n,i,!0))}),a}function formatProperty(e,t,r,n,i,a){var o,s,u;if((u=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?s=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(s=e.stylize("[Setter]","special")),hasOwnProperty(n,i)||(o="["+i+"]"),s||(e.seen.indexOf(u.value)<0?(s=isNull(r)?formatValue(e,u.value,null):formatValue(e,u.value,r-1)).indexOf("\n")>-1&&(s=a?s.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+s.split("\n").map(function(e){return"   "+e}).join("\n")):s=e.stylize("[Circular]","special")),isUndefined(o)){if(a&&i.match(/^\d+$/))return s;(o=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=e.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=e.stylize(o,"string"))}return o+": "+s}function reduceToSingleString(e,t,r){return e.reduce(function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1]:r[0]+t+" "+e.join(", ")+" "+r[1]}function isArray$2(e){return Array.isArray(e)}function isBoolean$1(e){return"boolean"==typeof e}function isNull(e){return null===e}function isNumber$1(e){return"number"==typeof e}function isString$1(e){return"string"==typeof e}function isUndefined(e){return void 0===e}function isRegExp(e){return isObject$1(e)&&"[object RegExp]"===objectToString(e)}function isObject$1(e){return"object"==typeof e&&null!==e}function isDate(e){return isObject$1(e)&&"[object Date]"===objectToString(e)}function isError(e){return isObject$1(e)&&("[object Error]"===objectToString(e)||e instanceof Error)}function isFunction$1(e){return"function"==typeof e}function objectToString(e){return Object.prototype.toString.call(e)}function _extend(e,t){if(!t||!isObject$1(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e}function hasOwnProperty(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function BufferList(){this.head=null,this.tail=null,this.length=0}inspect.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},inspect.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},BufferList.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},BufferList.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},BufferList.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},BufferList.prototype.clear=function(){this.head=this.tail=null,this.length=0},BufferList.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r},BufferList.prototype.concat=function(e){if(0===this.length)return Buffer.alloc(0);if(1===this.length)return this.head.data;for(var t=Buffer.allocUnsafe(e>>>0),r=this.head,n=0;r;)r.data.copy(t,n),n+=r.data.length,r=r.next;return t};var string_decoder=createCommonjsModule(function(e,t){var r=bufferEs6.Buffer,n=r.isEncoding||function(e){switch(e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};var i=t.StringDecoder=function(e){switch(this.encoding=(e||"utf8").toLowerCase().replace(/[-_]/,""),function(e){if(e&&!n(e))throw new Error("Unknown encoding: "+e)}(e),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=o;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=s;break;default:return void(this.write=a)}this.charBuffer=new r(6),this.charReceived=0,this.charLength=0};function a(e){return e.toString(this.encoding)}function o(e){this.charReceived=e.length%2,this.charLength=this.charReceived?2:0}function s(e){this.charReceived=e.length%3,this.charLength=this.charReceived?3:0}i.prototype.write=function(e){for(var t="";this.charLength;){var r=e.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:e.length;if(e.copy(this.charBuffer,this.charReceived,0,r),this.charReceived+=r,this.charReceived<this.charLength)return"";if(e=e.slice(r,e.length),!((i=(t=this.charBuffer.slice(0,this.charLength).toString(this.encoding)).charCodeAt(t.length-1))>=55296&&i<=56319)){if(this.charReceived=this.charLength=0,0===e.length)return t;break}this.charLength+=this.surrogateSize,t=""}this.detectIncompleteChar(e);var n=e.length;this.charLength&&(e.copy(this.charBuffer,0,e.length-this.charReceived,n),n-=this.charReceived);var i;n=(t+=e.toString(this.encoding,0,n)).length-1;if((i=t.charCodeAt(n))>=55296&&i<=56319){var a=this.surrogateSize;return this.charLength+=a,this.charReceived+=a,this.charBuffer.copy(this.charBuffer,a,0,a),e.copy(this.charBuffer,0,0,a),t.substring(0,n)}return t},i.prototype.detectIncompleteChar=function(e){for(var t=e.length>=3?3:e.length;t>0;t--){var r=e[e.length-t];if(1==t&&r>>5==6){this.charLength=2;break}if(t<=2&&r>>4==14){this.charLength=3;break}if(t<=3&&r>>3==30){this.charLength=4;break}}this.charReceived=t},i.prototype.end=function(e){var t="";if(e&&e.length&&(t=this.write(e)),this.charReceived){var r=this.charReceived,n=this.charBuffer,i=this.encoding;t+=n.slice(0,r).toString(i)}return t}}),string_decoder_1=string_decoder.StringDecoder;Readable.ReadableState=ReadableState;var debug=debuglog("stream");function prependListener(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}function listenerCount$1(e,t){return e.listeners(t).length}function ReadableState(e,t){e=e||{},this.objectMode=!!e.objectMode,t instanceof Duplex&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var r=e.highWaterMark,n=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:n,this.highWaterMark=~~this.highWaterMark,this.buffer=new BufferList,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(this.decoder=new string_decoder_1(e.encoding),this.encoding=e.encoding)}function Readable(e){if(!(this instanceof Readable))return new Readable(e);this._readableState=new ReadableState(e,this),this.readable=!0,e&&"function"==typeof e.read&&(this._read=e.read),EventEmitter.call(this)}function readableAddChunk(e,t,r,n,i){var a=chunkInvalid(t,r);if(a)e.emit("error",a);else if(null===r)t.reading=!1,onEofChunk(e,t);else if(t.objectMode||r&&r.length>0)if(t.ended&&!i){var o=new Error("stream.push() after EOF");e.emit("error",o)}else if(t.endEmitted&&i){var s=new Error("stream.unshift() after end event");e.emit("error",s)}else{var u;!t.decoder||i||n||(r=t.decoder.write(r),u=!t.objectMode&&0===r.length),i||(t.reading=!1),u||(t.flowing&&0===t.length&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,i?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&emitReadable(e))),maybeReadMore(e,t)}else i||(t.reading=!1);return needMoreData(t)}function needMoreData(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}inherits$1(Readable,EventEmitter),Readable.prototype.push=function(e,t){var r=this._readableState;return r.objectMode||"string"!=typeof e||(t=t||r.defaultEncoding)!==r.encoding&&(e=Buffer.from(e,t),t=""),readableAddChunk(this,r,e,t,!1)},Readable.prototype.unshift=function(e){return readableAddChunk(this,this._readableState,e,"",!0)},Readable.prototype.isPaused=function(){return!1===this._readableState.flowing},Readable.prototype.setEncoding=function(e){return this._readableState.decoder=new string_decoder_1(e),this._readableState.encoding=e,this};var MAX_HWM=8388608;function computeNewHighWaterMark(e){return e>=MAX_HWM?e=MAX_HWM:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function howMuchToRead(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=computeNewHighWaterMark(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function chunkInvalid(e,t){var r=null;return isBuffer(t)||"string"==typeof t||null==t||e.objectMode||(r=new TypeError("Invalid non-string/buffer chunk")),r}function onEofChunk(e,t){if(!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,emitReadable(e)}}function emitReadable(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(debug("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?nextTick(emitReadable_,e):emitReadable_(e))}function emitReadable_(e){debug("emit readable"),e.emit("readable"),flow(e)}function maybeReadMore(e,t){t.readingMore||(t.readingMore=!0,nextTick(maybeReadMore_,e,t))}function maybeReadMore_(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(debug("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}function pipeOnDrain(e){return function(){var t=e._readableState;debug("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&e.listeners("data").length&&(t.flowing=!0,flow(e))}}function nReadingNextTick(e){debug("readable nexttick read 0"),e.read(0)}function resume(e,t){t.resumeScheduled||(t.resumeScheduled=!0,nextTick(resume_,e,t))}function resume_(e,t){t.reading||(debug("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),flow(e),t.flowing&&!t.reading&&e.read(0)}function flow(e){var t=e._readableState;for(debug("flow",t.flowing);t.flowing&&null!==e.read(););}function fromList(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):r=fromListPartial(e,t.buffer,t.decoder),r);var r}function fromListPartial(e,t,r){var n;return e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):n=e===t.head.data.length?t.shift():r?copyFromBufferString(e,t):copyFromBuffer(e,t),n}function copyFromBufferString(e,t){var r=t.head,n=1,i=r.data;for(e-=i.length;r=r.next;){var a=r.data,o=e>a.length?a.length:e;if(o===a.length?i+=a:i+=a.slice(0,e),0===(e-=o)){o===a.length?(++n,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=a.slice(o));break}++n}return t.length-=n,i}function copyFromBuffer(e,t){var r=Buffer.allocUnsafe(e),n=t.head,i=1;for(n.data.copy(r),e-=n.data.length;n=n.next;){var a=n.data,o=e>a.length?a.length:e;if(a.copy(r,r.length-e,0,o),0===(e-=o)){o===a.length?(++i,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=a.slice(o));break}++i}return t.length-=i,r}function endReadable(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,nextTick(endReadableNT,t,e))}function endReadableNT(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function forEach(e,t){for(var r=0,n=e.length;r<n;r++)t(e[r],r)}function indexOf(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}function nop(){}function WriteReq(e,t,r){this.chunk=e,this.encoding=t,this.callback=r,this.next=null}function WritableState(e,t){Object.defineProperty(this,"buffer",{get:deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")}),e=e||{},this.objectMode=!!e.objectMode,t instanceof Duplex&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var r=e.highWaterMark,n=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:n,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var i=!1===e.decodeStrings;this.decodeStrings=!i,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){onwrite(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new CorkedRequest(this)}function Writable(e){if(!(this instanceof Writable||this instanceof Duplex))return new Writable(e);this._writableState=new WritableState(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev)),EventEmitter.call(this)}function writeAfterEnd(e,t){var r=new Error("write after end");e.emit("error",r),nextTick(t,r)}function validChunk(e,t,r,n){var i=!0,a=!1;return null===r?a=new TypeError("May not write null values to stream"):Buffer.isBuffer(r)||"string"==typeof r||void 0===r||t.objectMode||(a=new TypeError("Invalid non-string/buffer chunk")),a&&(e.emit("error",a),nextTick(n,a),i=!1),i}function decodeChunk(e,t,r){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=Buffer.from(t,r)),t}function writeOrBuffer(e,t,r,n,i){r=decodeChunk(t,r,n),Buffer.isBuffer(r)&&(n="buffer");var a=t.objectMode?1:r.length;t.length+=a;var o=t.length<t.highWaterMark;if(o||(t.needDrain=!0),t.writing||t.corked){var s=t.lastBufferedRequest;t.lastBufferedRequest=new WriteReq(r,n,i),s?s.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else doWrite(e,t,!1,a,r,n,i);return o}function doWrite(e,t,r,n,i,a,o){t.writelen=n,t.writecb=o,t.writing=!0,t.sync=!0,r?e._writev(i,t.onwrite):e._write(i,a,t.onwrite),t.sync=!1}function onwriteError(e,t,r,n,i){--t.pendingcb,r?nextTick(i,n):i(n),e._writableState.errorEmitted=!0,e.emit("error",n)}function onwriteStateUpdate(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function onwrite(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if(onwriteStateUpdate(r),t)onwriteError(e,r,n,t,i);else{var a=needFinish(r);a||r.corked||r.bufferProcessing||!r.bufferedRequest||clearBuffer(e,r),n?nextTick(afterWrite,e,r,a,i):afterWrite(e,r,a,i)}}function afterWrite(e,t,r,n){r||onwriteDrain(e,t),t.pendingcb--,n(),finishMaybe(e,t)}function onwriteDrain(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function clearBuffer(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),a=t.corkedRequestsFree;a.entry=r;for(var o=0;r;)i[o]=r,r=r.next,o+=1;doWrite(e,t,!0,t.length,i,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new CorkedRequest(t)}else{for(;r;){var s=r.chunk,u=r.encoding,c=r.callback;if(doWrite(e,t,!1,t.objectMode?1:s.length,s,u,c),r=r.next,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequestCount=0,t.bufferedRequest=r,t.bufferProcessing=!1}function needFinish(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function prefinish(e,t){t.prefinished||(t.prefinished=!0,e.emit("prefinish"))}function finishMaybe(e,t){var r=needFinish(t);return r&&(0===t.pendingcb?(prefinish(e,t),t.finished=!0,e.emit("finish")):prefinish(e,t)),r}function endWritable(e,t,r){t.ending=!0,finishMaybe(e,t),r&&(t.finished?nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}function CorkedRequest(e){var t=this;this.next=null,this.entry=null,this.finish=function(r){var n=t.entry;for(t.entry=null;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}}Readable.prototype.read=function(e){debug("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return debug("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?endReadable(this):emitReadable(this),null;if(0===(e=howMuchToRead(e,t))&&t.ended)return 0===t.length&&endReadable(this),null;var n,i=t.needReadable;return debug("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&debug("length less than watermark",i=!0),t.ended||t.reading?debug("reading or ended",i=!1):i&&(debug("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=howMuchToRead(r,t))),null===(n=e>0?fromList(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&endReadable(this)),null!==n&&this.emit("data",n),n},Readable.prototype._read=function(e){this.emit("error",new Error("not implemented"))},Readable.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e)}n.pipesCount+=1,debug("pipe count=%d opts=%j",n.pipesCount,t);var i=!t||!1!==t.end?o:c;function a(e){debug("onunpipe"),e===r&&c()}function o(){debug("onend"),e.end()}n.endEmitted?nextTick(i):r.once("end",i),e.on("unpipe",a);var s=pipeOnDrain(r);e.on("drain",s);var u=!1;function c(){debug("cleanup"),e.removeListener("close",d),e.removeListener("finish",p),e.removeListener("drain",s),e.removeListener("error",h),e.removeListener("unpipe",a),r.removeListener("end",o),r.removeListener("end",c),r.removeListener("data",l),u=!0,!n.awaitDrain||e._writableState&&!e._writableState.needDrain||s()}var f=!1;function l(t){debug("ondata"),f=!1,!1!==e.write(t)||f||((1===n.pipesCount&&n.pipes===e||n.pipesCount>1&&-1!==indexOf(n.pipes,e))&&!u&&(debug("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,f=!0),r.pause())}function h(t){debug("onerror",t),_(),e.removeListener("error",h),0===listenerCount$1(e,"error")&&e.emit("error",t)}function d(){e.removeListener("finish",p),_()}function p(){debug("onfinish"),e.removeListener("close",d),_()}function _(){debug("unpipe"),r.unpipe(e)}return r.on("data",l),prependListener(e,"error",h),e.once("close",d),e.once("finish",p),e.emit("pipe",r),n.flowing||(debug("pipe resume"),r.resume()),e},Readable.prototype.unpipe=function(e){var t=this._readableState;if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this),this);if(!e){var r=t.pipes,n=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var i=0;i<n;i++)r[i].emit("unpipe",this);return this}var a=indexOf(t.pipes,e);return-1===a?this:(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this),this)},Readable.prototype.on=function(e,t){var r=EventEmitter.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var n=this._readableState;n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&emitReadable(this):nextTick(nReadingNextTick,this))}return r},Readable.prototype.addListener=Readable.prototype.on,Readable.prototype.resume=function(){var e=this._readableState;return e.flowing||(debug("resume"),e.flowing=!0,resume(this,e)),this},Readable.prototype.pause=function(){return debug("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(debug("pause"),this._readableState.flowing=!1,this.emit("pause")),this},Readable.prototype.wrap=function(e){var t=this._readableState,r=!1,n=this;for(var i in e.on("end",function(){if(debug("wrapped end"),t.decoder&&!t.ended){var e=t.decoder.end();e&&e.length&&n.push(e)}n.push(null)}),e.on("data",function(i){(debug("wrapped data"),t.decoder&&(i=t.decoder.write(i)),t.objectMode&&null==i)||(t.objectMode||i&&i.length)&&(n.push(i)||(r=!0,e.pause()))}),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));return forEach(["error","close","destroy","pause","resume"],function(t){e.on(t,n.emit.bind(n,t))}),n._read=function(t){debug("wrapped _read",t),r&&(r=!1,e.resume())},n},Readable._fromList=fromList,Writable.WritableState=WritableState,inherits$1(Writable,EventEmitter),WritableState.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},Writable.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},Writable.prototype.write=function(e,t,r){var n=this._writableState,i=!1;return"function"==typeof t&&(r=t,t=null),Buffer.isBuffer(e)?t="buffer":t||(t=n.defaultEncoding),"function"!=typeof r&&(r=nop),n.ended?writeAfterEnd(this,r):validChunk(this,n,e,r)&&(n.pendingcb++,i=writeOrBuffer(this,n,e,t,r)),i},Writable.prototype.cork=function(){this._writableState.corked++},Writable.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||clearBuffer(this,e))},Writable.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Writable.prototype._write=function(e,t,r){r(new Error("not implemented"))},Writable.prototype._writev=null,Writable.prototype.end=function(e,t,r){var n=this._writableState;"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||endWritable(this,n,r)},inherits$1(Duplex,Readable);for(var keys=Object.keys(Writable.prototype),v=0;v<keys.length;v++){var method=keys[v];Duplex.prototype[method]||(Duplex.prototype[method]=Writable.prototype[method])}function Duplex(e){if(!(this instanceof Duplex))return new Duplex(e);Readable.call(this,e),Writable.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",onend)}function onend(){this.allowHalfOpen||this._writableState.ended||nextTick(onEndNT,this)}function onEndNT(e){e.end()}function TransformState(e){this.afterTransform=function(t,r){return afterTransform(e,t,r)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function afterTransform(e,t,r){var n=e._transformState;n.transforming=!1;var i=n.writecb;if(!i)return e.emit("error",new Error("no writecb in Transform class"));n.writechunk=null,n.writecb=null,null!=r&&e.push(r),i(t);var a=e._readableState;a.reading=!1,(a.needReadable||a.length<a.highWaterMark)&&e._read(a.highWaterMark)}function Transform(e){if(!(this instanceof Transform))return new Transform(e);Duplex.call(this,e),this._transformState=new TransformState(this);var t=this;this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.once("prefinish",function(){"function"==typeof this._flush?this._flush(function(e){done(t,e)}):done(t)})}function done(e,t){if(t)return e.emit("error",t);var r=e._writableState,n=e._transformState;if(r.length)throw new Error("Calling transform done when ws.length != 0");if(n.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}function PassThrough(e){if(!(this instanceof PassThrough))return new PassThrough(e);Transform.call(this,e)}function Stream(){EventEmitter.call(this)}inherits$1(Transform,Duplex),Transform.prototype.push=function(e,t){return this._transformState.needTransform=!1,Duplex.prototype.push.call(this,e,t)},Transform.prototype._transform=function(e,t,r){throw new Error("Not implemented")},Transform.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},Transform.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},inherits$1(PassThrough,Transform),PassThrough.prototype._transform=function(e,t,r){r(null,e)},inherits$1(Stream,EventEmitter),Stream.Readable=Readable,Stream.Writable=Writable,Stream.Duplex=Duplex,Stream.Transform=Transform,Stream.PassThrough=PassThrough,Stream.Stream=Stream,Stream.prototype.pipe=function(e,t){var r=this;function n(t){e.writable&&!1===e.write(t)&&r.pause&&r.pause()}function i(){r.readable&&r.resume&&r.resume()}r.on("data",n),e.on("drain",i),e._isStdio||t&&!1===t.end||(r.on("end",o),r.on("close",s));var a=!1;function o(){a||(a=!0,e.end())}function s(){a||(a=!0,"function"==typeof e.destroy&&e.destroy())}function u(e){if(c(),0===EventEmitter.listenerCount(this,"error"))throw e}function c(){r.removeListener("data",n),e.removeListener("drain",i),r.removeListener("end",o),r.removeListener("close",s),r.removeListener("error",u),e.removeListener("error",u),r.removeListener("end",c),r.removeListener("close",c),e.removeListener("close",c)}return r.on("error",u),e.on("error",u),r.on("end",c),r.on("close",c),e.on("close",c),e.emit("pipe",r),e};var support=createCommonjsModule(function(e,t){if(t.base64=!0,t.array=!0,t.string=!0,t.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,t.nodebuffer=void 0!==Buffer,t.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)t.blob=!1;else{var r=new ArrayBuffer(0);try{t.blob=0===new Blob([r],{type:"application/zip"}).size}catch(e){try{var n=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);n.append(r),t.blob=0===n.getBlob("application/zip").size}catch(e){t.blob=!1}}}try{t.nodestream=!!Stream.Readable}catch(e){t.nodestream=!1}}),support_1=support.base64,support_2=support.array,support_3=support.string,support_4=support.arraybuffer,support_5=support.nodebuffer,support_6=support.uint8array,support_7=support.blob,support_8=support.nodestream,_keyStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode=function(e){for(var t,r,n,i,a,o,s,u=[],c=0,f=e.length,l=f,h="string"!==utils.getTypeOf(e);c<e.length;)l=f-c,h?(t=e[c++],r=c<f?e[c++]:0,n=c<f?e[c++]:0):(t=e.charCodeAt(c++),r=c<f?e.charCodeAt(c++):0,n=c<f?e.charCodeAt(c++):0),i=t>>2,a=(3&t)<<4|r>>4,o=l>1?(15&r)<<2|n>>6:64,s=l>2?63&n:64,u.push(_keyStr.charAt(i)+_keyStr.charAt(a)+_keyStr.charAt(o)+_keyStr.charAt(s));return u.join("")},decode=function(e){var t,r,n,i,a,o,s=0,u=0;if("data:"===e.substr(0,"data:".length))throw new Error("Invalid base64 input, it looks like a data url.");var c,f=3*(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(e.charAt(e.length-1)===_keyStr.charAt(64)&&f--,e.charAt(e.length-2)===_keyStr.charAt(64)&&f--,f%1!=0)throw new Error("Invalid base64 input, bad content length.");for(c=support.uint8array?new Uint8Array(0|f):new Array(0|f);s<e.length;)t=_keyStr.indexOf(e.charAt(s++))<<2|(i=_keyStr.indexOf(e.charAt(s++)))>>4,r=(15&i)<<4|(a=_keyStr.indexOf(e.charAt(s++)))>>2,n=(3&a)<<6|(o=_keyStr.indexOf(e.charAt(s++))),c[u++]=t,64!==a&&(c[u++]=r),64!==o&&(c[u++]=n);return c},base64={encode:encode,decode:decode},nodejsUtils={isNode:void 0!==Buffer,newBufferFrom:function(e,t){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(e,t);if("number"==typeof e)throw new Error('The "data" argument must not be a number');return new Buffer(e,t)},allocBuffer:function(e){if(Buffer.alloc)return Buffer.alloc(e);var t=new Buffer(e);return t.fill(0),t},isBuffer:function(e){return isBuffer(e)},isStream:function(e){return e&&"function"==typeof e.on&&"function"==typeof e.pause&&"function"==typeof e.resume}},setImmediateShim="function"==typeof setImmediate?setImmediate:function(){var e=[].slice.apply(arguments);e.splice(1,0,0),setTimeout.apply(null,e)},Mutation=commonjsGlobal.MutationObserver||commonjsGlobal.WebKitMutationObserver,scheduleDrain,draining$1;if(Mutation){var called=0,observer$1=new Mutation(nextTick$1),element=commonjsGlobal.document.createTextNode("");observer$1.observe(element,{characterData:!0}),scheduleDrain=function(){element.data=called=++called%2}}else if(commonjsGlobal.setImmediate||void 0===commonjsGlobal.MessageChannel)scheduleDrain="document"in commonjsGlobal&&"onreadystatechange"in commonjsGlobal.document.createElement("script")?function(){var e=commonjsGlobal.document.createElement("script");e.onreadystatechange=function(){nextTick$1(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},commonjsGlobal.document.documentElement.appendChild(e)}:function(){setTimeout(nextTick$1,0)};else{var channel=new commonjsGlobal.MessageChannel;channel.port1.onmessage=nextTick$1,scheduleDrain=function(){channel.port2.postMessage(0)}}var queue$1=[];function nextTick$1(){var e,t;draining$1=!0;for(var r=queue$1.length;r;){for(t=queue$1,queue$1=[],e=-1;++e<r;)t[e]();r=queue$1.length}draining$1=!1}var lib=immediate;function immediate(e){1!==queue$1.push(e)||draining$1||scheduleDrain()}function INTERNAL(){}var handlers={},REJECTED=["REJECTED"],FULFILLED=["FULFILLED"],PENDING=["PENDING"],lib$1=Promise$1;function Promise$1(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=PENDING,this.queue=[],this.outcome=void 0,e!==INTERNAL&&safelyResolveThenable(this,e)}function QueueItem(e,t,r){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof r&&(this.onRejected=r,this.callRejected=this.otherCallRejected)}function unwrap(e,t,r){lib(function(){var n;try{n=t(r)}catch(t){return handlers.reject(e,t)}n===e?handlers.reject(e,new TypeError("Cannot resolve promise with itself")):handlers.resolve(e,n)})}function getThen(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function safelyResolveThenable(e,t){var r=!1;function n(t){r||(r=!0,handlers.reject(e,t))}function i(t){r||(r=!0,handlers.resolve(e,t))}var a=tryCatch(function(){t(i,n)});"error"===a.status&&n(a.value)}function tryCatch(e,t){var r={};try{r.value=e(t),r.status="success"}catch(e){r.status="error",r.value=e}return r}function resolve(e){return e instanceof this?e:handlers.resolve(new this(INTERNAL),e)}function reject(e){var t=new this(INTERNAL);return handlers.reject(t,e)}function all(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var r=e.length,n=!1;if(!r)return this.resolve([]);for(var i=new Array(r),a=0,o=-1,s=new this(INTERNAL);++o<r;)u(e[o],o);return s;function u(e,o){t.resolve(e).then(function(e){i[o]=e,++a!==r||n||(n=!0,handlers.resolve(s,i))},function(e){n||(n=!0,handlers.reject(s,e))})}}function race(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var r=e.length,n=!1;if(!r)return this.resolve([]);for(var i,a=-1,o=new this(INTERNAL);++a<r;)i=e[a],t.resolve(i).then(function(e){n||(n=!0,handlers.resolve(o,e))},function(e){n||(n=!0,handlers.reject(o,e))});return o}Promise$1.prototype.finally=function(e){if("function"!=typeof e)return this;var t=this.constructor;return this.then(function(r){return t.resolve(e()).then(function(){return r})},function(r){return t.resolve(e()).then(function(){throw r})})},Promise$1.prototype.catch=function(e){return this.then(null,e)},Promise$1.prototype.then=function(e,t){if("function"!=typeof e&&this.state===FULFILLED||"function"!=typeof t&&this.state===REJECTED)return this;var r=new this.constructor(INTERNAL);this.state!==PENDING?unwrap(r,this.state===FULFILLED?e:t,this.outcome):this.queue.push(new QueueItem(r,e,t));return r},QueueItem.prototype.callFulfilled=function(e){handlers.resolve(this.promise,e)},QueueItem.prototype.otherCallFulfilled=function(e){unwrap(this.promise,this.onFulfilled,e)},QueueItem.prototype.callRejected=function(e){handlers.reject(this.promise,e)},QueueItem.prototype.otherCallRejected=function(e){unwrap(this.promise,this.onRejected,e)},handlers.resolve=function(e,t){var r=tryCatch(getThen,t);if("error"===r.status)return handlers.reject(e,r.value);var n=r.value;if(n)safelyResolveThenable(e,n);else{e.state=FULFILLED,e.outcome=t;for(var i=-1,a=e.queue.length;++i<a;)e.queue[i].callFulfilled(t)}return e},handlers.reject=function(e,t){e.state=REJECTED,e.outcome=t;for(var r=-1,n=e.queue.length;++r<n;)e.queue[r].callRejected(t);return e},Promise$1.resolve=resolve,Promise$1.reject=reject,Promise$1.all=all,Promise$1.race=race;var ES6Promise=null;ES6Promise="undefined"!=typeof Promise?Promise:lib$1;var external={Promise:ES6Promise},utils=createCommonjsModule(function(e,t){function r(e){return e}function n(e,t){for(var r=0;r<e.length;++r)t[r]=255&e.charCodeAt(r);return t}t.newBlob=function(e,r){t.checkSupport("blob");try{return new Blob([e],{type:r})}catch(t){try{var n=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return n.append(e),n.getBlob(r)}catch(e){throw new Error("Bug : can't construct the Blob.")}}};var i={stringifyByChunk:function(e,t,r){var n=[],i=0,a=e.length;if(a<=r)return String.fromCharCode.apply(null,e);for(;i<a;)"array"===t||"nodebuffer"===t?n.push(String.fromCharCode.apply(null,e.slice(i,Math.min(i+r,a)))):n.push(String.fromCharCode.apply(null,e.subarray(i,Math.min(i+r,a)))),i+=r;return n.join("")},stringifyByChar:function(e){for(var t="",r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},applyCanBeUsed:{uint8array:function(){try{return support.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(e){return!1}}(),nodebuffer:function(){try{return support.nodebuffer&&1===String.fromCharCode.apply(null,nodejsUtils.allocBuffer(1)).length}catch(e){return!1}}()}};function a(e){var r=65536,n=t.getTypeOf(e),a=!0;if("uint8array"===n?a=i.applyCanBeUsed.uint8array:"nodebuffer"===n&&(a=i.applyCanBeUsed.nodebuffer),a)for(;r>1;)try{return i.stringifyByChunk(e,n,r)}catch(e){r=Math.floor(r/2)}return i.stringifyByChar(e)}function o(e,t){for(var r=0;r<e.length;r++)t[r]=e[r];return t}t.applyFromCharCode=a;var s={};s.string={string:r,array:function(e){return n(e,new Array(e.length))},arraybuffer:function(e){return s.string.uint8array(e).buffer},uint8array:function(e){return n(e,new Uint8Array(e.length))},nodebuffer:function(e){return n(e,nodejsUtils.allocBuffer(e.length))}},s.array={string:a,array:r,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return nodejsUtils.newBufferFrom(e)}},s.arraybuffer={string:function(e){return a(new Uint8Array(e))},array:function(e){return o(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:r,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return nodejsUtils.newBufferFrom(new Uint8Array(e))}},s.uint8array={string:a,array:function(e){return o(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:r,nodebuffer:function(e){return nodejsUtils.newBufferFrom(e)}},s.nodebuffer={string:a,array:function(e){return o(e,new Array(e.length))},arraybuffer:function(e){return s.nodebuffer.uint8array(e).buffer},uint8array:function(e){return o(e,new Uint8Array(e.length))},nodebuffer:r},t.transformTo=function(e,r){if(r||(r=""),!e)return r;t.checkSupport(e);var n=t.getTypeOf(r);return s[n][e](r)},t.getTypeOf=function(e){return"string"==typeof e?"string":"[object Array]"===Object.prototype.toString.call(e)?"array":support.nodebuffer&&nodejsUtils.isBuffer(e)?"nodebuffer":support.uint8array&&e instanceof Uint8Array?"uint8array":support.arraybuffer&&e instanceof ArrayBuffer?"arraybuffer":void 0},t.checkSupport=function(e){if(!support[e.toLowerCase()])throw new Error(e+" is not supported by this platform")},t.MAX_VALUE_16BITS=65535,t.MAX_VALUE_32BITS=-1,t.pretty=function(e){var t,r,n="";for(r=0;r<(e||"").length;r++)n+="\\x"+((t=e.charCodeAt(r))<16?"0":"")+t.toString(16).toUpperCase();return n},t.delay=function(e,t,r){setImmediateShim(function(){e.apply(r||null,t||[])})},t.inherits=function(e,t){var r=function(){};r.prototype=t.prototype,e.prototype=new r},t.extend=function(){var e,t,r={};for(e=0;e<arguments.length;e++)for(t in arguments[e])arguments[e].hasOwnProperty(t)&&void 0===r[t]&&(r[t]=arguments[e][t]);return r},t.prepareContent=function(e,r,i,a,o){return external.Promise.resolve(r).then(function(e){return support.blob&&(e instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(e)))&&"undefined"!=typeof FileReader?new external.Promise(function(t,r){var n=new FileReader;n.onload=function(e){t(e.target.result)},n.onerror=function(e){r(e.target.error)},n.readAsArrayBuffer(e)}):e}).then(function(r){var s,u=t.getTypeOf(r);return u?("arraybuffer"===u?r=t.transformTo("uint8array",r):"string"===u&&(o?r=base64.decode(r):i&&!0!==a&&(r=n(s=r,support.uint8array?new Uint8Array(s.length):new Array(s.length)))),r):external.Promise.reject(new Error("Can't read the data of '"+e+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}}),utils_1=utils.newBlob,utils_2=utils.applyFromCharCode,utils_3=utils.transformTo,utils_4=utils.getTypeOf,utils_5=utils.checkSupport,utils_6=utils.MAX_VALUE_16BITS,utils_7=utils.MAX_VALUE_32BITS,utils_8=utils.pretty,utils_9=utils.delay,utils_10=utils.inherits,utils_11=utils.extend,utils_12=utils.prepareContent;function GenericWorker(e){this.name=e||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}GenericWorker.prototype={push:function(e){this.emit("data",e)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(e){this.emit("error",e)}return!0},error:function(e){return!this.isFinished&&(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit("error",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(e,t){return this._listeners[e].push(t),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(e,t){if(this._listeners[e])for(var r=0;r<this._listeners[e].length;r++)this._listeners[e][r].call(this,t)},pipe:function(e){return e.registerPrevious(this)},registerPrevious:function(e){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=e.streamInfo,this.mergeStreamInfo(),this.previous=e;var t=this;return e.on("data",function(e){t.processChunk(e)}),e.on("end",function(){t.end()}),e.on("error",function(e){t.error(e)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var e=!1;return this.generatedError&&(this.error(this.generatedError),e=!0),this.previous&&this.previous.resume(),!e},flush:function(){},processChunk:function(e){this.push(e)},withStreamInfo:function(e,t){return this.extraStreamInfo[e]=t,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var e in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(e)&&(this.streamInfo[e]=this.extraStreamInfo[e])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var e="Worker "+this.name;return this.previous?this.previous+" -> "+e:e}};var GenericWorker_1=GenericWorker,utf8=createCommonjsModule(function(e,t){for(var r=new Array(256),n=0;n<256;n++)r[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;r[254]=r[254]=1;function i(){GenericWorker_1.call(this,"utf-8 decode"),this.leftOver=null}function a(){GenericWorker_1.call(this,"utf-8 encode")}t.utf8encode=function(e){return support.nodebuffer?nodejsUtils.newBufferFrom(e,"utf-8"):function(e){var t,r,n,i,a,o=e.length,s=0;for(i=0;i<o;i++)55296==(64512&(r=e.charCodeAt(i)))&&i+1<o&&56320==(64512&(n=e.charCodeAt(i+1)))&&(r=65536+(r-55296<<10)+(n-56320),i++),s+=r<128?1:r<2048?2:r<65536?3:4;for(t=support.uint8array?new Uint8Array(s):new Array(s),a=0,i=0;a<s;i++)55296==(64512&(r=e.charCodeAt(i)))&&i+1<o&&56320==(64512&(n=e.charCodeAt(i+1)))&&(r=65536+(r-55296<<10)+(n-56320),i++),r<128?t[a++]=r:r<2048?(t[a++]=192|r>>>6,t[a++]=128|63&r):r<65536?(t[a++]=224|r>>>12,t[a++]=128|r>>>6&63,t[a++]=128|63&r):(t[a++]=240|r>>>18,t[a++]=128|r>>>12&63,t[a++]=128|r>>>6&63,t[a++]=128|63&r);return t}(e)},t.utf8decode=function(e){return support.nodebuffer?utils.transformTo("nodebuffer",e).toString("utf-8"):function(e){var t,n,i,a,o=e.length,s=new Array(2*o);for(n=0,t=0;t<o;)if((i=e[t++])<128)s[n++]=i;else if((a=r[i])>4)s[n++]=65533,t+=a-1;else{for(i&=2===a?31:3===a?15:7;a>1&&t<o;)i=i<<6|63&e[t++],a--;a>1?s[n++]=65533:i<65536?s[n++]=i:(i-=65536,s[n++]=55296|i>>10&1023,s[n++]=56320|1023&i)}return s.length!==n&&(s.subarray?s=s.subarray(0,n):s.length=n),utils.applyFromCharCode(s)}(e=utils.transformTo(support.uint8array?"uint8array":"array",e))},utils.inherits(i,GenericWorker_1),i.prototype.processChunk=function(e){var n=utils.transformTo(support.uint8array?"uint8array":"array",e.data);if(this.leftOver&&this.leftOver.length){if(support.uint8array){var i=n;(n=new Uint8Array(i.length+this.leftOver.length)).set(this.leftOver,0),n.set(i,this.leftOver.length)}else n=this.leftOver.concat(n);this.leftOver=null}var a=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;n>=0&&128==(192&e[n]);)n--;return n<0?t:0===n?t:n+r[e[n]]>t?n:t}(n),o=n;a!==n.length&&(support.uint8array?(o=n.subarray(0,a),this.leftOver=n.subarray(a,n.length)):(o=n.slice(0,a),this.leftOver=n.slice(a,n.length))),this.push({data:t.utf8decode(o),meta:e.meta})},i.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:t.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},t.Utf8DecodeWorker=i,utils.inherits(a,GenericWorker_1),a.prototype.processChunk=function(e){this.push({data:t.utf8encode(e.data),meta:e.meta})},t.Utf8EncodeWorker=a}),utf8_1=utf8.utf8encode,utf8_2=utf8.utf8decode,utf8_3=utf8.Utf8DecodeWorker,utf8_4=utf8.Utf8EncodeWorker;function ConvertWorker(e){GenericWorker_1.call(this,"ConvertWorker to "+e),this.destType=e}utils.inherits(ConvertWorker,GenericWorker_1),ConvertWorker.prototype.processChunk=function(e){this.push({data:utils.transformTo(this.destType,e.data),meta:e.meta})};var ConvertWorker_1=ConvertWorker,Readable$1=Stream.Readable;function NodejsStreamOutputAdapter(e,t,r){Readable$1.call(this,t),this._helper=e;var n=this;e.on("data",function(e,t){n.push(e)||n._helper.pause(),r&&r(t)}).on("error",function(e){n.emit("error",e)}).on("end",function(){n.push(null)})}utils.inherits(NodejsStreamOutputAdapter,Readable$1),NodejsStreamOutputAdapter.prototype._read=function(){this._helper.resume()};var NodejsStreamOutputAdapter_1=NodejsStreamOutputAdapter,NodejsStreamOutputAdapter$1=null;if(support.nodestream)try{NodejsStreamOutputAdapter$1=NodejsStreamOutputAdapter_1}catch(e){}function transformZipOutput(e,t,r){switch(e){case"blob":return utils.newBlob(utils.transformTo("arraybuffer",t),r);case"base64":return base64.encode(t);default:return utils.transformTo(e,t)}}function concat(e,t){var r,n=0,i=null,a=0;for(r=0;r<t.length;r++)a+=t[r].length;switch(e){case"string":return t.join("");case"array":return Array.prototype.concat.apply([],t);case"uint8array":for(i=new Uint8Array(a),r=0;r<t.length;r++)i.set(t[r],n),n+=t[r].length;return i;case"nodebuffer":return Buffer.concat(t);default:throw new Error("concat : unsupported type '"+e+"'")}}function accumulate(e,t){return new external.Promise(function(r,n){var i=[],a=e._internalType,o=e._outputType,s=e._mimeType;e.on("data",function(e,r){i.push(e),t&&t(r)}).on("error",function(e){i=[],n(e)}).on("end",function(){try{var e=transformZipOutput(o,concat(a,i),s);r(e)}catch(e){n(e)}i=[]}).resume()})}function StreamHelper(e,t,r){var n=t;switch(t){case"blob":case"arraybuffer":n="uint8array";break;case"base64":n="string"}try{this._internalType=n,this._outputType=t,this._mimeType=r,utils.checkSupport(n),this._worker=e.pipe(new ConvertWorker_1(n)),e.lock()}catch(e){this._worker=new GenericWorker_1("error"),this._worker.error(e)}}StreamHelper.prototype={accumulate:function(e){return accumulate(this,e)},on:function(e,t){var r=this;return"data"===e?this._worker.on(e,function(e){t.call(r,e.data,e.meta)}):this._worker.on(e,function(){utils.delay(t,arguments,r)}),this},resume:function(){return utils.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(e){if(utils.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new NodejsStreamOutputAdapter$1(this,{objectMode:"nodebuffer"!==this._outputType},e)}};var StreamHelper_1=StreamHelper,base64$1=!1,binary=!1,dir=!1,createFolders=!0,date=null,compression=null,compressionOptions=null,comment=null,unixPermissions=null,dosPermissions=null,defaults$1={base64:base64$1,binary:binary,dir:dir,createFolders:createFolders,date:date,compression:compression,compressionOptions:compressionOptions,comment:comment,unixPermissions:unixPermissions,dosPermissions:dosPermissions},DEFAULT_BLOCK_SIZE=16384;function DataWorker(e){GenericWorker_1.call(this,"DataWorker");var t=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,e.then(function(e){t.dataIsReady=!0,t.data=e,t.max=e&&e.length||0,t.type=utils.getTypeOf(e),t.isPaused||t._tickAndRepeat()},function(e){t.error(e)})}utils.inherits(DataWorker,GenericWorker_1),DataWorker.prototype.cleanUp=function(){GenericWorker_1.prototype.cleanUp.call(this),this.data=null},DataWorker.prototype.resume=function(){return!!GenericWorker_1.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,utils.delay(this._tickAndRepeat,[],this)),!0)},DataWorker.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(utils.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},DataWorker.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var e=DEFAULT_BLOCK_SIZE,t=null,r=Math.min(this.max,this.index+e);if(this.index>=this.max)return this.end();switch(this.type){case"string":t=this.data.substring(this.index,r);break;case"uint8array":t=this.data.subarray(this.index,r);break;case"array":case"nodebuffer":t=this.data.slice(this.index,r)}return this.index=r,this.push({data:t,meta:{percent:this.max?this.index/this.max*100:0}})};var DataWorker_1=DataWorker;function DataLengthProbe(e){GenericWorker_1.call(this,"DataLengthProbe for "+e),this.propName=e,this.withStreamInfo(e,0)}utils.inherits(DataLengthProbe,GenericWorker_1),DataLengthProbe.prototype.processChunk=function(e){if(e){var t=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=t+e.data.length}GenericWorker_1.prototype.processChunk.call(this,e)};var DataLengthProbe_1=DataLengthProbe;function makeTable(){for(var e,t=[],r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[r]=e}return t}var crcTable=makeTable();function crc32(e,t,r,n){var i=crcTable,a=n+r;e^=-1;for(var o=n;o<a;o++)e=e>>>8^i[255&(e^t[o])];return-1^e}function crc32str(e,t,r,n){var i=crcTable,a=n+r;e^=-1;for(var o=n;o<a;o++)e=e>>>8^i[255&(e^t.charCodeAt(o))];return-1^e}var crc32_1=function(e,t){return void 0!==e&&e.length?"string"!==utils.getTypeOf(e)?crc32(0|t,e,e.length,0):crc32str(0|t,e,e.length,0):0};function Crc32Probe(){GenericWorker_1.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}utils.inherits(Crc32Probe,GenericWorker_1),Crc32Probe.prototype.processChunk=function(e){this.streamInfo.crc32=crc32_1(e.data,this.streamInfo.crc32||0),this.push(e)};var Crc32Probe_1=Crc32Probe;function CompressedObject(e,t,r,n,i){this.compressedSize=e,this.uncompressedSize=t,this.crc32=r,this.compression=n,this.compressedContent=i}CompressedObject.prototype={getContentWorker:function(){var e=new DataWorker_1(external.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new DataLengthProbe_1("data_length")),t=this;return e.on("end",function(){if(this.streamInfo.data_length!==t.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),e},getCompressedWorker:function(){return new DataWorker_1(external.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},CompressedObject.createWorkerFrom=function(e,t,r){return e.pipe(new Crc32Probe_1).pipe(new DataLengthProbe_1("uncompressedSize")).pipe(t.compressWorker(r)).pipe(new DataLengthProbe_1("compressedSize")).withStreamInfo("compression",t)};var compressedObject=CompressedObject,ZipObject=function(e,t,r){this.name=e,this.dir=r.dir,this.date=r.date,this.comment=r.comment,this.unixPermissions=r.unixPermissions,this.dosPermissions=r.dosPermissions,this._data=t,this._dataBinary=r.binary,this.options={compression:r.compression,compressionOptions:r.compressionOptions}};ZipObject.prototype={internalStream:function(e){var t=null,r="string";try{if(!e)throw new Error("No output type specified.");var n="string"===(r=e.toLowerCase())||"text"===r;"binarystring"!==r&&"text"!==r||(r="string"),t=this._decompressWorker();var i=!this._dataBinary;i&&!n&&(t=t.pipe(new utf8.Utf8EncodeWorker)),!i&&n&&(t=t.pipe(new utf8.Utf8DecodeWorker))}catch(e){(t=new GenericWorker_1("error")).error(e)}return new StreamHelper_1(t,r,"")},async:function(e,t){return this.internalStream(e).accumulate(t)},nodeStream:function(e,t){return this.internalStream(e||"nodebuffer").toNodejsStream(t)},_compressWorker:function(e,t){if(this._data instanceof compressedObject&&this._data.compression.magic===e.magic)return this._data.getCompressedWorker();var r=this._decompressWorker();return this._dataBinary||(r=r.pipe(new utf8.Utf8EncodeWorker)),compressedObject.createWorkerFrom(r,e,t)},_decompressWorker:function(){return this._data instanceof compressedObject?this._data.getContentWorker():this._data instanceof GenericWorker_1?this._data:new DataWorker_1(this._data)}};for(var removedMethods=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],removedFn=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},i=0;i<removedMethods.length;i++)ZipObject.prototype[removedMethods[i]]=removedFn;var zipObject=ZipObject,common=createCommonjsModule(function(e,t){var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var r=t.shift();if(r){if("object"!=typeof r)throw new TypeError(r+"must be non-object");for(var i in r)n(r,i)&&(e[i]=r[i])}}return e},t.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var i={arraySet:function(e,t,r,n,i){if(t.subarray&&e.subarray)e.set(t.subarray(r,r+n),i);else for(var a=0;a<n;a++)e[i+a]=t[r+a]},flattenChunks:function(e){var t,r,n,i,a,o;for(n=0,t=0,r=e.length;t<r;t++)n+=e[t].length;for(o=new Uint8Array(n),i=0,t=0,r=e.length;t<r;t++)a=e[t],o.set(a,i),i+=a.length;return o}},a={arraySet:function(e,t,r,n,i){for(var a=0;a<n;a++)e[i+a]=t[r+a]},flattenChunks:function(e){return[].concat.apply([],e)}};t.setTyped=function(e){e?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,i)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,a))},t.setTyped(r)}),common_1=common.assign,common_2=common.shrinkBuf,common_3=common.setTyped,common_4=common.Buf8,common_5=common.Buf16,common_6=common.Buf32,Z_FIXED=4,Z_BINARY=0,Z_TEXT=1,Z_UNKNOWN=2;function zero(e){for(var t=e.length;--t>=0;)e[t]=0}var STORED_BLOCK=0,STATIC_TREES=1,DYN_TREES=2,MIN_MATCH=3,MAX_MATCH=258,LENGTH_CODES=29,LITERALS=256,L_CODES=LITERALS+1+LENGTH_CODES,D_CODES=30,BL_CODES=19,HEAP_SIZE=2*L_CODES+1,MAX_BITS=15,Buf_size=16,MAX_BL_BITS=7,END_BLOCK=256,REP_3_6=16,REPZ_3_10=17,REPZ_11_138=18,extra_lbits=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],extra_dbits=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],extra_blbits=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],bl_order=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],DIST_CODE_LEN=512,static_ltree=new Array(2*(L_CODES+2));zero(static_ltree);var static_dtree=new Array(2*D_CODES);zero(static_dtree);var _dist_code=new Array(DIST_CODE_LEN);zero(_dist_code);var _length_code=new Array(MAX_MATCH-MIN_MATCH+1);zero(_length_code);var base_length=new Array(LENGTH_CODES);zero(base_length);var base_dist=new Array(D_CODES),static_l_desc,static_d_desc,static_bl_desc;function StaticTreeDesc(e,t,r,n,i){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=e&&e.length}function TreeDesc(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function d_code(e){return e<256?_dist_code[e]:_dist_code[256+(e>>>7)]}function put_short(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function send_bits(e,t,r){e.bi_valid>Buf_size-r?(e.bi_buf|=t<<e.bi_valid&65535,put_short(e,e.bi_buf),e.bi_buf=t>>Buf_size-e.bi_valid,e.bi_valid+=r-Buf_size):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)}function send_code(e,t,r){send_bits(e,r[2*t],r[2*t+1])}function bi_reverse(e,t){var r=0;do{r|=1&e,e>>>=1,r<<=1}while(--t>0);return r>>>1}function bi_flush(e){16===e.bi_valid?(put_short(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}function gen_bitlen(e,t){var r,n,i,a,o,s,u=t.dyn_tree,c=t.max_code,f=t.stat_desc.static_tree,l=t.stat_desc.has_stree,h=t.stat_desc.extra_bits,d=t.stat_desc.extra_base,p=t.stat_desc.max_length,_=0;for(a=0;a<=MAX_BITS;a++)e.bl_count[a]=0;for(u[2*e.heap[e.heap_max]+1]=0,r=e.heap_max+1;r<HEAP_SIZE;r++)(a=u[2*u[2*(n=e.heap[r])+1]+1]+1)>p&&(a=p,_++),u[2*n+1]=a,n>c||(e.bl_count[a]++,o=0,n>=d&&(o=h[n-d]),s=u[2*n],e.opt_len+=s*(a+o),l&&(e.static_len+=s*(f[2*n+1]+o)));if(0!==_){do{for(a=p-1;0===e.bl_count[a];)a--;e.bl_count[a]--,e.bl_count[a+1]+=2,e.bl_count[p]--,_-=2}while(_>0);for(a=p;0!==a;a--)for(n=e.bl_count[a];0!==n;)(i=e.heap[--r])>c||(u[2*i+1]!==a&&(e.opt_len+=(a-u[2*i+1])*u[2*i],u[2*i+1]=a),n--)}}function gen_codes(e,t,r){var n,i,a=new Array(MAX_BITS+1),o=0;for(n=1;n<=MAX_BITS;n++)a[n]=o=o+r[n-1]<<1;for(i=0;i<=t;i++){var s=e[2*i+1];0!==s&&(e[2*i]=bi_reverse(a[s]++,s))}}function tr_static_init(){var e,t,r,n,i,a=new Array(MAX_BITS+1);for(r=0,n=0;n<LENGTH_CODES-1;n++)for(base_length[n]=r,e=0;e<1<<extra_lbits[n];e++)_length_code[r++]=n;for(_length_code[r-1]=n,i=0,n=0;n<16;n++)for(base_dist[n]=i,e=0;e<1<<extra_dbits[n];e++)_dist_code[i++]=n;for(i>>=7;n<D_CODES;n++)for(base_dist[n]=i<<7,e=0;e<1<<extra_dbits[n]-7;e++)_dist_code[256+i++]=n;for(t=0;t<=MAX_BITS;t++)a[t]=0;for(e=0;e<=143;)static_ltree[2*e+1]=8,e++,a[8]++;for(;e<=255;)static_ltree[2*e+1]=9,e++,a[9]++;for(;e<=279;)static_ltree[2*e+1]=7,e++,a[7]++;for(;e<=287;)static_ltree[2*e+1]=8,e++,a[8]++;for(gen_codes(static_ltree,L_CODES+1,a),e=0;e<D_CODES;e++)static_dtree[2*e+1]=5,static_dtree[2*e]=bi_reverse(e,5);static_l_desc=new StaticTreeDesc(static_ltree,extra_lbits,LITERALS+1,L_CODES,MAX_BITS),static_d_desc=new StaticTreeDesc(static_dtree,extra_dbits,0,D_CODES,MAX_BITS),static_bl_desc=new StaticTreeDesc(new Array(0),extra_blbits,0,BL_CODES,MAX_BL_BITS)}function init_block(e){var t;for(t=0;t<L_CODES;t++)e.dyn_ltree[2*t]=0;for(t=0;t<D_CODES;t++)e.dyn_dtree[2*t]=0;for(t=0;t<BL_CODES;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*END_BLOCK]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function bi_windup(e){e.bi_valid>8?put_short(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function copy_block(e,t,r,n){bi_windup(e),n&&(put_short(e,r),put_short(e,~r)),common.arraySet(e.pending_buf,e.window,t,r,e.pending),e.pending+=r}function smaller(e,t,r,n){var i=2*t,a=2*r;return e[i]<e[a]||e[i]===e[a]&&n[t]<=n[r]}function pqdownheap(e,t,r){for(var n=e.heap[r],i=r<<1;i<=e.heap_len&&(i<e.heap_len&&smaller(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!smaller(t,n,e.heap[i],e.depth));)e.heap[r]=e.heap[i],r=i,i<<=1;e.heap[r]=n}function compress_block(e,t,r){var n,i,a,o,s=0;if(0!==e.last_lit)do{n=e.pending_buf[e.d_buf+2*s]<<8|e.pending_buf[e.d_buf+2*s+1],i=e.pending_buf[e.l_buf+s],s++,0===n?send_code(e,i,t):(send_code(e,(a=_length_code[i])+LITERALS+1,t),0!==(o=extra_lbits[a])&&send_bits(e,i-=base_length[a],o),send_code(e,a=d_code(--n),r),0!==(o=extra_dbits[a])&&send_bits(e,n-=base_dist[a],o))}while(s<e.last_lit);send_code(e,END_BLOCK,t)}function build_tree(e,t){var r,n,i,a=t.dyn_tree,o=t.stat_desc.static_tree,s=t.stat_desc.has_stree,u=t.stat_desc.elems,c=-1;for(e.heap_len=0,e.heap_max=HEAP_SIZE,r=0;r<u;r++)0!==a[2*r]?(e.heap[++e.heap_len]=c=r,e.depth[r]=0):a[2*r+1]=0;for(;e.heap_len<2;)a[2*(i=e.heap[++e.heap_len]=c<2?++c:0)]=1,e.depth[i]=0,e.opt_len--,s&&(e.static_len-=o[2*i+1]);for(t.max_code=c,r=e.heap_len>>1;r>=1;r--)pqdownheap(e,a,r);i=u;do{r=e.heap[1],e.heap[1]=e.heap[e.heap_len--],pqdownheap(e,a,1),n=e.heap[1],e.heap[--e.heap_max]=r,e.heap[--e.heap_max]=n,a[2*i]=a[2*r]+a[2*n],e.depth[i]=(e.depth[r]>=e.depth[n]?e.depth[r]:e.depth[n])+1,a[2*r+1]=a[2*n+1]=i,e.heap[1]=i++,pqdownheap(e,a,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],gen_bitlen(e,t),gen_codes(a,c,e.bl_count)}function scan_tree(e,t,r){var n,i,a=-1,o=t[1],s=0,u=7,c=4;for(0===o&&(u=138,c=3),t[2*(r+1)+1]=65535,n=0;n<=r;n++)i=o,o=t[2*(n+1)+1],++s<u&&i===o||(s<c?e.bl_tree[2*i]+=s:0!==i?(i!==a&&e.bl_tree[2*i]++,e.bl_tree[2*REP_3_6]++):s<=10?e.bl_tree[2*REPZ_3_10]++:e.bl_tree[2*REPZ_11_138]++,s=0,a=i,0===o?(u=138,c=3):i===o?(u=6,c=3):(u=7,c=4))}function send_tree(e,t,r){var n,i,a=-1,o=t[1],s=0,u=7,c=4;for(0===o&&(u=138,c=3),n=0;n<=r;n++)if(i=o,o=t[2*(n+1)+1],!(++s<u&&i===o)){if(s<c)do{send_code(e,i,e.bl_tree)}while(0!=--s);else 0!==i?(i!==a&&(send_code(e,i,e.bl_tree),s--),send_code(e,REP_3_6,e.bl_tree),send_bits(e,s-3,2)):s<=10?(send_code(e,REPZ_3_10,e.bl_tree),send_bits(e,s-3,3)):(send_code(e,REPZ_11_138,e.bl_tree),send_bits(e,s-11,7));s=0,a=i,0===o?(u=138,c=3):i===o?(u=6,c=3):(u=7,c=4)}}function build_bl_tree(e){var t;for(scan_tree(e,e.dyn_ltree,e.l_desc.max_code),scan_tree(e,e.dyn_dtree,e.d_desc.max_code),build_tree(e,e.bl_desc),t=BL_CODES-1;t>=3&&0===e.bl_tree[2*bl_order[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}function send_all_trees(e,t,r,n){var i;for(send_bits(e,t-257,5),send_bits(e,r-1,5),send_bits(e,n-4,4),i=0;i<n;i++)send_bits(e,e.bl_tree[2*bl_order[i]+1],3);send_tree(e,e.dyn_ltree,t-1),send_tree(e,e.dyn_dtree,r-1)}function detect_data_type(e){var t,r=4093624447;for(t=0;t<=31;t++,r>>>=1)if(1&r&&0!==e.dyn_ltree[2*t])return Z_BINARY;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return Z_TEXT;for(t=32;t<LITERALS;t++)if(0!==e.dyn_ltree[2*t])return Z_TEXT;return Z_BINARY}zero(base_dist);var static_init_done=!1;function _tr_init(e){static_init_done||(tr_static_init(),static_init_done=!0),e.l_desc=new TreeDesc(e.dyn_ltree,static_l_desc),e.d_desc=new TreeDesc(e.dyn_dtree,static_d_desc),e.bl_desc=new TreeDesc(e.bl_tree,static_bl_desc),e.bi_buf=0,e.bi_valid=0,init_block(e)}function _tr_stored_block(e,t,r,n){send_bits(e,(STORED_BLOCK<<1)+(n?1:0),3),copy_block(e,t,r,!0)}function _tr_align(e){send_bits(e,STATIC_TREES<<1,3),send_code(e,END_BLOCK,static_ltree),bi_flush(e)}function _tr_flush_block(e,t,r,n){var i,a,o=0;e.level>0?(e.strm.data_type===Z_UNKNOWN&&(e.strm.data_type=detect_data_type(e)),build_tree(e,e.l_desc),build_tree(e,e.d_desc),o=build_bl_tree(e),i=e.opt_len+3+7>>>3,(a=e.static_len+3+7>>>3)<=i&&(i=a)):i=a=r+5,r+4<=i&&-1!==t?_tr_stored_block(e,t,r,n):e.strategy===Z_FIXED||a===i?(send_bits(e,(STATIC_TREES<<1)+(n?1:0),3),compress_block(e,static_ltree,static_dtree)):(send_bits(e,(DYN_TREES<<1)+(n?1:0),3),send_all_trees(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),compress_block(e,e.dyn_ltree,e.dyn_dtree)),init_block(e),n&&bi_windup(e)}function _tr_tally(e,t,r){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&r,e.last_lit++,0===t?e.dyn_ltree[2*r]++:(e.matches++,t--,e.dyn_ltree[2*(_length_code[r]+LITERALS+1)]++,e.dyn_dtree[2*d_code(t)]++),e.last_lit===e.lit_bufsize-1}var _tr_init_1=_tr_init,_tr_stored_block_1=_tr_stored_block,_tr_flush_block_1=_tr_flush_block,_tr_tally_1=_tr_tally,_tr_align_1=_tr_align,trees={_tr_init:_tr_init_1,_tr_stored_block:_tr_stored_block_1,_tr_flush_block:_tr_flush_block_1,_tr_tally:_tr_tally_1,_tr_align:_tr_align_1};function adler32(e,t,r,n){for(var i=65535&e|0,a=e>>>16&65535|0,o=0;0!==r;){r-=o=r>2e3?2e3:r;do{a=a+(i=i+t[n++]|0)|0}while(--o);i%=65521,a%=65521}return i|a<<16|0}var adler32_1=adler32;function makeTable$1(){for(var e,t=[],r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[r]=e}return t}var crcTable$1=makeTable$1();function crc32$1(e,t,r,n){var i=crcTable$1,a=n+r;e^=-1;for(var o=n;o<a;o++)e=e>>>8^i[255&(e^t[o])];return-1^e}var crc32_1$1=crc32$1,messages={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Z_NO_FLUSH=0,Z_PARTIAL_FLUSH=1,Z_FULL_FLUSH=3,Z_FINISH=4,Z_BLOCK=5,Z_OK=0,Z_STREAM_END=1,Z_STREAM_ERROR=-2,Z_DATA_ERROR=-3,Z_BUF_ERROR=-5,Z_DEFAULT_COMPRESSION=-1,Z_FILTERED=1,Z_HUFFMAN_ONLY=2,Z_RLE=3,Z_FIXED$1=4,Z_DEFAULT_STRATEGY=0,Z_UNKNOWN$1=2,Z_DEFLATED=8,MAX_MEM_LEVEL=9,MAX_WBITS=15,DEF_MEM_LEVEL=8,LENGTH_CODES$1=29,LITERALS$1=256,L_CODES$1=LITERALS$1+1+LENGTH_CODES$1,D_CODES$1=30,BL_CODES$1=19,HEAP_SIZE$1=2*L_CODES$1+1,MAX_BITS$1=15,MIN_MATCH$1=3,MAX_MATCH$1=258,MIN_LOOKAHEAD=MAX_MATCH$1+MIN_MATCH$1+1,PRESET_DICT=32,INIT_STATE=42,EXTRA_STATE=69,NAME_STATE=73,COMMENT_STATE=91,HCRC_STATE=103,BUSY_STATE=113,FINISH_STATE=666,BS_NEED_MORE=1,BS_BLOCK_DONE=2,BS_FINISH_STARTED=3,BS_FINISH_DONE=4,OS_CODE=3,configuration_table;function err(e,t){return e.msg=messages[t],t}function rank(e){return(e<<1)-(e>4?9:0)}function zero$1(e){for(var t=e.length;--t>=0;)e[t]=0}function flush_pending(e){var t=e.state,r=t.pending;r>e.avail_out&&(r=e.avail_out),0!==r&&(common.arraySet(e.output,t.pending_buf,t.pending_out,r,e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,0===t.pending&&(t.pending_out=0))}function flush_block_only(e,t){trees._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,flush_pending(e.strm)}function put_byte(e,t){e.pending_buf[e.pending++]=t}function putShortMSB(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function read_buf(e,t,r,n){var i=e.avail_in;return i>n&&(i=n),0===i?0:(e.avail_in-=i,common.arraySet(t,e.input,e.next_in,i,r),1===e.state.wrap?e.adler=adler32_1(e.adler,t,i,r):2===e.state.wrap&&(e.adler=crc32_1$1(e.adler,t,i,r)),e.next_in+=i,e.total_in+=i,i)}function longest_match(e,t){var r,n,i=e.max_chain_length,a=e.strstart,o=e.prev_length,s=e.nice_match,u=e.strstart>e.w_size-MIN_LOOKAHEAD?e.strstart-(e.w_size-MIN_LOOKAHEAD):0,c=e.window,f=e.w_mask,l=e.prev,h=e.strstart+MAX_MATCH$1,d=c[a+o-1],p=c[a+o];e.prev_length>=e.good_match&&(i>>=2),s>e.lookahead&&(s=e.lookahead);do{if(c[(r=t)+o]===p&&c[r+o-1]===d&&c[r]===c[a]&&c[++r]===c[a+1]){a+=2,r++;do{}while(c[++a]===c[++r]&&c[++a]===c[++r]&&c[++a]===c[++r]&&c[++a]===c[++r]&&c[++a]===c[++r]&&c[++a]===c[++r]&&c[++a]===c[++r]&&c[++a]===c[++r]&&a<h);if(n=MAX_MATCH$1-(h-a),a=h-MAX_MATCH$1,n>o){if(e.match_start=t,o=n,n>=s)break;d=c[a+o-1],p=c[a+o]}}}while((t=l[t&f])>u&&0!=--i);return o<=e.lookahead?o:e.lookahead}function fill_window(e){var t,r,n,i,a,o=e.w_size;do{if(i=e.window_size-e.lookahead-e.strstart,e.strstart>=o+(o-MIN_LOOKAHEAD)){common.arraySet(e.window,e.window,o,o,0),e.match_start-=o,e.strstart-=o,e.block_start-=o,t=r=e.hash_size;do{n=e.head[--t],e.head[t]=n>=o?n-o:0}while(--r);t=r=o;do{n=e.prev[--t],e.prev[t]=n>=o?n-o:0}while(--r);i+=o}if(0===e.strm.avail_in)break;if(r=read_buf(e.strm,e.window,e.strstart+e.lookahead,i),e.lookahead+=r,e.lookahead+e.insert>=MIN_MATCH$1)for(a=e.strstart-e.insert,e.ins_h=e.window[a],e.ins_h=(e.ins_h<<e.hash_shift^e.window[a+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[a+MIN_MATCH$1-1])&e.hash_mask,e.prev[a&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=a,a++,e.insert--,!(e.lookahead+e.insert<MIN_MATCH$1)););}while(e.lookahead<MIN_LOOKAHEAD&&0!==e.strm.avail_in)}function deflate_stored(e,t){var r=65535;for(r>e.pending_buf_size-5&&(r=e.pending_buf_size-5);;){if(e.lookahead<=1){if(fill_window(e),0===e.lookahead&&t===Z_NO_FLUSH)return BS_NEED_MORE;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var n=e.block_start+r;if((0===e.strstart||e.strstart>=n)&&(e.lookahead=e.strstart-n,e.strstart=n,flush_block_only(e,!1),0===e.strm.avail_out))return BS_NEED_MORE;if(e.strstart-e.block_start>=e.w_size-MIN_LOOKAHEAD&&(flush_block_only(e,!1),0===e.strm.avail_out))return BS_NEED_MORE}return e.insert=0,t===Z_FINISH?(flush_block_only(e,!0),0===e.strm.avail_out?BS_FINISH_STARTED:BS_FINISH_DONE):(e.strstart>e.block_start&&(flush_block_only(e,!1),e.strm.avail_out),BS_NEED_MORE)}function deflate_fast(e,t){for(var r,n;;){if(e.lookahead<MIN_LOOKAHEAD){if(fill_window(e),e.lookahead<MIN_LOOKAHEAD&&t===Z_NO_FLUSH)return BS_NEED_MORE;if(0===e.lookahead)break}if(r=0,e.lookahead>=MIN_MATCH$1&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+MIN_MATCH$1-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==r&&e.strstart-r<=e.w_size-MIN_LOOKAHEAD&&(e.match_length=longest_match(e,r)),e.match_length>=MIN_MATCH$1)if(n=trees._tr_tally(e,e.strstart-e.match_start,e.match_length-MIN_MATCH$1),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=MIN_MATCH$1){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+MIN_MATCH$1-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else n=trees._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(flush_block_only(e,!1),0===e.strm.avail_out))return BS_NEED_MORE}return e.insert=e.strstart<MIN_MATCH$1-1?e.strstart:MIN_MATCH$1-1,t===Z_FINISH?(flush_block_only(e,!0),0===e.strm.avail_out?BS_FINISH_STARTED:BS_FINISH_DONE):e.last_lit&&(flush_block_only(e,!1),0===e.strm.avail_out)?BS_NEED_MORE:BS_BLOCK_DONE}function deflate_slow(e,t){for(var r,n,i;;){if(e.lookahead<MIN_LOOKAHEAD){if(fill_window(e),e.lookahead<MIN_LOOKAHEAD&&t===Z_NO_FLUSH)return BS_NEED_MORE;if(0===e.lookahead)break}if(r=0,e.lookahead>=MIN_MATCH$1&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+MIN_MATCH$1-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=MIN_MATCH$1-1,0!==r&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-MIN_LOOKAHEAD&&(e.match_length=longest_match(e,r),e.match_length<=5&&(e.strategy===Z_FILTERED||e.match_length===MIN_MATCH$1&&e.strstart-e.match_start>4096)&&(e.match_length=MIN_MATCH$1-1)),e.prev_length>=MIN_MATCH$1&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-MIN_MATCH$1,n=trees._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-MIN_MATCH$1),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+MIN_MATCH$1-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=MIN_MATCH$1-1,e.strstart++,n&&(flush_block_only(e,!1),0===e.strm.avail_out))return BS_NEED_MORE}else if(e.match_available){if((n=trees._tr_tally(e,0,e.window[e.strstart-1]))&&flush_block_only(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return BS_NEED_MORE}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=trees._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<MIN_MATCH$1-1?e.strstart:MIN_MATCH$1-1,t===Z_FINISH?(flush_block_only(e,!0),0===e.strm.avail_out?BS_FINISH_STARTED:BS_FINISH_DONE):e.last_lit&&(flush_block_only(e,!1),0===e.strm.avail_out)?BS_NEED_MORE:BS_BLOCK_DONE}function deflate_rle(e,t){for(var r,n,i,a,o=e.window;;){if(e.lookahead<=MAX_MATCH$1){if(fill_window(e),e.lookahead<=MAX_MATCH$1&&t===Z_NO_FLUSH)return BS_NEED_MORE;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=MIN_MATCH$1&&e.strstart>0&&(n=o[i=e.strstart-1])===o[++i]&&n===o[++i]&&n===o[++i]){a=e.strstart+MAX_MATCH$1;do{}while(n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&i<a);e.match_length=MAX_MATCH$1-(a-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=MIN_MATCH$1?(r=trees._tr_tally(e,1,e.match_length-MIN_MATCH$1),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=trees._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(flush_block_only(e,!1),0===e.strm.avail_out))return BS_NEED_MORE}return e.insert=0,t===Z_FINISH?(flush_block_only(e,!0),0===e.strm.avail_out?BS_FINISH_STARTED:BS_FINISH_DONE):e.last_lit&&(flush_block_only(e,!1),0===e.strm.avail_out)?BS_NEED_MORE:BS_BLOCK_DONE}function deflate_huff(e,t){for(var r;;){if(0===e.lookahead&&(fill_window(e),0===e.lookahead)){if(t===Z_NO_FLUSH)return BS_NEED_MORE;break}if(e.match_length=0,r=trees._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(flush_block_only(e,!1),0===e.strm.avail_out))return BS_NEED_MORE}return e.insert=0,t===Z_FINISH?(flush_block_only(e,!0),0===e.strm.avail_out?BS_FINISH_STARTED:BS_FINISH_DONE):e.last_lit&&(flush_block_only(e,!1),0===e.strm.avail_out)?BS_NEED_MORE:BS_BLOCK_DONE}function Config(e,t,r,n,i){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=n,this.func=i}function lm_init(e){e.window_size=2*e.w_size,zero$1(e.head),e.max_lazy_match=configuration_table[e.level].max_lazy,e.good_match=configuration_table[e.level].good_length,e.nice_match=configuration_table[e.level].nice_length,e.max_chain_length=configuration_table[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=MIN_MATCH$1-1,e.match_available=0,e.ins_h=0}function DeflateState(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Z_DEFLATED,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new common.Buf16(2*HEAP_SIZE$1),this.dyn_dtree=new common.Buf16(2*(2*D_CODES$1+1)),this.bl_tree=new common.Buf16(2*(2*BL_CODES$1+1)),zero$1(this.dyn_ltree),zero$1(this.dyn_dtree),zero$1(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new common.Buf16(MAX_BITS$1+1),this.heap=new common.Buf16(2*L_CODES$1+1),zero$1(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new common.Buf16(2*L_CODES$1+1),zero$1(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function deflateResetKeep(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=Z_UNKNOWN$1,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?INIT_STATE:BUSY_STATE,e.adler=2===t.wrap?0:1,t.last_flush=Z_NO_FLUSH,trees._tr_init(t),Z_OK):err(e,Z_STREAM_ERROR)}function deflateReset(e){var t=deflateResetKeep(e);return t===Z_OK&&lm_init(e.state),t}function deflateSetHeader(e,t){return e&&e.state?2!==e.state.wrap?Z_STREAM_ERROR:(e.state.gzhead=t,Z_OK):Z_STREAM_ERROR}function deflateInit2(e,t,r,n,i,a){if(!e)return Z_STREAM_ERROR;var o=1;if(t===Z_DEFAULT_COMPRESSION&&(t=6),n<0?(o=0,n=-n):n>15&&(o=2,n-=16),i<1||i>MAX_MEM_LEVEL||r!==Z_DEFLATED||n<8||n>15||t<0||t>9||a<0||a>Z_FIXED$1)return err(e,Z_STREAM_ERROR);8===n&&(n=9);var s=new DeflateState;return e.state=s,s.strm=e,s.wrap=o,s.gzhead=null,s.w_bits=n,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=i+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+MIN_MATCH$1-1)/MIN_MATCH$1),s.window=new common.Buf8(2*s.w_size),s.head=new common.Buf16(s.hash_size),s.prev=new common.Buf16(s.w_size),s.lit_bufsize=1<<i+6,s.pending_buf_size=4*s.lit_bufsize,s.pending_buf=new common.Buf8(s.pending_buf_size),s.d_buf=1*s.lit_bufsize,s.l_buf=3*s.lit_bufsize,s.level=t,s.strategy=a,s.method=r,deflateReset(e)}function deflateInit(e,t){return deflateInit2(e,t,Z_DEFLATED,MAX_WBITS,DEF_MEM_LEVEL,Z_DEFAULT_STRATEGY)}function deflate(e,t){var r,n,i,a;if(!e||!e.state||t>Z_BLOCK||t<0)return e?err(e,Z_STREAM_ERROR):Z_STREAM_ERROR;if(n=e.state,!e.output||!e.input&&0!==e.avail_in||n.status===FINISH_STATE&&t!==Z_FINISH)return err(e,0===e.avail_out?Z_BUF_ERROR:Z_STREAM_ERROR);if(n.strm=e,r=n.last_flush,n.last_flush=t,n.status===INIT_STATE)if(2===n.wrap)e.adler=0,put_byte(n,31),put_byte(n,139),put_byte(n,8),n.gzhead?(put_byte(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),put_byte(n,255&n.gzhead.time),put_byte(n,n.gzhead.time>>8&255),put_byte(n,n.gzhead.time>>16&255),put_byte(n,n.gzhead.time>>24&255),put_byte(n,9===n.level?2:n.strategy>=Z_HUFFMAN_ONLY||n.level<2?4:0),put_byte(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(put_byte(n,255&n.gzhead.extra.length),put_byte(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=crc32_1$1(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=EXTRA_STATE):(put_byte(n,0),put_byte(n,0),put_byte(n,0),put_byte(n,0),put_byte(n,0),put_byte(n,9===n.level?2:n.strategy>=Z_HUFFMAN_ONLY||n.level<2?4:0),put_byte(n,OS_CODE),n.status=BUSY_STATE);else{var o=Z_DEFLATED+(n.w_bits-8<<4)<<8;o|=(n.strategy>=Z_HUFFMAN_ONLY||n.level<2?0:n.level<6?1:6===n.level?2:3)<<6,0!==n.strstart&&(o|=PRESET_DICT),o+=31-o%31,n.status=BUSY_STATE,putShortMSB(n,o),0!==n.strstart&&(putShortMSB(n,e.adler>>>16),putShortMSB(n,65535&e.adler)),e.adler=1}if(n.status===EXTRA_STATE)if(n.gzhead.extra){for(i=n.pending;n.gzindex<(65535&n.gzhead.extra.length)&&(n.pending!==n.pending_buf_size||(n.gzhead.hcrc&&n.pending>i&&(e.adler=crc32_1$1(e.adler,n.pending_buf,n.pending-i,i)),flush_pending(e),i=n.pending,n.pending!==n.pending_buf_size));)put_byte(n,255&n.gzhead.extra[n.gzindex]),n.gzindex++;n.gzhead.hcrc&&n.pending>i&&(e.adler=crc32_1$1(e.adler,n.pending_buf,n.pending-i,i)),n.gzindex===n.gzhead.extra.length&&(n.gzindex=0,n.status=NAME_STATE)}else n.status=NAME_STATE;if(n.status===NAME_STATE)if(n.gzhead.name){i=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>i&&(e.adler=crc32_1$1(e.adler,n.pending_buf,n.pending-i,i)),flush_pending(e),i=n.pending,n.pending===n.pending_buf_size)){a=1;break}a=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0,put_byte(n,a)}while(0!==a);n.gzhead.hcrc&&n.pending>i&&(e.adler=crc32_1$1(e.adler,n.pending_buf,n.pending-i,i)),0===a&&(n.gzindex=0,n.status=COMMENT_STATE)}else n.status=COMMENT_STATE;if(n.status===COMMENT_STATE)if(n.gzhead.comment){i=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>i&&(e.adler=crc32_1$1(e.adler,n.pending_buf,n.pending-i,i)),flush_pending(e),i=n.pending,n.pending===n.pending_buf_size)){a=1;break}a=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0,put_byte(n,a)}while(0!==a);n.gzhead.hcrc&&n.pending>i&&(e.adler=crc32_1$1(e.adler,n.pending_buf,n.pending-i,i)),0===a&&(n.status=HCRC_STATE)}else n.status=HCRC_STATE;if(n.status===HCRC_STATE&&(n.gzhead.hcrc?(n.pending+2>n.pending_buf_size&&flush_pending(e),n.pending+2<=n.pending_buf_size&&(put_byte(n,255&e.adler),put_byte(n,e.adler>>8&255),e.adler=0,n.status=BUSY_STATE)):n.status=BUSY_STATE),0!==n.pending){if(flush_pending(e),0===e.avail_out)return n.last_flush=-1,Z_OK}else if(0===e.avail_in&&rank(t)<=rank(r)&&t!==Z_FINISH)return err(e,Z_BUF_ERROR);if(n.status===FINISH_STATE&&0!==e.avail_in)return err(e,Z_BUF_ERROR);if(0!==e.avail_in||0!==n.lookahead||t!==Z_NO_FLUSH&&n.status!==FINISH_STATE){var s=n.strategy===Z_HUFFMAN_ONLY?deflate_huff(n,t):n.strategy===Z_RLE?deflate_rle(n,t):configuration_table[n.level].func(n,t);if(s!==BS_FINISH_STARTED&&s!==BS_FINISH_DONE||(n.status=FINISH_STATE),s===BS_NEED_MORE||s===BS_FINISH_STARTED)return 0===e.avail_out&&(n.last_flush=-1),Z_OK;if(s===BS_BLOCK_DONE&&(t===Z_PARTIAL_FLUSH?trees._tr_align(n):t!==Z_BLOCK&&(trees._tr_stored_block(n,0,0,!1),t===Z_FULL_FLUSH&&(zero$1(n.head),0===n.lookahead&&(n.strstart=0,n.block_start=0,n.insert=0))),flush_pending(e),0===e.avail_out))return n.last_flush=-1,Z_OK}return t!==Z_FINISH?Z_OK:n.wrap<=0?Z_STREAM_END:(2===n.wrap?(put_byte(n,255&e.adler),put_byte(n,e.adler>>8&255),put_byte(n,e.adler>>16&255),put_byte(n,e.adler>>24&255),put_byte(n,255&e.total_in),put_byte(n,e.total_in>>8&255),put_byte(n,e.total_in>>16&255),put_byte(n,e.total_in>>24&255)):(putShortMSB(n,e.adler>>>16),putShortMSB(n,65535&e.adler)),flush_pending(e),n.wrap>0&&(n.wrap=-n.wrap),0!==n.pending?Z_OK:Z_STREAM_END)}function deflateEnd(e){var t;return e&&e.state?(t=e.state.status)!==INIT_STATE&&t!==EXTRA_STATE&&t!==NAME_STATE&&t!==COMMENT_STATE&&t!==HCRC_STATE&&t!==BUSY_STATE&&t!==FINISH_STATE?err(e,Z_STREAM_ERROR):(e.state=null,t===BUSY_STATE?err(e,Z_DATA_ERROR):Z_OK):Z_STREAM_ERROR}function deflateSetDictionary(e,t){var r,n,i,a,o,s,u,c,f=t.length;if(!e||!e.state)return Z_STREAM_ERROR;if(2===(a=(r=e.state).wrap)||1===a&&r.status!==INIT_STATE||r.lookahead)return Z_STREAM_ERROR;for(1===a&&(e.adler=adler32_1(e.adler,t,f,0)),r.wrap=0,f>=r.w_size&&(0===a&&(zero$1(r.head),r.strstart=0,r.block_start=0,r.insert=0),c=new common.Buf8(r.w_size),common.arraySet(c,t,f-r.w_size,r.w_size,0),t=c,f=r.w_size),o=e.avail_in,s=e.next_in,u=e.input,e.avail_in=f,e.next_in=0,e.input=t,fill_window(r);r.lookahead>=MIN_MATCH$1;){n=r.strstart,i=r.lookahead-(MIN_MATCH$1-1);do{r.ins_h=(r.ins_h<<r.hash_shift^r.window[n+MIN_MATCH$1-1])&r.hash_mask,r.prev[n&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=n,n++}while(--i);r.strstart=n,r.lookahead=MIN_MATCH$1-1,fill_window(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=MIN_MATCH$1-1,r.match_available=0,e.next_in=s,e.input=u,e.avail_in=o,r.wrap=a,Z_OK}configuration_table=[new Config(0,0,0,0,deflate_stored),new Config(4,4,8,4,deflate_fast),new Config(4,5,16,8,deflate_fast),new Config(4,6,32,32,deflate_fast),new Config(4,4,16,16,deflate_slow),new Config(8,16,32,32,deflate_slow),new Config(8,16,128,128,deflate_slow),new Config(8,32,128,256,deflate_slow),new Config(32,128,258,1024,deflate_slow),new Config(32,258,258,4096,deflate_slow)];var deflateInit_1=deflateInit,deflateInit2_1=deflateInit2,deflateReset_1=deflateReset,deflateResetKeep_1=deflateResetKeep,deflateSetHeader_1=deflateSetHeader,deflate_2=deflate,deflateEnd_1=deflateEnd,deflateSetDictionary_1=deflateSetDictionary,deflateInfo="pako deflate (from Nodeca project)",deflate_1={deflateInit:deflateInit_1,deflateInit2:deflateInit2_1,deflateReset:deflateReset_1,deflateResetKeep:deflateResetKeep_1,deflateSetHeader:deflateSetHeader_1,deflate:deflate_2,deflateEnd:deflateEnd_1,deflateSetDictionary:deflateSetDictionary_1,deflateInfo:deflateInfo},STR_APPLY_OK=!0,STR_APPLY_UIA_OK=!0;try{String.fromCharCode.apply(null,[0])}catch(e){STR_APPLY_OK=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){STR_APPLY_UIA_OK=!1}for(var _utf8len=new common.Buf8(256),q=0;q<256;q++)_utf8len[q]=q>=252?6:q>=248?5:q>=240?4:q>=224?3:q>=192?2:1;_utf8len[254]=_utf8len[254]=1;var string2buf=function(e){var t,r,n,i,a,o=e.length,s=0;for(i=0;i<o;i++)55296==(64512&(r=e.charCodeAt(i)))&&i+1<o&&56320==(64512&(n=e.charCodeAt(i+1)))&&(r=65536+(r-55296<<10)+(n-56320),i++),s+=r<128?1:r<2048?2:r<65536?3:4;for(t=new common.Buf8(s),a=0,i=0;a<s;i++)55296==(64512&(r=e.charCodeAt(i)))&&i+1<o&&56320==(64512&(n=e.charCodeAt(i+1)))&&(r=65536+(r-55296<<10)+(n-56320),i++),r<128?t[a++]=r:r<2048?(t[a++]=192|r>>>6,t[a++]=128|63&r):r<65536?(t[a++]=224|r>>>12,t[a++]=128|r>>>6&63,t[a++]=128|63&r):(t[a++]=240|r>>>18,t[a++]=128|r>>>12&63,t[a++]=128|r>>>6&63,t[a++]=128|63&r);return t};function buf2binstring(e,t){if(t<65534&&(e.subarray&&STR_APPLY_UIA_OK||!e.subarray&&STR_APPLY_OK))return String.fromCharCode.apply(null,common.shrinkBuf(e,t));for(var r="",n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r}var buf2binstring_1=function(e){return buf2binstring(e,e.length)},binstring2buf=function(e){for(var t=new common.Buf8(e.length),r=0,n=t.length;r<n;r++)t[r]=e.charCodeAt(r);return t},buf2string=function(e,t){var r,n,i,a,o=t||e.length,s=new Array(2*o);for(n=0,r=0;r<o;)if((i=e[r++])<128)s[n++]=i;else if((a=_utf8len[i])>4)s[n++]=65533,r+=a-1;else{for(i&=2===a?31:3===a?15:7;a>1&&r<o;)i=i<<6|63&e[r++],a--;a>1?s[n++]=65533:i<65536?s[n++]=i:(i-=65536,s[n++]=55296|i>>10&1023,s[n++]=56320|1023&i)}return buf2binstring(s,n)},utf8border=function(e,t){var r;for((t=t||e.length)>e.length&&(t=e.length),r=t-1;r>=0&&128==(192&e[r]);)r--;return r<0?t:0===r?t:r+_utf8len[e[r]]>t?r:t},strings={string2buf:string2buf,buf2binstring:buf2binstring_1,binstring2buf:binstring2buf,buf2string:buf2string,utf8border:utf8border};function ZStream(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var zstream=ZStream,toString$1=Object.prototype.toString,Z_NO_FLUSH$1=0,Z_FINISH$1=4,Z_OK$1=0,Z_STREAM_END$1=1,Z_SYNC_FLUSH=2,Z_DEFAULT_COMPRESSION$1=-1,Z_DEFAULT_STRATEGY$1=0,Z_DEFLATED$1=8;function Deflate(e){if(!(this instanceof Deflate))return new Deflate(e);this.options=common.assign({level:Z_DEFAULT_COMPRESSION$1,method:Z_DEFLATED$1,chunkSize:16384,windowBits:15,memLevel:8,strategy:Z_DEFAULT_STRATEGY$1,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new zstream,this.strm.avail_out=0;var r=deflate_1.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(r!==Z_OK$1)throw new Error(messages[r]);if(t.header&&deflate_1.deflateSetHeader(this.strm,t.header),t.dictionary){var n;if(n="string"==typeof t.dictionary?strings.string2buf(t.dictionary):"[object ArrayBuffer]"===toString$1.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(r=deflate_1.deflateSetDictionary(this.strm,n))!==Z_OK$1)throw new Error(messages[r]);this._dict_set=!0}}function deflate$1(e,t){var r=new Deflate(t);if(r.push(e,!0),r.err)throw r.msg||messages[r.err];return r.result}function deflateRaw(e,t){return(t=t||{}).raw=!0,deflate$1(e,t)}function gzip(e,t){return(t=t||{}).gzip=!0,deflate$1(e,t)}Deflate.prototype.push=function(e,t){var r,n,i=this.strm,a=this.options.chunkSize;if(this.ended)return!1;n=t===~~t?t:!0===t?Z_FINISH$1:Z_NO_FLUSH$1,"string"==typeof e?i.input=strings.string2buf(e):"[object ArrayBuffer]"===toString$1.call(e)?i.input=new Uint8Array(e):i.input=e,i.next_in=0,i.avail_in=i.input.length;do{if(0===i.avail_out&&(i.output=new common.Buf8(a),i.next_out=0,i.avail_out=a),(r=deflate_1.deflate(i,n))!==Z_STREAM_END$1&&r!==Z_OK$1)return this.onEnd(r),this.ended=!0,!1;0!==i.avail_out&&(0!==i.avail_in||n!==Z_FINISH$1&&n!==Z_SYNC_FLUSH)||("string"===this.options.to?this.onData(strings.buf2binstring(common.shrinkBuf(i.output,i.next_out))):this.onData(common.shrinkBuf(i.output,i.next_out)))}while((i.avail_in>0||0===i.avail_out)&&r!==Z_STREAM_END$1);return n===Z_FINISH$1?(r=deflate_1.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===Z_OK$1):n!==Z_SYNC_FLUSH||(this.onEnd(Z_OK$1),i.avail_out=0,!0)},Deflate.prototype.onData=function(e){this.chunks.push(e)},Deflate.prototype.onEnd=function(e){e===Z_OK$1&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=common.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var Deflate_1=Deflate,deflate_2$1=deflate$1,deflateRaw_1=deflateRaw,gzip_1=gzip,deflate_1$1={Deflate:Deflate_1,deflate:deflate_2$1,deflateRaw:deflateRaw_1,gzip:gzip_1},BAD=30,TYPE=12,inffast=function(e,t){var r,n,i,a,o,s,u,c,f,l,h,d,p,_,g,m,b,v,y,w,k,E,A,S,T;r=e.state,n=e.next_in,S=e.input,i=n+(e.avail_in-5),a=e.next_out,T=e.output,o=a-(t-e.avail_out),s=a+(e.avail_out-257),u=r.dmax,c=r.wsize,f=r.whave,l=r.wnext,h=r.window,d=r.hold,p=r.bits,_=r.lencode,g=r.distcode,m=(1<<r.lenbits)-1,b=(1<<r.distbits)-1;e:do{p<15&&(d+=S[n++]<<p,p+=8,d+=S[n++]<<p,p+=8),v=_[d&m];t:for(;;){if(d>>>=y=v>>>24,p-=y,0===(y=v>>>16&255))T[a++]=65535&v;else{if(!(16&y)){if(0==(64&y)){v=_[(65535&v)+(d&(1<<y)-1)];continue t}if(32&y){r.mode=TYPE;break e}e.msg="invalid literal/length code",r.mode=BAD;break e}w=65535&v,(y&=15)&&(p<y&&(d+=S[n++]<<p,p+=8),w+=d&(1<<y)-1,d>>>=y,p-=y),p<15&&(d+=S[n++]<<p,p+=8,d+=S[n++]<<p,p+=8),v=g[d&b];r:for(;;){if(d>>>=y=v>>>24,p-=y,!(16&(y=v>>>16&255))){if(0==(64&y)){v=g[(65535&v)+(d&(1<<y)-1)];continue r}e.msg="invalid distance code",r.mode=BAD;break e}if(k=65535&v,p<(y&=15)&&(d+=S[n++]<<p,(p+=8)<y&&(d+=S[n++]<<p,p+=8)),(k+=d&(1<<y)-1)>u){e.msg="invalid distance too far back",r.mode=BAD;break e}if(d>>>=y,p-=y,k>(y=a-o)){if((y=k-y)>f&&r.sane){e.msg="invalid distance too far back",r.mode=BAD;break e}if(E=0,A=h,0===l){if(E+=c-y,y<w){w-=y;do{T[a++]=h[E++]}while(--y);E=a-k,A=T}}else if(l<y){if(E+=c+l-y,(y-=l)<w){w-=y;do{T[a++]=h[E++]}while(--y);if(E=0,l<w){w-=y=l;do{T[a++]=h[E++]}while(--y);E=a-k,A=T}}}else if(E+=l-y,y<w){w-=y;do{T[a++]=h[E++]}while(--y);E=a-k,A=T}for(;w>2;)T[a++]=A[E++],T[a++]=A[E++],T[a++]=A[E++],w-=3;w&&(T[a++]=A[E++],w>1&&(T[a++]=A[E++]))}else{E=a-k;do{T[a++]=T[E++],T[a++]=T[E++],T[a++]=T[E++],w-=3}while(w>2);w&&(T[a++]=T[E++],w>1&&(T[a++]=T[E++]))}break}}break}}while(n<i&&a<s);n-=w=p>>3,d&=(1<<(p-=w<<3))-1,e.next_in=n,e.next_out=a,e.avail_in=n<i?i-n+5:5-(n-i),e.avail_out=a<s?s-a+257:257-(a-s),r.hold=d,r.bits=p},MAXBITS=15,ENOUGH_LENS=852,ENOUGH_DISTS=592,CODES=0,LENS=1,DISTS=2,lbase=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],lext=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],dbase=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],dext=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64],inftrees=function(e,t,r,n,i,a,o,s){var u,c,f,l,h,d,p,_,g,m=s.bits,b=0,v=0,y=0,w=0,k=0,E=0,A=0,S=0,T=0,C=0,R=null,M=0,x=new common.Buf16(MAXBITS+1),I=new common.Buf16(MAXBITS+1),O=null,N=0;for(b=0;b<=MAXBITS;b++)x[b]=0;for(v=0;v<n;v++)x[t[r+v]]++;for(k=m,w=MAXBITS;w>=1&&0===x[w];w--);if(k>w&&(k=w),0===w)return i[a++]=20971520,i[a++]=20971520,s.bits=1,0;for(y=1;y<w&&0===x[y];y++);for(k<y&&(k=y),S=1,b=1;b<=MAXBITS;b++)if(S<<=1,(S-=x[b])<0)return-1;if(S>0&&(e===CODES||1!==w))return-1;for(I[1]=0,b=1;b<MAXBITS;b++)I[b+1]=I[b]+x[b];for(v=0;v<n;v++)0!==t[r+v]&&(o[I[t[r+v]]++]=v);if(e===CODES?(R=O=o,d=19):e===LENS?(R=lbase,M-=257,O=lext,N-=257,d=256):(R=dbase,O=dext,d=-1),C=0,v=0,b=y,h=a,E=k,A=0,f=-1,l=(T=1<<k)-1,e===LENS&&T>ENOUGH_LENS||e===DISTS&&T>ENOUGH_DISTS)return 1;for(;;){p=b-A,o[v]<d?(_=0,g=o[v]):o[v]>d?(_=O[N+o[v]],g=R[M+o[v]]):(_=96,g=0),u=1<<b-A,y=c=1<<E;do{i[h+(C>>A)+(c-=u)]=p<<24|_<<16|g|0}while(0!==c);for(u=1<<b-1;C&u;)u>>=1;if(0!==u?(C&=u-1,C+=u):C=0,v++,0==--x[b]){if(b===w)break;b=t[r+o[v]]}if(b>k&&(C&l)!==f){for(0===A&&(A=k),h+=y,S=1<<(E=b-A);E+A<w&&!((S-=x[E+A])<=0);)E++,S<<=1;if(T+=1<<E,e===LENS&&T>ENOUGH_LENS||e===DISTS&&T>ENOUGH_DISTS)return 1;i[f=C&l]=k<<24|E<<16|h-a|0}}return 0!==C&&(i[h+C]=b-A<<24|64<<16|0),s.bits=k,0},CODES$1=0,LENS$1=1,DISTS$1=2,Z_FINISH$2=4,Z_BLOCK$1=5,Z_TREES=6,Z_OK$2=0,Z_STREAM_END$2=1,Z_NEED_DICT=2,Z_STREAM_ERROR$1=-2,Z_DATA_ERROR$1=-3,Z_MEM_ERROR=-4,Z_BUF_ERROR$1=-5,Z_DEFLATED$2=8,HEAD=1,FLAGS=2,TIME=3,OS=4,EXLEN=5,EXTRA=6,NAME=7,COMMENT=8,HCRC=9,DICTID=10,DICT=11,TYPE$1=12,TYPEDO=13,STORED=14,COPY_=15,COPY=16,TABLE=17,LENLENS=18,CODELENS=19,LEN_=20,LEN=21,LENEXT=22,DIST=23,DISTEXT=24,MATCH=25,LIT=26,CHECK=27,LENGTH=28,DONE=29,BAD$1=30,MEM=31,SYNC=32,ENOUGH_LENS$1=852,ENOUGH_DISTS$1=592,MAX_WBITS$1=15,DEF_WBITS=MAX_WBITS$1;function zswap32(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function InflateState(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new common.Buf16(320),this.work=new common.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function inflateResetKeep(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=HEAD,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new common.Buf32(ENOUGH_LENS$1),t.distcode=t.distdyn=new common.Buf32(ENOUGH_DISTS$1),t.sane=1,t.back=-1,Z_OK$2):Z_STREAM_ERROR$1}function inflateReset(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,inflateResetKeep(e)):Z_STREAM_ERROR$1}function inflateReset2(e,t){var r,n;return e&&e.state?(n=e.state,t<0?(r=0,t=-t):(r=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?Z_STREAM_ERROR$1:(null!==n.window&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,inflateReset(e))):Z_STREAM_ERROR$1}function inflateInit2(e,t){var r,n;return e?(n=new InflateState,e.state=n,n.window=null,(r=inflateReset2(e,t))!==Z_OK$2&&(e.state=null),r):Z_STREAM_ERROR$1}function inflateInit(e){return inflateInit2(e,DEF_WBITS)}var virgin=!0,lenfix,distfix;function fixedtables(e){if(virgin){var t;for(lenfix=new common.Buf32(512),distfix=new common.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(inftrees(LENS$1,e.lens,0,288,lenfix,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;inftrees(DISTS$1,e.lens,0,32,distfix,0,e.work,{bits:5}),virgin=!1}e.lencode=lenfix,e.lenbits=9,e.distcode=distfix,e.distbits=5}function updatewindow(e,t,r,n){var i,a=e.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new common.Buf8(a.wsize)),n>=a.wsize?(common.arraySet(a.window,t,r-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):((i=a.wsize-a.wnext)>n&&(i=n),common.arraySet(a.window,t,r-n,i,a.wnext),(n-=i)?(common.arraySet(a.window,t,r-n,n,0),a.wnext=n,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0}function inflate(e,t){var r,n,i,a,o,s,u,c,f,l,h,d,p,_,g,m,b,v,y,w,k,E,A,S,T=0,C=new common.Buf8(4),R=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return Z_STREAM_ERROR$1;(r=e.state).mode===TYPE$1&&(r.mode=TYPEDO),o=e.next_out,i=e.output,u=e.avail_out,a=e.next_in,n=e.input,s=e.avail_in,c=r.hold,f=r.bits,l=s,h=u,E=Z_OK$2;e:for(;;)switch(r.mode){case HEAD:if(0===r.wrap){r.mode=TYPEDO;break}for(;f<16;){if(0===s)break e;s--,c+=n[a++]<<f,f+=8}if(2&r.wrap&&35615===c){r.check=0,C[0]=255&c,C[1]=c>>>8&255,r.check=crc32_1$1(r.check,C,2,0),c=0,f=0,r.mode=FLAGS;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&c)<<8)+(c>>8))%31){e.msg="incorrect header check",r.mode=BAD$1;break}if((15&c)!==Z_DEFLATED$2){e.msg="unknown compression method",r.mode=BAD$1;break}if(f-=4,k=8+(15&(c>>>=4)),0===r.wbits)r.wbits=k;else if(k>r.wbits){e.msg="invalid window size",r.mode=BAD$1;break}r.dmax=1<<k,e.adler=r.check=1,r.mode=512&c?DICTID:TYPE$1,c=0,f=0;break;case FLAGS:for(;f<16;){if(0===s)break e;s--,c+=n[a++]<<f,f+=8}if(r.flags=c,(255&r.flags)!==Z_DEFLATED$2){e.msg="unknown compression method",r.mode=BAD$1;break}if(57344&r.flags){e.msg="unknown header flags set",r.mode=BAD$1;break}r.head&&(r.head.text=c>>8&1),512&r.flags&&(C[0]=255&c,C[1]=c>>>8&255,r.check=crc32_1$1(r.check,C,2,0)),c=0,f=0,r.mode=TIME;case TIME:for(;f<32;){if(0===s)break e;s--,c+=n[a++]<<f,f+=8}r.head&&(r.head.time=c),512&r.flags&&(C[0]=255&c,C[1]=c>>>8&255,C[2]=c>>>16&255,C[3]=c>>>24&255,r.check=crc32_1$1(r.check,C,4,0)),c=0,f=0,r.mode=OS;case OS:for(;f<16;){if(0===s)break e;s--,c+=n[a++]<<f,f+=8}r.head&&(r.head.xflags=255&c,r.head.os=c>>8),512&r.flags&&(C[0]=255&c,C[1]=c>>>8&255,r.check=crc32_1$1(r.check,C,2,0)),c=0,f=0,r.mode=EXLEN;case EXLEN:if(1024&r.flags){for(;f<16;){if(0===s)break e;s--,c+=n[a++]<<f,f+=8}r.length=c,r.head&&(r.head.extra_len=c),512&r.flags&&(C[0]=255&c,C[1]=c>>>8&255,r.check=crc32_1$1(r.check,C,2,0)),c=0,f=0}else r.head&&(r.head.extra=null);r.mode=EXTRA;case EXTRA:if(1024&r.flags&&((d=r.length)>s&&(d=s),d&&(r.head&&(k=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),common.arraySet(r.head.extra,n,a,d,k)),512&r.flags&&(r.check=crc32_1$1(r.check,n,d,a)),s-=d,a+=d,r.length-=d),r.length))break e;r.length=0,r.mode=NAME;case NAME:if(2048&r.flags){if(0===s)break e;d=0;do{k=n[a+d++],r.head&&k&&r.length<65536&&(r.head.name+=String.fromCharCode(k))}while(k&&d<s);if(512&r.flags&&(r.check=crc32_1$1(r.check,n,d,a)),s-=d,a+=d,k)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=COMMENT;case COMMENT:if(4096&r.flags){if(0===s)break e;d=0;do{k=n[a+d++],r.head&&k&&r.length<65536&&(r.head.comment+=String.fromCharCode(k))}while(k&&d<s);if(512&r.flags&&(r.check=crc32_1$1(r.check,n,d,a)),s-=d,a+=d,k)break e}else r.head&&(r.head.comment=null);r.mode=HCRC;case HCRC:if(512&r.flags){for(;f<16;){if(0===s)break e;s--,c+=n[a++]<<f,f+=8}if(c!==(65535&r.check)){e.msg="header crc mismatch",r.mode=BAD$1;break}c=0,f=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=TYPE$1;break;case DICTID:for(;f<32;){if(0===s)break e;s--,c+=n[a++]<<f,f+=8}e.adler=r.check=zswap32(c),c=0,f=0,r.mode=DICT;case DICT:if(0===r.havedict)return e.next_out=o,e.avail_out=u,e.next_in=a,e.avail_in=s,r.hold=c,r.bits=f,Z_NEED_DICT;e.adler=r.check=1,r.mode=TYPE$1;case TYPE$1:if(t===Z_BLOCK$1||t===Z_TREES)break e;case TYPEDO:if(r.last){c>>>=7&f,f-=7&f,r.mode=CHECK;break}for(;f<3;){if(0===s)break e;s--,c+=n[a++]<<f,f+=8}switch(r.last=1&c,f-=1,3&(c>>>=1)){case 0:r.mode=STORED;break;case 1:if(fixedtables(r),r.mode=LEN_,t===Z_TREES){c>>>=2,f-=2;break e}break;case 2:r.mode=TABLE;break;case 3:e.msg="invalid block type",r.mode=BAD$1}c>>>=2,f-=2;break;case STORED:for(c>>>=7&f,f-=7&f;f<32;){if(0===s)break e;s--,c+=n[a++]<<f,f+=8}if((65535&c)!=(c>>>16^65535)){e.msg="invalid stored block lengths",r.mode=BAD$1;break}if(r.length=65535&c,c=0,f=0,r.mode=COPY_,t===Z_TREES)break e;case COPY_:r.mode=COPY;case COPY:if(d=r.length){if(d>s&&(d=s),d>u&&(d=u),0===d)break e;common.arraySet(i,n,a,d,o),s-=d,a+=d,u-=d,o+=d,r.length-=d;break}r.mode=TYPE$1;break;case TABLE:for(;f<14;){if(0===s)break e;s--,c+=n[a++]<<f,f+=8}if(r.nlen=257+(31&c),c>>>=5,f-=5,r.ndist=1+(31&c),c>>>=5,f-=5,r.ncode=4+(15&c),c>>>=4,f-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=BAD$1;break}r.have=0,r.mode=LENLENS;case LENLENS:for(;r.have<r.ncode;){for(;f<3;){if(0===s)break e;s--,c+=n[a++]<<f,f+=8}r.lens[R[r.have++]]=7&c,c>>>=3,f-=3}for(;r.have<19;)r.lens[R[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,A={bits:r.lenbits},E=inftrees(CODES$1,r.lens,0,19,r.lencode,0,r.work,A),r.lenbits=A.bits,E){e.msg="invalid code lengths set",r.mode=BAD$1;break}r.have=0,r.mode=CODELENS;case CODELENS:for(;r.have<r.nlen+r.ndist;){for(;m=(T=r.lencode[c&(1<<r.lenbits)-1])>>>16&255,b=65535&T,!((g=T>>>24)<=f);){if(0===s)break e;s--,c+=n[a++]<<f,f+=8}if(b<16)c>>>=g,f-=g,r.lens[r.have++]=b;else{if(16===b){for(S=g+2;f<S;){if(0===s)break e;s--,c+=n[a++]<<f,f+=8}if(c>>>=g,f-=g,0===r.have){e.msg="invalid bit length repeat",r.mode=BAD$1;break}k=r.lens[r.have-1],d=3+(3&c),c>>>=2,f-=2}else if(17===b){for(S=g+3;f<S;){if(0===s)break e;s--,c+=n[a++]<<f,f+=8}f-=g,k=0,d=3+(7&(c>>>=g)),c>>>=3,f-=3}else{for(S=g+7;f<S;){if(0===s)break e;s--,c+=n[a++]<<f,f+=8}f-=g,k=0,d=11+(127&(c>>>=g)),c>>>=7,f-=7}if(r.have+d>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=BAD$1;break}for(;d--;)r.lens[r.have++]=k}}if(r.mode===BAD$1)break;if(0===r.lens[256]){e.msg="invalid code -- missing end-of-block",r.mode=BAD$1;break}if(r.lenbits=9,A={bits:r.lenbits},E=inftrees(LENS$1,r.lens,0,r.nlen,r.lencode,0,r.work,A),r.lenbits=A.bits,E){e.msg="invalid literal/lengths set",r.mode=BAD$1;break}if(r.distbits=6,r.distcode=r.distdyn,A={bits:r.distbits},E=inftrees(DISTS$1,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,A),r.distbits=A.bits,E){e.msg="invalid distances set",r.mode=BAD$1;break}if(r.mode=LEN_,t===Z_TREES)break e;case LEN_:r.mode=LEN;case LEN:if(s>=6&&u>=258){e.next_out=o,e.avail_out=u,e.next_in=a,e.avail_in=s,r.hold=c,r.bits=f,inffast(e,h),o=e.next_out,i=e.output,u=e.avail_out,a=e.next_in,n=e.input,s=e.avail_in,c=r.hold,f=r.bits,r.mode===TYPE$1&&(r.back=-1);break}for(r.back=0;m=(T=r.lencode[c&(1<<r.lenbits)-1])>>>16&255,b=65535&T,!((g=T>>>24)<=f);){if(0===s)break e;s--,c+=n[a++]<<f,f+=8}if(m&&0==(240&m)){for(v=g,y=m,w=b;m=(T=r.lencode[w+((c&(1<<v+y)-1)>>v)])>>>16&255,b=65535&T,!(v+(g=T>>>24)<=f);){if(0===s)break e;s--,c+=n[a++]<<f,f+=8}c>>>=v,f-=v,r.back+=v}if(c>>>=g,f-=g,r.back+=g,r.length=b,0===m){r.mode=LIT;break}if(32&m){r.back=-1,r.mode=TYPE$1;break}if(64&m){e.msg="invalid literal/length code",r.mode=BAD$1;break}r.extra=15&m,r.mode=LENEXT;case LENEXT:if(r.extra){for(S=r.extra;f<S;){if(0===s)break e;s--,c+=n[a++]<<f,f+=8}r.length+=c&(1<<r.extra)-1,c>>>=r.extra,f-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=DIST;case DIST:for(;m=(T=r.distcode[c&(1<<r.distbits)-1])>>>16&255,b=65535&T,!((g=T>>>24)<=f);){if(0===s)break e;s--,c+=n[a++]<<f,f+=8}if(0==(240&m)){for(v=g,y=m,w=b;m=(T=r.distcode[w+((c&(1<<v+y)-1)>>v)])>>>16&255,b=65535&T,!(v+(g=T>>>24)<=f);){if(0===s)break e;s--,c+=n[a++]<<f,f+=8}c>>>=v,f-=v,r.back+=v}if(c>>>=g,f-=g,r.back+=g,64&m){e.msg="invalid distance code",r.mode=BAD$1;break}r.offset=b,r.extra=15&m,r.mode=DISTEXT;case DISTEXT:if(r.extra){for(S=r.extra;f<S;){if(0===s)break e;s--,c+=n[a++]<<f,f+=8}r.offset+=c&(1<<r.extra)-1,c>>>=r.extra,f-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=BAD$1;break}r.mode=MATCH;case MATCH:if(0===u)break e;if(d=h-u,r.offset>d){if((d=r.offset-d)>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=BAD$1;break}d>r.wnext?(d-=r.wnext,p=r.wsize-d):p=r.wnext-d,d>r.length&&(d=r.length),_=r.window}else _=i,p=o-r.offset,d=r.length;d>u&&(d=u),u-=d,r.length-=d;do{i[o++]=_[p++]}while(--d);0===r.length&&(r.mode=LEN);break;case LIT:if(0===u)break e;i[o++]=r.length,u--,r.mode=LEN;break;case CHECK:if(r.wrap){for(;f<32;){if(0===s)break e;s--,c|=n[a++]<<f,f+=8}if(h-=u,e.total_out+=h,r.total+=h,h&&(e.adler=r.check=r.flags?crc32_1$1(r.check,i,h,o-h):adler32_1(r.check,i,h,o-h)),h=u,(r.flags?c:zswap32(c))!==r.check){e.msg="incorrect data check",r.mode=BAD$1;break}c=0,f=0}r.mode=LENGTH;case LENGTH:if(r.wrap&&r.flags){for(;f<32;){if(0===s)break e;s--,c+=n[a++]<<f,f+=8}if(c!==(4294967295&r.total)){e.msg="incorrect length check",r.mode=BAD$1;break}c=0,f=0}r.mode=DONE;case DONE:E=Z_STREAM_END$2;break e;case BAD$1:E=Z_DATA_ERROR$1;break e;case MEM:return Z_MEM_ERROR;case SYNC:default:return Z_STREAM_ERROR$1}return e.next_out=o,e.avail_out=u,e.next_in=a,e.avail_in=s,r.hold=c,r.bits=f,(r.wsize||h!==e.avail_out&&r.mode<BAD$1&&(r.mode<CHECK||t!==Z_FINISH$2))&&updatewindow(e,e.output,e.next_out,h-e.avail_out),l-=e.avail_in,h-=e.avail_out,e.total_in+=l,e.total_out+=h,r.total+=h,r.wrap&&h&&(e.adler=r.check=r.flags?crc32_1$1(r.check,i,h,e.next_out-h):adler32_1(r.check,i,h,e.next_out-h)),e.data_type=r.bits+(r.last?64:0)+(r.mode===TYPE$1?128:0)+(r.mode===LEN_||r.mode===COPY_?256:0),(0===l&&0===h||t===Z_FINISH$2)&&E===Z_OK$2&&(E=Z_BUF_ERROR$1),E}function inflateEnd(e){if(!e||!e.state)return Z_STREAM_ERROR$1;var t=e.state;return t.window&&(t.window=null),e.state=null,Z_OK$2}function inflateGetHeader(e,t){var r;return e&&e.state?0==(2&(r=e.state).wrap)?Z_STREAM_ERROR$1:(r.head=t,t.done=!1,Z_OK$2):Z_STREAM_ERROR$1}function inflateSetDictionary(e,t){var r,n=t.length;return e&&e.state?0!==(r=e.state).wrap&&r.mode!==DICT?Z_STREAM_ERROR$1:r.mode===DICT&&adler32_1(1,t,n,0)!==r.check?Z_DATA_ERROR$1:updatewindow(e,t,n,n)?(r.mode=MEM,Z_MEM_ERROR):(r.havedict=1,Z_OK$2):Z_STREAM_ERROR$1}var inflateReset_1=inflateReset,inflateReset2_1=inflateReset2,inflateResetKeep_1=inflateResetKeep,inflateInit_1=inflateInit,inflateInit2_1=inflateInit2,inflate_2=inflate,inflateEnd_1=inflateEnd,inflateGetHeader_1=inflateGetHeader,inflateSetDictionary_1=inflateSetDictionary,inflateInfo="pako inflate (from Nodeca project)",inflate_1={inflateReset:inflateReset_1,inflateReset2:inflateReset2_1,inflateResetKeep:inflateResetKeep_1,inflateInit:inflateInit_1,inflateInit2:inflateInit2_1,inflate:inflate_2,inflateEnd:inflateEnd_1,inflateGetHeader:inflateGetHeader_1,inflateSetDictionary:inflateSetDictionary_1,inflateInfo:inflateInfo},constants={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};function GZheader(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var gzheader=GZheader,toString$2=Object.prototype.toString;function Inflate(e){if(!(this instanceof Inflate))return new Inflate(e);this.options=common.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new zstream,this.strm.avail_out=0;var r=inflate_1.inflateInit2(this.strm,t.windowBits);if(r!==constants.Z_OK)throw new Error(messages[r]);if(this.header=new gzheader,inflate_1.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=strings.string2buf(t.dictionary):"[object ArrayBuffer]"===toString$2.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=inflate_1.inflateSetDictionary(this.strm,t.dictionary))!==constants.Z_OK))throw new Error(messages[r])}function inflate$1(e,t){var r=new Inflate(t);if(r.push(e,!0),r.err)throw r.msg||messages[r.err];return r.result}function inflateRaw(e,t){return(t=t||{}).raw=!0,inflate$1(e,t)}Inflate.prototype.push=function(e,t){var r,n,i,a,o,s=this.strm,u=this.options.chunkSize,c=this.options.dictionary,f=!1;if(this.ended)return!1;n=t===~~t?t:!0===t?constants.Z_FINISH:constants.Z_NO_FLUSH,"string"==typeof e?s.input=strings.binstring2buf(e):"[object ArrayBuffer]"===toString$2.call(e)?s.input=new Uint8Array(e):s.input=e,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new common.Buf8(u),s.next_out=0,s.avail_out=u),(r=inflate_1.inflate(s,constants.Z_NO_FLUSH))===constants.Z_NEED_DICT&&c&&(r=inflate_1.inflateSetDictionary(this.strm,c)),r===constants.Z_BUF_ERROR&&!0===f&&(r=constants.Z_OK,f=!1),r!==constants.Z_STREAM_END&&r!==constants.Z_OK)return this.onEnd(r),this.ended=!0,!1;s.next_out&&(0!==s.avail_out&&r!==constants.Z_STREAM_END&&(0!==s.avail_in||n!==constants.Z_FINISH&&n!==constants.Z_SYNC_FLUSH)||("string"===this.options.to?(i=strings.utf8border(s.output,s.next_out),a=s.next_out-i,o=strings.buf2string(s.output,i),s.next_out=a,s.avail_out=u-a,a&&common.arraySet(s.output,s.output,i,a,0),this.onData(o)):this.onData(common.shrinkBuf(s.output,s.next_out)))),0===s.avail_in&&0===s.avail_out&&(f=!0)}while((s.avail_in>0||0===s.avail_out)&&r!==constants.Z_STREAM_END);return r===constants.Z_STREAM_END&&(n=constants.Z_FINISH),n===constants.Z_FINISH?(r=inflate_1.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===constants.Z_OK):n!==constants.Z_SYNC_FLUSH||(this.onEnd(constants.Z_OK),s.avail_out=0,!0)},Inflate.prototype.onData=function(e){this.chunks.push(e)},Inflate.prototype.onEnd=function(e){e===constants.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=common.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var Inflate_1=Inflate,inflate_2$1=inflate$1,inflateRaw_1=inflateRaw,ungzip=inflate$1,inflate_1$1={Inflate:Inflate_1,inflate:inflate_2$1,inflateRaw:inflateRaw_1,ungzip:ungzip},assign=common.assign,pako={};assign(pako,deflate_1$1,inflate_1$1,constants);var pako_1=pako,USE_TYPEDARRAY="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,ARRAY_TYPE=USE_TYPEDARRAY?"uint8array":"array",magic="\b\0";function FlateWorker(e,t){GenericWorker_1.call(this,"FlateWorker/"+e),this._pako=null,this._pakoAction=e,this._pakoOptions=t,this.meta={}}utils.inherits(FlateWorker,GenericWorker_1),FlateWorker.prototype.processChunk=function(e){this.meta=e.meta,null===this._pako&&this._createPako(),this._pako.push(utils.transformTo(ARRAY_TYPE,e.data),!1)},FlateWorker.prototype.flush=function(){GenericWorker_1.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},FlateWorker.prototype.cleanUp=function(){GenericWorker_1.prototype.cleanUp.call(this),this._pako=null},FlateWorker.prototype._createPako=function(){this._pako=new pako_1[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var e=this;this._pako.onData=function(t){e.push({data:t,meta:e.meta})}};var compressWorker=function(e){return new FlateWorker("Deflate",e)},uncompressWorker=function(){return new FlateWorker("Inflate",{})},flate={magic:magic,compressWorker:compressWorker,uncompressWorker:uncompressWorker},STORE={magic:"\0\0",compressWorker:function(e){return new GenericWorker_1("STORE compression")},uncompressWorker:function(){return new GenericWorker_1("STORE decompression")}},DEFLATE=flate,compressions={STORE:STORE,DEFLATE:DEFLATE},LOCAL_FILE_HEADER="PK",CENTRAL_FILE_HEADER="PK",CENTRAL_DIRECTORY_END="PK",ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",ZIP64_CENTRAL_DIRECTORY_END="PK",DATA_DESCRIPTOR="PK\b",signature={LOCAL_FILE_HEADER:LOCAL_FILE_HEADER,CENTRAL_FILE_HEADER:CENTRAL_FILE_HEADER,CENTRAL_DIRECTORY_END:CENTRAL_DIRECTORY_END,ZIP64_CENTRAL_DIRECTORY_LOCATOR:ZIP64_CENTRAL_DIRECTORY_LOCATOR,ZIP64_CENTRAL_DIRECTORY_END:ZIP64_CENTRAL_DIRECTORY_END,DATA_DESCRIPTOR:DATA_DESCRIPTOR},decToHex=function(e,t){var r,n="";for(r=0;r<t;r++)n+=String.fromCharCode(255&e),e>>>=8;return n},generateUnixExternalFileAttr=function(e,t){var r=e;return e||(r=t?16893:33204),(65535&r)<<16},generateDosExternalFileAttr=function(e,t){return 63&(e||0)},generateZipParts=function(e,t,r,n,i,a){var o,s,u=e.file,c=e.compression,f=a!==utf8.utf8encode,l=utils.transformTo("string",a(u.name)),h=utils.transformTo("string",utf8.utf8encode(u.name)),d=u.comment,p=utils.transformTo("string",a(d)),_=utils.transformTo("string",utf8.utf8encode(d)),g=h.length!==u.name.length,m=_.length!==d.length,b="",v="",y="",w=u.dir,k=u.date,E={crc32:0,compressedSize:0,uncompressedSize:0};t&&!r||(E.crc32=e.crc32,E.compressedSize=e.compressedSize,E.uncompressedSize=e.uncompressedSize);var A=0;t&&(A|=8),f||!g&&!m||(A|=2048);var S=0,T=0;w&&(S|=16),"UNIX"===i?(T=798,S|=generateUnixExternalFileAttr(u.unixPermissions,w)):(T=20,S|=generateDosExternalFileAttr(u.dosPermissions)),o=k.getUTCHours(),o<<=6,o|=k.getUTCMinutes(),o<<=5,o|=k.getUTCSeconds()/2,s=k.getUTCFullYear()-1980,s<<=4,s|=k.getUTCMonth()+1,s<<=5,s|=k.getUTCDate(),g&&(v=decToHex(1,1)+decToHex(crc32_1(l),4)+h,b+="up"+decToHex(v.length,2)+v),m&&(y=decToHex(1,1)+decToHex(crc32_1(p),4)+_,b+="uc"+decToHex(y.length,2)+y);var C="";return C+="\n\0",C+=decToHex(A,2),C+=c.magic,C+=decToHex(o,2),C+=decToHex(s,2),C+=decToHex(E.crc32,4),C+=decToHex(E.compressedSize,4),C+=decToHex(E.uncompressedSize,4),C+=decToHex(l.length,2),C+=decToHex(b.length,2),{fileRecord:signature.LOCAL_FILE_HEADER+C+l+b,dirRecord:signature.CENTRAL_FILE_HEADER+decToHex(T,2)+C+decToHex(p.length,2)+"\0\0\0\0"+decToHex(S,4)+decToHex(n,4)+l+b+p}},generateCentralDirectoryEnd=function(e,t,r,n,i){var a=utils.transformTo("string",i(n));return signature.CENTRAL_DIRECTORY_END+"\0\0\0\0"+decToHex(e,2)+decToHex(e,2)+decToHex(t,4)+decToHex(r,4)+decToHex(a.length,2)+a},generateDataDescriptors=function(e){return signature.DATA_DESCRIPTOR+decToHex(e.crc32,4)+decToHex(e.compressedSize,4)+decToHex(e.uncompressedSize,4)};function ZipFileWorker(e,t,r,n){GenericWorker_1.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=t,this.zipPlatform=r,this.encodeFileName=n,this.streamFiles=e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}utils.inherits(ZipFileWorker,GenericWorker_1),ZipFileWorker.prototype.push=function(e){var t=e.meta.percent||0,r=this.entriesCount,n=this._sources.length;this.accumulate?this.contentBuffer.push(e):(this.bytesWritten+=e.data.length,GenericWorker_1.prototype.push.call(this,{data:e.data,meta:{currentFile:this.currentFile,percent:r?(t+100*(r-n-1))/r:100}}))},ZipFileWorker.prototype.openedSource=function(e){this.currentSourceOffset=this.bytesWritten,this.currentFile=e.file.name;var t=this.streamFiles&&!e.file.dir;if(t){var r=generateZipParts(e,t,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:r.fileRecord,meta:{percent:0}})}else this.accumulate=!0},ZipFileWorker.prototype.closedSource=function(e){this.accumulate=!1;var t=this.streamFiles&&!e.file.dir,r=generateZipParts(e,t,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(r.dirRecord),t)this.push({data:generateDataDescriptors(e),meta:{percent:100}});else for(this.push({data:r.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},ZipFileWorker.prototype.flush=function(){for(var e=this.bytesWritten,t=0;t<this.dirRecords.length;t++)this.push({data:this.dirRecords[t],meta:{percent:100}});var r=this.bytesWritten-e,n=generateCentralDirectoryEnd(this.dirRecords.length,r,e,this.zipComment,this.encodeFileName);this.push({data:n,meta:{percent:100}})},ZipFileWorker.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},ZipFileWorker.prototype.registerPrevious=function(e){this._sources.push(e);var t=this;return e.on("data",function(e){t.processChunk(e)}),e.on("end",function(){t.closedSource(t.previous.streamInfo),t._sources.length?t.prepareNextSource():t.end()}),e.on("error",function(e){t.error(e)}),this},ZipFileWorker.prototype.resume=function(){return!!GenericWorker_1.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},ZipFileWorker.prototype.error=function(e){var t=this._sources;if(!GenericWorker_1.prototype.error.call(this,e))return!1;for(var r=0;r<t.length;r++)try{t[r].error(e)}catch(e){}return!0},ZipFileWorker.prototype.lock=function(){GenericWorker_1.prototype.lock.call(this);for(var e=this._sources,t=0;t<e.length;t++)e[t].lock()};var ZipFileWorker_1=ZipFileWorker,getCompression=function(e,t){var r=e||t,n=compressions[r];if(!n)throw new Error(r+" is not a valid compression method !");return n},generateWorker=function(e,t,r){var n=new ZipFileWorker_1(t.streamFiles,r,t.platform,t.encodeFileName),i=0;try{e.forEach(function(e,r){i++;var a=getCompression(r.options.compression,t.compression),o=r.options.compressionOptions||t.compressionOptions||{},s=r.dir,u=r.date;r._compressWorker(a,o).withStreamInfo("file",{name:e,dir:s,date:u,comment:r.comment||"",unixPermissions:r.unixPermissions,dosPermissions:r.dosPermissions}).pipe(n)}),n.entriesCount=i}catch(e){n.error(e)}return n},generate={generateWorker:generateWorker};function NodejsStreamInputAdapter(e,t){GenericWorker_1.call(this,"Nodejs stream input adapter for "+e),this._upstreamEnded=!1,this._bindStream(t)}utils.inherits(NodejsStreamInputAdapter,GenericWorker_1),NodejsStreamInputAdapter.prototype._bindStream=function(e){var t=this;this._stream=e,e.pause(),e.on("data",function(e){t.push({data:e,meta:{percent:0}})}).on("error",function(e){t.isPaused?this.generatedError=e:t.error(e)}).on("end",function(){t.isPaused?t._upstreamEnded=!0:t.end()})},NodejsStreamInputAdapter.prototype.pause=function(){return!!GenericWorker_1.prototype.pause.call(this)&&(this._stream.pause(),!0)},NodejsStreamInputAdapter.prototype.resume=function(){return!!GenericWorker_1.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)};var NodejsStreamInputAdapter_1=NodejsStreamInputAdapter,fileAdd=function(e,t,r){var n,i=utils.getTypeOf(t),a=utils.extend(r||{},defaults$1);a.date=a.date||new Date,null!==a.compression&&(a.compression=a.compression.toUpperCase()),"string"==typeof a.unixPermissions&&(a.unixPermissions=parseInt(a.unixPermissions,8)),a.unixPermissions&&16384&a.unixPermissions&&(a.dir=!0),a.dosPermissions&&16&a.dosPermissions&&(a.dir=!0),a.dir&&(e=forceTrailingSlash(e)),a.createFolders&&(n=parentFolder(e))&&folderAdd.call(this,n,!0);var o="string"===i&&!1===a.binary&&!1===a.base64;r&&void 0!==r.binary||(a.binary=!o),(t instanceof compressedObject&&0===t.uncompressedSize||a.dir||!t||0===t.length)&&(a.base64=!1,a.binary=!0,t="",a.compression="STORE",i="string");var s=null;s=t instanceof compressedObject||t instanceof GenericWorker_1?t:nodejsUtils.isNode&&nodejsUtils.isStream(t)?new NodejsStreamInputAdapter_1(e,t):utils.prepareContent(e,t,a.binary,a.optimizedBinaryString,a.base64);var u=new zipObject(e,s,a);this.files[e]=u},parentFolder=function(e){"/"===e.slice(-1)&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf("/");return t>0?e.substring(0,t):""},forceTrailingSlash=function(e){return"/"!==e.slice(-1)&&(e+="/"),e},folderAdd=function(e,t){return t=void 0!==t?t:defaults$1.createFolders,e=forceTrailingSlash(e),this.files[e]||fileAdd.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]};function isRegExp$1(e){return"[object RegExp]"===Object.prototype.toString.call(e)}var out={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(e){var t,r,n;for(t in this.files)this.files.hasOwnProperty(t)&&(n=this.files[t],(r=t.slice(this.root.length,t.length))&&t.slice(0,this.root.length)===this.root&&e(r,n))},filter:function(e){var t=[];return this.forEach(function(r,n){e(r,n)&&t.push(n)}),t},file:function(e,t,r){if(1===arguments.length){if(isRegExp$1(e)){var n=e;return this.filter(function(e,t){return!t.dir&&n.test(e)})}var i=this.files[this.root+e];return i&&!i.dir?i:null}return e=this.root+e,fileAdd.call(this,e,t,r),this},folder:function(e){if(!e)return this;if(isRegExp$1(e))return this.filter(function(t,r){return r.dir&&e.test(t)});var t=this.root+e,r=folderAdd.call(this,t),n=this.clone();return n.root=r.name,n},remove:function(e){e=this.root+e;var t=this.files[e];if(t||("/"!==e.slice(-1)&&(e+="/"),t=this.files[e]),t&&!t.dir)delete this.files[e];else for(var r=this.filter(function(t,r){return r.name.slice(0,e.length)===e}),n=0;n<r.length;n++)delete this.files[r[n].name];return this},generate:function(e){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(e){var t,r={};try{if((r=utils.extend(e||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:utf8.utf8encode})).type=r.type.toLowerCase(),r.compression=r.compression.toUpperCase(),"binarystring"===r.type&&(r.type="string"),!r.type)throw new Error("No output type specified.");utils.checkSupport(r.type),"darwin"!==r.platform&&"freebsd"!==r.platform&&"linux"!==r.platform&&"sunos"!==r.platform||(r.platform="UNIX"),"win32"===r.platform&&(r.platform="DOS");var n=r.comment||this.comment||"";t=generate.generateWorker(this,r,n)}catch(e){(t=new GenericWorker_1("error")).error(e)}return new StreamHelper_1(t,r.type||"string",r.mimeType)},generateAsync:function(e,t){return this.generateInternalStream(e).accumulate(t)},generateNodeStream:function(e,t){return(e=e||{}).type||(e.type="nodebuffer"),this.generateInternalStream(e).toNodejsStream(t)}},object=out;function DataReader(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}DataReader.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(e){},readInt:function(e){var t,r=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--)r=(r<<8)+this.byteAt(t);return this.index+=e,r},readString:function(e){return utils.transformTo("string",this.readData(e))},readData:function(e){},lastIndexOfSignature:function(e){},readAndCheckSignature:function(e){},readDate:function(){var e=this.readInt(4);return new Date(Date.UTC(1980+(e>>25&127),(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1))}};var DataReader_1=DataReader;function ArrayReader(e){DataReader_1.call(this,e);for(var t=0;t<this.data.length;t++)e[t]=255&e[t]}utils.inherits(ArrayReader,DataReader_1),ArrayReader.prototype.byteAt=function(e){return this.data[this.zero+e]},ArrayReader.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),r=e.charCodeAt(1),n=e.charCodeAt(2),i=e.charCodeAt(3),a=this.length-4;a>=0;--a)if(this.data[a]===t&&this.data[a+1]===r&&this.data[a+2]===n&&this.data[a+3]===i)return a-this.zero;return-1},ArrayReader.prototype.readAndCheckSignature=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1),n=e.charCodeAt(2),i=e.charCodeAt(3),a=this.readData(4);return t===a[0]&&r===a[1]&&n===a[2]&&i===a[3]},ArrayReader.prototype.readData=function(e){if(this.checkOffset(e),0===e)return[];var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t};var ArrayReader_1=ArrayReader;function StringReader(e){DataReader_1.call(this,e)}utils.inherits(StringReader,DataReader_1),StringReader.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},StringReader.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},StringReader.prototype.readAndCheckSignature=function(e){return e===this.readData(4)},StringReader.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t};var StringReader_1=StringReader;function Uint8ArrayReader(e){ArrayReader_1.call(this,e)}utils.inherits(Uint8ArrayReader,ArrayReader_1),Uint8ArrayReader.prototype.readData=function(e){if(this.checkOffset(e),0===e)return new Uint8Array(0);var t=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t};var Uint8ArrayReader_1=Uint8ArrayReader;function NodeBufferReader(e){Uint8ArrayReader_1.call(this,e)}utils.inherits(NodeBufferReader,Uint8ArrayReader_1),NodeBufferReader.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t};var NodeBufferReader_1=NodeBufferReader,readerFor=function(e){var t=utils.getTypeOf(e);return utils.checkSupport(t),"string"!==t||support.uint8array?"nodebuffer"===t?new NodeBufferReader_1(e):support.uint8array?new Uint8ArrayReader_1(utils.transformTo("uint8array",e)):new ArrayReader_1(utils.transformTo("array",e)):new StringReader_1(e)},MADE_BY_DOS=0,MADE_BY_UNIX=3,findCompression=function(e){for(var t in compressions)if(compressions.hasOwnProperty(t)&&compressions[t].magic===e)return compressions[t];return null};function ZipEntry(e,t){this.options=e,this.loadOptions=t}ZipEntry.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(e){var t,r;if(e.skip(22),this.fileNameLength=e.readInt(2),r=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(r),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(t=findCompression(this.compressionMethod)))throw new Error("Corrupted zip : compression "+utils.pretty(this.compressionMethod)+" unknown (inner file : "+utils.transformTo("string",this.fileName)+")");this.decompressed=new compressedObject(this.compressedSize,this.uncompressedSize,this.crc32,t,e.readData(this.compressedSize))},readCentralPart:function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var t=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");e.skip(t),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),e===MADE_BY_DOS&&(this.dosPermissions=63&this.externalFileAttributes),e===MADE_BY_UNIX&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(e){if(this.extraFields[1]){var t=readerFor(this.extraFields[1].value);this.uncompressedSize===utils.MAX_VALUE_32BITS&&(this.uncompressedSize=t.readInt(8)),this.compressedSize===utils.MAX_VALUE_32BITS&&(this.compressedSize=t.readInt(8)),this.localHeaderOffset===utils.MAX_VALUE_32BITS&&(this.localHeaderOffset=t.readInt(8)),this.diskNumberStart===utils.MAX_VALUE_32BITS&&(this.diskNumberStart=t.readInt(4))}},readExtraFields:function(e){var t,r,n,i=e.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});e.index<i;)t=e.readInt(2),r=e.readInt(2),n=e.readData(r),this.extraFields[t]={id:t,length:r,value:n}},handleUTF8:function(){var e=support.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=utf8.utf8decode(this.fileName),this.fileCommentStr=utf8.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(null!==t)this.fileNameStr=t;else{var r=utils.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(r)}var n=this.findExtraFieldUnicodeComment();if(null!==n)this.fileCommentStr=n;else{var i=utils.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(i)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var t=readerFor(e.value);return 1!==t.readInt(1)?null:crc32_1(this.fileName)!==t.readInt(4)?null:utf8.utf8decode(t.readData(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var t=readerFor(e.value);return 1!==t.readInt(1)?null:crc32_1(this.fileComment)!==t.readInt(4)?null:utf8.utf8decode(t.readData(e.length-5))}return null}};var zipEntry=ZipEntry;function ZipEntries(e){this.files=[],this.loadOptions=e}ZipEntries.prototype={checkSignature:function(e){if(!this.reader.readAndCheckSignature(e)){this.reader.index-=4;var t=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+utils.pretty(t)+", expected "+utils.pretty(e)+")")}},isSignature:function(e,t){var r=this.reader.index;this.reader.setIndex(e);var n=this.reader.readString(4)===t;return this.reader.setIndex(r),n},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=support.uint8array?"uint8array":"array",r=utils.transformTo(t,e);this.zipComment=this.loadOptions.decodeFileName(r)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,t,r,n=this.zip64EndOfCentralSize-44;0<n;)e=this.reader.readInt(2),t=this.reader.readInt(4),r=this.reader.readData(t),this.zip64ExtensibleData[e]={id:e,length:t,value:r}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++)t=this.files[e],this.reader.setIndex(t.localHeaderOffset),this.checkSignature(signature.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(signature.CENTRAL_FILE_HEADER);)(e=new zipEntry({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(signature.CENTRAL_DIRECTORY_END);if(e<0)throw!this.isSignature(0,signature.LOCAL_FILE_HEADER)?new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html"):new Error("Corrupted zip: can't find end of central directory");this.reader.setIndex(e);var t=e;if(this.checkSignature(signature.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===utils.MAX_VALUE_16BITS||this.diskWithCentralDirStart===utils.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===utils.MAX_VALUE_16BITS||this.centralDirRecords===utils.MAX_VALUE_16BITS||this.centralDirSize===utils.MAX_VALUE_32BITS||this.centralDirOffset===utils.MAX_VALUE_32BITS){if(this.zip64=!0,(e=this.reader.lastIndexOfSignature(signature.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(e),this.checkSignature(signature.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,signature.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(signature.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(signature.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var r=this.centralDirOffset+this.centralDirSize;this.zip64&&(r+=20,r+=12+this.zip64EndOfCentralSize);var n=t-r;if(n>0)this.isSignature(t,signature.CENTRAL_FILE_HEADER)||(this.reader.zero=n);else if(n<0)throw new Error("Corrupted zip: missing "+Math.abs(n)+" bytes.")},prepareReader:function(e){this.reader=readerFor(e)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}};var zipEntries=ZipEntries;function checkEntryCRC32(e){return new external.Promise(function(t,r){var n=e.decompressed.getContentWorker().pipe(new Crc32Probe_1);n.on("error",function(e){r(e)}).on("end",function(){n.streamInfo.crc32!==e.decompressed.crc32?r(new Error("Corrupted zip : CRC32 mismatch")):t()}).resume()})}var load=function(e,t){var r=this;return t=utils.extend(t||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:utf8.utf8decode}),nodejsUtils.isNode&&nodejsUtils.isStream(e)?external.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):utils.prepareContent("the loaded zip file",e,!0,t.optimizedBinaryString,t.base64).then(function(e){var r=new zipEntries(t);return r.load(e),r}).then(function(e){var r=[external.Promise.resolve(e)],n=e.files;if(t.checkCRC32)for(var i=0;i<n.length;i++)r.push(checkEntryCRC32(n[i]));return external.Promise.all(r)}).then(function(e){for(var n=e.shift(),i=n.files,a=0;a<i.length;a++){var o=i[a];r.file(o.fileNameStr,o.decompressed,{binary:!0,optimizedBinaryString:!0,date:o.date,dir:o.dir,comment:o.fileCommentStr.length?o.fileCommentStr:null,unixPermissions:o.unixPermissions,dosPermissions:o.dosPermissions,createFolders:t.createFolders})}return n.zipComment.length&&(r.comment=n.zipComment),r})};function JSZip(){if(!(this instanceof JSZip))return new JSZip;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files={},this.comment=null,this.root="",this.clone=function(){var e=new JSZip;for(var t in this)"function"!=typeof this[t]&&(e[t]=this[t]);return e}}JSZip.prototype=object,JSZip.prototype.loadAsync=load,JSZip.support=support,JSZip.defaults=defaults$1,JSZip.version="3.2.0",JSZip.loadAsync=function(e,t){return(new JSZip).loadAsync(e,t)},JSZip.external=external;var lib$2=JSZip,crypt=createCommonjsModule(function(e){!function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&r.rotl(e,8)|4278255360&r.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=r.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],r=0,n=0;r<e.length;r++,n+=8)t[n>>>5]|=e[r]<<24-n%32;return t},wordsToBytes:function(e){for(var t=[],r=0;r<32*e.length;r+=8)t.push(e[r>>>5]>>>24-r%32&255);return t},bytesToHex:function(e){for(var t=[],r=0;r<e.length;r++)t.push((e[r]>>>4).toString(16)),t.push((15&e[r]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(parseInt(e.substr(r,2),16));return t},bytesToBase64:function(e){for(var r=[],n=0;n<e.length;n+=3)for(var i=e[n]<<16|e[n+1]<<8|e[n+2],a=0;a<4;a++)8*n+6*a<=8*e.length?r.push(t.charAt(i>>>6*(3-a)&63)):r.push("=");return r.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var r=[],n=0,i=0;n<e.length;i=++n%4)0!=i&&r.push((t.indexOf(e.charAt(n-1))&Math.pow(2,-2*i+8)-1)<<2*i|t.indexOf(e.charAt(n))>>>6-2*i);return r}};e.exports=r}()}),charenc={utf8:{stringToBytes:function(e){return charenc.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(charenc.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],r=0;r<e.length;r++)t.push(255&e.charCodeAt(r));return t},bytesToString:function(e){for(var t=[],r=0;r<e.length;r++)t.push(String.fromCharCode(e[r]));return t.join("")}}},charenc_1=charenc,isBuffer_1=function(e){return null!=e&&(isBuffer$1(e)||isSlowBuffer$1(e)||!!e._isBuffer)};function isBuffer$1(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function isSlowBuffer$1(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&isBuffer$1(e.slice(0,0))}var md5=createCommonjsModule(function(e){!function(){var t=crypt,r=charenc_1.utf8,n=isBuffer_1,i=charenc_1.bin,a=function(e,o){e.constructor==String?e=o&&"binary"===o.encoding?i.stringToBytes(e):r.stringToBytes(e):n(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||(e=e.toString());for(var s=t.bytesToWords(e),u=8*e.length,c=1732584193,f=-271733879,l=-1732584194,h=271733878,d=0;d<s.length;d++)s[d]=16711935&(s[d]<<8|s[d]>>>24)|4278255360&(s[d]<<24|s[d]>>>8);s[u>>>5]|=128<<u%32,s[14+(u+64>>>9<<4)]=u;var p=a._ff,_=a._gg,g=a._hh,m=a._ii;for(d=0;d<s.length;d+=16){var b=c,v=f,y=l,w=h;c=p(c,f,l,h,s[d+0],7,-680876936),h=p(h,c,f,l,s[d+1],12,-389564586),l=p(l,h,c,f,s[d+2],17,606105819),f=p(f,l,h,c,s[d+3],22,-1044525330),c=p(c,f,l,h,s[d+4],7,-176418897),h=p(h,c,f,l,s[d+5],12,1200080426),l=p(l,h,c,f,s[d+6],17,-1473231341),f=p(f,l,h,c,s[d+7],22,-45705983),c=p(c,f,l,h,s[d+8],7,1770035416),h=p(h,c,f,l,s[d+9],12,-1958414417),l=p(l,h,c,f,s[d+10],17,-42063),f=p(f,l,h,c,s[d+11],22,-1990404162),c=p(c,f,l,h,s[d+12],7,1804603682),h=p(h,c,f,l,s[d+13],12,-40341101),l=p(l,h,c,f,s[d+14],17,-1502002290),c=_(c,f=p(f,l,h,c,s[d+15],22,1236535329),l,h,s[d+1],5,-165796510),h=_(h,c,f,l,s[d+6],9,-1069501632),l=_(l,h,c,f,s[d+11],14,643717713),f=_(f,l,h,c,s[d+0],20,-373897302),c=_(c,f,l,h,s[d+5],5,-701558691),h=_(h,c,f,l,s[d+10],9,38016083),l=_(l,h,c,f,s[d+15],14,-660478335),f=_(f,l,h,c,s[d+4],20,-405537848),c=_(c,f,l,h,s[d+9],5,568446438),h=_(h,c,f,l,s[d+14],9,-1019803690),l=_(l,h,c,f,s[d+3],14,-187363961),f=_(f,l,h,c,s[d+8],20,1163531501),c=_(c,f,l,h,s[d+13],5,-1444681467),h=_(h,c,f,l,s[d+2],9,-51403784),l=_(l,h,c,f,s[d+7],14,1735328473),c=g(c,f=_(f,l,h,c,s[d+12],20,-1926607734),l,h,s[d+5],4,-378558),h=g(h,c,f,l,s[d+8],11,-2022574463),l=g(l,h,c,f,s[d+11],16,1839030562),f=g(f,l,h,c,s[d+14],23,-35309556),c=g(c,f,l,h,s[d+1],4,-1530992060),h=g(h,c,f,l,s[d+4],11,1272893353),l=g(l,h,c,f,s[d+7],16,-155497632),f=g(f,l,h,c,s[d+10],23,-1094730640),c=g(c,f,l,h,s[d+13],4,681279174),h=g(h,c,f,l,s[d+0],11,-358537222),l=g(l,h,c,f,s[d+3],16,-722521979),f=g(f,l,h,c,s[d+6],23,76029189),c=g(c,f,l,h,s[d+9],4,-640364487),h=g(h,c,f,l,s[d+12],11,-421815835),l=g(l,h,c,f,s[d+15],16,530742520),c=m(c,f=g(f,l,h,c,s[d+2],23,-995338651),l,h,s[d+0],6,-198630844),h=m(h,c,f,l,s[d+7],10,1126891415),l=m(l,h,c,f,s[d+14],15,-1416354905),f=m(f,l,h,c,s[d+5],21,-57434055),c=m(c,f,l,h,s[d+12],6,1700485571),h=m(h,c,f,l,s[d+3],10,-1894986606),l=m(l,h,c,f,s[d+10],15,-1051523),f=m(f,l,h,c,s[d+1],21,-2054922799),c=m(c,f,l,h,s[d+8],6,1873313359),h=m(h,c,f,l,s[d+15],10,-30611744),l=m(l,h,c,f,s[d+6],15,-1560198380),f=m(f,l,h,c,s[d+13],21,1309151649),c=m(c,f,l,h,s[d+4],6,-145523070),h=m(h,c,f,l,s[d+11],10,-1120210379),l=m(l,h,c,f,s[d+2],15,718787259),f=m(f,l,h,c,s[d+9],21,-343485551),c=c+b>>>0,f=f+v>>>0,l=l+y>>>0,h=h+w>>>0}return t.endian([c,f,l,h])};a._ff=function(e,t,r,n,i,a,o){var s=e+(t&r|~t&n)+(i>>>0)+o;return(s<<a|s>>>32-a)+t},a._gg=function(e,t,r,n,i,a,o){var s=e+(t&n|r&~n)+(i>>>0)+o;return(s<<a|s>>>32-a)+t},a._hh=function(e,t,r,n,i,a,o){var s=e+(t^r^n)+(i>>>0)+o;return(s<<a|s>>>32-a)+t},a._ii=function(e,t,r,n,i,a,o){var s=e+(r^(t|~n))+(i>>>0)+o;return(s<<a|s>>>32-a)+t},a._blocksize=16,a._digestsize=16,e.exports=function(e,r){if(null==e)throw new Error("Illegal argument "+e);var n=t.wordsToBytes(a(e,r));return r&&r.asBytes?n:r&&r.asString?i.bytesToString(n):t.bytesToHex(n)}}()});function calculateFromUint8Array(e){return md5(Buffer.from(e))}var Event_1=createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=[];function n(e){return r[e]||(r[e]=function(e){for(var t="return function dispatcher"+e+"(payload) {\n",r=[],n=[],i=0;i<e;i++)r.push("cb"+i),n.push("ctx"+i),t+="    cb"+i+"(payload, ctx"+i+");\n";return t+="};",new(Function.bind.apply(Function,[void 0].concat(r.concat(n),[t])))}(e)),r[e]}r[0]=function(){return function(){}},r[1]=function(e,t){return void 0===t?e:function(r){e(r,t)}};var i=function(){function e(){this.hasHandlers=!1,this._handlers=[],this._contexts=[],this._createDispatcher()}return e.prototype.addHandler=function(e,t){return this.isHandlerAttached(e,t)||(this._handlers.push(e),this._contexts.push(t),this._createDispatcher(),this._updateHasHandlers()),this},e.prototype.removeHandler=function(e,t){var r=this._getHandlerIndex(e,t);return void 0!==r&&(this._handlers.splice(r,1),this._contexts.splice(r,1),this._createDispatcher(),this._updateHasHandlers()),this},e.prototype.isHandlerAttached=function(e,t){return void 0!==this._getHandlerIndex(e,t)},e.prototype._updateHasHandlers=function(){this.hasHandlers=!!this._handlers.length},e.prototype._getHandlerIndex=function(e,t){var r,n=this._handlers.length;for(r=0;r<n&&(this._handlers[r]!==e||this._contexts[r]!==t);r++);return r<n?r:void 0},e.prototype._createDispatcher=function(){this.dispatch=n(this._handlers.length).apply(this,this._handlers.concat(this._contexts))},e}();t.default=i});unwrapExports(Event_1);var lib$3=createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Event=Event_1.default});unwrapExports(lib$3);var lib_1=lib$3.Event,CartridgeInterface;!function(e){var t=function(){return function(e,t,r){this.reason=e,this.cartridge=t,this.message=r}}();e.TrapPayload=t}(CartridgeInterface||(CartridgeInterface={}));var AbstractCartridge=function(){function e(){this.trap=new lib_1}return e.prototype.init=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return[2]})})},e.prototype.reset=function(){},e.prototype.read=function(e){return 0},e.prototype.peek=function(e){return this.read(e)},e.prototype.write=function(e,t){},e.prototype.getType=function(){return CartridgeInfo.CartridgeType.unknown},e.prototype.setCpu=function(e){return this},e.prototype.setBus=function(e){return this},e.prototype.setRng=function(e){return this},e.prototype.setCpuTimeProvider=function(e){return this},e.prototype.notifyCpuCycleComplete=function(){},e.prototype.randomize=function(e){},e.prototype.triggerTrap=function(e,t){if(!this.trap.hasHandlers)throw new Error(t);this.trap.dispatch(new CartridgeInterface.TrapPayload(e,this,t))},e}();function searchForSignatures(e,t){for(var r=[],n=t.map(function(e){return 0}),i=0;i<e.length;i++){for(var a=0;a<r.length;a++){var o=r[a],s=t[o.signature];e[i]===s[o.nextIndex]?++o.nextIndex===s.length&&(n[o.signature]++,r.splice(a,1),a--):(r.splice(a,1),a--)}for(var u=0;u<t.length;u++){(s=t[u]).length>0&&e[i]===s[0]&&(1===s.length?n[u]++:r.push({signature:u,nextIndex:1}))}}return n}function searchForSignature(e,t){for(var r=0;r<e.length;r++){var n=void 0;for(n=0;n<t.length&&(e[r+n]===t[n]||t[n]<0);n++);if(n===t.length)return r}return-1}var CartridgeF8=function(e){function t(t,r){void 0===r&&(r=!0);var n=e.call(this)||this;if(n._supportSC=r,n._bank=null,n._bank0=new Uint8Array(4096),n._bank1=new Uint8Array(4096),n._hasSC=!1,n._saraRAM=new Uint8Array(128),n._bus=null,8192!==t.length)throw new Error("buffer is not an 8k cartridge image: wrong length "+t.length);for(var i=0;i<4096;i++)n._bank0[i]=t[i],n._bank1[i]=t[4096+i];return n.reset(),n}return __extends(t,e),t.matchesBuffer=function(e){return searchForSignatures(e,[[141,249,31]])[0]>=2},t.prototype.reset=function(){this._bank=this._bank1,this._hasSC=!1},t.prototype.read=function(e){return this._access(4095&e,this._bus.getLastDataBusValue()),this.peek(e)},t.prototype.peek=function(e){return e&=4095,this._hasSC&&e>=128&&e<256?this._saraRAM[e-128]:this._bank[e]},t.prototype.write=function(e,t){(e&=4095)<128&&this._supportSC&&(this._hasSC=!0),this._access(e,t)},t.prototype.getType=function(){return CartridgeInfo.CartridgeType.bankswitch_8k_F8},t.prototype.randomize=function(e){for(var t=0;t<this._saraRAM.length;t++)this._saraRAM[t]=e.int(255)},t.prototype.setBus=function(e){return this._bus=e,this},t.prototype._access=function(e,t){if(e<128&&this._hasSC)this._saraRAM[e]=255&t;else switch(e){case 4088:this._bank=this._bank0;break;case 4089:this._bank=this._bank1}},t}(AbstractCartridge),CartridgeE0=function(e){function t(t){var r=e.call(this)||this;if(r._banks=new Array(8),r._activeBanks=new Array(4),8192!==t.length)throw new Error("buffer is not an 8k cartridge image: invalid length "+t.length);for(var n=0;n<8;n++)r._banks[n]=new Uint8Array(1024);for(n=0;n<1024;n++)for(var i=0;i<8;i++)r._banks[i][n]=t[1024*i+n];return r.reset(),r}return __extends(t,e),t.matchesBuffer=function(e){for(var t=searchForSignatures(e,[[141,224,31],[141,224,95],[141,233,255],[12,224,31],[173,224,31],[173,233,255],[173,237,255],[173,243,191]]),r=0;r<t.length;r++)if(t[r]>0)return!0;return!1},t.prototype.reset=function(){for(var e=0;e<4;e++)this._activeBanks[e]=this._banks[7]},t.prototype.read=function(e){return(e&=4095)>=4064&&e<4088&&this._handleBankswitch(e),this._activeBanks[e>>10][1023&e]},t.prototype.peek=function(e){return e&=4095,this._activeBanks[e>>10][1023&e]},t.prototype.write=function(t,r){var n=4095&t;return n>=4064&&n<4088&&this._handleBankswitch(n),e.prototype.write.call(this,t,r)},t.prototype.getType=function(){return CartridgeInfo.CartridgeType.bankswitch_8k_E0},t.prototype._handleBankswitch=function(e){e<4072?this._activeBanks[0]=this._banks[e-4064]:e<4080?this._activeBanks[1]=this._banks[e-4072]:this._activeBanks[2]=this._banks[e-4080]},t}(AbstractCartridge),Cartridge3F=function(e){function t(t){var r=e.call(this)||this;if(r._banks=new Array(4),r._bus=null,8192!==t.length)throw new Error("buffer is not an 8k cartridge image: invalid length "+t.length);for(var n=0;n<4;n++)r._banks[n]=new Uint8Array(2048);r._bank1=r._banks[3],r._bank0=r._banks[0];for(n=0;n<2048;n++)for(var i=0;i<4;i++)r._banks[i][n]=t[2048*i+n];return r}return __extends(t,e),t.matchesBuffer=function(e){return searchForSignatures(e,[[133,63]])[0]>=2},t.prototype.reset=function(){this._bank0=this._banks[0]},t.prototype.setBus=function(e){return this._bus=e,this._bus.event.read.addHandler(t._onBusAccess,this),this._bus.event.write.addHandler(t._onBusAccess,this),this},t.prototype.read=function(e){return(e&=4095)<2048?this._bank0[e]:this._bank1[2047&e]},t.prototype.getType=function(){return CartridgeInfo.CartridgeType.bankswitch_8k_3F},t._onBusAccess=function(e,t){63===t._bus.getLastAddresBusValue()&&(t._bank0=t._banks[3&t._bus.getLastDataBusValue()])},t}(AbstractCartridge),Cartridge3E=function(e){function t(t){var r=e.call(this)||this;if(r._banks=null,r._ramSelect=!1,r._ramBanks=new Array(256),r._bus=null,0!=(2047&t.length))throw new Error("buffer length "+t.length+" is not a multiple of 2k");var n=t.length>>>11;if(n<2)throw new Error("image must have at least 2k");r._banks=new Array(n);for(var i=0;i<n;i++)r._banks[i]=new Uint8Array(2048);for(i=0;i<=255;i++)r._ramBanks[i]=new Uint8Array(1024);r._ramBank=r._ramBanks[0],r._bank1=r._banks[n-1],r._bank0=r._banks[0];for(i=0;i<2048;i++)for(var a=0;a<n;a++)r._banks[a][i]=t[2048*a+i];return r}return __extends(t,e),t.matchesBuffer=function(e){return searchForSignatures(e,[[133,62,169,0]])[0]>=1},t.prototype.reset=function(){this._bank0=this._banks[0]},t.prototype.randomize=function(e){for(var t=0;t<this._ramBanks.length;t++)for(var r=0;r<1024;r++)this._ramBanks[t][r]=e.int(255)},t.prototype.setBus=function(e){return this._bus=e,this._bus.event.read.addHandler(t._onBusAccess,this),this._bus.event.write.addHandler(t._onBusAccess,this),this},t.prototype.read=function(e){return e&=4095,this._ramSelect?e<1024?this._ramBank[e]:e<2048?this._ramBank[1023&e]=this._bus.getLastDataBusValue():this._bank1[2047&e]:e<2048?this._bank0[e]:this._bank1[2047&e]},t.prototype.peek=function(e){return e&=4095,this._ramSelect?e<1024?this._ramBank[e]:e<2048?this._bus.getLastDataBusValue():this._bank1[2047&e]:e<2048?this._bank0[e]:this._bank1[2047&e]},t.prototype.write=function(e,t){this._ramSelect&&(e&=4095)>=1024&&e<2048&&(this._ramBank[1023&e]=t)},t.prototype.getType=function(){return CartridgeInfo.CartridgeType.bankswitch_3E},t._onBusAccess=function(e,t){switch(t._bus.getLastAddresBusValue()){case 63:t._ramSelect=!1,t._bank0=t._banks[t._bus.getLastDataBusValue()%t._banks.length];break;case 62:t._ramSelect=!0,t._ramBank=t._ramBanks[t._bus.getLastDataBusValue()%32]}},t}(AbstractCartridge),CartridgeFE=function(e){function t(t){var r=e.call(this)||this;if(r._bank0=new Uint8Array(4096),r._bank1=new Uint8Array(4096),r._lastAccessWasFE=!1,r._lastAddressBusValue=-1,8192!==t.length)throw new Error("buffer is not an 8k cartridge image: wrong length "+t.length);for(var n=0;n<4096;n++)r._bank0[n]=t[n],r._bank1[n]=t[4096+n];return r.reset(),r}return __extends(t,e),t.matchesBuffer=function(e){for(var t=searchForSignatures(e,[[32,0,208,198,197],[32,195,248,165,130],[208,251,32,115,254],[32,0,240,132,214]]),r=0;r<t.length;r++)if(t[r]>0)return!0;return!1},t.prototype.reset=function(){this._bank=this._bank0,this._lastAccessWasFE=!1,this._lastAddressBusValue=-1},t.prototype.read=function(e){return this._bank[4095&e]},t.prototype.write=function(t,r){e.prototype.write.call(this,t,r)},t.prototype.setBus=function(e){return this._bus=e,this._bus.event.read.addHandler(t._onBusAccess,this),this._bus.event.write.addHandler(t._onBusAccess,this),this},t.prototype.getType=function(){return CartridgeInfo.CartridgeType.bankswitch_8k_FE},t._onBusAccess=function(e,t){var r=t._lastAddressBusValue;t._lastAddressBusValue=t._bus.getLastAddresBusValue(),t._lastAddressBusValue!==r&&(t._lastAccessWasFE&&(t._bank=(32&t._bus.getLastDataBusValue())>0?t._bank0:t._bank1),t._lastAccessWasFE=510===t._bus.getLastAddresBusValue())},t}(AbstractCartridge),CartridgeUA=function(e){function t(t){var r=e.call(this)||this;if(r._bus=null,r._bank=null,r._bank0=new Uint8Array(4096),r._bank1=new Uint8Array(4096),8192!==t.length)throw new Error("buffer is not an 8k cartridge image: wrong length "+t.length);for(var n=0;n<4096;n++)r._bank0[n]=t[n],r._bank1[n]=t[4096+n];return r.reset(),r}return __extends(t,e),t.matchesBuffer=function(e){for(var t=searchForSignatures(e,[[141,64,2],[173,64,2],[189,31,2]]),r=0;r<t.length;r++)if(t[r]>0)return!0;return!1},t.prototype.reset=function(){this._bank=this._bank0},t.prototype.read=function(e){return this._bank[4095&e]},t.prototype.setBus=function(e){return this._bus=e,e.event.read.addHandler(t._onBusAccess,this),e.event.write.addHandler(t._onBusAccess,this),this},t.prototype.getType=function(){return CartridgeInfo.CartridgeType.bankswitch_8k_UA},t._onBusAccess=function(e,t){switch(t._bus.getLastAddresBusValue()){case 544:t._bank=t._bank0;break;case 576:t._bank=t._bank1}},t}(AbstractCartridge),CartrdigeE7=function(e){function t(t){var r=e.call(this)||this;if(r._banks=new Array(8),r._ram0=new Uint8Array(1024),r._ram1Banks=new Array(4),r._ram0Enabled=!1,16384!==t.length)throw new Error("buffer is not a 16k cartridge image: wrong length "+t.length);for(var n=0;n<8;n++)r._banks[n]=new Uint8Array(2048);for(n=0;n<4;n++)r._ram1Banks[n]=new Uint8Array(256);for(n=0;n<2048;n++)for(var i=0;i<8;i++)r._banks[i][n]=t[2048*i+n];return r.reset(),r}return __extends(t,e),t.matchesBuffer=function(e){for(var t=searchForSignatures(e,[[173,226,255],[173,229,255],[173,229,31],[173,231,31],[12,231,31],[141,231,255],[141,231,31]]),r=0;r<t.length;r++)if(t[r]>0)return!0;return!1},t.prototype.reset=function(){this._bank0=this._banks[0],this._ram1=this._ram1Banks[0],this._ram0Enabled=!1},t.prototype.read=function(e){return this._handleBankswitch(4095&e),this.peek(e)},t.prototype.peek=function(e){return(e&=4095)<2048?this._ram0Enabled?e>=1024?this._ram0[e-1024]:0:this._bank0[e]:e<=2559?e>=2304?this._ram1[e-2304]:0:this._banks[7][2047-(4095-e)]},t.prototype.write=function(t,r){t&=4095,this._handleBankswitch(t),t<1024?this._ram0Enabled?this._ram0[t]=r:e.prototype.write.call(this,t,r):t<2048?e.prototype.write.call(this,t,r):t<2303?this._ram1[t-2048]=r:e.prototype.write.call(this,t,r)},t.prototype.getType=function(){return CartridgeInfo.CartridgeType.bankswitch_16k_E7},t.prototype.randomize=function(e){for(var t=0;t<4;t++)for(var r=0;r<this._ram1Banks[t].length;r++)this._ram1Banks[t][r]=e.int(255);for(t=0;t<this._ram0.length;t++)this._ram0[t]=e.int(255)},t.prototype._handleBankswitch=function(e){e<4064||(e<=4070?(this._bank0=this._banks[15&e],this._ram0Enabled=!1):4071===e?this._ram0Enabled=!0:e<=4075&&(this._ram1=this._ram1Banks[e-4072]))},t}(AbstractCartridge),CartridgeFA2=function(e){function t(t){var r=e.call(this)||this;if(r._banks=new Array(7),r._ram=new Uint8Array(256),r._savedRam=new Uint8Array(256),r._accessCounter=0,r._accessCounterLimit=0,28672!==t.length&&29696!==t.length)throw new Error("buffer is not a 28k/29k cartridge image: wrong length "+t.length);for(var n=0;n<7;n++)r._banks[n]=new Uint8Array(4096);var i=28672===t.length?0:1024;for(n=0;n<4096;n++)for(var a=0;a<7;a++)r._banks[a][n]=t[4096*a+n+i];return r.reset(),r}return __extends(t,e),t.matchesBuffer=function(e){var t=searchForSignatures(e,[[160,193,31,224],[0,128,2,224]]);return t[0]>0||t[1]>0},t.prototype.reset=function(){this._accessCounter=0,this._accessCounterLimit=0,this._bank=this._banks[0]},t.prototype.getType=function(){return CartridgeInfo.CartridgeType.bankswitch_FA2},t.prototype.randomize=function(e){for(var t=0;t<this._ram.length;t++)this._ram[t]=e.int(255)},t.prototype.setBus=function(e){return this._bus=e,this},t.prototype.read=function(e){return this.write(4095&e,this._bus.getLastDataBusValue()),this.peek(e)},t.prototype.peek=function(e){return(e&=4095)>=256&&e<512?this._ram[e-256]:4084===e?this._accessCounter>=this._accessCounterLimit?-65&this._bank[e]:64|this._bank[e]:this._bank[e]},t.prototype.write=function(e,t){if(e&=4095,this._accessCounter++,!(e<256))return 4084===e?this._handleIo():void(e>=4085&&e<=4091&&(this._bank=this._banks[e-4085]));this._ram[e]=t},t.prototype._handleIo=function(){if(!(this._accessCounter<this._accessCounterLimit)){if(1===this._ram[255]){for(var e=0;e<256;e++)this._ram[e]=this._savedRam[e];this._accessCounterLimit=10}else{if(2!==this._ram[255])return;for(e=0;e<256;e++)this._savedRam[e]=this._ram[e];this._accessCounterLimit=100}this._accessCounter=0,this._ram[255]=0}},t}(AbstractCartridge),CartridgeEF=function(e){function t(t,r){void 0===r&&(r=!0);var n=e.call(this)||this;if(n._supportSC=r,n._bus=null,n._banks=new Array(16),n._ram=new Uint8Array(128),n._hasSC=!1,65536!==t.length)throw new Error("buffer is not a 64k cartridge image: wrong length "+t.length);for(var i=0;i<16;i++)n._banks[i]=new Uint8Array(4096);for(i=0;i<4096;i++)for(var a=0;a<16;a++)n._banks[a][i]=t[4096*a+i];return n.reset(),n}return __extends(t,e),t.matchesBuffer=function(e){var t=function(t){for(var r=t.split("").map(function(e){return e.charCodeAt(0)}),n=0;n<r.length;n++)if(r[n]!==e[65528+n])return!1;return!0};if(65536!==e.length)return!1;if(t("efef")||t("efsc"))return!0;for(var r=searchForSignatures(e,[[12,224,255],[173,224,255],[12,224,31],[173,224,31]]),n=0;n<4;n++)if(r[n]>0)return!0;return!1},t.prototype.reset=function(){this._bank=this._banks[15],this._hasSC=!1},t.prototype.getType=function(){return CartridgeInfo.CartridgeType.bankswitch_64k_EF},t.prototype.randomize=function(e){for(var t=0;t<this._ram.length;t++)this._ram[t]=e.int(255)},t.prototype.setBus=function(e){return this._bus=e,this},t.prototype.read=function(e){return this._access(4095&e,this._bus.getLastDataBusValue()),this.peek(e)},t.prototype.peek=function(e){return e&=4095,this._hasSC&&e>=128&&e<256?this._ram[e-128]:this._bank[e]},t.prototype.write=function(e,t){(e&=4095)<128&&this._supportSC&&(this._hasSC=!0),this._access(e,t)},t.prototype._access=function(e,t){e<128&&this._hasSC?this._ram[e]=t:e>=4064&&e<=4079&&(this._bank=this._banks[e-4064])},t}(AbstractCartridge),extendStatics$1=function(e,t){return(extendStatics$1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function __extends$1(e,t){function r(){this.constructor=e}extendStatics$1(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var __assign$1=function(){return(__assign$1=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function __rest$1(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&(r[n[i]]=e[n[i]])}return r}function __decorate$1(e,t,r,n){var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o}function __param$1(e,t){return function(r,n){t(r,n,e)}}function __metadata$1(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function __awaiter$1(e,t,r,n){return new(r||(r=Promise))(function(i,a){function o(e){try{u(n.next(e))}catch(e){a(e)}}function s(e){try{u(n.throw(e))}catch(e){a(e)}}function u(e){e.done?i(e.value):new r(function(t){t(e.value)}).then(o,s)}u((n=n.apply(e,t||[])).next())})}function __generator$1(e,t){var r,n,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,n=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],n=0}finally{r=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}function __exportStar(e,t){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}function __values$1(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}}function __read$1(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,a=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)o.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return o}function __spread$1(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(__read$1(arguments[t]));return e}function __await(e){return this instanceof __await?(this.v=e,this):new __await(e)}function __asyncGenerator(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(e,t||[]),a=[];return n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n;function o(e){i[e]&&(n[e]=function(t){return new Promise(function(r,n){a.push([e,t,r,n])>1||s(e,t)})})}function s(e,t){try{(r=i[e](t)).value instanceof __await?Promise.resolve(r.value.v).then(u,c):f(a[0][2],r)}catch(e){f(a[0][3],e)}var r}function u(e){s("next",e)}function c(e){s("throw",e)}function f(e,t){e(t),a.shift(),a.length&&s(a[0][0],a[0][1])}}function __asyncDelegator(e){var t,r;return t={},n("next"),n("throw",function(e){throw e}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(n,i){t[n]=e[n]?function(t){return(r=!r)?{value:__await(e[n](t)),done:"return"===n}:i?i(t):t}:i}}function __asyncValues(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e="function"==typeof __values$1?__values$1(e):e[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise(function(n,i){(function(e,t,r,n){Promise.resolve(n).then(function(t){e({value:t,done:r})},t)})(n,i,(t=e[r](t)).done,t.value)})}}}function __makeTemplateObject(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function __importStar(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function __importDefault(e){return e&&e.__esModule?e:{default:e}}var tslib_es6=Object.freeze({__extends:__extends$1,get __assign(){return __assign$1},__rest:__rest$1,__decorate:__decorate$1,__param:__param$1,__metadata:__metadata$1,__awaiter:__awaiter$1,__generator:__generator$1,__exportStar:__exportStar,__values:__values$1,__read:__read$1,__spread:__spread$1,__await:__await,__asyncGenerator:__asyncGenerator,__asyncDelegator:__asyncDelegator,__asyncValues:__asyncValues,__makeTemplateObject:__makeTemplateObject,__importStar:__importStar,__importDefault:__importDefault}),empty={},empty$1=Object.freeze({default:empty});function normalizeArray(e,t){for(var r=0,n=e.length-1;n>=0;n--){var i=e[n];"."===i?e.splice(n,1):".."===i?(e.splice(n,1),r++):r&&(e.splice(n,1),r--)}if(t)for(;r--;r)e.unshift("..");return e}var splitPathRe=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,splitPath=function(e){return splitPathRe.exec(e).slice(1)};function resolve$1(){for(var e="",t=!1,r=arguments.length-1;r>=-1&&!t;r--){var n=r>=0?arguments[r]:"/";if("string"!=typeof n)throw new TypeError("Arguments to path.resolve must be strings");n&&(e=n+"/"+e,t="/"===n.charAt(0))}return(t?"/":"")+(e=normalizeArray(filter(e.split("/"),function(e){return!!e}),!t).join("/"))||"."}function normalize(e){var t=isAbsolute(e),r="/"===substr(e,-1);return(e=normalizeArray(filter(e.split("/"),function(e){return!!e}),!t).join("/"))||t||(e="."),e&&r&&(e+="/"),(t?"/":"")+e}function isAbsolute(e){return"/"===e.charAt(0)}function join(){return normalize(filter(Array.prototype.slice.call(arguments,0),function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))}function relative(e,t){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var r=e.length-1;r>=0&&""===e[r];r--);return t>r?[]:e.slice(t,r-t+1)}e=resolve$1(e).substr(1),t=resolve$1(t).substr(1);for(var n=r(e.split("/")),i=r(t.split("/")),a=Math.min(n.length,i.length),o=a,s=0;s<a;s++)if(n[s]!==i[s]){o=s;break}var u=[];for(s=o;s<n.length;s++)u.push("..");return(u=u.concat(i.slice(o))).join("/")}var sep="/",delimiter=":";function dirname(e){var t=splitPath(e),r=t[0],n=t[1];return r||n?(n&&(n=n.substr(0,n.length-1)),r+n):"."}function basename(e,t){var r=splitPath(e)[2];return t&&r.substr(-1*t.length)===t&&(r=r.substr(0,r.length-t.length)),r}function extname(e){return splitPath(e)[3]}var path={extname:extname,basename:basename,dirname:dirname,sep:sep,delimiter:delimiter,relative:relative,join:join,isAbsolute:isAbsolute,normalize:normalize,resolve:resolve$1};function filter(e,t){if(e.filter)return e.filter(t);for(var r=[],n=0;n<e.length;n++)t(e[n],n,e)&&r.push(e[n]);return r}var substr="b"==="ab".substr(-1)?function(e,t,r){return e.substr(t,r)}:function(e,t,r){return t<0&&(t=e.length+t),e.substr(t,r)},path$1=Object.freeze({resolve:resolve$1,normalize:normalize,isAbsolute:isAbsolute,join:join,relative:relative,sep:sep,delimiter:delimiter,dirname:dirname,basename:basename,extname:extname,default:path}),require$$0=getCjsExportFromNamespace(empty$1),require$$1=getCjsExportFromNamespace(path$1),thumbulator=createCommonjsModule(function(module){var Module=function(Module){Module=Module||{};var Module=Module,Module;Module||(Module=(void 0!==Module?Module:null)||{});var moduleOverrides={};for(var key in Module)Module.hasOwnProperty(key)&&(moduleOverrides[key]=Module[key]);var ENVIRONMENT_IS_WEB=!1,ENVIRONMENT_IS_WORKER=!1,ENVIRONMENT_IS_NODE=!1,ENVIRONMENT_IS_SHELL=!1,nodeFS,nodePath;if(Module.ENVIRONMENT)if("WEB"===Module.ENVIRONMENT)ENVIRONMENT_IS_WEB=!0;else if("WORKER"===Module.ENVIRONMENT)ENVIRONMENT_IS_WORKER=!0;else if("NODE"===Module.ENVIRONMENT)ENVIRONMENT_IS_NODE=!0;else{if("SHELL"!==Module.ENVIRONMENT)throw new Error("The provided Module['ENVIRONMENT'] value is not valid. It must be one of: WEB|WORKER|NODE|SHELL.");ENVIRONMENT_IS_SHELL=!0}else ENVIRONMENT_IS_WEB="object"==typeof window,ENVIRONMENT_IS_WORKER="function"==typeof importScripts,ENVIRONMENT_IS_NODE="object"==typeof process&&"function"==typeof commonjsRequire&&!ENVIRONMENT_IS_WEB&&!ENVIRONMENT_IS_WORKER,ENVIRONMENT_IS_SHELL=!ENVIRONMENT_IS_WEB&&!ENVIRONMENT_IS_NODE&&!ENVIRONMENT_IS_WORKER;if(ENVIRONMENT_IS_NODE)Module.print||(Module.print=console.log),Module.printErr||(Module.printErr=console.warn),Module.read=function(e,t){nodeFS||(nodeFS=require$$0),nodePath||(nodePath=require$$1),e=nodePath.normalize(e);var r=nodeFS.readFileSync(e);return t?r:r.toString()},Module.readBinary=function(e){var t=Module.read(e,!0);return t.buffer||(t=new Uint8Array(t)),assert(t.buffer),t},Module.load=function(e){globalEval(read(e))},Module.thisProgram||(process.argv.length>1?Module.thisProgram=process.argv[1].replace(/\\/g,"/"):Module.thisProgram="unknown-program"),Module.arguments=process.argv.slice(2),Module.inspect=function(){return"[Emscripten Module object]"};else if(ENVIRONMENT_IS_SHELL)Module.print||(Module.print=print),"undefined"!=typeof printErr&&(Module.printErr=printErr),"undefined"!=typeof read?Module.read=read:Module.read=function(){throw"no read() available"},Module.readBinary=function(e){if("function"==typeof readbuffer)return new Uint8Array(readbuffer(e));var t=read(e,"binary");return assert("object"==typeof t),t},"undefined"!=typeof scriptArgs?Module.arguments=scriptArgs:void 0!==arguments&&(Module.arguments=arguments),"function"==typeof quit&&(Module.quit=function(e,t){quit(e)});else{if(!ENVIRONMENT_IS_WEB&&!ENVIRONMENT_IS_WORKER)throw"Unknown runtime environment. Where are we?";if(Module.read=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},ENVIRONMENT_IS_WORKER&&(Module.readBinary=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),Module.readAsync=function(e,t,r){var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="arraybuffer",n.onload=function(){200==n.status||0==n.status&&n.response?t(n.response):r()},n.onerror=r,n.send(null)},void 0!==arguments&&(Module.arguments=arguments),"undefined"!=typeof console)Module.print||(Module.print=function(e){console.log(e)}),Module.printErr||(Module.printErr=function(e){console.warn(e)});else{var TRY_USE_DUMP=!1;Module.print||(Module.print=TRY_USE_DUMP&&"undefined"!=typeof dump?function(e){dump(e)}:function(e){})}ENVIRONMENT_IS_WORKER&&(Module.load=importScripts),void 0===Module.setWindowTitle&&(Module.setWindowTitle=function(e){document.title=e})}function globalEval(e){eval.call(null,e)}for(var key in!Module.load&&Module.read&&(Module.load=function(e){globalEval(Module.read(e))}),Module.print||(Module.print=function(){}),Module.printErr||(Module.printErr=Module.print),Module.arguments||(Module.arguments=[]),Module.thisProgram||(Module.thisProgram="./this.program"),Module.quit||(Module.quit=function(e,t){throw t}),Module.print=Module.print,Module.printErr=Module.printErr,Module.preRun=[],Module.postRun=[],moduleOverrides)moduleOverrides.hasOwnProperty(key)&&(Module[key]=moduleOverrides[key]);moduleOverrides=void 0;var Runtime={setTempRet0:function(e){return tempRet0=e,e},getTempRet0:function(){return tempRet0},stackSave:function(){return STACKTOP},stackRestore:function(e){STACKTOP=e},getNativeTypeSize:function(e){switch(e){case"i1":case"i8":return 1;case"i16":return 2;case"i32":return 4;case"i64":return 8;case"float":return 4;case"double":return 8;default:if("*"===e[e.length-1])return Runtime.QUANTUM_SIZE;if("i"===e[0]){var t=parseInt(e.substr(1));return assert(t%8==0),t/8}return 0}},getNativeFieldSize:function(e){return Math.max(Runtime.getNativeTypeSize(e),Runtime.QUANTUM_SIZE)},STACK_ALIGN:16,prepVararg:function(e,t){return"double"===t||"i64"===t?7&e&&(assert(4==(7&e)),e+=4):assert(0==(3&e)),e},getAlignSize:function(e,t,r){return r||"i64"!=e&&"double"!=e?e?Math.min(t||(e?Runtime.getNativeFieldSize(e):0),Runtime.QUANTUM_SIZE):Math.min(t,8):8},dynCall:function(e,t,r){return r&&r.length?Module["dynCall_"+e].apply(null,[t].concat(r)):Module["dynCall_"+e].call(null,t)},functionPointers:[],addFunction:function(e){for(var t=0;t<Runtime.functionPointers.length;t++)if(!Runtime.functionPointers[t])return Runtime.functionPointers[t]=e,2*(1+t);throw"Finished up all reserved function pointers. Use a higher value for RESERVED_FUNCTION_POINTERS."},removeFunction:function(e){Runtime.functionPointers[(e-2)/2]=null},warnOnce:function(e){Runtime.warnOnce.shown||(Runtime.warnOnce.shown={}),Runtime.warnOnce.shown[e]||(Runtime.warnOnce.shown[e]=1,Module.printErr(e))},funcWrappers:{},getFuncWrapper:function(e,t){if(e){assert(t),Runtime.funcWrappers[t]||(Runtime.funcWrappers[t]={});var r=Runtime.funcWrappers[t];return r[e]||(1===t.length?r[e]=function(){return Runtime.dynCall(t,e)}:2===t.length?r[e]=function(r){return Runtime.dynCall(t,e,[r])}:r[e]=function(){return Runtime.dynCall(t,e,Array.prototype.slice.call(arguments))}),r[e]}},getCompilerSetting:function(e){throw"You must build with -s RETAIN_COMPILER_SETTINGS=1 for Runtime.getCompilerSetting or emscripten_get_compiler_setting to work"},stackAlloc:function(e){var t=STACKTOP;return STACKTOP=(STACKTOP=STACKTOP+e|0)+15&-16,t},staticAlloc:function(e){var t=STATICTOP;return STATICTOP=(STATICTOP=STATICTOP+e|0)+15&-16,t},dynamicAlloc:function(e){var t=HEAP32[DYNAMICTOP_PTR>>2],r=-16&(t+e+15|0);if((HEAP32[DYNAMICTOP_PTR>>2]=r,r>=TOTAL_MEMORY)&&!enlargeMemory())return HEAP32[DYNAMICTOP_PTR>>2]=t,0;return t},alignMemory:function(e,t){return e=Math.ceil(e/(t||16))*(t||16)},makeBigInt:function(e,t,r){return r?+(e>>>0)+4294967296*+(t>>>0):+(e>>>0)+4294967296*+(0|t)},GLOBAL_BASE:8,QUANTUM_SIZE:4,__dummy__:0};Module.Runtime=Runtime;var ABORT=0,cwrap,ccall;function assert(e,t){e||abort("Assertion failed: "+t)}function getCFunc(ident){var func=Module["_"+ident];if(!func)try{func=eval("_"+ident)}catch(e){}return assert(func,"Cannot call unknown function "+ident+" (perhaps LLVM optimizations or closure removed it?)"),func}function setValue(e,t,r,n){switch("*"===(r=r||"i8").charAt(r.length-1)&&(r="i32"),r){case"i1":case"i8":HEAP8[e>>0]=t;break;case"i16":HEAP16[e>>1]=t;break;case"i32":HEAP32[e>>2]=t;break;case"i64":tempI64=[t>>>0,(tempDouble=t,+Math_abs(tempDouble)>=1?tempDouble>0?(0|Math_min(+Math_floor(tempDouble/4294967296),4294967295))>>>0:~~+Math_ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[e>>2]=tempI64[0],HEAP32[e+4>>2]=tempI64[1];break;case"float":HEAPF32[e>>2]=t;break;case"double":HEAPF64[e>>3]=t;break;default:abort("invalid type for setValue: "+r)}}function getValue(e,t,r){switch("*"===(t=t||"i8").charAt(t.length-1)&&(t="i32"),t){case"i1":case"i8":return HEAP8[e>>0];case"i16":return HEAP16[e>>1];case"i32":case"i64":return HEAP32[e>>2];case"float":return HEAPF32[e>>2];case"double":return HEAPF64[e>>3];default:abort("invalid type for setValue: "+t)}return null}!function(){var JSfuncs={stackSave:function(){Runtime.stackSave()},stackRestore:function(){Runtime.stackRestore()},arrayToC:function(e){var t=Runtime.stackAlloc(e.length);return writeArrayToMemory(e,t),t},stringToC:function(e){var t=0;if(null!=e&&0!==e){var r=1+(e.length<<2);stringToUTF8(e,t=Runtime.stackAlloc(r),r)}return t}},toC={string:JSfuncs.stringToC,array:JSfuncs.arrayToC};ccall=function(e,t,r,n,i){var a=getCFunc(e),o=[],s=0;if(n)for(var u=0;u<n.length;u++){var c=toC[r[u]];c?(0===s&&(s=Runtime.stackSave()),o[u]=c(n[u])):o[u]=n[u]}var f=a.apply(null,o);if("string"===t&&(f=Pointer_stringify(f)),0!==s){if(i&&i.async)return void EmterpreterAsync.asyncFinalizers.push(function(){Runtime.stackRestore(s)});Runtime.stackRestore(s)}return f};var sourceRegex=/^function\s*[a-zA-Z$_0-9]*\s*\(([^)]*)\)\s*{\s*([^*]*?)[\s;]*(?:return\s*(.*?)[;\s]*)?}$/;function parseJSFunc(e){var t=e.toString().match(sourceRegex).slice(1);return{arguments:t[0],body:t[1],returnValue:t[2]}}var JSsource=null;function ensureJSsource(){if(!JSsource)for(var e in JSsource={},JSfuncs)JSfuncs.hasOwnProperty(e)&&(JSsource[e]=parseJSFunc(JSfuncs[e]))}cwrap=function cwrap(ident,returnType,argTypes){argTypes=argTypes||[];var cfunc=getCFunc(ident),numericArgs=argTypes.every(function(e){return"number"===e}),numericRet="string"!==returnType;if(numericRet&&numericArgs)return cfunc;var argNames=argTypes.map(function(e,t){return"$"+t}),funcstr="(function("+argNames.join(",")+") {",nargs=argTypes.length;if(!numericArgs){ensureJSsource(),funcstr+="var stack = "+JSsource.stackSave.body+";";for(var i=0;i<nargs;i++){var arg=argNames[i],type=argTypes[i];if("number"!==type){var convertCode=JSsource[type+"ToC"];funcstr+="var "+convertCode.arguments+" = "+arg+";",funcstr+=convertCode.body+";",funcstr+=arg+"=("+convertCode.returnValue+");"}}}var cfuncname=parseJSFunc(function(){return cfunc}).returnValue;if(funcstr+="var ret = "+cfuncname+"("+argNames.join(",")+");",!numericRet){var strgfy=parseJSFunc(function(){return Pointer_stringify}).returnValue;funcstr+="ret = "+strgfy+"(ret);"}return numericArgs||(ensureJSsource(),funcstr+=JSsource.stackRestore.body.replace("()","(stack)")+";"),funcstr+="return ret})",eval(funcstr)}}(),Module.ccall=ccall,Module.cwrap=cwrap,Module.setValue=setValue,Module.getValue=getValue;var ALLOC_NORMAL=0,ALLOC_STACK=1,ALLOC_STATIC=2,ALLOC_DYNAMIC=3,ALLOC_NONE=4;function allocate(e,t,r,n){var i,a;"number"==typeof e?(i=!0,a=e):(i=!1,a=e.length);var o,s="string"==typeof t?t:null;if(o=r==ALLOC_NONE?n:["function"==typeof _malloc?_malloc:Runtime.staticAlloc,Runtime.stackAlloc,Runtime.staticAlloc,Runtime.dynamicAlloc][void 0===r?ALLOC_STATIC:r](Math.max(a,s?1:t.length)),i){var u;n=o;for(assert(0==(3&o)),u=o+(-4&a);n<u;n+=4)HEAP32[n>>2]=0;for(u=o+a;n<u;)HEAP8[n++>>0]=0;return o}if("i8"===s)return e.subarray||e.slice?HEAPU8.set(e,o):HEAPU8.set(new Uint8Array(e),o),o;for(var c,f,l,h=0;h<a;){var d=e[h];"function"==typeof d&&(d=Runtime.getFunctionIndex(d)),0!==(c=s||t[h])?("i64"==c&&(c="i32"),setValue(o+h,d,c),l!==c&&(f=Runtime.getNativeTypeSize(c),l=c),h+=f):h++}return o}function getMemory(e){return staticSealed?runtimeInitialized?_malloc(e):Runtime.dynamicAlloc(e):Runtime.staticAlloc(e)}function Pointer_stringify(e,t){if(0===t||!e)return"";for(var r,n=0,i=0;n|=r=HEAPU8[e+i>>0],(0!=r||t)&&(i++,!t||i!=t););t||(t=i);var a="";if(n<128){for(var o;t>0;)o=String.fromCharCode.apply(String,HEAPU8.subarray(e,e+Math.min(t,1024))),a=a?a+o:o,e+=1024,t-=1024;return a}return Module.UTF8ToString(e)}function AsciiToString(e){for(var t="";;){var r=HEAP8[e++>>0];if(!r)return t;t+=String.fromCharCode(r)}}function stringToAscii(e,t){return writeAsciiToMemory(e,t,!1)}Module.ALLOC_NORMAL=ALLOC_NORMAL,Module.ALLOC_STACK=ALLOC_STACK,Module.ALLOC_STATIC=ALLOC_STATIC,Module.ALLOC_DYNAMIC=ALLOC_DYNAMIC,Module.ALLOC_NONE=ALLOC_NONE,Module.allocate=allocate,Module.getMemory=getMemory,Module.Pointer_stringify=Pointer_stringify,Module.AsciiToString=AsciiToString,Module.stringToAscii=stringToAscii;var UTF8Decoder="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function UTF8ArrayToString(e,t){for(var r=t;e[r];)++r;if(r-t>16&&e.subarray&&UTF8Decoder)return UTF8Decoder.decode(e.subarray(t,r));for(var n,i,a,o,s,u="";;){if(!(n=e[t++]))return u;if(128&n)if(i=63&e[t++],192!=(224&n))if(a=63&e[t++],224==(240&n)?n=(15&n)<<12|i<<6|a:(o=63&e[t++],240==(248&n)?n=(7&n)<<18|i<<12|a<<6|o:(s=63&e[t++],n=248==(252&n)?(3&n)<<24|i<<18|a<<12|o<<6|s:(1&n)<<30|i<<24|a<<18|o<<12|s<<6|63&e[t++])),n<65536)u+=String.fromCharCode(n);else{var c=n-65536;u+=String.fromCharCode(55296|c>>10,56320|1023&c)}else u+=String.fromCharCode((31&n)<<6|i);else u+=String.fromCharCode(n)}}function UTF8ToString(e){return UTF8ArrayToString(HEAPU8,e)}function stringToUTF8Array(e,t,r,n){if(!(n>0))return 0;for(var i=r,a=r+n-1,o=0;o<e.length;++o){var s=e.charCodeAt(o);if(s>=55296&&s<=57343&&(s=65536+((1023&s)<<10)|1023&e.charCodeAt(++o)),s<=127){if(r>=a)break;t[r++]=s}else if(s<=2047){if(r+1>=a)break;t[r++]=192|s>>6,t[r++]=128|63&s}else if(s<=65535){if(r+2>=a)break;t[r++]=224|s>>12,t[r++]=128|s>>6&63,t[r++]=128|63&s}else if(s<=2097151){if(r+3>=a)break;t[r++]=240|s>>18,t[r++]=128|s>>12&63,t[r++]=128|s>>6&63,t[r++]=128|63&s}else if(s<=67108863){if(r+4>=a)break;t[r++]=248|s>>24,t[r++]=128|s>>18&63,t[r++]=128|s>>12&63,t[r++]=128|s>>6&63,t[r++]=128|63&s}else{if(r+5>=a)break;t[r++]=252|s>>30,t[r++]=128|s>>24&63,t[r++]=128|s>>18&63,t[r++]=128|s>>12&63,t[r++]=128|s>>6&63,t[r++]=128|63&s}}return t[r]=0,r-i}function stringToUTF8(e,t,r){return stringToUTF8Array(e,HEAPU8,t,r)}function lengthBytesUTF8(e){for(var t=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);n>=55296&&n<=57343&&(n=65536+((1023&n)<<10)|1023&e.charCodeAt(++r)),n<=127?++t:t+=n<=2047?2:n<=65535?3:n<=2097151?4:n<=67108863?5:6}return t}Module.UTF8ArrayToString=UTF8ArrayToString,Module.UTF8ToString=UTF8ToString,Module.stringToUTF8Array=stringToUTF8Array,Module.stringToUTF8=stringToUTF8,Module.lengthBytesUTF8=lengthBytesUTF8;var UTF16Decoder="undefined"!=typeof TextDecoder?new TextDecoder("utf-16le"):void 0,HEAP,buffer,HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64,STATIC_BASE,STATICTOP,staticSealed,STACK_BASE,STACKTOP,STACK_MAX,DYNAMIC_BASE,DYNAMICTOP_PTR;function demangle(e){var t=Module.___cxa_demangle||Module.__cxa_demangle;if(t){try{var r=e.substr(1),n=lengthBytesUTF8(r)+1,i=_malloc(n);stringToUTF8(r,i,n);var a=_malloc(4),o=t(i,0,0,a);if(0===getValue(a,"i32")&&o)return Pointer_stringify(o)}catch(e){}finally{i&&_free(i),a&&_free(a),o&&_free(o)}return e}return Runtime.warnOnce("warning: build with  -s DEMANGLE_SUPPORT=1  to link in libcxxabi demangling"),e}function demangleAll(e){return e.replace(/__Z[\w\d_]+/g,function(e){var t=demangle(e);return e===t?e:e+" ["+t+"]"})}function jsStackTrace(){var e=new Error;if(!e.stack){try{throw new Error(0)}catch(t){e=t}if(!e.stack)return"(no stack trace available)"}return e.stack.toString()}function stackTrace(){var e=jsStackTrace();return Module.extraStackTrace&&(e+="\n"+Module.extraStackTrace()),demangleAll(e)}function updateGlobalBufferViews(){Module.HEAP8=HEAP8=new Int8Array(buffer),Module.HEAP16=HEAP16=new Int16Array(buffer),Module.HEAP32=HEAP32=new Int32Array(buffer),Module.HEAPU8=HEAPU8=new Uint8Array(buffer),Module.HEAPU16=HEAPU16=new Uint16Array(buffer),Module.HEAPU32=HEAPU32=new Uint32Array(buffer),Module.HEAPF32=HEAPF32=new Float32Array(buffer),Module.HEAPF64=HEAPF64=new Float64Array(buffer)}function abortOnCannotGrowMemory(){abort("Cannot enlarge memory arrays. Either (1) compile with  -s TOTAL_MEMORY=X  with X higher than the current value "+TOTAL_MEMORY+", (2) compile with  -s ALLOW_MEMORY_GROWTH=1  which allows increasing the size at runtime but prevents some optimizations, (3) set Module.TOTAL_MEMORY to a higher value before the program runs, or (4) if you want malloc to return NULL (0) instead of this abort, compile with  -s ABORTING_MALLOC=0 ")}function enlargeMemory(){abortOnCannotGrowMemory()}Module.stackTrace=stackTrace,STATIC_BASE=STATICTOP=STACK_BASE=STACKTOP=STACK_MAX=DYNAMIC_BASE=DYNAMICTOP_PTR=0,staticSealed=!1;var TOTAL_STACK=Module.TOTAL_STACK||10240,TOTAL_MEMORY=Module.TOTAL_MEMORY||16777216;function getTotalMemory(){return TOTAL_MEMORY}if(TOTAL_MEMORY<TOTAL_STACK&&Module.printErr("TOTAL_MEMORY should be larger than TOTAL_STACK, was "+TOTAL_MEMORY+"! (TOTAL_STACK="+TOTAL_STACK+")"),buffer=Module.buffer?Module.buffer:new ArrayBuffer(TOTAL_MEMORY),updateGlobalBufferViews(),HEAP32[0]=1668509029,HEAP16[1]=25459,115!==HEAPU8[2]||99!==HEAPU8[3])throw"Runtime error: expected the system to be little-endian!";function callRuntimeCallbacks(e){for(;e.length>0;){var t=e.shift();if("function"!=typeof t){var r=t.func;"number"==typeof r?void 0===t.arg?Module.dynCall_v(r):Module.dynCall_vi(r,t.arg):r(void 0===t.arg?null:t.arg)}else t()}}Module.HEAP=HEAP,Module.buffer=buffer,Module.HEAP8=HEAP8,Module.HEAP16=HEAP16,Module.HEAP32=HEAP32,Module.HEAPU8=HEAPU8,Module.HEAPU16=HEAPU16,Module.HEAPU32=HEAPU32,Module.HEAPF32=HEAPF32,Module.HEAPF64=HEAPF64;var __ATPRERUN__=[],__ATINIT__=[],__ATMAIN__=[],__ATEXIT__=[],__ATPOSTRUN__=[],runtimeInitialized=!1;function preRun(){if(Module.preRun)for("function"==typeof Module.preRun&&(Module.preRun=[Module.preRun]);Module.preRun.length;)addOnPreRun(Module.preRun.shift());callRuntimeCallbacks(__ATPRERUN__)}function ensureInitRuntime(){runtimeInitialized||(runtimeInitialized=!0,callRuntimeCallbacks(__ATINIT__))}function preMain(){callRuntimeCallbacks(__ATMAIN__)}function exitRuntime(){callRuntimeCallbacks(__ATEXIT__)}function postRun(){if(Module.postRun)for("function"==typeof Module.postRun&&(Module.postRun=[Module.postRun]);Module.postRun.length;)addOnPostRun(Module.postRun.shift());callRuntimeCallbacks(__ATPOSTRUN__)}function addOnPreRun(e){__ATPRERUN__.unshift(e)}function addOnInit(e){__ATINIT__.unshift(e)}function addOnPreMain(e){__ATMAIN__.unshift(e)}function addOnExit(e){__ATEXIT__.unshift(e)}function addOnPostRun(e){__ATPOSTRUN__.unshift(e)}function intArrayFromString(e,t,r){var n=r>0?r:lengthBytesUTF8(e)+1,i=new Array(n),a=stringToUTF8Array(e,i,0,i.length);return t&&(i.length=a),i}function intArrayToString(e){for(var t=[],r=0;r<e.length;r++){var n=e[r];n>255&&(n&=255),t.push(String.fromCharCode(n))}return t.join("")}function writeStringToMemory(e,t,r){var n,i;Runtime.warnOnce("writeStringToMemory is deprecated and should not be called! Use stringToUTF8() instead!"),r&&(i=t+lengthBytesUTF8(e),n=HEAP8[i]),stringToUTF8(e,t,1/0),r&&(HEAP8[i]=n)}function writeArrayToMemory(e,t){HEAP8.set(e,t)}function writeAsciiToMemory(e,t,r){for(var n=0;n<e.length;++n)HEAP8[t++>>0]=e.charCodeAt(n);r||(HEAP8[t>>0]=0)}Module.addOnPreRun=addOnPreRun,Module.addOnInit=addOnInit,Module.addOnPreMain=addOnPreMain,Module.addOnExit=addOnExit,Module.addOnPostRun=addOnPostRun,Module.intArrayFromString=intArrayFromString,Module.intArrayToString=intArrayToString,Module.writeStringToMemory=writeStringToMemory,Module.writeArrayToMemory=writeArrayToMemory,Module.writeAsciiToMemory=writeAsciiToMemory,Math.imul&&-5===Math.imul(4294967295,5)||(Math.imul=function(e,t){var r=65535&e,n=65535&t;return r*n+((e>>>16)*n+r*(t>>>16)<<16)|0}),Math.imul=Math.imul,Math.clz32||(Math.clz32=function(e){e>>>=0;for(var t=0;t<32;t++)if(e&1<<31-t)return t;return 32}),Math.clz32=Math.clz32,Math.trunc||(Math.trunc=function(e){return e<0?Math.ceil(e):Math.floor(e)}),Math.trunc=Math.trunc;var Math_abs=Math.abs,Math_ceil=Math.ceil,Math_floor=Math.floor,Math_min=Math.min,runDependencies=0,runDependencyWatcher=null,dependenciesFulfilled=null;function addRunDependency(e){runDependencies++,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies)}function removeRunDependency(e){if(runDependencies--,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies),0==runDependencies&&(null!==runDependencyWatcher&&(clearInterval(runDependencyWatcher),runDependencyWatcher=null),dependenciesFulfilled)){var t=dependenciesFulfilled;dependenciesFulfilled=null,t()}}Module.addRunDependency=addRunDependency,Module.removeRunDependency=removeRunDependency,Module.preloadedImages={},Module.preloadedAudios={};var ASM_CONSTS=[function(e){return Module.trapOnInstructionFetch(e)},function(e){return Module.busRead32(e)},function(e,t){Module.busWrite32(e,t)},function(e){return Module.busRead16(e)},function(e,t){return Module.trapOnBx32(e,t)},function(e,t){Module.busWrite16(e,t)}];function _emscripten_asm_const_ii(e,t){return ASM_CONSTS[e](t)}function _emscripten_asm_const_iii(e,t,r){return ASM_CONSTS[e](t,r)}STATIC_BASE=Runtime.GLOBAL_BASE,STATICTOP=STATIC_BASE+5312,__ATINIT__.push(),allocate([12,0,0,0,5,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,2,0,0,0,189,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,156,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,116,104,117,109,98,117,108,97,116,111,114,0,123,32,114,101,116,117,114,110,32,77,111,100,117,108,101,46,98,117,115,82,101,97,100,49,54,40,36,48,41,59,32,125,0,123,32,114,101,116,117,114,110,32,77,111,100,117,108,101,46,98,117,115,82,101,97,100,51,50,40,36,48,41,59,32,125,0,123,32,77,111,100,117,108,101,46,98,117,115,87,114,105,116,101,49,54,40,36,48,44,32,36,49,41,59,32,125,0,123,32,77,111,100,117,108,101,46,98,117,115,87,114,105,116,101,51,50,40,36,48,44,32,36,49,41,59,32,125,0,112,99,32,104,97,115,32,108,115,98,105,116,32,115,101,116,32,48,120,37,48,56,88,10,0,123,32,114,101,116,117,114,110,32,77,111,100,117,108,101,46,116,114,97,112,79,110,73,110,115,116,114,117,99,116,105,111,110,70,101,116,99,104,40,36,48,41,59,32,125,0,45,45,45,32,48,120,37,48,56,88,58,32,48,120,37,48,52,88,32,0,97,100,99,32,114,37,117,44,114,37,117,10,0,97,100,100,115,32,114,37,117,44,114,37,117,44,35,48,120,37,88,10,0,97,100,100,115,32,114,37,117,44,35,48,120,37,48,50,88,10,0,97,100,100,115,32,114,37,117,44,114,37,117,44,114,37,117,10,0,97,100,100,32,114,37,117,44,114,37,117,10,0,97,100,100,32,112,99,44,46,46,46,32,112,114,111,100,117,99,101,100,32,97,110,32,97,114,109,32,97,100,100,114,101,115,115,32,48,120,37,48,56,88,32,48,120,37,48,56,88,10,0,97,100,100,32,114,37,117,44,80,67,44,35,48,120,37,48,50,88,10,0,97,100,100,32,114,37,117,44,83,80,44,35,48,120,37,48,50,88,10,0,97,100,100,32,83,80,44,35,48,120,37,48,50,88,10,0,97,110,100,115,32,114,37,117,44,114,37,117,10,0,97,115,114,115,32,114,37,117,44,114,37,117,44,35,48,120,37,88,10,0,97,115,114,115,32,114,37,117,44,114,37,117,10,0,98,101,113,32,48,120,37,48,56,88,10,0,98,110,101,32,48,120,37,48,56,88,10,0,98,99,115,32,48,120,37,48,56,88,10,0,98,99,99,32,48,120,37,48,56,88,10,0,98,109,105,32,48,120,37,48,56,88,10,0,98,112,108,32,48,120,37,48,56,88,10,0,98,118,115,32,48,120,37,48,56,88,10,0,98,118,99,32,48,120,37,48,56,88,10,0,98,104,105,32,48,120,37,48,56,88,10,0,98,108,115,32,48,120,37,48,56,88,10,0,98,103,101,32,48,120,37,48,56,88,10,0,98,108,116,32,48,120,37,48,56,88,10,0,98,103,116,32,48,120,37,48,56,88,10,0,98,108,101,32,48,120,37,48,56,88,10,0,66,32,48,120,37,48,56,88,10,0,98,105,99,115,32,114,37,117,44,114,37,117,10,0,98,107,112,116,32,48,120,37,48,50,88,10,0,98,108,32,48,120,37,48,56,88,10,0,98,108,120,32,114,37,117,10,0,99,97,110,110,111,116,32,98,114,97,110,99,104,32,116,111,32,97,114,109,32,48,120,37,48,56,88,32,48,120,37,48,52,88,10,0,98,120,32,114,37,117,10,0,123,32,114,101,116,117,114,110,32,77,111,100,117,108,101,46,116,114,97,112,79,110,66,120,51,50,40,36,48,44,32,36,49,41,59,32,125,0,99,109,110,115,32,114,37,117,44,114,37,117,10,0,99,109,112,32,114,37,117,44,35,48,120,37,48,50,88,10,0,99,109,112,115,32,114,37,117,44,114,37,117,10,0,99,112,115,32,84,79,68,79,10,0,99,112,121,32,114,37,117,44,114,37,117,10,0,101,111,114,115,32,114,37,117,44,114,37,117,10,0,108,100,109,105,97,32,114,37,117,33,44,123,0,114,37,117,0,125,10,0,108,100,114,32,114,37,117,44,91,114,37,117,44,35,48,120,37,88,93,10,0,108,100,114,32,114,37,117,44,91,114,37,117,44,114,37,117,93,10,0,108,100,114,32,114,37,117,44,91,80,67,43,35,48,120,37,88,93,32,0,59,64,32,48,120,37,88,10,0,108,100,114,32,114,37,117,44,91,83,80,43,35,48,120,37,88,93,10,0,108,100,114,98,32,114,37,117,44,91,114,37,117,44,35,48,120,37,88,93,10,0,108,100,114,98,32,114,37,117,44,91,114,37,117,44,114,37,117,93,10,0,108,100,114,104,32,114,37,117,44,91,114,37,117,44,35,48,120,37,88,93,10,0,108,100,114,104,32,114,37,117,44,91,114,37,117,44,114,37,117,93,10,0,108,100,114,115,98,32,114,37,117,44,91,114,37,117,44,114,37,117,93,10,0,108,100,114,115,104,32,114,37,117,44,91,114,37,117,44,114,37,117,93,10,0,108,115,108,115,32,114,37,117,44,114,37,117,44,35,48,120,37,88,10,0,108,115,108,115,32,114,37,117,44,114,37,117,10,0,108,115,114,115,32,114,37,117,44,114,37,117,44,35,48,120,37,88,10,0,108,115,114,115,32,114,37,117,44,114,37,117,10,0,109,111,118,115,32,114,37,117,44,35,48,120,37,48,50,88,10,0,109,111,118,115,32,114,37,117,44,114,37,117,10,0,109,111,118,32,114,37,117,44,114,37,117,10,0,109,117,108,115,32,114,37,117,44,114,37,117,10,0,109,118,110,115,32,114,37,117,44,114,37,117,10,0,110,101,103,115,32,114,37,117,44,114,37,117,10,0,111,114,114,115,32,114,37,117,44,114,37,117,10,0,112,111,112,32,123,0,112,99,0,112,111,112,32,123,114,99,125,32,119,105,116,104,32,97,110,32,65,82,77,32,97,100,100,114,101,115,115,32,112,99,32,48,120,37,48,56,88,32,112,111,112,112,101,100,32,48,120,37,48,56,88,10,0,112,117,115,104,32,123,0,108,114,0,112,117,115,104,32,123,108,114,125,32,119,105,116,104,32,97,110,32,65,82,77,32,97,100,100,114,101,115,115,32,112,99,32,48,120,37,48,56,88,32,112,111,112,112,101,100,32,48,120,37,48,56,88,10,0,114,101,118,32,114,37,117,44,114,37,117,10,0,114,101,118,49,54,32,114,37,117,44,114,37,117,10,0,114,101,118,115,104,32,114,37,117,44,114,37,117,10,0,114,111,114,115,32,114,37,117,44,114,37,117,10,0,115,98,99,32,114,37,117,44,114,37,117,10,0,115,101,116,101,110,100,32,110,111,116,32,105,109,112,108,101,109,101,110,116,101,100,10,0,115,116,109,105,97,32,114,37,117,33,44,123,0,115,116,114,32,114,37,117,44,91,114,37,117,44,35,48,120,37,88,93,10,0,115,116,114,32,114,37,117,44,91,114,37,117,44,114,37,117,93,10,0,115,116,114,32,114,37,117,44,91,83,80,44,35,48,120,37,88,93,10,0,115,116,114,98,32,114,37,117,44,91,114,37,117,44,35,48,120,37,88,93,10,0,115,116,114,98,32,114,37,117,44,91,114,37,117,44,114,37,117,93,10,0,115,116,114,104,32,114,37,117,44,91,114,37,117,44,35,48,120,37,88,93,10,0,115,116,114,104,32,114,37,117,44,91,114,37,117,44,114,37,117,93,10,0,115,117,98,115,32,114,37,117,44,114,37,117,44,35,48,120,37,88,10,0,115,117,98,115,32,114,37,117,44,35,48,120,37,48,50,88,10,0,115,117,98,115,32,114,37,117,44,114,37,117,44,114,37,117,10,0,115,117,98,32,83,80,44,35,48,120,37,48,50,88,10,0,115,119,105,32,48,120,37,48,50,88,10,0,10,10,115,119,105,32,48,120,37,48,50,88,10,0,115,120,116,98,32,114,37,117,44,114,37,117,10,0,115,120,116,104,32,114,37,117,44,114,37,117,10,0,116,115,116,32,114,37,117,44,114,37,117,10,0,117,120,116,98,32,114,37,117,44,114,37,117,10,0,117,120,116,104,32,114,37,117,44,114,37,117,10,0,105,110,118,97,108,105,100,32,105,110,115,116,114,117,99,116,105,111,110,32,48,120,37,48,56,88,32,48,120,37,48,52,88,10,0,17,0,10,0,17,17,17,0,0,0,0,5,0,0,0,0,0,0,9,0,0,0,0,11,0,0,0,0,0,0,0,0,17,0,15,10,17,17,17,3,10,7,0,1,19,9,11,11,0,0,9,6,11,0,0,11,0,6,17,0,0,0,17,17,17,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,11,0,0,0,0,0,0,0,0,17,0,10,10,17,17,17,0,10,0,0,2,0,9,11,0,0,0,9,0,11,0,0,11,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,12,0,0,0,0,9,12,0,0,0,0,0,12,0,0,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14,0,0,0,0,0,0,0,0,0,0,0,13,0,0,0,4,13,0,0,0,0,9,14,0,0,0,0,0,14,0,0,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16,0,0,0,0,0,0,0,0,0,0,0,15,0,0,0,0,15,0,0,0,0,9,16,0,0,0,0,0,16,0,0,16,0,0,18,0,0,0,18,18,18,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,18,0,0,0,18,18,18,0,0,0,0,0,0,9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,11,0,0,0,0,0,0,0,0,0,0,0,10,0,0,0,0,10,0,0,0,0,9,11,0,0,0,0,0,11,0,0,11,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,12,0,0,0,0,9,12,0,0,0,0,0,12,0,0,12,0,0,45,43,32,32,32,48,88,48,120,0,40,110,117,108,108,41,0,45,48,88,43,48,88,32,48,88,45,48,120,43,48,120,32,48,120,0,105,110,102,0,73,78,70,0,110,97,110,0,78,65,78,0,48,49,50,51,52,53,54,55,56,57,65,66,67,68,69,70,46,0,84,33,34,25,13,1,2,3,17,75,28,12,16,4,11,29,18,30,39,104,110,111,112,113,98,32,5,6,15,19,20,21,26,8,22,7,40,36,23,24,9,10,14,27,31,37,35,131,130,125,38,42,43,60,61,62,63,67,71,74,77,88,89,90,91,92,93,94,95,96,97,99,100,101,102,103,105,106,107,108,114,115,116,121,122,123,124,0,73,108,108,101,103,97,108,32,98,121,116,101,32,115,101,113,117,101,110,99,101,0,68,111,109,97,105,110,32,101,114,114,111,114,0,82,101,115,117,108,116,32,110,111,116,32,114,101,112,114,101,115,101,110,116,97,98,108,101,0,78,111,116,32,97,32,116,116,121,0,80,101,114,109,105,115,115,105,111,110,32,100,101,110,105,101,100,0,79,112,101,114,97,116,105,111,110,32,110,111,116,32,112,101,114,109,105,116,116,101,100,0,78,111,32,115,117,99,104,32,102,105,108,101,32,111,114,32,100,105,114,101,99,116,111,114,121,0,78,111,32,115,117,99,104,32,112,114,111,99,101,115,115,0,70,105,108,101,32,101,120,105,115,116,115,0,86,97,108,117,101,32,116,111,111,32,108,97,114,103,101,32,102,111,114,32,100,97,116,97,32,116,121,112,101,0,78,111,32,115,112,97,99,101,32,108,101,102,116,32,111,110,32,100,101,118,105,99,101,0,79,117,116,32,111,102,32,109,101,109,111,114,121,0,82,101,115,111,117,114,99,101,32,98,117,115,121,0,73,110,116,101,114,114,117,112,116,101,100,32,115,121,115,116,101,109,32,99,97,108,108,0,82,101,115,111,117,114,99,101,32,116,101,109,112,111,114,97,114,105,108,121,32,117,110,97,118,97,105,108,97,98,108,101,0,73,110,118,97,108,105,100,32,115,101,101,107,0,67,114,111,115,115,45,100,101,118,105,99,101,32,108,105,110,107,0,82,101,97,100,45,111,110,108,121,32,102,105,108,101,32,115,121,115,116,101,109,0,68,105,114,101,99,116,111,114,121,32,110,111,116,32,101,109,112,116,121,0,67,111,110,110,101,99,116,105,111,110,32,114,101,115,101,116,32,98,121,32,112,101,101,114,0,79,112,101,114,97,116,105,111,110,32,116,105,109,101,100,32,111,117,116,0,67,111,110,110,101,99,116,105,111,110,32,114,101,102,117,115,101,100,0,72,111,115,116,32,105,115,32,100,111,119,110,0,72,111,115,116,32,105,115,32,117,110,114,101,97,99,104,97,98,108,101,0,65,100,100,114,101,115,115,32,105,110,32,117,115,101,0,66,114,111,107,101,110,32,112,105,112,101,0,73,47,79,32,101,114,114,111,114,0,78,111,32,115,117,99,104,32,100,101,118,105,99,101,32,111,114,32,97,100,100,114,101,115,115,0,66,108,111,99,107,32,100,101,118,105,99,101,32,114,101,113,117,105,114,101,100,0,78,111,32,115,117,99,104,32,100,101,118,105,99,101,0,78,111,116,32,97,32,100,105,114,101,99,116,111,114,121,0,73,115,32,97,32,100,105,114,101,99,116,111,114,121,0,84,101,120,116,32,102,105,108,101,32,98,117,115,121,0,69,120,101,99,32,102,111,114,109,97,116,32,101,114,114,111,114,0,73,110,118,97,108,105,100,32,97,114,103,117,109,101,110,116,0,65,114,103,117,109,101,110,116,32,108,105,115,116,32,116,111,111,32,108,111,110,103,0,83,121,109,98,111,108,105,99,32,108,105,110,107,32,108,111,111,112,0,70,105,108,101,110,97,109,101,32,116,111,111,32,108,111,110,103,0,84,111,111,32,109,97,110,121,32,111,112,101,110,32,102,105,108,101,115,32,105,110,32,115,121,115,116,101,109,0,78,111,32,102,105,108,101,32,100,101,115,99,114,105,112,116,111,114,115,32,97,118,97,105,108,97,98,108,101,0,66,97,100,32,102,105,108,101,32,100,101,115,99,114,105,112,116,111,114,0,78,111,32,99,104,105,108,100,32,112,114,111,99,101,115,115,0,66,97,100,32,97,100,100,114,101,115,115,0,70,105,108,101,32,116,111,111,32,108,97,114,103,101,0,84,111,111,32,109,97,110,121,32,108,105,110,107,115,0,78,111,32,108,111,99,107,115,32,97,118,97,105,108,97,98,108,101,0,82,101,115,111,117,114,99,101,32,100,101,97,100,108,111,99,107,32,119,111,117,108,100,32,111,99,99,117,114,0,83,116,97,116,101,32,110,111,116,32,114,101,99,111,118,101,114,97,98,108,101,0,80,114,101,118,105,111,117,115,32,111,119,110,101,114,32,100,105,101,100,0,79,112,101,114,97,116,105,111,110,32,99,97,110,99,101,108,101,100,0,70,117,110,99,116,105,111,110,32,110,111,116,32,105,109,112,108,101,109,101,110,116,101,100,0,78,111,32,109,101,115,115,97,103,101,32,111,102,32,100,101,115,105,114,101,100,32,116,121,112,101,0,73,100,101,110,116,105,102,105,101,114,32,114,101,109,111,118,101,100,0,68,101,118,105,99,101,32,110,111,116,32,97,32,115,116,114,101,97,109,0,78,111,32,100,97,116,97,32,97,118,97,105,108,97,98,108,101,0,68,101,118,105,99,101,32,116,105,109,101,111,117,116,0,79,117,116,32,111,102,32,115,116,114,101,97,109,115,32,114,101,115,111,117,114,99,101,115,0,76,105,110,107,32,104,97,115,32,98,101,101,110,32,115,101,118,101,114,101,100,0,80,114,111,116,111,99,111,108,32,101,114,114,111,114,0,66,97,100,32,109,101,115,115,97,103,101,0,70,105,108,101,32,100,101,115,99,114,105,112,116,111,114,32,105,110,32,98,97,100,32,115,116,97,116,101,0,78,111,116,32,97,32,115,111,99,107,101,116,0,68,101,115,116,105,110,97,116,105,111,110,32,97,100,100,114,101,115,115,32,114,101,113,117,105,114,101,100,0,77,101,115,115,97,103,101,32,116,111,111,32,108,97,114,103,101,0,80,114,111,116,111,99,111,108,32,119,114,111,110,103,32,116,121,112,101,32,102,111,114,32,115,111,99,107,101,116,0,80,114,111,116,111,99,111,108,32,110,111,116,32,97,118,97,105,108,97,98,108,101,0,80,114,111,116,111,99,111,108,32,110,111,116,32,115,117,112,112,111,114,116,101,100,0,83,111,99,107,101,116,32,116,121,112,101,32,110,111,116,32,115,117,112,112,111,114,116,101,100,0,78,111,116,32,115,117,112,112,111,114,116,101,100,0,80,114,111,116,111,99,111,108,32,102,97,109,105,108,121,32,110,111,116,32,115,117,112,112,111,114,116,101,100,0,65,100,100,114,101,115,115,32,102,97,109,105,108,121,32,110,111,116,32,115,117,112,112,111,114,116,101,100,32,98,121,32,112,114,111,116,111,99,111,108,0,65,100,100,114,101,115,115,32,110,111,116,32,97,118,97,105,108,97,98,108,101,0,78,101,116,119,111,114,107,32,105,115,32,100,111,119,110,0,78,101,116,119,111,114,107,32,117,110,114,101,97,99,104,97,98,108,101,0,67,111,110,110,101,99,116,105,111,110,32,114,101,115,101,116,32,98,121,32,110,101,116,119,111,114,107,0,67,111,110,110,101,99,116,105,111,110,32,97,98,111,114,116,101,100,0,78,111,32,98,117,102,102,101,114,32,115,112,97,99,101,32,97,118,97,105,108,97,98,108,101,0,83,111,99,107,101,116,32,105,115,32,99,111,110,110,101,99,116,101,100,0,83,111,99,107,101,116,32,110,111,116,32,99,111,110,110,101,99,116,101,100,0,67,97,110,110,111,116,32,115,101,110,100,32,97,102,116,101,114,32,115,111,99,107,101,116,32,115,104,117,116,100,111,119,110,0,79,112,101,114,97,116,105,111,110,32,97,108,114,101,97,100,121,32,105,110,32,112,114,111,103,114,101,115,115,0,79,112,101,114,97,116,105,111,110,32,105,110,32,112,114,111,103,114,101,115,115,0,83,116,97,108,101,32,102,105,108,101,32,104,97,110,100,108,101,0,82,101,109,111,116,101,32,73,47,79,32,101,114,114,111,114,0,81,117,111,116,97,32,101,120,99,101,101,100,101,100,0,78,111,32,109,101,100,105,117,109,32,102,111,117,110,100,0,87,114,111,110,103,32,109,101,100,105,117,109,32,116,121,112,101,0,78,111,32,101,114,114,111,114,32,105,110,102,111,114,109,97,116,105,111,110,0,0],"i8",ALLOC_NONE,Runtime.GLOBAL_BASE);var tempDoublePtr=STATICTOP;function _emscripten_memcpy_big(e,t,r){return HEAPU8.set(HEAPU8.subarray(t,t+r),e),e}STATICTOP+=16;var SYSCALLS={varargs:0,get:function(e){return SYSCALLS.varargs+=4,HEAP32[SYSCALLS.varargs-4>>2]},getStr:function(){return Pointer_stringify(SYSCALLS.get())},get64:function(){var e=SYSCALLS.get(),t=SYSCALLS.get();return assert(e>=0?0===t:-1===t),e},getZero:function(){assert(0===SYSCALLS.get())}};function ___syscall6(e,t){SYSCALLS.varargs=t;try{var r=SYSCALLS.getStreamFromFD();return FS.close(r),0}catch(e){return"undefined"!=typeof FS&&e instanceof FS.ErrnoError||abort(e),-e.errno}}var cttz_i8=allocate([8,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,6,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,7,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,6,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0],"i8",ALLOC_STATIC);function ___setErrNo(e){return Module.___errno_location&&(HEAP32[Module.___errno_location()>>2]=e),e}function __exit(e){Module.exit(e)}function _exit(e){__exit(e)}function ___syscall140(e,t){SYSCALLS.varargs=t;try{var r=SYSCALLS.getStreamFromFD(),n=(SYSCALLS.get(),SYSCALLS.get()),i=SYSCALLS.get(),a=SYSCALLS.get(),o=n;return FS.llseek(r,o,a),HEAP32[i>>2]=r.position,r.getdents&&0===o&&0===a&&(r.getdents=null),0}catch(e){return"undefined"!=typeof FS&&e instanceof FS.ErrnoError||abort(e),-e.errno}}function ___syscall146(e,t){SYSCALLS.varargs=t;try{var r=SYSCALLS.get(),n=SYSCALLS.get(),i=SYSCALLS.get(),a=0;___syscall146.buffer||(___syscall146.buffers=[null,[],[]],___syscall146.printChar=function(e,t){var r=___syscall146.buffers[e];assert(r),0===t||10===t?((1===e?Module.print:Module.printErr)(UTF8ArrayToString(r,0)),r.length=0):r.push(t)});for(var o=0;o<i;o++){for(var s=HEAP32[n+8*o>>2],u=HEAP32[n+(8*o+4)>>2],c=0;c<u;c++)___syscall146.printChar(r,HEAPU8[s+c]);a+=u}return a}catch(e){return"undefined"!=typeof FS&&e instanceof FS.ErrnoError||abort(e),-e.errno}}function invoke_ii(e,t){try{return Module.dynCall_ii(e,t)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;Module.setThrew(1,0)}}function invoke_iiii(e,t,r,n){try{return Module.dynCall_iiii(e,t,r,n)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;Module.setThrew(1,0)}}__ATEXIT__.push(function(){var e=Module._fflush;e&&e(0);var t=___syscall146.printChar;if(t){var r=___syscall146.buffers;r[1].length&&t(1,10),r[2].length&&t(2,10)}}),DYNAMICTOP_PTR=allocate(1,"i32",ALLOC_STATIC),STACK_BASE=STACKTOP=Runtime.alignMemory(STATICTOP),STACK_MAX=STACK_BASE+TOTAL_STACK,DYNAMIC_BASE=Runtime.alignMemory(STACK_MAX),HEAP32[DYNAMICTOP_PTR>>2]=DYNAMIC_BASE,staticSealed=!0,Module.asmGlobalArg={Math:Math,Int8Array:Int8Array,Int16Array:Int16Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Uint16Array:Uint16Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array,NaN:NaN,Infinity:1/0},Module.asmLibraryArg={abort:abort,assert:assert,enlargeMemory:enlargeMemory,getTotalMemory:getTotalMemory,abortOnCannotGrowMemory:abortOnCannotGrowMemory,invoke_ii:invoke_ii,invoke_iiii:invoke_iiii,_emscripten_asm_const_ii:_emscripten_asm_const_ii,___syscall6:___syscall6,___setErrNo:___setErrNo,___syscall146:___syscall146,_emscripten_memcpy_big:_emscripten_memcpy_big,___syscall140:___syscall140,_exit:_exit,__exit:__exit,_emscripten_asm_const_iii:_emscripten_asm_const_iii,DYNAMICTOP_PTR:DYNAMICTOP_PTR,tempDoublePtr:tempDoublePtr,ABORT:ABORT,STACKTOP:STACKTOP,STACK_MAX:STACK_MAX,cttz_i8:cttz_i8};var asm=function(e,t,r){"use asm";var n=new e.Int8Array(r);var i=new e.Int16Array(r);var a=new e.Int32Array(r);var o=new e.Uint8Array(r);var s=new e.Uint16Array(r);var u=new e.Uint32Array(r);var c=new e.Float32Array(r);var f=new e.Float64Array(r);var l=t.DYNAMICTOP_PTR|0;var h=t.tempDoublePtr|0;var d=t.ABORT|0;var p=t.STACKTOP|0;var _=t.STACK_MAX|0;var g=t.cttz_i8|0;var m=e.NaN,b=e.Infinity;var v=0,y=0;var w=0;var k=e.Math.floor;var E=e.Math.abs;var A=e.Math.sqrt;var S=e.Math.pow;var T=e.Math.cos;var C=e.Math.sin;var R=e.Math.tan;var M=e.Math.acos;var x=e.Math.asin;var I=e.Math.atan;var O=e.Math.atan2;var N=e.Math.exp;var P=e.Math.log;var D=e.Math.ceil;var B=e.Math.imul;var L=e.Math.min;var $=e.Math.max;var F=e.Math.clz32;var j=t.abort;var U=t.assert;var H=t.enlargeMemory;var z=t.getTotalMemory;var W=t.abortOnCannotGrowMemory;var Z=t.invoke_ii;var K=t.invoke_iiii;var G=t._emscripten_asm_const_ii;var Y=t.___syscall6;var q=t.___setErrNo;var V=t.___syscall146;var X=t._emscripten_memcpy_big;var J=t.___syscall140;var Q=t._exit;var ee=t.__exit;var te=t._emscripten_asm_const_iii;function re(e){e=e|0;var t=0;t=p;p=p+e|0;p=p+15&-16;return t|0}function ne(){return p|0}function ie(e){e=e|0;p=e}function ae(e,t){e=e|0;t=t|0;p=e;_=t}function oe(e,t){}function se(e){e=e|0;w=e}function ue(){return w|0}function ce(e){e=e|0;a[1162]=e;return}function fe(){return 380}function le(e){e=e|0;var t=0,r=0,n=0,i=0,o=0;a[1163]=0;if(!e){i=0;return i|0}else{t=0;r=0}while(1){o=me()|0;r=(o|0)==0?r:o;n=(a[1163]|0)!=0;t=t+1|0;if(n|(o|0)==0^1)break;if(t>>>0>=e>>>0){t=0;i=5;break}}if((i|0)==5)return t|0;o=n?10:r;return o|0}function he(){a[1163]=1;return}function de(e){e=e|0;n[5300]=e;return}function pe(e){e=e|0;var t=0,r=0;r=p;p=p+16|0;t=a[4668+((e&15)<<2)>>2]|0;if((e&15|0)!=15){p=r;return t|0}if(t&1|0){e=a[2]|0;a[r>>2]=t;$e(e,520,r)|0}t=t&-2;p=r;return t|0}function _e(e,t){e=e|0;t=t|0;a[4668+((e&15)<<2)>>2]=(e&15|0)==15?t&-2:t;return}function ge(){a[1164]=4;a[1165]=0;a[1166]=0;a[1183]=0;a[1184]=0;return 0}function me(){var e=0,t=0,r=0,i=0,o=0,s=0,u=0,c=0,f=0,l=0;l=p;p=p+4848|0;t=a[1182]|0;if(t&1|0){f=a[2]|0;a[l>>2]=t;$e(f,520,l)|0}e=a[1162]|0;if(!e){e=G(0,(t&-2)+-2|0)|0;if(e|0){f=e;p=l;return f|0}}else if(((t&-2)+-2|0)==(e|0)){f=20;p=l;return f|0}if((t&-2)>>>0>4026531839&(a[1183]|0)!=0){a[1183]=0;f=a[1180]|0;a[1167]=G(1,f|0)|0;a[1168]=G(1,f+4|0)|0;a[1169]=G(1,f+8|0)|0;a[1170]=G(1,f+12|0)|0;a[1179]=G(1,f+16|0)|0;a[1181]=G(1,f+20|0)|0;r=G(1,f+24|0)|0;a[1184]=G(1,f+28|0)|0;a[1180]=f+32}else r=t&-2;e=a[1164]|0;do{if(e&1){t=a[1166]|0;if(!t){a[1166]=a[1165];a[1164]=e|65536;e=e|65536;break}else{a[1166]=t+-1;break}}}while(0);if((e&3|0)==3)if((e&65536|0)!=0&(a[1183]|0)==0){i=a[1180]|0;t=a[1184]|0;e:do{if((i+-4&-268435456|0)==-536870912)switch((i+536813548|0)>>>2|i+536813548<<30|0){case 0:{a[1164]=t&65543;if((e&1|0)!=0|(t&1|0)==0)break e;a[1166]=a[1165];break e}case 1:{a[1165]=t&16777215;break e}case 2:{a[1166]=t&16777215;break e}case 3:break e;default:break e}else te(2,i+-4|0,t|0)|0}while(0);e:do{if((i+-8&-268435456|0)==-536870912)switch((i+536813544|0)>>>2|i+536813544<<30|0){case 0:{f=a[1164]|0;a[1164]=r&65543;if((r&1|0)==0|(f&1|0)!=0)break e;a[1166]=a[1165];break e}case 1:{a[1165]=r&16777215;break e}case 2:{a[1166]=r&16777215;break e}case 3:break e;default:break e}else te(2,i+-8|0,r|0)|0}while(0);e=a[1181]|0;e:do{if((i+-12&-268435456|0)==-536870912)switch((i+536813540|0)>>>2|i+536813540<<30|0){case 0:{f=a[1164]|0;a[1164]=e&65543;if((e&1|0)==0|(f&1|0)!=0)break e;a[1166]=a[1165];break e}case 1:{a[1165]=e&16777215;break e}case 2:{a[1166]=e&16777215;break e}case 3:break e;default:break e}else te(2,i+-12|0,e|0)|0}while(0);e=a[1179]|0;e:do{if((i+-16&-268435456|0)==-536870912)switch((i+536813536|0)>>>2|i+536813536<<30|0){case 0:{f=a[1164]|0;a[1164]=e&65543;if((e&1|0)==0|(f&1|0)!=0)break e;a[1166]=a[1165];break e}case 1:{a[1165]=e&16777215;break e}case 2:{a[1166]=e&16777215;break e}case 3:break e;default:break e}else te(2,i+-16|0,e|0)|0}while(0);e=a[1170]|0;e:do{if((i+-20&-268435456|0)==-536870912)switch((i+536813532|0)>>>2|i+536813532<<30|0){case 0:{f=a[1164]|0;a[1164]=e&65543;if((e&1|0)==0|(f&1|0)!=0)break e;a[1166]=a[1165];break e}case 1:{a[1165]=e&16777215;break e}case 2:{a[1166]=e&16777215;break e}case 3:break e;default:break e}else te(2,i+-20|0,e|0)|0}while(0);e=a[1169]|0;e:do{if((i+-24&-268435456|0)==-536870912)switch((i+536813528|0)>>>2|i+536813528<<30|0){case 0:{f=a[1164]|0;a[1164]=e&65543;if((e&1|0)==0|(f&1|0)!=0)break e;a[1166]=a[1165];break e}case 1:{a[1165]=e&16777215;break e}case 2:{a[1166]=e&16777215;break e}case 3:break e;default:break e}else te(2,i+-24|0,e|0)|0}while(0);e=a[1168]|0;e:do{if((i+-28&-268435456|0)==-536870912)switch((i+536813524|0)>>>2|i+536813524<<30|0){case 0:{f=a[1164]|0;a[1164]=e&65543;if((e&1|0)==0|(f&1|0)!=0)break e;a[1166]=a[1165];break e}case 1:{a[1165]=e&16777215;break e}case 2:{a[1166]=e&16777215;break e}case 3:break e;default:break e}else te(2,i+-28|0,e|0)|0}while(0);e=a[1167]|0;e:do{if((i+-32&-268435456|0)==-536870912)switch((i+536813520|0)>>>2|i+536813520<<30|0){case 0:{f=a[1164]|0;a[1164]=e&65543;if((e&1|0)==0|(f&1|0)!=0)break e;a[1166]=a[1165];break e}case 1:{a[1165]=e&16777215;break e}case 2:{a[1166]=e&16777215;break e}case 3:break e;default:break e}else te(2,i+-32|0,e|0)|0}while(0);a[1180]=i+-32;r=(G(1,60)|0)+2|0;a[1181]=-7;a[1183]=1}o=r+-2|0;f=G(3,o|0)|0;s=r+2|0;a[1182]=s&-2;if(n[5300]|0){i=a[2]|0;a[l+8>>2]=o;a[l+8+4>>2]=f;$e(i,591,l+8|0)|0}if((f&65472|0)==16704){if(n[5300]|0){c=a[2]|0;a[l+16>>2]=f&7;a[l+16+4>>2]=f>>>3&7;$e(c,611,l+16|0)|0}t=a[4668+((f&7)<<2)>>2]|0;r=a[4668+((f>>>3&7)<<2)>>2]|0;c=a[1184]|0;a[4668+((f&7)<<2)>>2]=r+t+(c>>>29&1);e=(r+t+(c>>>29&1)|0)<0?c|-2147483648:c&2147483647;e=(r+t+(c>>>29&1)|0)==0?e|1073741824:e&-1073741825;a[1184]=e;if(!(e&536870912)){f=((r>>>31)+(t>>>31)+(((r&2147483647)+(t&2147483647)|0)>>>31)&2|0)==0?e&-536870913:e|536870912;a[1184]=(((r&2147483647)+(t&2147483647)|0)>>>31|0)==(((r>>>31)+(t>>>31)+(((r&2147483647)+(t&2147483647)|0)>>>31)|0)>>>1&1|0)?f&-268435457:f|268435456;f=0;p=l;return f|0}else{f=(((r>>>31)+(t>>>31)+(((r&2147483647)+(t&2147483647)+1|0)>>>31)|0)&2|0)==0?e&-536870913:e|536870912;a[1184]=(((r&2147483647)+(t&2147483647)+1|0)>>>31|0)==(((r>>>31)+(t>>>31)+(((r&2147483647)+(t&2147483647)+1|0)>>>31)|0)>>>1&1|0)?f&-268435457:f|268435456;f=0;p=l;return f|0}}if((f&65024|0)==7168)if(f>>>6&7|0){if(n[5300]|0){c=a[2]|0;a[l+24>>2]=f&7;a[l+24+4>>2]=f>>>3&7;a[l+24+8>>2]=f>>>6&7;$e(c,624,l+24|0)|0}u=a[4668+((f>>>3&7)<<2)>>2]|0;a[4668+((f&7)<<2)>>2]=u+(f>>>6&7);c=a[1184]|0;c=(u+(f>>>6&7)|0)<0?c|-2147483648:c&2147483647;c=(u+(f>>>6&7)|0)==0?c|1073741824:c&-1073741825;c=((((u&2147483647)+(f>>>6&7)|0)>>>31)+(u>>>31)&2|0)==0?c&-536870913:c|536870912;a[1184]=(((u&2147483647)+(f>>>6&7)|0)>>>31|0)==(((((u&2147483647)+(f>>>6&7)|0)>>>31)+(u>>>31)|0)>>>1|0)?c&-268435457:c|268435456;f=0;p=l;return f|0}if((f&63488|0)==12288){if(n[5300]|0){c=a[2]|0;a[l+40>>2]=f>>>8&7;a[l+40+4>>2]=f&255;$e(c,644,l+40|0)|0}u=a[4668+((f>>>8&7)<<2)>>2]|0;a[4668+((f>>>8&7)<<2)>>2]=u+(f&255);c=a[1184]|0;c=(u+(f&255)|0)<0?c|-2147483648:c&2147483647;c=(u+(f&255)|0)==0?c|1073741824:c&-1073741825;c=((((u&2147483647)+(f&255)|0)>>>31)+(u>>>31)&2|0)==0?c&-536870913:c|536870912;a[1184]=(((u&2147483647)+(f&255)|0)>>>31|0)==(((((u&2147483647)+(f&255)|0)>>>31)+(u>>>31)|0)>>>1|0)?c&-268435457:c|268435456;f=0;p=l;return f|0}if((f&65024|0)==6144){if(n[5300]|0){c=a[2]|0;a[l+48>>2]=f&7;a[l+48+4>>2]=f>>>3&7;a[l+48+8>>2]=f>>>6&7;$e(c,662,l+48|0)|0}c=a[4668+((f>>>3&7)<<2)>>2]|0;u=a[4668+((f>>>6&7)<<2)>>2]|0;a[4668+((f&7)<<2)>>2]=u+c;f=a[1184]|0;f=(u+c|0)<0?f|-2147483648:f&2147483647;f=(u+c|0)==0?f|1073741824:f&-1073741825;f=((u>>>31)+(c>>>31)+(((u&2147483647)+(c&2147483647)|0)>>>31)&2|0)==0?f&-536870913:f|536870912;a[1184]=(((u&2147483647)+(c&2147483647)|0)>>>31|0)==(((u>>>31)+(c>>>31)+(((u&2147483647)+(c&2147483647)|0)>>>31)|0)>>>1&1|0)?f&-268435457:f|268435456;f=0;p=l;return f|0}if((f&65280|0)==17408){if(n[5300]|0){c=a[2]|0;a[l+64>>2]=f>>>4&8|f&7;a[l+64+4>>2]=f>>>3&15;$e(c,680,l+64|0)|0}e=a[4668+((f>>>4&8|f&7)<<2)>>2]|0;if((f>>>4&8|f&7|0)==15){if(e&1|0){c=a[2]|0;a[l+72>>2]=e;$e(c,520,l+72|0)|0}e=e&-2}t=a[4668+((f>>>3&15)<<2)>>2]|0;if((f>>>3&15|0)==15){if(t&1|0){c=a[2]|0;a[l+80>>2]=t;$e(c,520,l+80|0)|0}t=t&-2}e=t+e|0;do{if((f>>>4&8|f&7|0)==15)if(!(e&1)){c=a[2]|0;a[l+88>>2]=s;a[l+88+4>>2]=e;$e(c,693,l+88|0)|0;Q(1)}else{u=e+2&-2;break}else u=e}while(0);a[4668+((f>>>4&8|f&7)<<2)>>2]=(f>>>4&8|f&7|0)==15?u&-2:u;f=0;p=l;return f|0}e=1;t=(f&63488)<<16>>16;if(e)switch(t|0){case-24576:{if(n[5300]|0){c=a[2]|0;a[l+96>>2]=f>>>8&7;a[l+96+4>>2]=f<<2&1020;$e(c,743,l+96|0)|0}e=a[1182]|0;if(e&1|0){c=a[2]|0;a[l+104>>2]=e;$e(c,520,l+104|0)|0}a[4668+((f>>>8&7)<<2)>>2]=(e&-4)+(f<<2&1020);f=0;p=l;return f|0}case-22528:{if(n[5300]|0){c=a[2]|0;a[l+112>>2]=f>>>8&7;a[l+112+4>>2]=f<<2&1020;$e(c,763,l+112|0)|0}a[4668+((f>>>8&7)<<2)>>2]=(a[1180]|0)+(f<<2&1020);f=0;p=l;return f|0}default:e=1}if(e)switch(t|0){default:{if((f&65408|0)==45056){if(n[5300]|0){c=a[2]|0;a[l+120>>2]=f<<2&508;$e(c,783,l+120|0)|0}a[1180]=(a[1180]|0)+(f<<2&508);f=0;p=l;return f|0}if((f&65472|0)==16384){if(n[5300]|0){c=a[2]|0;a[l+128>>2]=f&7;a[l+128+4>>2]=f>>>3&7;$e(c,799,l+128|0)|0}c=a[4668+((f>>>3&7)<<2)>>2]&a[4668+((f&7)<<2)>>2];a[4668+((f&7)<<2)>>2]=c;f=a[1184]|0;f=(c|0)<0?f|-2147483648:f&2147483647;a[1184]=(c|0)==0?f|1073741824:f&-1073741825;f=0;p=l;return f|0}if((f&63488|0)==4096){if(n[5300]|0){c=a[2]|0;a[l+136>>2]=f&7;a[l+136+4>>2]=f>>>3&7;a[l+136+8>>2]=f>>>6&31;$e(c,813,l+136|0)|0}e=a[4668+((f>>>3&7)<<2)>>2]|0;do{if(!(f>>>6&31)){r=a[1184]|0;if((e|0)<0){a[1184]=r|536870912;t=-1;e=r|536870912;break}else{a[1184]=r&-536870913;t=0;e=r&-536870913;break}}else{c=a[1184]|0;c=e&1<<(f>>>6&31)+-1|0?c|536870912:c&-536870913;a[1184]=c;t=((e|0)<0?-1<<32-(f>>>6&31):0)|e>>>(f>>>6&31);e=c}}while(0);a[4668+((f&7)<<2)>>2]=t;f=(t|0)<0?e|-2147483648:e&2147483647;a[1184]=(t|0)==0?f|1073741824:f&-1073741825;f=0;p=l;return f|0}if((f&65472|0)==16640){if(n[5300]|0){c=a[2]|0;a[l+152>>2]=f&7;a[l+152+4>>2]=f>>>3&7;$e(c,833,l+152|0)|0}t=a[4668+((f&7)<<2)>>2]|0;e=a[4668+((f>>>3&7)<<2)>>2]&255;do{if(!e)e=a[1184]|0;else{if(e>>>0<32){c=a[1184]|0;c=1<<e+-1&t|0?c|536870912:c&-536870913;a[1184]=c;t=((t|0)<0?-1<<32-e:0)|t>>>e;e=c;break}e=a[1184]|0;if((t|0)<0){a[1184]=e|536870912;t=-1;e=e|536870912;break}else{a[1184]=e&-536870913;t=0;e=e&-536870913;break}}}while(0);a[4668+((f&7)<<2)>>2]=t;f=(t|0)<0?e|-2147483648:e&2147483647;a[1184]=(t|0)==0?f|1073741824:f&-1073741825;f=0;p=l;return f|0}e:do{if((f&61440|0)==53248){t=(((f&128|0)==0?f&255:f|-256)<<1)+s|0;do{switch(f>>>8&15){case 0:{if(n[5300]|0){f=a[2]|0;a[l+160>>2]=t+-1;$e(f,847,l+160|0)|0}if(!(a[1184]&1073741824)){f=0;p=l;return f|0}a[1182]=t+2&-2;f=0;p=l;return f|0}case 1:{if(n[5300]|0){f=a[2]|0;a[l+168>>2]=t+-1;$e(f,859,l+168|0)|0}if(a[1184]&1073741824|0){f=0;p=l;return f|0}a[1182]=t+2&-2;f=0;p=l;return f|0}case 2:{if(n[5300]|0){f=a[2]|0;a[l+176>>2]=t+-1;$e(f,871,l+176|0)|0}if(!(a[1184]&536870912)){f=0;p=l;return f|0}a[1182]=t+2&-2;f=0;p=l;return f|0}case 3:{if(n[5300]|0){f=a[2]|0;a[l+184>>2]=t+-1;$e(f,883,l+184|0)|0}if(a[1184]&536870912|0){f=0;p=l;return f|0}a[1182]=t+2&-2;f=0;p=l;return f|0}case 4:{if(n[5300]|0){f=a[2]|0;a[l+192>>2]=t+-1;$e(f,895,l+192|0)|0}if((a[1184]|0)>=0){f=0;p=l;return f|0}a[1182]=t+2&-2;f=0;p=l;return f|0}case 5:{if(n[5300]|0){f=a[2]|0;a[l+200>>2]=t+-1;$e(f,907,l+200|0)|0}if((a[1184]|0)<0){f=0;p=l;return f|0}a[1182]=t+2&-2;f=0;p=l;return f|0}case 6:{if(n[5300]|0){f=a[2]|0;a[l+208>>2]=t+-1;$e(f,919,l+208|0)|0}if(!(a[1184]&268435456)){f=0;p=l;return f|0}a[1182]=t+2&-2;f=0;p=l;return f|0}case 7:{if(n[5300]|0){f=a[2]|0;a[l+216>>2]=t+-1;$e(f,931,l+216|0)|0}if(a[1184]&268435456|0){f=0;p=l;return f|0}a[1182]=t+2&-2;f=0;p=l;return f|0}case 8:{if(n[5300]|0){f=a[2]|0;a[l+224>>2]=t+-1;$e(f,943,l+224|0)|0}if((a[1184]&1610612736|0)!=536870912){f=0;p=l;return f|0}a[1182]=t+2&-2;f=0;p=l;return f|0}case 9:{if(n[5300]|0){f=a[2]|0;a[l+232>>2]=t+-1;$e(f,955,l+232|0)|0}if((a[1184]&1610612736|0)==536870912){f=0;p=l;return f|0}a[1182]=t+2&-2;f=0;p=l;return f|0}case 10:{if(n[5300]|0){f=a[2]|0;a[l+240>>2]=t+-1;$e(f,967,l+240|0)|0}e=a[1184]&-1879048192;t:do{if((e|0)<0){switch(e|0){case-1879048192:break t;default:c=0}p=l;return c|0}else{switch(e|0){case 0:break t;default:c=0}p=l;return c|0}}while(0);a[1182]=t+2&-2;f=0;p=l;return f|0}case 11:{if(n[5300]|0){f=a[2]|0;a[l+248>>2]=t+-1;$e(f,979,l+248|0)|0}f=a[1184]|0;if(!((f&268435456|0?(f|0)<0?0:(f&268435456)>>>28:(f|0)<0?1:(f&268435456)>>>28)|0)){f=0;p=l;return f|0}a[1182]=t+2&-2;f=0;p=l;return f|0}case 12:{if(n[5300]|0){f=a[2]|0;a[l+256>>2]=t+-1;$e(f,991,l+256|0)|0}f=a[1184]|0;if(f&1073741824|0?1:(((f&-1879048192|0)==0?(f&-1879048192|0)==-1879048192?2:1:(f&-1879048192|0)==-1879048192&1)|0)==0){f=0;p=l;return f|0}a[1182]=t+2&-2;f=0;p=l;return f|0}case 13:{if(n[5300]|0){f=a[2]|0;a[l+264>>2]=t+-1;$e(f,1003,l+264|0)|0}f=a[1184]|0;if(((f&268435456|0?(f|0)<0?0:(f&268435456)>>>28:(f|0)<0?1:(f&268435456)>>>28)|0)==(0-(f>>>30&1)|0)){f=0;p=l;return f|0}a[1182]=t+2&-2;f=0;p=l;return f|0}default:break e}}while(0)}}while(0);if((f&63488|0)==57344){e=(((f&1024|0)==0?f&2047:f|-2048)<<1)+s|0;if(n[5300]|0){f=a[2]|0;a[l+272>>2]=e+-1;$e(f,1015,l+272|0)|0}a[1182]=e+2&-2;f=0;p=l;return f|0}if((f&65472|0)==17280){if(n[5300]|0){c=a[2]|0;a[l+280>>2]=f&7;a[l+280+4>>2]=f>>>3&7;$e(c,1025,l+280|0)|0}c=a[4668+((f&7)<<2)>>2]&~a[4668+((f>>>3&7)<<2)>>2];a[4668+((f&7)<<2)>>2]=c;f=a[1184]|0;f=(c|0)<0?f|-2147483648:f&2147483647;a[1184]=(c|0)==0?f|1073741824:f&-1073741825;f=0;p=l;return f|0}if((f&65280|0)==48640){c=a[2]|0;a[l+288>>2]=f&255;$e(c,1039,l+288|0)|0;f=1;p=l;return f|0}e:do{if((f&57344|0)==57344){if((f&6144)<4096){switch(f&6144){case 2048:break;default:break e}e=(a[1181]|0)+(f<<1&4094)&-4|2;if(n[5300]|0){f=a[2]|0;a[l+304>>2]=e+-3;$e(f,1052,l+304|0)|0}a[1181]=r|1;a[1182]=e;f=0;p=l;return f|0}switch(f&6144){case 4096:{if(n[5300]|0)at(10,a[2]|0)|0;a[1181]=(((f&1024|0)==0?f&2047:f|1046528)<<12)+s;f=0;p=l;return f|0}case 6144:{e=(a[1181]|0)+(f<<1&4094)|0;if(n[5300]|0){f=a[2]|0;a[l+296>>2]=e+-1;$e(f,1052,l+296|0)|0}a[1181]=r|1;a[1182]=e+2&-2;f=0;p=l;return f|0}default:break e}}}while(0);e=(n[5300]|0)!=0;t=1;i=(f&65415)<<16>>16;if(t)switch(i|0){case 18304:{if(e){c=a[2]|0;a[l+312>>2]=f>>>3&15;$e(c,1063,l+312|0)|0}e=a[4668+((f>>>3&15)<<2)>>2]|0;if((f>>>3&15|0)==15){if(e&1|0){c=a[2]|0;a[l+320>>2]=e;$e(c,520,l+320|0)|0}e=e&-2}e=e+2|0;if(!(e&1)){c=a[2]|0;a[l+328>>2]=s;a[l+328+4>>2]=f;$e(c,1072,l+328|0)|0;f=2;p=l;return f|0}else{a[1181]=r|1;a[1182]=e&-2;f=0;p=l;return f|0}}case 18176:{if(e){c=a[2]|0;a[l+336>>2]=f>>>3&15;$e(c,1108,l+336|0)|0}e=a[4668+((f>>>3&15)<<2)>>2]|0;if((f>>>3&15|0)==15){if(e&1|0){f=a[2]|0;a[l+344>>2]=e;$e(f,520,l+344|0)|0}e=e&-2}e=e+2|0;if(e&1|0){a[1182]=e&-2;f=0;p=l;return f|0}e=te(4,o|0,e|0)|0;if(e|0){f=e;p=l;return f|0}a[1182]=(a[1181]|0)+2&-2;f=0;p=l;return f|0}default:t=1}if(t)switch(i|0){default:{if((f&65472|0)==17088){if(e){c=a[2]|0;a[l+352>>2]=f&7;a[l+352+4>>2]=f>>>3&7;$e(c,1154,l+352|0)|0}c=a[4668+((f&7)<<2)>>2]|0;u=a[4668+((f>>>3&7)<<2)>>2]|0;f=a[1184]|0;f=(u+c|0)<0?f|-2147483648:f&2147483647;f=(u+c|0)==0?f|1073741824:f&-1073741825;f=((u>>>31)+(c>>>31)+(((u&2147483647)+(c&2147483647)|0)>>>31)&2|0)==0?f&-536870913:f|536870912;a[1184]=(((u&2147483647)+(c&2147483647)|0)>>>31|0)==(((u>>>31)+(c>>>31)+(((u&2147483647)+(c&2147483647)|0)>>>31)|0)>>>1&1|0)?f&-268435457:f|268435456;f=0;p=l;return f|0}if((f&63488|0)==10240){if(e){c=a[2]|0;a[l+360>>2]=f>>>8&7;a[l+360+4>>2]=f&255;$e(c,1168,l+360|0)|0}u=a[4668+((f>>>8&7)<<2)>>2]|0;c=a[1184]|0;c=(u-(f&255)|0)<0?c|-2147483648:c&2147483647;c=(u-(f&255)|0)==0?c|1073741824:c&-1073741825;c=(((u>>>31)+1+((-2147483648-(f&255)+(u&2147483647)|0)>>>31)|0)&2|0)==0?c&-536870913:c|536870912;a[1184]=((-2147483648-(f&255)+(u&2147483647)|0)>>>31|0)==(((u>>>31)+1+((-2147483648-(f&255)+(u&2147483647)|0)>>>31)|0)>>>1&1|0)?c&-268435457:c|268435456;f=0;p=l;return f|0}if((f&65472|0)==17024){if(e){c=a[2]|0;a[l+368>>2]=f&7;a[l+368+4>>2]=f>>>3&7;$e(c,1185,l+368|0)|0}u=a[4668+((f&7)<<2)>>2]|0;c=a[4668+((f>>>3&7)<<2)>>2]|0;f=a[1184]|0;f=(u-c|0)<0?f|-2147483648:f&2147483647;f=(u-c|0)==0?f|1073741824:f&-1073741825;f=(((~c>>>31)+(u>>>31)+(((u&2147483647)+1+(~c&2147483647)|0)>>>31)|0)&2|0)==0?f&-536870913:f|536870912;a[1184]=(((u&2147483647)+1+(~c&2147483647)|0)>>>31|0)==(((~c>>>31)+(u>>>31)+(((u&2147483647)+1+(~c&2147483647)|0)>>>31)|0)>>>1&1|0)?f&-268435457:f|268435456;f=0;p=l;return f|0}if((f&65280|0)==17664){if(e){c=a[2]|0;a[l+376>>2]=f>>>4&8|f&7;a[l+376+4>>2]=f>>>3&15;$e(c,1185,l+376|0)|0}e=a[4668+((f>>>4&8|f&7)<<2)>>2]|0;if((f>>>4&8|f&7|0)==15){if(e&1|0){c=a[2]|0;a[l+384>>2]=e;$e(c,520,l+384|0)|0}t=e&-2}else t=e;e=a[4668+((f>>>3&15)<<2)>>2]|0;if((f>>>3&15|0)==15){if(e&1|0){f=a[2]|0;a[l+392>>2]=e;$e(f,520,l+392|0)|0}e=e&-2}c=t-e|0;f=a[1184]|0;f=(c|0)<0?f|-2147483648:f&2147483647;f=(c|0)==0?f|1073741824:f&-1073741825;c=~e;u=((t&2147483647)+1+(c&2147483647)|0)>>>31;c=(c>>>31)+(t>>>31)+u|0;f=(c&2|0)==0?f&-536870913:f|536870912;a[1184]=(u|0)==(c>>>1&1|0)?f&-268435457:f|268435456;f=0;p=l;return f|0}if((f&65512|0)==46688&e)xe(1199,9,1,a[2]|0)|0;e=1;t=(f&65472)<<16>>16;if(e)switch(t|0){case 17920:{if(n[5300]|0){c=a[2]|0;a[l+400>>2]=f&7;a[l+400+4>>2]=f>>>3&7;$e(c,1209,l+400|0)|0}a[4668+((f&7)<<2)>>2]=a[4668+((f>>>3&7)<<2)>>2];f=0;p=l;return f|0}case 16448:{if(n[5300]|0){c=a[2]|0;a[l+408>>2]=f&7;a[l+408+4>>2]=f>>>3&7;$e(c,1222,l+408|0)|0}c=a[4668+((f>>>3&7)<<2)>>2]^a[4668+((f&7)<<2)>>2];a[4668+((f&7)<<2)>>2]=c;f=a[1184]|0;f=(c|0)<0?f|-2147483648:f&2147483647;a[1184]=(c|0)==0?f|1073741824:f&-1073741825;f=0;p=l;return f|0}default:e=1}if(e)switch(t|0){default:{e:do{if((f&63488)<<16>>16<26624){switch((f&63488)<<16>>16){case-14336:break;default:break e}if(!(n[5300]|0))t=f&1;else{t=a[2]|0;a[l+416>>2]=f>>>8&7;$e(t,1236,l+416|0)|0;if(!(f&1))e=0;else{a[l+424>>2]=0;$e(t,1249,l+424|0)|0;e=1}if(f&2){if(e|0)at(44,t)|0;a[l+1176>>2]=1;$e(t,1249,l+1176|0)|0;e=e+1|0}if(f&4){if(e|0)at(44,t)|0;a[l+1184>>2]=2;$e(t,1249,l+1184|0)|0;e=e+1|0}if(f&8){if(e|0)at(44,t)|0;a[l+1192>>2]=3;$e(t,1249,l+1192|0)|0;e=e+1|0}if(f&16){if(e|0)at(44,t)|0;a[l+1200>>2]=4;$e(t,1249,l+1200|0)|0;e=e+1|0}if(f&32){if(e|0)at(44,t)|0;a[l+1208>>2]=5;$e(t,1249,l+1208|0)|0;e=e+1|0}if(f&64){if(e|0)at(44,t)|0;a[l+1216>>2]=6;$e(t,1249,l+1216|0)|0;e=e+1|0}if(f&128|0){if(e|0)at(44,t)|0;a[l+1224>>2]=7;$e(t,1249,l+1224|0)|0}xe(1253,2,1,t)|0;t=f&1}e=a[4668+((f>>>8&7)<<2)>>2]|0;if(t){a[1167]=G(1,e|0)|0;e=e+4|0}if(f&2){a[1168]=G(1,e|0)|0;e=e+4|0}if(f&4){a[1169]=G(1,e|0)|0;e=e+4|0}if(f&8){a[1170]=G(1,e|0)|0;e=e+4|0}if(f&16){a[1171]=G(1,e|0)|0;e=e+4|0}if(f&32){a[1172]=G(1,e|0)|0;e=e+4|0}if(f&64){a[1173]=G(1,e|0)|0;e=e+4|0}if(f&128){a[1174]=G(1,e|0)|0;e=e+4|0}if(1<<(f>>>8&7)&f|0){f=0;p=l;return f|0}a[4668+((f>>>8&7)<<2)>>2]=e;f=0;p=l;return f|0}else{switch((f&63488)<<16>>16){case 26624:break;default:break e}if(n[5300]|0){c=a[2]|0;a[l+432>>2]=f&7;a[l+432+4>>2]=f>>>3&7;a[l+432+8>>2]=f>>>4&124;$e(c,1256,l+432|0)|0}a[4668+((f&7)<<2)>>2]=G(1,(a[4668+((f>>>3&7)<<2)>>2]|0)+(f>>>4&124)|0)|0;f=0;p=l;return f|0}}while(0);if((f&65024|0)==22528){if(n[5300]|0){c=a[2]|0;a[l+448>>2]=f&7;a[l+448+4>>2]=f>>>3&7;a[l+448+8>>2]=f>>>6&7;$e(c,1277,l+448|0)|0}a[4668+((f&7)<<2)>>2]=G(1,(a[4668+((f>>>6&7)<<2)>>2]|0)+(a[4668+((f>>>3&7)<<2)>>2]|0)|0)|0;f=0;p=l;return f|0}e:do{if((f&63488)<<16>>16<18432){switch((f&63488)<<16>>16){case-26624:break;default:break e}if(n[5300]|0){c=a[2]|0;a[l+488>>2]=f>>>8&7;a[l+488+4>>2]=f<<2&1020;$e(c,1325,l+488|0)|0}a[4668+((f>>>8&7)<<2)>>2]=G(1,(a[1180]|0)+(f<<2&1020)|0)|0;f=0;p=l;return f|0}else{if((f&63488)<<16>>16>=30720){switch((f&63488)<<16>>16){case 30720:break;default:break e}if(n[5300]|0){c=a[2]|0;a[l+496>>2]=f&7;a[l+496+4>>2]=f>>>3&7;a[l+496+8>>2]=f>>>6&31;$e(c,1345,l+496|0)|0}u=a[4668+((f>>>3&7)<<2)>>2]|0;c=G(3,u+(f>>>6&31)&-2|0)|0;a[4668+((f&7)<<2)>>2]=((u+(f>>>6)&1|0)==0?c:c>>>8)&255;f=0;p=l;return f|0}switch((f&63488)<<16>>16){case 18432:break;default:break e}if(n[5300]|0){c=a[2]|0;a[l+464>>2]=f>>>8&7;a[l+464+4>>2]=f<<2&1020;$e(c,1296,l+464|0)|0}e=a[1182]|0;if(e&1|0){c=a[2]|0;a[l+472>>2]=e;$e(c,520,l+472|0)|0}if(n[5300]|0){c=a[2]|0;a[l+480>>2]=(e&-4)+(f<<2&1020);$e(c,1316,l+480|0)|0}a[4668+((f>>>8&7)<<2)>>2]=G(1,(e&-4)+(f<<2&1020)|0)|0;f=0;p=l;return f|0}}while(0);a[l+1368>>2]=c;a[l+3472>>2]=o;a[l+3496>>2]=f;a[l+3504>>2]=s;a[l+4792>>2]=0;a[l+4796>>2]=0;Et(l);y=a[l+4792>>2]|0;v=a[l+4796>>2]|0;a[l+4792>>2]=0;a[l+4796>>2]=0;if((y|0)==6)return v|0}}}}}}return 0}function be(e){e=e|0;var t=0,r=0,n=0,i=0,o=0,s=0,u=0,c=0,f=0,l=0,h=0,d=0,_=0;_=p;p=p+16|0;do{if(e>>>0<245){h=e>>>0<11?16:e+11&-8;f=a[1185]|0;if(f>>>(h>>>3)&3|0){e=4780+((f>>>(h>>>3)&1^1)+(h>>>3)<<1<<2)|0;t=a[e+8>>2]|0;r=a[t+8>>2]|0;if((e|0)==(r|0))a[1185]=f&~(1<<(f>>>(h>>>3)&1^1)+(h>>>3));else{a[r+12>>2]=e;a[e+8>>2]=r}d=(f>>>(h>>>3)&1^1)+(h>>>3)<<3;a[t+4>>2]=d|3;a[t+d+4>>2]=a[t+d+4>>2]|1;d=t+8|0;p=_;return d|0}l=a[1187]|0;if(h>>>0>l>>>0){if(f>>>(h>>>3)|0){e=f>>>(h>>>3)<<(h>>>3)&(2<<(h>>>3)|0-(2<<(h>>>3)));i=((e&0-e)+-1|0)>>>(((e&0-e)+-1|0)>>>12&16);n=i>>>(i>>>5&8)>>>(i>>>(i>>>5&8)>>>2&4);n=(i>>>5&8|((e&0-e)+-1|0)>>>12&16|i>>>(i>>>5&8)>>>2&4|n>>>1&2|n>>>(n>>>1&2)>>>1&1)+(n>>>(n>>>1&2)>>>(n>>>(n>>>1&2)>>>1&1))|0;i=a[4780+(n<<1<<2)+8>>2]|0;e=a[i+8>>2]|0;if((4780+(n<<1<<2)|0)==(e|0)){a[1185]=f&~(1<<n);e=f&~(1<<n)}else{a[e+12>>2]=4780+(n<<1<<2);a[4780+(n<<1<<2)+8>>2]=e;e=f}a[i+4>>2]=h|3;a[i+h+4>>2]=(n<<3)-h|1;a[i+h+((n<<3)-h)>>2]=(n<<3)-h;if(l|0){r=a[1190]|0;if(!(e&1<<(l>>>3))){a[1185]=e|1<<(l>>>3);e=4780+(l>>>3<<1<<2)|0;t=4780+(l>>>3<<1<<2)+8|0}else{e=a[4780+(l>>>3<<1<<2)+8>>2]|0;t=4780+(l>>>3<<1<<2)+8|0}a[t>>2]=r;a[e+12>>2]=r;a[r+8>>2]=e;a[r+12>>2]=4780+(l>>>3<<1<<2)}a[1187]=(n<<3)-h;a[1190]=i+h;d=i+8|0;p=_;return d|0}c=a[1186]|0;if(c){t=((c&0-c)+-1|0)>>>(((c&0-c)+-1|0)>>>12&16);e=t>>>(t>>>5&8)>>>(t>>>(t>>>5&8)>>>2&4);e=a[5044+((t>>>5&8|((c&0-c)+-1|0)>>>12&16|t>>>(t>>>5&8)>>>2&4|e>>>1&2|e>>>(e>>>1&2)>>>1&1)+(e>>>(e>>>1&2)>>>(e>>>(e>>>1&2)>>>1&1))<<2)>>2]|0;t=(a[e+4>>2]&-8)-h|0;r=a[e+16+(((a[e+16>>2]|0)==0&1)<<2)>>2]|0;if(!r){u=e;o=t}else{do{s=(a[r+4>>2]&-8)-h|0;u=s>>>0<t>>>0;t=u?s:t;e=u?r:e;r=a[r+16+(((a[r+16>>2]|0)==0&1)<<2)>>2]|0}while((r|0)!=0);u=e;o=t}s=u+h|0;if(u>>>0<s>>>0){i=a[u+24>>2]|0;e=a[u+12>>2]|0;do{if((e|0)==(u|0)){t=u+20|0;e=a[t>>2]|0;if(!e){t=u+16|0;e=a[t>>2]|0;if(!e){t=0;break}}while(1){r=e+20|0;n=a[r>>2]|0;if(n|0){e=n;t=r;continue}r=e+16|0;n=a[r>>2]|0;if(!n)break;else{e=n;t=r}}a[t>>2]=0;t=e}else{t=a[u+8>>2]|0;a[t+12>>2]=e;a[e+8>>2]=t;t=e}}while(0);do{if(i|0){e=a[u+28>>2]|0;if((u|0)==(a[5044+(e<<2)>>2]|0)){a[5044+(e<<2)>>2]=t;if(!t){a[1186]=c&~(1<<e);break}}else{a[i+16+(((a[i+16>>2]|0)!=(u|0)&1)<<2)>>2]=t;if(!t)break}a[t+24>>2]=i;e=a[u+16>>2]|0;if(e|0){a[t+16>>2]=e;a[e+24>>2]=t}e=a[u+20>>2]|0;if(e|0){a[t+20>>2]=e;a[e+24>>2]=t}}}while(0);if(o>>>0<16){d=o+h|0;a[u+4>>2]=d|3;d=u+d+4|0;a[d>>2]=a[d>>2]|1}else{a[u+4>>2]=h|3;a[s+4>>2]=o|1;a[s+o>>2]=o;if(l|0){r=a[1190]|0;if(!(f&1<<(l>>>3))){a[1185]=f|1<<(l>>>3);e=4780+(l>>>3<<1<<2)|0;t=4780+(l>>>3<<1<<2)+8|0}else{e=a[4780+(l>>>3<<1<<2)+8>>2]|0;t=4780+(l>>>3<<1<<2)+8|0}a[t>>2]=r;a[e+12>>2]=r;a[r+8>>2]=e;a[r+12>>2]=4780+(l>>>3<<1<<2)}a[1187]=o;a[1190]=s}d=u+8|0;p=_;return d|0}}}}else if(e>>>0>4294967231)h=-1;else{h=e+11&-8;c=a[1186]|0;if(c){if(!((e+11|0)>>>8))s=0;else if(h>>>0>16777215)s=31;else{s=(e+11|0)>>>8<<((((e+11|0)>>>8)+1048320|0)>>>16&8);s=14-((s+520192|0)>>>16&4|(((e+11|0)>>>8)+1048320|0)>>>16&8|((s<<((s+520192|0)>>>16&4))+245760|0)>>>16&2)+(s<<((s+520192|0)>>>16&4)<<(((s<<((s+520192|0)>>>16&4))+245760|0)>>>16&2)>>>15)|0;s=h>>>(s+7|0)&1|s<<1}t=a[5044+(s<<2)>>2]|0;e:do{if(!t){t=0;e=0;r=0-h|0;d=57}else{e=0;r=0-h|0;o=h<<((s|0)==31?0:25-(s>>>1)|0);i=0;while(1){n=(a[t+4>>2]&-8)-h|0;if(n>>>0<r>>>0)if(!n){e=t;r=0;n=t;d=61;break e}else{e=t;r=n}n=a[t+20>>2]|0;t=a[t+16+(o>>>31<<2)>>2]|0;i=(n|0)==0|(n|0)==(t|0)?i:n;n=(t|0)==0;if(n){t=i;d=57;break}else o=o<<((n^1)&1)}}}while(0);if((d|0)==57){if((t|0)==0&(e|0)==0){e=2<<s;if(!(c&(e|0-e)))break;f=(c&(e|0-e)&0-(c&(e|0-e)))+-1|0;l=f>>>(f>>>12&16)>>>(f>>>(f>>>12&16)>>>5&8);t=l>>>(l>>>2&4)>>>(l>>>(l>>>2&4)>>>1&2);e=0;t=a[5044+((f>>>(f>>>12&16)>>>5&8|f>>>12&16|l>>>2&4|l>>>(l>>>2&4)>>>1&2|t>>>1&1)+(t>>>(t>>>1&1))<<2)>>2]|0}if(!t){u=e;o=r}else{n=t;d=61}}if((d|0)==61)while(1){d=0;t=(a[n+4>>2]&-8)-h|0;l=t>>>0<r>>>0;t=l?t:r;e=l?n:e;n=a[n+16+(((a[n+16>>2]|0)==0&1)<<2)>>2]|0;if(!n){u=e;o=t;break}else{r=t;d=61}}if(u)if(o>>>0<((a[1187]|0)-h|0)>>>0){s=u+h|0;if(u>>>0>=s>>>0){d=0;p=_;return d|0}i=a[u+24>>2]|0;e=a[u+12>>2]|0;do{if((e|0)==(u|0)){t=u+20|0;e=a[t>>2]|0;if(!e){t=u+16|0;e=a[t>>2]|0;if(!e){e=0;break}}while(1){r=e+20|0;n=a[r>>2]|0;if(n|0){e=n;t=r;continue}r=e+16|0;n=a[r>>2]|0;if(!n)break;else{e=n;t=r}}a[t>>2]=0}else{d=a[u+8>>2]|0;a[d+12>>2]=e;a[e+8>>2]=d}}while(0);do{if(!i)n=c;else{t=a[u+28>>2]|0;if((u|0)==(a[5044+(t<<2)>>2]|0)){a[5044+(t<<2)>>2]=e;if(!e){a[1186]=c&~(1<<t);n=c&~(1<<t);break}}else{a[i+16+(((a[i+16>>2]|0)!=(u|0)&1)<<2)>>2]=e;if(!e){n=c;break}}a[e+24>>2]=i;t=a[u+16>>2]|0;if(t|0){a[e+16>>2]=t;a[t+24>>2]=e}t=a[u+20>>2]|0;if(!t)n=c;else{a[e+20>>2]=t;a[t+24>>2]=e;n=c}}}while(0);do{if(o>>>0<16){d=o+h|0;a[u+4>>2]=d|3;d=u+d+4|0;a[d>>2]=a[d>>2]|1}else{a[u+4>>2]=h|3;a[s+4>>2]=o|1;a[s+o>>2]=o;r=o>>>3;if(o>>>0<256){e=a[1185]|0;if(!(e&1<<r)){a[1185]=e|1<<r;e=4780+(r<<1<<2)|0;t=4780+(r<<1<<2)+8|0}else{e=a[4780+(r<<1<<2)+8>>2]|0;t=4780+(r<<1<<2)+8|0}a[t>>2]=s;a[e+12>>2]=s;a[s+8>>2]=e;a[s+12>>2]=4780+(r<<1<<2);break}e=o>>>8;if(!e)e=0;else if(o>>>0>16777215)e=31;else{d=e<<((e+1048320|0)>>>16&8)<<(((e<<((e+1048320|0)>>>16&8))+520192|0)>>>16&4);e=14-(((e<<((e+1048320|0)>>>16&8))+520192|0)>>>16&4|(e+1048320|0)>>>16&8|(d+245760|0)>>>16&2)+(d<<((d+245760|0)>>>16&2)>>>15)|0;e=o>>>(e+7|0)&1|e<<1}r=5044+(e<<2)|0;a[s+28>>2]=e;a[s+16+4>>2]=0;a[s+16>>2]=0;t=1<<e;if(!(n&t)){a[1186]=n|t;a[r>>2]=s;a[s+24>>2]=r;a[s+12>>2]=s;a[s+8>>2]=s;break}t=o<<((e|0)==31?0:25-(e>>>1)|0);r=a[r>>2]|0;while(1){if((a[r+4>>2]&-8|0)==(o|0)){d=97;break}n=r+16+(t>>>31<<2)|0;e=a[n>>2]|0;if(!e){d=96;break}else{t=t<<1;r=e}}if((d|0)==96){a[n>>2]=s;a[s+24>>2]=r;a[s+12>>2]=s;a[s+8>>2]=s;break}else if((d|0)==97){h=r+8|0;d=a[h>>2]|0;a[d+12>>2]=s;a[h>>2]=s;a[s+8>>2]=d;a[s+12>>2]=r;a[s+24>>2]=0;break}}}while(0);d=u+8|0;p=_;return d|0}}}}while(0);r=a[1187]|0;if(r>>>0>=h>>>0){e=r-h|0;t=a[1190]|0;if(e>>>0>15){d=t+h|0;a[1190]=d;a[1187]=e;a[d+4>>2]=e|1;a[d+e>>2]=e;a[t+4>>2]=h|3}else{a[1187]=0;a[1190]=0;a[t+4>>2]=r|3;a[t+r+4>>2]=a[t+r+4>>2]|1}d=t+8|0;p=_;return d|0}o=a[1188]|0;if(o>>>0>h>>>0){f=o-h|0;a[1188]=f;d=a[1191]|0;l=d+h|0;a[1191]=l;a[l+4>>2]=f|1;a[d+4>>2]=h|3;d=d+8|0;p=_;return d|0}if(!(a[1303]|0)){a[1305]=4096;a[1304]=4096;a[1306]=-1;a[1307]=-1;a[1308]=0;a[1296]=0;a[_>>2]=_&-16^1431655768;a[1303]=_&-16^1431655768;e=4096}else e=a[1305]|0;s=h+48|0;u=h+47|0;f=e+u|0;c=0-e|0;if((f&c)>>>0<=h>>>0){d=0;p=_;return d|0}e=a[1295]|0;if(e|0){l=a[1293]|0;if((l+(f&c)|0)>>>0<=l>>>0?1:(l+(f&c)|0)>>>0>e>>>0){d=0;p=_;return d|0}}e:do{if(!(a[1296]&4)){r=a[1191]|0;t:do{if(!r)d=118;else{e=5188;while(1){t=a[e>>2]|0;if(t>>>0<=r>>>0){i=e+4|0;if((t+(a[i>>2]|0)|0)>>>0>r>>>0)break}e=a[e+8>>2]|0;if(!e){d=118;break t}}if((f-o&c)>>>0<2147483647){n=gt(f-o&c|0)|0;if((n|0)==((a[e>>2]|0)+(a[i>>2]|0)|0))if((n|0)==(-1|0))e=f-o&c;else{o=f-o&c;d=135;break e}else{r=f-o&c;d=126}}else e=0}}while(0);do{if((d|0)==118){i=gt(0)|0;if((i|0)==(-1|0))e=0;else{r=a[1304]|0;r=((r+-1&i|0)==0?0:(r+-1+i&0-r)-i|0)+(f&c)|0;e=a[1293]|0;if(r>>>0>h>>>0&r>>>0<2147483647){t=a[1295]|0;if(t|0)if((r+e|0)>>>0<=e>>>0|(r+e|0)>>>0>t>>>0){e=0;break}n=gt(r|0)|0;if((n|0)==(i|0)){o=r;n=i;d=135;break e}else d=126}else e=0}}}while(0);do{if((d|0)==126){t=0-r|0;if(!(s>>>0>r>>>0&(r>>>0<2147483647&(n|0)!=(-1|0))))if((n|0)==(-1|0)){e=0;break}else{o=r;d=135;break e}e=a[1305]|0;e=u-r+e&0-e;if(e>>>0>=2147483647){o=r;d=135;break e}if((gt(e|0)|0)==(-1|0)){gt(t|0)|0;e=0;break}else{o=e+r|0;d=135;break e}}}while(0);a[1296]=a[1296]|4;d=133}else{e=0;d=133}}while(0);if((d|0)==133)if((f&c)>>>0<2147483647){n=gt(f&c|0)|0;t=gt(0)|0;r=(t-n|0)>>>0>(h+40|0)>>>0;if(!((n|0)==(-1|0)|r^1|n>>>0<t>>>0&((n|0)!=(-1|0)&(t|0)!=(-1|0))^1)){o=r?t-n|0:e;d=135}}if((d|0)==135){e=(a[1293]|0)+o|0;a[1293]=e;if(e>>>0>(a[1294]|0)>>>0)a[1294]=e;s=a[1191]|0;do{if(!s){d=a[1189]|0;if((d|0)==0|n>>>0<d>>>0)a[1189]=n;a[1297]=n;a[1298]=o;a[1300]=0;a[1194]=a[1303];a[1193]=-1;e=0;do{d=4780+(e<<1<<2)|0;a[d+12>>2]=d;a[d+8>>2]=d;e=e+1|0}while((e|0)!=32);d=n+8|0;d=(d&7|0)==0?0:0-d&7;l=n+d|0;d=o+-40-d|0;a[1191]=l;a[1188]=d;a[l+4>>2]=d|1;a[l+d+4>>2]=40;a[1192]=a[1307]}else{e=5188;do{t=a[e>>2]|0;r=e+4|0;i=a[r>>2]|0;if((n|0)==(t+i|0)){d=145;break}e=a[e+8>>2]|0}while((e|0)!=0);if((d|0)==145)if(!(a[e+12>>2]&8))if(s>>>0<n>>>0&s>>>0>=t>>>0){a[r>>2]=i+o;l=(s+8&7|0)==0?0:0-(s+8)&7;d=(a[1188]|0)+(o-l)|0;a[1191]=s+l;a[1188]=d;a[s+l+4>>2]=d|1;a[s+l+d+4>>2]=40;a[1192]=a[1307];break}if(n>>>0<(a[1189]|0)>>>0)a[1189]=n;t=n+o|0;e=5188;do{if((a[e>>2]|0)==(t|0)){d=153;break}e=a[e+8>>2]|0}while((e|0)!=0);if((d|0)==153)if(!(a[e+12>>2]&8)){a[e>>2]=n;f=e+4|0;a[f>>2]=(a[f>>2]|0)+o;f=n+8|0;f=n+((f&7|0)==0?0:0-f&7)|0;e=t+((t+8&7|0)==0?0:0-(t+8)&7)|0;c=f+h|0;u=e-f-h|0;a[f+4>>2]=h|3;do{if((e|0)==(s|0)){d=(a[1188]|0)+u|0;a[1188]=d;a[1191]=c;a[c+4>>2]=d|1}else{if((e|0)==(a[1190]|0)){d=(a[1187]|0)+u|0;a[1187]=d;a[1190]=c;a[c+4>>2]=d|1;a[c+d>>2]=d;break}s=a[e+4>>2]|0;if((s&3|0)==1){e:do{if(s>>>0<256){t=a[e+8>>2]|0;r=a[e+12>>2]|0;if((r|0)==(t|0)){a[1185]=a[1185]&~(1<<(s>>>3));break}else{a[t+12>>2]=r;a[r+8>>2]=t;break}}else{o=a[e+24>>2]|0;t=a[e+12>>2]|0;do{if((t|0)==(e|0)){t=a[e+16+4>>2]|0;if(!t){t=a[e+16>>2]|0;if(!t){t=0;break}else i=e+16|0}else i=e+16+4|0;while(1){r=t+20|0;n=a[r>>2]|0;if(n|0){t=n;i=r;continue}r=t+16|0;n=a[r>>2]|0;if(!n)break;else{t=n;i=r}}a[i>>2]=0}else{d=a[e+8>>2]|0;a[d+12>>2]=t;a[t+8>>2]=d}}while(0);if(!o)break;r=a[e+28>>2]|0;do{if((e|0)==(a[5044+(r<<2)>>2]|0)){a[5044+(r<<2)>>2]=t;if(t|0)break;a[1186]=a[1186]&~(1<<r);break e}else{a[o+16+(((a[o+16>>2]|0)!=(e|0)&1)<<2)>>2]=t;if(!t)break e}}while(0);a[t+24>>2]=o;r=a[e+16>>2]|0;if(r|0){a[t+16>>2]=r;a[r+24>>2]=t}r=a[e+16+4>>2]|0;if(!r)break;a[t+20>>2]=r;a[r+24>>2]=t}}while(0);e=e+(s&-8)|0;i=(s&-8)+u|0}else i=u;r=e+4|0;a[r>>2]=a[r>>2]&-2;a[c+4>>2]=i|1;a[c+i>>2]=i;r=i>>>3;if(i>>>0<256){e=a[1185]|0;if(!(e&1<<r)){a[1185]=e|1<<r;e=4780+(r<<1<<2)|0;t=4780+(r<<1<<2)+8|0}else{e=a[4780+(r<<1<<2)+8>>2]|0;t=4780+(r<<1<<2)+8|0}a[t>>2]=c;a[e+12>>2]=c;a[c+8>>2]=e;a[c+12>>2]=4780+(r<<1<<2);break}e=i>>>8;do{if(!e)e=0;else{if(i>>>0>16777215){e=31;break}d=e<<((e+1048320|0)>>>16&8)<<(((e<<((e+1048320|0)>>>16&8))+520192|0)>>>16&4);e=14-(((e<<((e+1048320|0)>>>16&8))+520192|0)>>>16&4|(e+1048320|0)>>>16&8|(d+245760|0)>>>16&2)+(d<<((d+245760|0)>>>16&2)>>>15)|0;e=i>>>(e+7|0)&1|e<<1}}while(0);n=5044+(e<<2)|0;a[c+28>>2]=e;a[c+16+4>>2]=0;a[c+16>>2]=0;t=a[1186]|0;r=1<<e;if(!(t&r)){a[1186]=t|r;a[n>>2]=c;a[c+24>>2]=n;a[c+12>>2]=c;a[c+8>>2]=c;break}t=i<<((e|0)==31?0:25-(e>>>1)|0);r=a[n>>2]|0;while(1){if((a[r+4>>2]&-8|0)==(i|0)){d=194;break}n=r+16+(t>>>31<<2)|0;e=a[n>>2]|0;if(!e){d=193;break}else{t=t<<1;r=e}}if((d|0)==193){a[n>>2]=c;a[c+24>>2]=r;a[c+12>>2]=c;a[c+8>>2]=c;break}else if((d|0)==194){h=r+8|0;d=a[h>>2]|0;a[d+12>>2]=c;a[h>>2]=c;a[c+8>>2]=d;a[c+12>>2]=r;a[c+24>>2]=0;break}}}while(0);d=f+8|0;p=_;return d|0}t=5188;while(1){e=a[t>>2]|0;if(e>>>0<=s>>>0){r=e+(a[t+4>>2]|0)|0;if(r>>>0>s>>>0)break}t=a[t+8>>2]|0}i=r+-47+((r+-47+8&7|0)==0?0:0-(r+-47+8)&7)|0;i=i>>>0<(s+16|0)>>>0?s:i;e=n+8|0;e=(e&7|0)==0?0:0-e&7;d=n+e|0;e=o+-40-e|0;a[1191]=d;a[1188]=e;a[d+4>>2]=e|1;a[d+e+4>>2]=40;a[1192]=a[1307];a[i+4>>2]=27;a[i+8>>2]=a[1297];a[i+8+4>>2]=a[1298];a[i+8+8>>2]=a[1299];a[i+8+12>>2]=a[1300];a[1297]=n;a[1298]=o;a[1300]=0;a[1299]=i+8;e=i+24|0;do{d=e;e=e+4|0;a[e>>2]=7}while((d+8|0)>>>0<r>>>0);if((i|0)!=(s|0)){a[i+4>>2]=a[i+4>>2]&-2;a[s+4>>2]=i-s|1;a[i>>2]=i-s;if((i-s|0)>>>0<256){r=4780+((i-s|0)>>>3<<1<<2)|0;e=a[1185]|0;if(!(e&1<<((i-s|0)>>>3))){a[1185]=e|1<<((i-s|0)>>>3);e=r;t=r+8|0}else{e=a[r+8>>2]|0;t=r+8|0}a[t>>2]=s;a[e+12>>2]=s;a[s+8>>2]=e;a[s+12>>2]=r;break}if(!((i-s|0)>>>8))e=0;else if((i-s|0)>>>0>16777215)e=31;else{e=(i-s|0)>>>8<<((((i-s|0)>>>8)+1048320|0)>>>16&8);e=14-((e+520192|0)>>>16&4|(((i-s|0)>>>8)+1048320|0)>>>16&8|((e<<((e+520192|0)>>>16&4))+245760|0)>>>16&2)+(e<<((e+520192|0)>>>16&4)<<(((e<<((e+520192|0)>>>16&4))+245760|0)>>>16&2)>>>15)|0;e=(i-s|0)>>>(e+7|0)&1|e<<1}n=5044+(e<<2)|0;a[s+28>>2]=e;a[s+20>>2]=0;a[s+16>>2]=0;t=a[1186]|0;r=1<<e;if(!(t&r)){a[1186]=t|r;a[n>>2]=s;a[s+24>>2]=n;a[s+12>>2]=s;a[s+8>>2]=s;break}t=i-s<<((e|0)==31?0:25-(e>>>1)|0);r=a[n>>2]|0;while(1){if((a[r+4>>2]&-8|0)==(i-s|0)){d=216;break}n=r+16+(t>>>31<<2)|0;e=a[n>>2]|0;if(!e){d=215;break}else{t=t<<1;r=e}}if((d|0)==215){a[n>>2]=s;a[s+24>>2]=r;a[s+12>>2]=s;a[s+8>>2]=s;break}else if((d|0)==216){l=r+8|0;d=a[l>>2]|0;a[d+12>>2]=s;a[l>>2]=s;a[s+8>>2]=d;a[s+12>>2]=r;a[s+24>>2]=0;break}}}}while(0);e=a[1188]|0;if(e>>>0>h>>>0){f=e-h|0;a[1188]=f;d=a[1191]|0;l=d+h|0;a[1191]=l;a[l+4>>2]=f|1;a[d+4>>2]=h|3;d=d+8|0;p=_;return d|0}}a[(Se()|0)>>2]=12;d=0;p=_;return d|0}function ve(e){e=e|0;var t=0,r=0,n=0,i=0,o=0,s=0,u=0,c=0;if(!e)return;t=a[1189]|0;r=a[e+-4>>2]|0;c=e+-8+(r&-8)|0;do{if(!(r&1)){n=a[e+-8>>2]|0;if(!(r&3))return;s=e+-8+(0-n)|0;o=n+(r&-8)|0;if(s>>>0<t>>>0)return;if((s|0)==(a[1190]|0)){e=a[c+4>>2]|0;if((e&3|0)!=3){u=s;t=o;break}a[1187]=o;a[c+4>>2]=e&-2;a[s+4>>2]=o|1;a[s+o>>2]=o;return}if(n>>>0<256){e=a[s+8>>2]|0;t=a[s+12>>2]|0;if((t|0)==(e|0)){a[1185]=a[1185]&~(1<<(n>>>3));u=s;t=o;break}else{a[e+12>>2]=t;a[t+8>>2]=e;u=s;t=o;break}}i=a[s+24>>2]|0;e=a[s+12>>2]|0;do{if((e|0)==(s|0)){e=a[s+16+4>>2]|0;if(!e){e=a[s+16>>2]|0;if(!e){e=0;break}else n=s+16|0}else n=s+16+4|0;while(1){t=e+20|0;r=a[t>>2]|0;if(r|0){e=r;n=t;continue}t=e+16|0;r=a[t>>2]|0;if(!r)break;else{e=r;n=t}}a[n>>2]=0}else{u=a[s+8>>2]|0;a[u+12>>2]=e;a[e+8>>2]=u}}while(0);if(!i){u=s;t=o}else{t=a[s+28>>2]|0;if((s|0)==(a[5044+(t<<2)>>2]|0)){a[5044+(t<<2)>>2]=e;if(!e){a[1186]=a[1186]&~(1<<t);u=s;t=o;break}}else{a[i+16+(((a[i+16>>2]|0)!=(s|0)&1)<<2)>>2]=e;if(!e){u=s;t=o;break}}a[e+24>>2]=i;t=a[s+16>>2]|0;if(t|0){a[e+16>>2]=t;a[t+24>>2]=e}t=a[s+16+4>>2]|0;if(!t){u=s;t=o}else{a[e+20>>2]=t;a[t+24>>2]=e;u=s;t=o}}}else{u=e+-8|0;t=r&-8;s=e+-8|0}}while(0);if(s>>>0>=c>>>0)return;r=a[c+4>>2]|0;if(!(r&1))return;if(!(r&2)){e=a[1190]|0;if((c|0)==(a[1191]|0)){c=(a[1188]|0)+t|0;a[1188]=c;a[1191]=u;a[u+4>>2]=c|1;if((u|0)!=(e|0))return;a[1190]=0;a[1187]=0;return}if((c|0)==(e|0)){c=(a[1187]|0)+t|0;a[1187]=c;a[1190]=s;a[u+4>>2]=c|1;a[s+c>>2]=c;return}i=(r&-8)+t|0;do{if(r>>>0<256){t=a[c+8>>2]|0;e=a[c+12>>2]|0;if((e|0)==(t|0)){a[1185]=a[1185]&~(1<<(r>>>3));break}else{a[t+12>>2]=e;a[e+8>>2]=t;break}}else{o=a[c+24>>2]|0;e=a[c+12>>2]|0;do{if((e|0)==(c|0)){e=a[c+16+4>>2]|0;if(!e){e=a[c+16>>2]|0;if(!e){t=0;break}else n=c+16|0}else n=c+16+4|0;while(1){t=e+20|0;r=a[t>>2]|0;if(r|0){e=r;n=t;continue}t=e+16|0;r=a[t>>2]|0;if(!r)break;else{e=r;n=t}}a[n>>2]=0;t=e}else{t=a[c+8>>2]|0;a[t+12>>2]=e;a[e+8>>2]=t;t=e}}while(0);if(o|0){e=a[c+28>>2]|0;if((c|0)==(a[5044+(e<<2)>>2]|0)){a[5044+(e<<2)>>2]=t;if(!t){a[1186]=a[1186]&~(1<<e);break}}else{a[o+16+(((a[o+16>>2]|0)!=(c|0)&1)<<2)>>2]=t;if(!t)break}a[t+24>>2]=o;e=a[c+16>>2]|0;if(e|0){a[t+16>>2]=e;a[e+24>>2]=t}e=a[c+16+4>>2]|0;if(e|0){a[t+20>>2]=e;a[e+24>>2]=t}}}}while(0);a[u+4>>2]=i|1;a[s+i>>2]=i;if((u|0)==(a[1190]|0)){a[1187]=i;return}}else{a[c+4>>2]=r&-2;a[u+4>>2]=t|1;a[s+t>>2]=t;i=t}r=i>>>3;if(i>>>0<256){e=a[1185]|0;if(!(e&1<<r)){a[1185]=e|1<<r;e=4780+(r<<1<<2)|0;t=4780+(r<<1<<2)+8|0}else{e=a[4780+(r<<1<<2)+8>>2]|0;t=4780+(r<<1<<2)+8|0}a[t>>2]=u;a[e+12>>2]=u;a[u+8>>2]=e;a[u+12>>2]=4780+(r<<1<<2);return}e=i>>>8;if(!e)e=0;else if(i>>>0>16777215)e=31;else{c=e<<((e+1048320|0)>>>16&8)<<(((e<<((e+1048320|0)>>>16&8))+520192|0)>>>16&4);e=14-(((e<<((e+1048320|0)>>>16&8))+520192|0)>>>16&4|(e+1048320|0)>>>16&8|(c+245760|0)>>>16&2)+(c<<((c+245760|0)>>>16&2)>>>15)|0;e=i>>>(e+7|0)&1|e<<1}n=5044+(e<<2)|0;a[u+28>>2]=e;a[u+20>>2]=0;a[u+16>>2]=0;t=a[1186]|0;r=1<<e;do{if(!(t&r)){a[1186]=t|r;a[n>>2]=u;a[u+24>>2]=n;a[u+12>>2]=u;a[u+8>>2]=u}else{t=i<<((e|0)==31?0:25-(e>>>1)|0);r=a[n>>2]|0;while(1){if((a[r+4>>2]&-8|0)==(i|0)){e=73;break}n=r+16+(t>>>31<<2)|0;e=a[n>>2]|0;if(!e){e=72;break}else{t=t<<1;r=e}}if((e|0)==72){a[n>>2]=u;a[u+24>>2]=r;a[u+12>>2]=u;a[u+8>>2]=u;break}else if((e|0)==73){s=r+8|0;c=a[s>>2]|0;a[c+12>>2]=u;a[s>>2]=u;a[u+8>>2]=c;a[u+12>>2]=r;a[u+24>>2]=0;break}}}while(0);c=(a[1193]|0)+-1|0;a[1193]=c;if(!c)e=5196;else return;while(1){e=a[e>>2]|0;if(!e)break;else e=e+8|0}a[1193]=-1;return}function ye(){return 5236}function we(e){e=e|0;var t=0;t=p;p=p+16|0;a[t>>2]=Re(a[e+60>>2]|0)|0;e=Ae(Y(6,t|0)|0)|0;p=t;return e|0}function ke(e,t,r){e=e|0;t=t|0;r=r|0;var n=0,i=0,o=0,s=0,u=0,c=0,f=0;u=p;p=p+48|0;n=a[e+28>>2]|0;a[u+32>>2]=n;n=(a[e+20>>2]|0)-n|0;a[u+32+4>>2]=n;a[u+32+8>>2]=t;a[u+32+12>>2]=r;a[u>>2]=a[e+60>>2];a[u+4>>2]=u+32;a[u+8>>2]=2;i=Ae(V(146,u|0)|0)|0;e:do{if((n+r|0)==(i|0))s=3;else{t=2;o=n+r|0;n=u+32|0;while(1){if((i|0)<0)break;o=o-i|0;c=a[n+4>>2]|0;f=i>>>0>c>>>0;n=f?n+8|0:n;t=(f<<31>>31)+t|0;c=i-(f?c:0)|0;a[n>>2]=(a[n>>2]|0)+c;a[n+4>>2]=(a[n+4>>2]|0)-c;a[u+16>>2]=a[e+60>>2];a[u+16+4>>2]=n;a[u+16+8>>2]=t;i=Ae(V(146,u+16|0)|0)|0;if((o|0)==(i|0)){s=3;break e}}a[e+16>>2]=0;a[e+28>>2]=0;a[e+20>>2]=0;a[e>>2]=a[e>>2]|32;if((t|0)==2)r=0;else r=r-(a[n+4>>2]|0)|0}}while(0);if((s|0)==3){f=a[e+44>>2]|0;a[e+16>>2]=f+(a[e+48>>2]|0);a[e+28>>2]=f;a[e+20>>2]=f}p=u;return r|0}function Ee(e,t,r){e=e|0;t=t|0;r=r|0;var n=0;n=p;p=p+32|0;a[n>>2]=a[e+60>>2];a[n+4>>2]=0;a[n+8>>2]=t;a[n+12>>2]=n+20;a[n+16>>2]=r;if((Ae(J(140,n|0)|0)|0)<0){a[n+20>>2]=-1;e=-1}else e=a[n+20>>2]|0;p=n;return e|0}function Ae(e){e=e|0;if(e>>>0>4294963200){a[(Se()|0)>>2]=0-e;e=-1}return e|0}function Se(){return(Te()|0)+64|0}function Te(){return Ce()|0}function Ce(){return 136}function Re(e){e=e|0;return e|0}function Me(e,t){e=e|0;t=t|0;var r=0,i=0;r=n[e>>0]|0;i=n[t>>0]|0;if(r<<24>>24==0?1:r<<24>>24!=i<<24>>24)e=i;else{do{e=e+1|0;t=t+1|0;r=n[e>>0]|0;i=n[t>>0]|0}while(!(r<<24>>24==0?1:r<<24>>24!=i<<24>>24));e=i}return(r&255)-(e&255)|0}function xe(e,t,r,n){e=e|0;t=t|0;r=r|0;n=n|0;var i=0;i=B(r,t)|0;r=(t|0)==0?0:r;if((a[n+76>>2]|0)>-1){e=Ne(e,i,n)|0}else e=Ne(e,i,n)|0;if((e|0)!=(i|0))r=(e>>>0)/(t>>>0)|0;return r|0}function Ie(e,t){e=e|0;t=t|0;var r=0,i=0,s=0,u=0;u=p;p=p+16|0;n[u>>0]=t;r=a[e+16>>2]|0;if(!r)if(!(Oe(e)|0)){i=a[e+16>>2]|0;s=4}else r=-1;else{i=r;s=4}do{if((s|0)==4){r=a[e+20>>2]|0;if(r>>>0<i>>>0)if((t&255|0)!=(n[e+75>>0]|0)){a[e+20>>2]=r+1;n[r>>0]=t;r=t&255;break}if((St[a[e+36>>2]&3](e,u,1)|0)==1)r=o[u>>0]|0;else r=-1}}while(0);p=u;return r|0}function Oe(e){e=e|0;var t=0;t=n[e+74>>0]|0;n[e+74>>0]=t+255|t;t=a[e>>2]|0;if(!(t&8)){a[e+8>>2]=0;a[e+4>>2]=0;t=a[e+44>>2]|0;a[e+28>>2]=t;a[e+20>>2]=t;a[e+16>>2]=t+(a[e+48>>2]|0);e=0}else{a[e>>2]=t|32;e=-1}return e|0}function Ne(e,t,r){e=e|0;t=t|0;r=r|0;var i=0,o=0,s=0,u=0;i=a[r+16>>2]|0;if(!i)if(!(Oe(r)|0)){o=a[r+16>>2]|0;s=5}else i=0;else{o=i;s=5}e:do{if((s|0)==5){i=a[r+20>>2]|0;if((o-i|0)>>>0<t>>>0){i=St[a[r+36>>2]&3](r,e,t)|0;break}t:do{if((n[r+75>>0]|0)>-1){s=t;while(1){if(!s){u=0;o=e;break t}o=s+-1|0;if((n[e+o>>0]|0)==10)break;else s=o}i=St[a[r+36>>2]&3](r,e,s)|0;if(i>>>0<s>>>0)break e;u=s;o=e+s|0;t=t-s|0;i=a[r+20>>2]|0}else{u=0;o=e}}while(0);ht(i|0,o|0,t|0)|0;a[r+20>>2]=(a[r+20>>2]|0)+t;i=u+t|0}}while(0);return i|0}function Pe(e,t){e=e|0;t=t|0;if(!t)t=0;else t=De(a[t>>2]|0,a[t+4>>2]|0,e)|0;return(t|0?t:e)|0}function De(e,t,r){e=e|0;t=t|0;r=r|0;var i=0,o=0,s=0,u=0,c=0,f=0,l=0,h=0,d=0;d=(a[e>>2]|0)+1794895138|0;i=Be(a[e+8>>2]|0,d)|0;f=Be(a[e+12>>2]|0,d)|0;h=Be(a[e+16>>2]|0,d)|0;e:do{if(i>>>0<t>>>2>>>0)if(f>>>0<(t-(i<<2)|0)>>>0&h>>>0<(t-(i<<2)|0)>>>0)if(!((h|f)&3)){c=0;while(1){u=i>>>1;l=c+u|0;o=Be(a[e+((l<<1)+(f>>>2)<<2)>>2]|0,d)|0;s=Be(a[e+((l<<1)+(f>>>2)+1<<2)>>2]|0,d)|0;if(!(s>>>0<t>>>0&o>>>0<(t-s|0)>>>0)){i=0;break e}if(n[e+(s+o)>>0]|0){i=0;break e}o=Me(r,e+s|0)|0;if(!o)break;if((i|0)==1){i=0;break e}else{c=(o|0)<0?c:l;i=(o|0)<0?u:i-u|0}}o=Be(a[e+((l<<1)+(h>>>2)<<2)>>2]|0,d)|0;i=Be(a[e+((l<<1)+(h>>>2)+1<<2)>>2]|0,d)|0;if(i>>>0<t>>>0&o>>>0<(t-i|0)>>>0)i=(n[e+(i+o)>>0]|0)==0?e+i|0:0;else i=0}else i=0;else i=0;else i=0}while(0);return i|0}function Be(e,t){e=e|0;t=t|0;var r=0;r=bt(e|0)|0;return((t|0)==0?e:r)|0}function Le(e,t,r){e=e|0;t=t|0;r=r|0;var i=0,o=0,s=0;e:do{if((r|0)!=0&(e&3|0)!=0){i=e;e=r;while(1){if((n[i>>0]|0)==(t&255)<<24>>24){o=6;break e}i=i+1|0;r=e+-1|0;if((r|0)!=0&(i&3|0)!=0)e=r;else{e=r;r=(r|0)!=0;o=5;break}}}else{i=e;e=r;r=(r|0)!=0;o=5}}while(0);if((o|0)==5)if(r)o=6;else e=0;e:do{if((o|0)==6)if((n[i>>0]|0)!=(t&255)<<24>>24){r=B(t&255,16843009)|0;t:do{if(e>>>0>3)while(1){s=a[i>>2]^r;if((s&-2139062144^-2139062144)&s+-16843009|0)break;i=i+4|0;e=e+-4|0;if(e>>>0<=3){o=11;break t}}else o=11}while(0);if((o|0)==11)if(!e){e=0;break}while(1){if((n[i>>0]|0)==(t&255)<<24>>24)break e;i=i+1|0;e=e+-1|0;if(!e){e=0;break}}}}while(0);return(e|0?i:0)|0}function $e(e,t,r){e=e|0;t=t|0;r=r|0;var n=0;n=p;p=p+16|0;a[n>>2]=r;r=Fe(e,t,n)|0;p=n;return r|0}function Fe(e,t,r){e=e|0;t=t|0;r=r|0;var i=0,o=0,s=0;s=p;p=p+224|0;i=s+80|0;o=i+40|0;do{a[i>>2]=0;i=i+4|0}while((i|0)<(o|0));a[s+120>>2]=a[r>>2];if((je(0,t,s+120|0,s,s+80|0)|0)<0)r=-1;else{o=a[e>>2]|0;if((n[e+74>>0]|0)<1)a[e>>2]=o&-33;if(!(a[e+48>>2]|0)){i=a[e+44>>2]|0;a[e+44>>2]=s+136;a[e+28>>2]=s+136;a[e+20>>2]=s+136;a[e+48>>2]=80;a[e+16>>2]=s+136+80;r=je(e,t,s+120|0,s,s+80|0)|0;if(i){St[a[e+36>>2]&3](e,0,0)|0;r=(a[e+20>>2]|0)==0?-1:r;a[e+44>>2]=i;a[e+48>>2]=0;a[e+16>>2]=0;a[e+28>>2]=0;a[e+20>>2]=0}}else r=je(e,t,s+120|0,s,s+80|0)|0;i=a[e>>2]|0;a[e>>2]=i|o&32;r=(i&32|0)==0?r:-1}p=s;return r|0}function je(e,t,r,o,s){e=e|0;t=t|0;r=r|0;o=o|0;s=s|0;var u=0,c=0,l=0,h=0,d=0,_=0,g=0,m=0,b=0,v=0,y=0,k=0,E=0,A=0,S=0;A=p;p=p+64|0;a[A+16>>2]=t;E=A+24+40|0;c=0;u=0;_=0;e:while(1){do{if((u|0)>-1)if((c|0)>(2147483647-u|0)){a[(Se()|0)>>2]=75;u=-1;break}else{u=c+u|0;break}}while(0);c=n[t>>0]|0;if(!(c<<24>>24)){k=87;break}else l=t;t:while(1){switch(c<<24>>24){case 37:{c=l;k=9;break t}case 0:{c=l;break t}default:}y=l+1|0;a[A+16>>2]=y;c=n[y>>0]|0;l=y}t:do{if((k|0)==9)while(1){k=0;if((n[l+1>>0]|0)!=37)break t;c=c+1|0;l=l+2|0;a[A+16>>2]=l;if((n[l>>0]|0)==37)k=9;else break}}while(0);c=c-t|0;if(e|0)Ue(e,t,c);if(c|0){t=l;continue}h=l+1|0;c=(n[h>>0]|0)+-48|0;if(c>>>0<10){y=(n[l+2>>0]|0)==36;b=y?c:-1;_=y?1:_;h=y?l+3|0:h}else b=-1;a[A+16>>2]=h;c=n[h>>0]|0;t:do{if(((c<<24>>24)+-32|0)>>>0<32){l=0;g=c;d=(c<<24>>24)+-32|0;while(1){c=1<<d;if(!(c&75913)){c=g;break t}l=c|l;h=h+1|0;a[A+16>>2]=h;c=n[h>>0]|0;d=(c<<24>>24)+-32|0;if(d>>>0>=32)break;else g=c}}else l=0}while(0);if(c<<24>>24==42){d=h+1|0;c=(n[d>>0]|0)+-48|0;if(c>>>0<10)if((n[h+2>>0]|0)==36){a[s+(c<<2)>>2]=10;c=a[o+((n[d>>0]|0)+-48<<3)>>2]|0;_=1;h=h+3|0}else k=23;else k=23;if((k|0)==23){k=0;if(_|0){u=-1;break}if(e|0){_=(a[r>>2]|0)+(4-1)&~(4-1);c=a[_>>2]|0;a[r>>2]=_+4;_=0;h=d}else{c=0;_=0;h=d}}a[A+16>>2]=h;v=(c|0)<0;c=v?0-c|0:c;v=v?l|8192:l}else{c=He(A+16|0)|0;if((c|0)<0){u=-1;break}v=l;h=a[A+16>>2]|0}do{if((n[h>>0]|0)==46){if((n[h+1>>0]|0)!=42){a[A+16>>2]=h+1;l=He(A+16|0)|0;h=a[A+16>>2]|0;break}d=h+2|0;l=(n[d>>0]|0)+-48|0;if(l>>>0<10)if((n[h+3>>0]|0)==36){a[s+(l<<2)>>2]=10;l=a[o+((n[d>>0]|0)+-48<<3)>>2]|0;h=h+4|0;a[A+16>>2]=h;break}if(_|0){u=-1;break e}if(e|0){y=(a[r>>2]|0)+(4-1)&~(4-1);l=a[y>>2]|0;a[r>>2]=y+4}else l=0;a[A+16>>2]=d;h=d}else l=-1}while(0);m=0;while(1){if(((n[h>>0]|0)+-65|0)>>>0>57){u=-1;break e}y=h+1|0;a[A+16>>2]=y;d=n[(n[h>>0]|0)+-65+(2221+(m*58|0))>>0]|0;if(((d&255)+-1|0)>>>0<8){m=d&255;h=y}else break}if(!(d<<24>>24)){u=-1;break}g=(b|0)>-1;do{if(d<<24>>24==19)if(g){u=-1;break e}else k=49;else{if(g){a[s+(b<<2)>>2]=d&255;b=o+(b<<3)|0;k=a[b+4>>2]|0;a[A>>2]=a[b>>2];a[A+4>>2]=k;k=49;break}if(!e){u=0;break e}ze(A,d&255,r)}}while(0);if((k|0)==49){k=0;if(!e){c=0;t=y;continue}}h=n[h>>0]|0;h=(m|0)!=0&(h&15|0)==3?h&-33:h;b=v&-65537;v=(v&8192|0)==0?v:b;t:do{switch(h|0){case 110:switch((m&255)<<24>>24){case 0:{a[a[A>>2]>>2]=u;c=0;t=y;continue e}case 1:{a[a[A>>2]>>2]=u;c=0;t=y;continue e}case 2:{c=a[A>>2]|0;a[c>>2]=u;a[c+4>>2]=((u|0)<0)<<31>>31;c=0;t=y;continue e}case 3:{i[a[A>>2]>>1]=u;c=0;t=y;continue e}case 4:{n[a[A>>2]>>0]=u;c=0;t=y;continue e}case 6:{a[a[A>>2]>>2]=u;c=0;t=y;continue e}case 7:{c=a[A>>2]|0;a[c>>2]=u;a[c+4>>2]=((u|0)<0)<<31>>31;c=0;t=y;continue e}default:{c=0;t=y;continue e}}case 112:{h=120;l=l>>>0>8?l:8;t=v|8;k=61;break}case 88:case 120:{t=v;k=61;break}case 111:{t=a[A>>2]|0;h=a[A+4>>2]|0;b=Ze(t,h,E)|0;m=b;d=0;g=2685;l=(v&8|0)==0|(l|0)>(E-b|0)?l:E-b+1|0;b=v;k=67;break}case 105:case 100:{t=a[A>>2]|0;h=a[A+4>>2]|0;if((h|0)<0){t=st(0,0,t|0,h|0)|0;h=w;a[A>>2]=t;a[A+4>>2]=h;d=1;g=2685;k=66;break t}else{d=(v&2049|0)!=0&1;g=(v&2048|0)==0?(v&1|0)==0?2685:2687:2686;k=66;break t}}case 117:{d=0;g=2685;t=a[A>>2]|0;h=a[A+4>>2]|0;k=66;break}case 99:{n[A+24+39>>0]=a[A>>2];t=A+24+39|0;d=0;g=2685;m=E;h=1;l=b;break}case 109:{h=Ge(a[(Se()|0)>>2]|0)|0;k=71;break}case 115:{h=a[A>>2]|0;h=h|0?h:2695;k=71;break}case 67:{a[A+8>>2]=a[A>>2];a[A+8+4>>2]=0;a[A>>2]=A+8;m=-1;h=A+8|0;k=75;break}case 83:{t=a[A>>2]|0;if(!l){Ye(e,32,c,0,v);t=0;k=84}else{m=l;h=t;k=75}break}case 65:case 71:case 70:case 69:case 97:case 103:case 102:case 101:{c=Ve(e,+f[A>>3],c,l,v,h)|0;t=y;continue e}default:{d=0;g=2685;m=E;h=l;l=v}}}while(0);t:do{if((k|0)==61){S=a[A>>2]|0;v=a[A+4>>2]|0;m=We(S,v,E,h&32)|0;g=(t&8|0)==0|(S|0)==0&(v|0)==0;d=g?0:2;g=g?2685:2685+(h>>4)|0;b=t;t=S;h=v;k=67}else if((k|0)==66){m=Ke(t,h,E)|0;b=v;k=67}else if((k|0)==71){k=0;S=Le(h,0,l)|0;t=h;d=0;g=2685;m=(S|0)==0?h+l|0:S;h=(S|0)==0?l:S-h|0;l=b}else if((k|0)==75){k=0;g=h;t=0;l=0;while(1){d=a[g>>2]|0;if(!d)break;l=qe(A+20|0,d)|0;if((l|0)<0|l>>>0>(m-t|0)>>>0)break;t=l+t|0;if(m>>>0>t>>>0)g=g+4|0;else break}if((l|0)<0){u=-1;break e}Ye(e,32,c,t,v);if(!t){t=0;k=84}else{d=0;while(1){l=a[h>>2]|0;if(!l){k=84;break t}l=qe(A+20|0,l)|0;d=l+d|0;if((d|0)>(t|0)){k=84;break t}Ue(e,A+20|0,l);if(d>>>0>=t>>>0){k=84;break}else h=h+4|0}}}}while(0);if((k|0)==67){k=0;h=(t|0)!=0|(h|0)!=0;S=(l|0)!=0|h;h=((h^1)&1)+(E-m)|0;t=S?m:E;m=E;h=S?(l|0)>(h|0)?l:h:l;l=(l|0)>-1?b&-65537:b}else if((k|0)==84){k=0;Ye(e,32,c,t,v^8192);c=(c|0)>(t|0)?c:t;t=y;continue}v=m-t|0;b=(h|0)<(v|0)?v:h;S=b+d|0;c=(c|0)<(S|0)?S:c;Ye(e,32,c,S,l);Ue(e,g,d);Ye(e,48,c,S,l^65536);Ye(e,48,b,v,0);Ue(e,t,v);Ye(e,32,c,S,l^8192);t=y}e:do{if((k|0)==87)if(!e)if(!_)u=0;else{u=1;while(1){t=a[s+(u<<2)>>2]|0;if(!t)break;ze(o+(u<<3)|0,t,r);u=u+1|0;if((u|0)>=10){u=1;break e}}while(1){if(a[s+(u<<2)>>2]|0){u=-1;break e}u=u+1|0;if((u|0)>=10){u=1;break}}}}while(0);p=A;return u|0}function Ue(e,t,r){e=e|0;t=t|0;r=r|0;if(!(a[e>>2]&32))Ne(t,r,e)|0;return}function He(e){e=e|0;var t=0,r=0,i=0;r=a[e>>2]|0;i=(n[r>>0]|0)+-48|0;if(i>>>0<10){t=0;do{t=i+(t*10|0)|0;r=r+1|0;a[e>>2]=r;i=(n[r>>0]|0)+-48|0}while(i>>>0<10)}else t=0;return t|0}function ze(e,t,r){e=e|0;t=t|0;r=r|0;var n=0,i=0,o=0.0;e:do{if(t>>>0<=20)do{switch(t|0){case 9:{n=(a[r>>2]|0)+(4-1)&~(4-1);t=a[n>>2]|0;a[r>>2]=n+4;a[e>>2]=t;break e}case 10:{t=(a[r>>2]|0)+(4-1)&~(4-1);n=a[t>>2]|0;a[r>>2]=t+4;a[e>>2]=n;a[e+4>>2]=((n|0)<0)<<31>>31;break e}case 11:{t=(a[r>>2]|0)+(4-1)&~(4-1);n=a[t>>2]|0;a[r>>2]=t+4;a[e>>2]=n;a[e+4>>2]=0;break e}case 12:{i=(a[r>>2]|0)+(8-1)&~(8-1);t=a[i>>2]|0;n=a[i+4>>2]|0;a[r>>2]=i+8;a[e>>2]=t;a[e+4>>2]=n;break e}case 13:{n=(a[r>>2]|0)+(4-1)&~(4-1);i=a[n>>2]|0;a[r>>2]=n+4;a[e>>2]=(i&65535)<<16>>16;a[e+4>>2]=(((i&65535)<<16>>16|0)<0)<<31>>31;break e}case 14:{n=(a[r>>2]|0)+(4-1)&~(4-1);i=a[n>>2]|0;a[r>>2]=n+4;a[e>>2]=i&65535;a[e+4>>2]=0;break e}case 15:{n=(a[r>>2]|0)+(4-1)&~(4-1);i=a[n>>2]|0;a[r>>2]=n+4;a[e>>2]=(i&255)<<24>>24;a[e+4>>2]=(((i&255)<<24>>24|0)<0)<<31>>31;break e}case 16:{n=(a[r>>2]|0)+(4-1)&~(4-1);i=a[n>>2]|0;a[r>>2]=n+4;a[e>>2]=i&255;a[e+4>>2]=0;break e}case 17:{i=(a[r>>2]|0)+(8-1)&~(8-1);o=+f[i>>3];a[r>>2]=i+8;f[e>>3]=o;break e}case 18:{i=(a[r>>2]|0)+(8-1)&~(8-1);o=+f[i>>3];a[r>>2]=i+8;f[e>>3]=o;break e}default:break e}}while(0)}while(0);return}function We(e,t,r,i){e=e|0;t=t|0;r=r|0;i=i|0;if(!((e|0)==0&(t|0)==0))do{r=r+-1|0;n[r>>0]=o[2737+(e&15)>>0]|0|i;e=ft(e|0,t|0,4)|0;t=w}while(!((e|0)==0&(t|0)==0));return r|0}function Ze(e,t,r){e=e|0;t=t|0;r=r|0;if(!((e|0)==0&(t|0)==0))do{r=r+-1|0;n[r>>0]=e&7|48;e=ft(e|0,t|0,3)|0;t=w}while(!((e|0)==0&(t|0)==0));return r|0}function Ke(e,t,r){e=e|0;t=t|0;r=r|0;var i=0;if(t>>>0>0|(t|0)==0&e>>>0>4294967295){while(1){i=mt(e|0,t|0,10,0)|0;r=r+-1|0;n[r>>0]=i&255|48;i=e;e=_t(e|0,t|0,10,0)|0;if(!(t>>>0>9|(t|0)==9&i>>>0>4294967295))break;else t=w}t=e}else t=e;if(t)while(1){r=r+-1|0;n[r>>0]=(t>>>0)%10|0|48;if(t>>>0<10)break;else t=(t>>>0)/10|0}return r|0}function Ge(e){e=e|0;return nt(e,a[(rt()|0)+188>>2]|0)|0}function Ye(e,t,r,n,i){e=e|0;t=t|0;r=r|0;n=n|0;i=i|0;var a=0;a=p;p=p+256|0;if((r|0)>(n|0)&(i&73728|0)==0){ct(a|0,t|0,((r-n|0)>>>0<256?r-n|0:256)|0)|0;if((r-n|0)>>>0>255){t=r-n|0;do{Ue(e,a,256);t=t+-256|0}while(t>>>0>255);t=r-n&255}else t=r-n|0;Ue(e,a,t)}p=a;return}function qe(e,t){e=e|0;t=t|0;if(!e)e=0;else e=et(e,t)|0;return e|0}function Ve(e,t,r,i,s,u){e=e|0;t=+t;r=r|0;i=i|0;s=s|0;u=u|0;var c=0,f=0,l=0,h=0,d=0,_=0.0,g=0,m=0,b=0,v=0,y=0,k=0,E=0,A=0,S=0,T=0,C=0,R=0;R=p;p=p+560|0;C=R+524|0;a[R>>2]=0;T=R+512+12|0;Xe(t)|0;if((w|0)<0){t=-t;A=1;E=2702}else{A=(s&2049|0)!=0&1;E=(s&2048|0)==0?(s&1|0)==0?2703:2708:2705}Xe(t)|0;S=w&2146435072;do{if(S>>>0<2146435072|(S|0)==2146435072&0<0){_=+Je(t,R)*2.0;if(_!=0.0)a[R>>2]=(a[R>>2]|0)+-1;if((u|32|0)==97){d=(u&32|0)==0?E:E+9|0;h=A|2;do{if(i>>>0>11|(12-i|0)==0)t=_;else{t=8.0;c=12-i|0;do{c=c+-1|0;t=t*16.0}while((c|0)!=0);if((n[d>>0]|0)==45){t=-(t+(-_-t));break}else{t=_+t-t;break}}}while(0);f=a[R>>2]|0;c=(f|0)<0?0-f|0:f;c=Ke(c,((c|0)<0)<<31>>31,T)|0;if((c|0)==(T|0)){n[R+512+11>>0]=48;c=R+512+11|0}n[c+-1>>0]=(f>>31&2)+43;l=c+-2|0;n[l>>0]=u+15;c=R+524|0;do{S=~~t;f=c+1|0;n[c>>0]=o[2737+S>>0]|u&32;t=(t-+(S|0))*16.0;if((f-C|0)==1)if((s&8|0)==0&((i|0)<1&t==0.0))c=f;else{n[f>>0]=46;c=c+2|0}else c=f}while(t!=0.0);C=c-C|0;c=(i|0)!=0&(C+-2|0)<(i|0)?i+2|0:C;Ye(e,32,r,T-l+h+c|0,s);Ue(e,d,h);Ye(e,48,r,T-l+h+c|0,s^65536);Ue(e,R+524|0,C);Ye(e,48,c-C|0,0,0);Ue(e,l,T-l|0);Ye(e,32,r,T-l+h+c|0,s^8192);c=T-l+h+c|0;break}f=(i|0)<0?6:i;if(_!=0.0){h=(a[R>>2]|0)+-28|0;a[R>>2]=h;t=_*268435456.0}else{t=_;h=a[R>>2]|0}S=(h|0)<0?R+8|0:R+8+288|0;c=S;do{k=~~t>>>0;a[c>>2]=k;c=c+4|0;t=(t-+(k>>>0))*1.0e9}while(t!=0.0);if((h|0)>0){l=S;do{i=(h|0)<29?h:29;h=c+-4|0;if(h>>>0>=l>>>0){d=0;do{y=lt(a[h>>2]|0,0,i|0)|0;y=ut(y|0,w|0,d|0,0)|0;k=w;v=mt(y|0,k|0,1e9,0)|0;a[h>>2]=v;d=_t(y|0,k|0,1e9,0)|0;h=h+-4|0}while(h>>>0>=l>>>0);if(d){l=l+-4|0;a[l>>2]=d}}while(1){if(c>>>0<=l>>>0)break;h=c+-4|0;if(!(a[h>>2]|0))c=h;else break}h=(a[R>>2]|0)-i|0;a[R>>2]=h}while((h|0)>0)}else l=S;if((h|0)<0)do{i=0-h|0;i=(i|0)<9?i:9;if(l>>>0<c>>>0){d=0;h=l;do{k=a[h>>2]|0;a[h>>2]=(k>>>i)+d;d=B(k&(1<<i)+-1,1e9>>>i)|0;h=h+4|0}while(h>>>0<c>>>0);l=(a[l>>2]|0)==0?l+4|0:l;if(d){a[c>>2]=d;c=c+4|0}}else l=(a[l>>2]|0)==0?l+4|0:l;h=(u|32|0)==102?S:l;c=(c-h>>2|0)>(((f+25|0)/9|0)+1|0)?h+(((f+25|0)/9|0)+1<<2)|0:c;h=(a[R>>2]|0)+i|0;a[R>>2]=h}while((h|0)<0);if(l>>>0<c>>>0){h=(S-l>>2)*9|0;i=a[l>>2]|0;if(i>>>0<10)b=h;else{d=10;do{d=d*10|0;h=h+1|0}while(i>>>0>=d>>>0);b=h}}else b=0;d=f-((u|32|0)!=102?b:0)+(((f|0)!=0&(u|32|0)==103)<<31>>31)|0;if((d|0)<(((c-S>>2)*9|0)+-9|0)){h=S+4+(((d+9216|0)/9|0)+-1024<<2)|0;if((((d+9216|0)%9|0)+1|0)<9){i=((d+9216|0)%9|0)+1|0;d=10;do{d=d*10|0;i=i+1|0}while((i|0)!=9)}else d=10;g=a[h>>2]|0;m=(g>>>0)%(d>>>0)|0;i=(h+4|0)==(c|0);if(i&(m|0)==0)d=b;else{_=(((g>>>0)/(d>>>0)|0)&1|0)==0?9007199254740992.0:9007199254740994.0;k=(d|0)/2|0;t=m>>>0<k>>>0?.5:i&(m|0)==(k|0)?1.0:1.5;if(A){k=(n[E>>0]|0)==45;t=k?-t:t;_=k?-_:_}a[h>>2]=g-m;if(_+t!=_){k=g-m+d|0;a[h>>2]=k;if(k>>>0>999999999)while(1){d=h+-4|0;a[h>>2]=0;if(d>>>0<l>>>0){l=l+-4|0;a[l>>2]=0}k=(a[d>>2]|0)+1|0;a[d>>2]=k;if(k>>>0>999999999)h=d;else{h=d;break}}d=(S-l>>2)*9|0;g=a[l>>2]|0;if(g>>>0>=10){i=10;do{i=i*10|0;d=d+1|0}while(g>>>0>=i>>>0)}}else d=b}y=h+4|0;c=c>>>0>y>>>0?y:c;y=l}else{d=b;y=l}k=c;while(1){if(k>>>0<=y>>>0){v=0;break}c=k+-4|0;if(!(a[c>>2]|0))k=c;else{v=1;break}}g=0-d|0;do{if((u|32|0)==103){if((d|0)>-5?((((f|0)!=0^1)&1)+f|0)>(d|0):0){i=u+-1|0;f=(((f|0)!=0^1)&1)+f+-1-d|0}else{i=u+-2|0;f=(((f|0)!=0^1)&1)+f+-1|0}if(!(s&8)){if(v){h=a[k+-4>>2]|0;if(!h)c=9;else if(!((h>>>0)%10|0)){c=0;l=10;do{l=l*10|0;c=c+1|0}while(!((h>>>0)%(l>>>0)|0|0))}else c=0}else c=9;l=((k-S>>2)*9|0)+-9|0;if((i|32|0)==102){h=l-c|0;h=(h|0)>0?h:0;f=(f|0)<(h|0)?f:h;h=0;break}else{h=l+d-c|0;h=(h|0)>0?h:0;f=(f|0)<(h|0)?f:h;h=0;break}}else h=s&8}else{i=u;h=s&8}}while(0);b=f|h;l=(i|32|0)==102;if(l){m=0;c=(d|0)>0?d:0}else{c=(d|0)<0?g:d;c=Ke(c,((c|0)<0)<<31>>31,T)|0;if((T-c|0)<2)do{c=c+-1|0;n[c>>0]=48}while((T-c|0)<2);n[c+-1>>0]=(d>>31&2)+43;c=c+-2|0;n[c>>0]=i;m=c;c=T-c|0}c=A+1+f+((b|0)!=0&1)+c|0;Ye(e,32,r,c,s);Ue(e,E,A);Ye(e,48,r,c,s^65536);if(l){d=y>>>0>S>>>0?S:y;h=d;do{l=Ke(a[h>>2]|0,0,R+524+9|0)|0;if((h|0)==(d|0)){if((l|0)==(R+524+9|0)){n[R+524+8>>0]=48;l=R+524+8|0}}else if(l>>>0>(R+524|0)>>>0){ct(R+524|0,48,l-C|0)|0;do{l=l+-1|0}while(l>>>0>(R+524|0)>>>0)}Ue(e,l,R+524+9-l|0);h=h+4|0}while(h>>>0<=S>>>0);if(b|0)Ue(e,2753,1);if(h>>>0<k>>>0&(f|0)>0)while(1){l=Ke(a[h>>2]|0,0,R+524+9|0)|0;if(l>>>0>(R+524|0)>>>0){ct(R+524|0,48,l-C|0)|0;do{l=l+-1|0}while(l>>>0>(R+524|0)>>>0)}Ue(e,l,(f|0)<9?f:9);h=h+4|0;l=f+-9|0;if(!(h>>>0<k>>>0&(f|0)>9)){f=l;break}else f=l}Ye(e,48,f+9|0,9,0)}else{g=v?k:y+4|0;if((f|0)>-1){i=(h|0)==0;d=y;do{l=Ke(a[d>>2]|0,0,R+524+9|0)|0;if((l|0)==(R+524+9|0)){n[R+524+8>>0]=48;l=R+524+8|0}do{if((d|0)==(y|0)){h=l+1|0;Ue(e,l,1);if(i&(f|0)<1){l=h;break}Ue(e,2753,1);l=h}else{if(l>>>0<=(R+524|0)>>>0)break;ct(R+524|0,48,l+(0-C)|0)|0;do{l=l+-1|0}while(l>>>0>(R+524|0)>>>0)}}while(0);S=R+524+9-l|0;Ue(e,l,(f|0)>(S|0)?S:f);f=f-S|0;d=d+4|0}while(d>>>0<g>>>0&(f|0)>-1)}Ye(e,48,f+18|0,18,0);Ue(e,m,T-m|0)}Ye(e,32,r,c,s^8192)}else{c=A+3|0;Ye(e,32,r,c,s&-65537);Ue(e,E,A);Ue(e,t!=t|0.0!=0.0?u&32|0?2729:2733:u&32|0?2721:2725,3);Ye(e,32,r,c,s^8192)}}while(0);p=R;return((c|0)<(r|0)?r:c)|0}function Xe(e){e=+e;var t=0;f[h>>3]=e;t=a[h>>2]|0;w=a[h+4>>2]|0;return t|0}function Je(e,t){e=+e;t=t|0;return+ +Qe(e,t)}function Qe(e,t){e=+e;t=t|0;var r=0,n=0,i=0;f[h>>3]=e;r=a[h>>2]|0;n=a[h+4>>2]|0;i=ft(r|0,n|0,52)|0;switch(i&2047){case 0:{if(e!=0.0){e=+Qe(e*18446744073709551616.0,t);r=(a[t>>2]|0)+-64|0}else r=0;a[t>>2]=r;break}case 2047:break;default:{a[t>>2]=(i&2047)+-1022;a[h>>2]=r;a[h+4>>2]=n&-2146435073|1071644672;e=+f[h>>3]}}return+e}function et(e,t,r){e=e|0;t=t|0;do{if(!e)e=1;else{if(t>>>0<128){n[e>>0]=t;e=1;break}if(!(a[a[(tt()|0)+188>>2]>>2]|0))if((t&-128|0)==57216){n[e>>0]=t;e=1;break}else{a[(Se()|0)>>2]=84;e=-1;break}if(t>>>0<2048){n[e>>0]=t>>>6|192;n[e+1>>0]=t&63|128;e=2;break}if(t>>>0<55296|(t&-8192|0)==57344){n[e>>0]=t>>>12|224;n[e+1>>0]=t>>>6&63|128;n[e+2>>0]=t&63|128;e=3;break}if((t+-65536|0)>>>0<1048576){n[e>>0]=t>>>18|240;n[e+1>>0]=t>>>12&63|128;n[e+2>>0]=t>>>6&63|128;n[e+3>>0]=t&63|128;e=4;break}else{a[(Se()|0)>>2]=84;e=-1;break}}}while(0);return e|0}function tt(){return Ce()|0}function rt(){return Ce()|0}function nt(e,t){e=e|0;t=t|0;var r=0,i=0;i=0;while(1){if((o[2755+i>>0]|0)==(e|0)){e=2;break}r=i+1|0;if((r|0)==87){r=2843;i=87;e=5;break}else i=r}if((e|0)==2)if(!i)r=2843;else{r=2843;e=5}if((e|0)==5)while(1){do{e=r;r=r+1|0}while((n[e>>0]|0)!=0);i=i+-1|0;if(!i)break;else e=5}return it(r,a[t+20>>2]|0)|0}function it(e,t){e=e|0;t=t|0;return Pe(e,t)|0}function at(e,t){e=e|0;t=t|0;var r=0,i=0;if((a[t+76>>2]|0)<0)i=3;else i=3;do{if((i|0)==3){if((e&255|0)!=(n[t+75>>0]|0)){r=a[t+20>>2]|0;if(r>>>0<(a[t+16>>2]|0)>>>0){a[t+20>>2]=r+1;n[r>>0]=e;r=e&255;break}}r=Ie(t,e)|0}}while(0);return r|0}function ot(){}function st(e,t,r,n){e=e|0;t=t|0;r=r|0;n=n|0;n=t-n-(r>>>0>e>>>0|0)>>>0;return(w=n,e-r>>>0|0)|0}function ut(e,t,r,n){e=e|0;t=t|0;r=r|0;n=n|0;return(w=t+n+(e+r>>>0>>>0<e>>>0|0)>>>0,e+r>>>0|0)|0}function ct(e,t,r){e=e|0;t=t|0;r=r|0;var i=0,o=0;i=e+r|0;t=t&255;if((r|0)>=67){while(e&3){n[e>>0]=t;e=e+1|0}o=t|t<<8|t<<16|t<<24;while((e|0)<=((i&-4)-64|0)){a[e>>2]=o;a[e+4>>2]=o;a[e+8>>2]=o;a[e+12>>2]=o;a[e+16>>2]=o;a[e+20>>2]=o;a[e+24>>2]=o;a[e+28>>2]=o;a[e+32>>2]=o;a[e+36>>2]=o;a[e+40>>2]=o;a[e+44>>2]=o;a[e+48>>2]=o;a[e+52>>2]=o;a[e+56>>2]=o;a[e+60>>2]=o;e=e+64|0}while((e|0)<(i&-4|0)){a[e>>2]=o;e=e+4|0}}while((e|0)<(i|0)){n[e>>0]=t;e=e+1|0}return i-r|0}function ft(e,t,r){e=e|0;t=t|0;r=r|0;if((r|0)<32){w=t>>>r;return e>>>r|(t&(1<<r)-1)<<32-r}w=0;return t>>>r-32|0}function lt(e,t,r){e=e|0;t=t|0;r=r|0;if((r|0)<32){w=t<<r|(e&(1<<r)-1<<32-r)>>>32-r;return e<<r}w=e<<r-32;return 0}function ht(e,t,r){e=e|0;t=t|0;r=r|0;var i=0,o=0,s=0;if((r|0)>=8192)return X(e|0,t|0,r|0)|0;s=e|0;o=e+r|0;if((e&3)==(t&3)){while(e&3){if(!r)return s|0;n[e>>0]=n[t>>0]|0;e=e+1|0;t=t+1|0;r=r-1|0}r=o&-4|0;i=r-64|0;while((e|0)<=(i|0)){a[e>>2]=a[t>>2];a[e+4>>2]=a[t+4>>2];a[e+8>>2]=a[t+8>>2];a[e+12>>2]=a[t+12>>2];a[e+16>>2]=a[t+16>>2];a[e+20>>2]=a[t+20>>2];a[e+24>>2]=a[t+24>>2];a[e+28>>2]=a[t+28>>2];a[e+32>>2]=a[t+32>>2];a[e+36>>2]=a[t+36>>2];a[e+40>>2]=a[t+40>>2];a[e+44>>2]=a[t+44>>2];a[e+48>>2]=a[t+48>>2];a[e+52>>2]=a[t+52>>2];a[e+56>>2]=a[t+56>>2];a[e+60>>2]=a[t+60>>2];e=e+64|0;t=t+64|0}while((e|0)<(r|0)){a[e>>2]=a[t>>2];e=e+4|0;t=t+4|0}}else{r=o-4|0;while((e|0)<(r|0)){n[e>>0]=n[t>>0]|0;n[e+1>>0]=n[t+1>>0]|0;n[e+2>>0]=n[t+2>>0]|0;n[e+3>>0]=n[t+3>>0]|0;e=e+4|0;t=t+4|0}}while((e|0)<(o|0)){n[e>>0]=n[t>>0]|0;e=e+1|0;t=t+1|0}return s|0}function dt(e){e=e|0;var t=0;t=n[g+(e&255)>>0]|0;if((t|0)<8)return t|0;t=n[g+(e>>8&255)>>0]|0;if((t|0)<8)return t+8|0;t=n[g+(e>>16&255)>>0]|0;if((t|0)<8)return t+16|0;return(n[g+(e>>>24)>>0]|0)+24|0}function pt(e,t,r,n,i){e=e|0;t=t|0;r=r|0;n=n|0;i=i|0;var o=0,s=0,u=0,c=0,f=0,l=0,h=0,d=0,p=0,_=0;if(!t)if(!n){if(i|0){a[i>>2]=(e>>>0)%(r>>>0);a[i+4>>2]=0}n=0;i=(e>>>0)/(r>>>0)>>>0;return(w=n,i)|0}else{if(!i){n=0;i=0;return(w=n,i)|0}a[i>>2]=e|0;a[i+4>>2]=t&0;n=0;i=0;return(w=n,i)|0}do{if(!r){if(!n){if(i|0){a[i>>2]=(t>>>0)%(r>>>0);a[i+4>>2]=0}n=0;i=(t>>>0)/(r>>>0)>>>0;return(w=n,i)|0}if(!e){if(i|0){a[i>>2]=0;a[i+4>>2]=(t>>>0)%(n>>>0)}r=0;i=(t>>>0)/(n>>>0)>>>0;return(w=r,i)|0}if(!(n-1&n)){if(i|0){a[i>>2]=e|0;a[i+4>>2]=n-1&t|t&0}r=0;i=t>>>((dt(n|0)|0)>>>0);return(w=r,i)|0}s=(F(n|0)|0)-(F(t|0)|0)|0;if(s>>>0<=30){d=s+1|0;u=t<<31-s|e>>>((s+1|0)>>>0);h=t>>>((s+1|0)>>>0);o=0;s=e<<31-s;break}if(!i){n=0;i=0;return(w=n,i)|0}a[i>>2]=e|0;a[i+4>>2]=t|t&0;n=0;i=0;return(w=n,i)|0}else{if(n|0){s=(F(n|0)|0)-(F(t|0)|0)|0;if(s>>>0<=31){d=s+1|0;u=e>>>((s+1|0)>>>0)&s-31>>31|t<<31-s;h=t>>>((s+1|0)>>>0)&s-31>>31;o=0;s=e<<31-s;break}if(!i){n=0;i=0;return(w=n,i)|0}a[i>>2]=e|0;a[i+4>>2]=t|t&0;n=0;i=0;return(w=n,i)|0}if(r-1&r|0){s=(F(r|0)|0)+33-(F(t|0)|0)|0;d=s;u=32-s-1>>31&t>>>((s-32|0)>>>0)|(t<<32-s|e>>>(s>>>0))&s-32>>31;h=s-32>>31&t>>>(s>>>0);o=e<<64-s&32-s>>31;s=(t<<64-s|e>>>((s-32|0)>>>0))&32-s>>31|e<<32-s&s-33>>31;break}if(i|0){a[i>>2]=r-1&e;a[i+4>>2]=0}if((r|0)==1){n=t|t&0;i=e|0|0;return(w=n,i)|0}else{i=dt(r|0)|0;n=t>>>(i>>>0)|0;i=t<<32-i|e>>>(i>>>0)|0;return(w=n,i)|0}}}while(0);if(!d){c=s;t=h;e=0;s=0}else{f=ut(r|0|0,n|n&0|0,-1,-1)|0;l=w;c=s;t=h;e=d;s=0;do{_=c;c=o>>>31|c<<1;o=s|o<<1;_=u<<1|_>>>31|0;p=u>>>31|t<<1|0;st(f|0,l|0,_|0,p|0)|0;d=w;h=d>>31|((d|0)<0?-1:0)<<1;s=h&1;u=st(_|0,p|0,h&(r|0)|0,(((d|0)<0?-1:0)>>31|((d|0)<0?-1:0)<<1)&(n|n&0)|0)|0;t=w;e=e-1|0}while((e|0)!=0);e=0}if(i|0){a[i>>2]=u;a[i+4>>2]=t}p=(o|0)>>>31|c<<1|(0<<1|o>>>31)&0|e;_=(o<<1|0>>>31)&-2|s;return(w=p,_)|0}function _t(e,t,r,n){e=e|0;t=t|0;r=r|0;n=n|0;return pt(e,t,r,n,0)|0}function gt(e){e=e|0;var t=0,r=0;r=e+15&-16|0;t=a[l>>2]|0;e=t+r|0;if((r|0)>0&(e|0)<(t|0)|(e|0)<0){W()|0;q(12);return-1}a[l>>2]=e;if((e|0)>(z()|0))if(!(H()|0)){a[l>>2]=t;q(12);return-1}return t|0}function mt(e,t,r,n){e=e|0;t=t|0;r=r|0;n=n|0;var i=0;i=p;p=p+16|0;pt(e,t,r,n,i|0)|0;p=i;return(w=a[i+4>>2]|0,a[i>>2]|0)|0}function bt(e){e=e|0;return(e&255)<<24|(e>>8&255)<<16|(e>>16&255)<<8|e>>>24|0}function vt(e,t){e=e|0;t=t|0;return At[e&1](t|0)|0}function yt(e,t,r,n){e=e|0;t=t|0;r=r|0;n=n|0;return St[e&3](t|0,r|0,n|0)|0}function wt(e){j(0);return 0}function kt(e,t,r){j(1);return 0}function Et(e){e=e|0;var t=0,r=0,i=0,o=0,s=0,u=0,c=0,f=0,l=0,h=0,d=0,_=0;i=a[e+1368>>2]|0;o=a[e+3472>>2]|0;_=a[e+3496>>2]|0;d=a[e+3504>>2]|0;e:{if((_&65024|0)==23552){if(n[5300]|0){d=a[2]|0;a[e+512>>2]=_&7;a[e+512+4>>2]=_>>>3&7;a[e+512+8>>2]=_>>>6&7;$e(d,1367,e+512|0)|0}d=(a[4668+((_>>>6&7)<<2)>>2]|0)+(a[4668+((_>>>3&7)<<2)>>2]|0)|0;i=G(3,d&-2|0)|0;a[4668+((_&7)<<2)>>2]=((d&1|0)==0?i:i>>>8)&255;i=0;p=e;a[e+4792>>2]=6;a[e+4796>>2]=i|0;break e}if((_&63488|0)==34816){if(n[5300]|0){d=a[2]|0;a[e+528>>2]=_&7;a[e+528+4>>2]=_>>>3&7;a[e+528+8>>2]=_>>>5&62;$e(d,1387,e+528|0)|0}a[4668+((_&7)<<2)>>2]=(G(3,(a[4668+((_>>>3&7)<<2)>>2]|0)+(_>>>5&62)|0)|0)&65535;i=0;p=e;a[e+4792>>2]=6;a[e+4796>>2]=i|0;break e}t=1;r=(_&65024)<<16>>16;if(t)switch(r|0){case 23040:{if(n[5300]|0){d=a[2]|0;a[e+544>>2]=_&7;a[e+544+4>>2]=_>>>3&7;a[e+544+8>>2]=_>>>6&7;$e(d,1409,e+544|0)|0}a[4668+((_&7)<<2)>>2]=(G(3,(a[4668+((_>>>6&7)<<2)>>2]|0)+(a[4668+((_>>>3&7)<<2)>>2]|0)|0)|0)&65535;i=0;p=e;a[e+4792>>2]=6;a[e+4796>>2]=i|0;break e}case 22016:{if(n[5300]|0){d=a[2]|0;a[e+560>>2]=_&7;a[e+560+4>>2]=_>>>3&7;a[e+560+8>>2]=_>>>6&7;$e(d,1429,e+560|0)|0}d=(a[4668+((_>>>6&7)<<2)>>2]|0)+(a[4668+((_>>>3&7)<<2)>>2]|0)|0;i=G(3,d&-2|0)|0;i=(d&1|0)==0?i:i>>>8;a[4668+((_&7)<<2)>>2]=(i&128|0)==0?i&255:i|-256;i=0;p=e;a[e+4792>>2]=6;a[e+4796>>2]=i|0;break e}case 24064:{if(n[5300]|0){d=a[2]|0;a[e+576>>2]=_&7;a[e+576+4>>2]=_>>>3&7;a[e+576+8>>2]=_>>>6&7;$e(d,1450,e+576|0)|0}i=G(3,(a[4668+((_>>>6&7)<<2)>>2]|0)+(a[4668+((_>>>3&7)<<2)>>2]|0)|0)|0;a[4668+((_&7)<<2)>>2]=(i&32768|0)==0?i&65535:i|-65536;i=0;p=e;a[e+4792>>2]=6;a[e+4796>>2]=i|0;break e}default:t=1}if(t)switch(r|0){default:{if(!(_&63488)){if(n[5300]|0){d=a[2]|0;a[e+592>>2]=_&7;a[e+592+4>>2]=_>>>3&7;a[e+592+8>>2]=_>>>6&31;$e(d,1471,e+592|0)|0}t=a[4668+((_>>>3&7)<<2)>>2]|0;if(!(_>>>6&31))r=a[1184]|0;else{r=a[1184]|0;r=t&1<<32-(_>>>6&31)|0?r|536870912:r&-536870913;a[1184]=r;t=t<<(_>>>6&31)}a[4668+((_&7)<<2)>>2]=t;i=(t|0)<0?r|-2147483648:r&2147483647;a[1184]=(t|0)==0?i|1073741824:i&-1073741825;i=0;p=e;a[e+4792>>2]=6;a[e+4796>>2]=i|0;break e}if((_&65472|0)==16512){if(n[5300]|0){d=a[2]|0;a[e+608>>2]=_&7;a[e+608+4>>2]=_>>>3&7;$e(d,1491,e+608|0)|0}t=a[4668+((_&7)<<2)>>2]|0;r=a[4668+((_>>>3&7)<<2)>>2]&255;do{if(!r)r=a[1184]|0;else{if(r>>>0<32){d=a[1184]|0;d=1<<32-r&t|0?d|536870912:d&-536870913;a[1184]=d;t=t<<r;r=d;break}if((r|0)==32){r=a[1184]|0;r=t&1|0?r|536870912:r&-536870913;a[1184]=r;t=0;break}else{r=a[1184]&-536870913;a[1184]=r;t=0;break}}}while(0);a[4668+((_&7)<<2)>>2]=t;i=(t|0)<0?r|-2147483648:r&2147483647;a[1184]=(t|0)==0?i|1073741824:i&-1073741825;i=0;p=e;a[e+4792>>2]=6;a[e+4796>>2]=i|0;break e}if((_&63488|0)==2048){if(n[5300]|0){d=a[2]|0;a[e+616>>2]=_&7;a[e+616+4>>2]=_>>>3&7;a[e+616+8>>2]=_>>>6&31;$e(d,1505,e+616|0)|0}t=a[4668+((_>>>3&7)<<2)>>2]|0;if(!(_>>>6&31)){r=a[1184]|0;r=(t|0)<0?r|536870912:r&-536870913;a[1184]=r;t=0}else{r=a[1184]|0;r=t&1<<(_>>>6&31)+-1|0?r|536870912:r&-536870913;a[1184]=r;t=t>>>(_>>>6&31)}a[4668+((_&7)<<2)>>2]=t;i=(t|0)<0?r|-2147483648:r&2147483647;a[1184]=(t|0)==0?i|1073741824:i&-1073741825;i=0;p=e;a[e+4792>>2]=6;a[e+4796>>2]=i|0;break e}if((_&65472|0)==16576){if(n[5300]|0){d=a[2]|0;a[e+632>>2]=_&7;a[e+632+4>>2]=_>>>3&7;$e(d,1525,e+632|0)|0}t=a[4668+((_&7)<<2)>>2]|0;r=a[4668+((_>>>3&7)<<2)>>2]&255;do{if(!r)r=a[1184]|0;else{if(r>>>0<32){d=a[1184]|0;d=1<<r+-1&t|0?d|536870912:d&-536870913;a[1184]=d;t=t>>>r;r=d;break}if((r|0)==32){r=a[1184]|0;r=(t|0)<0?r|536870912:r&-536870913;a[1184]=r;t=0;break}else{r=a[1184]&-536870913;a[1184]=r;t=0;break}}}while(0);a[4668+((_&7)<<2)>>2]=t;i=(t|0)<0?r|-2147483648:r&2147483647;a[1184]=(t|0)==0?i|1073741824:i&-1073741825;i=0;p=e;a[e+4792>>2]=6;a[e+4796>>2]=i|0;break e}if((_&63488|0)==8192){if(n[5300]|0){d=a[2]|0;a[e+640>>2]=_>>>8&7;a[e+640+4>>2]=_&255;$e(d,1539,e+640|0)|0}a[4668+((_>>>8&7)<<2)>>2]=_&255;i=a[1184]&1073741823;a[1184]=(_&255|0)==0?i|1073741824:i;i=0;p=e;a[e+4792>>2]=6;a[e+4796>>2]=i|0;break e}if((_&65472|0)==7168){if(n[5300]|0){d=a[2]|0;a[e+648>>2]=_&7;a[e+648+4>>2]=_>>>3&7;$e(d,1557,e+648|0)|0}d=a[4668+((_>>>3&7)<<2)>>2]|0;a[4668+((_&7)<<2)>>2]=d;i=a[1184]|0;i=(d|0)<0?i|-2147483648:i&2147483647;a[1184]=((d|0)==0?i|1073741824:i&-1879048193)&-805306369;i=0;p=e;a[e+4792>>2]=6;a[e+4796>>2]=i|0;break e}if((_&65280|0)==17920){if(n[5300]|0){d=a[2]|0;a[e+656>>2]=_>>>4&8|_&7;a[e+656+4>>2]=_>>>3&15;$e(d,1571,e+656|0)|0}t=a[4668+((_>>>3&15)<<2)>>2]|0;if((_>>>3&15|0)==15){if(t&1|0){d=a[2]|0;a[e+664>>2]=t;$e(d,520,e+664|0)|0}t=t&-2}a[4668+((_>>>4&8|_&7)<<2)>>2]=(_>>>4&8|_&7|0)==15?((_>>>4&8|_&7|0)==15?t+2|0:t)&-2:t;i=0;p=e;a[e+4792>>2]=6;a[e+4796>>2]=i|0;break e}t=1;r=((_&65472)+-16960|0)>>>6&67108863|0;if(t)switch(r|0){case 4:{if(n[5300]|0){d=a[2]|0;a[e+672>>2]=_&7;a[e+672+4>>2]=_>>>3&7;$e(d,1584,e+672|0)|0}d=B(a[4668+((_>>>3&7)<<2)>>2]|0,a[4668+((_&7)<<2)>>2]|0)|0;a[4668+((_&7)<<2)>>2]=d;i=a[1184]|0;i=(d|0)<0?i|-2147483648:i&2147483647;a[1184]=(d|0)==0?i|1073741824:i&-1073741825;i=0;p=e;a[e+4792>>2]=6;a[e+4796>>2]=i|0;break e}case 6:{if(n[5300]|0){d=a[2]|0;a[e+680>>2]=_&7;a[e+680+4>>2]=_>>>3&7;$e(d,1598,e+680|0)|0}d=a[4668+((_>>>3&7)<<2)>>2]|0;a[4668+((_&7)<<2)>>2]=~d;i=a[1184]|0;i=(d|0)>-1?i|-2147483648:i&2147483647;a[1184]=(d|0)==-1?i|1073741824:i&-1073741825;i=0;p=e;a[e+4792>>2]=6;a[e+4796>>2]=i|0;break e}case 0:{if(n[5300]|0){d=a[2]|0;a[e+688>>2]=_&7;a[e+688+4>>2]=_>>>3&7;$e(d,1612,e+688|0)|0}d=a[4668+((_>>>3&7)<<2)>>2]|0;a[4668+((_&7)<<2)>>2]=0-d;i=a[1184]|0;i=(0-d|0)<0?i|-2147483648:i&2147483647;i=(d|0)==0?i|1073741824:i&-1073741825;i=(((((~d&2147483647)+1|0)>>>31)+(~d>>>31)|0)&2|0)==0?i&-536870913:i|536870912;a[1184]=(((~d&2147483647)+1|0)>>>31|0)==(((((~d&2147483647)+1|0)>>>31)+(~d>>>31)|0)>>>1|0)?i&-268435457:i|268435456;i=0;p=e;a[e+4792>>2]=6;a[e+4796>>2]=i|0;break e}case 3:{if(n[5300]|0){d=a[2]|0;a[e+696>>2]=_&7;a[e+696+4>>2]=_>>>3&7;$e(d,1626,e+696|0)|0}d=a[4668+((_>>>3&7)<<2)>>2]|a[4668+((_&7)<<2)>>2];a[4668+((_&7)<<2)>>2]=d;i=a[1184]|0;i=(d|0)<0?i|-2147483648:i&2147483647;a[1184]=(d|0)==0?i|1073741824:i&-1073741825;i=0;p=e;a[e+4792>>2]=6;a[e+4796>>2]=i|0;break e}default:t=1}if(t)switch(r|0){default:{t=1;r=(_&65024)<<16>>16;if(t)switch(r|0){case-17408:{if(!(n[5300]|0))r=_&1;else{r=a[2]|0;xe(1640,5,1,r)|0;if(!(_&1))t=0;else{a[e+704>>2]=0;$e(r,1249,e+704|0)|0;t=1}if(_&2){if(t|0)at(44,r)|0;a[e+1064>>2]=1;$e(r,1249,e+1064|0)|0;t=t+1|0}if(_&4){if(t|0)at(44,r)|0;a[e+1072>>2]=2;$e(r,1249,e+1072|0)|0;t=t+1|0}if(_&8){if(t|0)at(44,r)|0;a[e+1080>>2]=3;$e(r,1249,e+1080|0)|0;t=t+1|0}if(_&16){if(t|0)at(44,r)|0;a[e+1088>>2]=4;$e(r,1249,e+1088|0)|0;t=t+1|0}if(_&32){if(t|0)at(44,r)|0;a[e+1096>>2]=5;$e(r,1249,e+1096|0)|0;t=t+1|0}if(_&64){if(t|0)at(44,r)|0;a[e+1104>>2]=6;$e(r,1249,e+1104|0)|0;t=t+1|0}if(_&128){if(t|0)at(44,r)|0;a[e+1112>>2]=7;$e(r,1249,e+1112|0)|0;t=t+1|0}if(_&256|0){if(t|0)at(44,r)|0;xe(1646,2,1,r)|0}xe(1253,2,1,r)|0;r=_&1}t=a[1180]|0;if(r){a[1167]=G(1,t|0)|0;t=t+4|0}if(_&2){a[1168]=G(1,t|0)|0;t=t+4|0}if(_&4){a[1169]=G(1,t|0)|0;t=t+4|0}if(_&8){a[1170]=G(1,t|0)|0;t=t+4|0}if(_&16){a[1171]=G(1,t|0)|0;t=t+4|0}if(_&32){a[1172]=G(1,t|0)|0;t=t+4|0}if(_&64){a[1173]=G(1,t|0)|0;t=t+4|0}if(_&128){a[1174]=G(1,t|0)|0;t=t+4|0}if(_&256){r=G(1,t|0)|0;if(!(r&1)){_=a[2]|0;a[e+712>>2]=d;a[e+712+4>>2]=r;$e(_,1649,e+712|0)|0;r=r&-2}a[1182]=r+2&-2;t=t+4|0}a[1180]=t;i=0;p=e;a[e+4792>>2]=6;a[e+4796>>2]=i|0;break e}case-19456:{h=a[2]|0;if(!(n[5300]|0)){t=_&2;r=_&4;i=_&8;o=_&16;s=_&32;u=_&64;c=_&128;l=_&256;f=_&1}else{xe(1703,6,1,h)|0;if(!(_&1))t=0;else{a[e+720>>2]=0;$e(h,1249,e+720|0)|0;t=1}if(_&2){if(t|0)at(44,h)|0;a[e+1120>>2]=1;$e(h,1249,e+1120|0)|0;t=t+1|0}if(_&4){if(t|0)at(44,h)|0;a[e+1128>>2]=2;$e(h,1249,e+1128|0)|0;t=t+1|0}if(_&8){if(t|0)at(44,h)|0;a[e+1136>>2]=3;$e(h,1249,e+1136|0)|0;t=t+1|0}if(_&16){if(t|0)at(44,h)|0;a[e+1144>>2]=4;$e(h,1249,e+1144|0)|0;t=t+1|0}if(_&32){if(t|0)at(44,h)|0;a[e+1152>>2]=5;$e(h,1249,e+1152|0)|0;t=t+1|0}if(_&64){if(t|0)at(44,h)|0;a[e+1160>>2]=6;$e(h,1249,e+1160|0)|0;t=t+1|0}if(_&128){if(t|0)at(44,h)|0;a[e+1168>>2]=7;$e(h,1249,e+1168|0)|0;t=t+1|0}if(_&256|0){if(t|0)at(44,h)|0;xe(1710,2,1,h)|0}xe(1253,2,1,h)|0;t=_&2;r=_&4;i=_&8;o=_&16;s=_&32;u=_&64;c=_&128;l=_&256;f=_&1}s=(a[1180]|0)-((c>>>7)+((u>>>6)+((s>>>5)+((o>>>4)+((i>>>3)+((r>>>2)+((t>>>1)+f))))))+(l>>>8)<<2)|0;t=s;i=0;o=1;while(1){if(!(o&_))r=t;else{r=a[4668+(i<<2)>>2]|0;t:do{if((t&-268435456|0)==-536870912){f=t+536813552|0;switch(f>>>2|f<<30|0){case 0:{f=a[1164]|0;a[1164]=r&65543;if((r&1|0)==0|(f&1|0)!=0)break t;a[1166]=a[1165];break t}case 1:{a[1165]=r&16777215;break t}case 2:{a[1166]=r&16777215;break t}case 3:break t;default:break t}}else te(2,t|0,r|0)|0}while(0);r=t+4|0}i=i+1|0;if((i|0)==8)break;else{t=r;o=o<<1&254}}do{if(l|0){t=a[1181]|0;t:do{if((r&-268435456|0)==-536870912){_=r+536813552|0;switch(_>>>2|_<<30|0){case 0:{_=a[1164]|0;a[1164]=t&65543;if((t&1|0)==0|(_&1|0)!=0)break t;a[1166]=a[1165];break t}case 1:{a[1165]=t&16777215;break t}case 2:{a[1166]=t&16777215;break t}case 3:break t;default:break t}}else te(2,r|0,t|0)|0}while(0);if(t&1|0)break;a[e+728>>2]=d;a[e+728+4>>2]=t;$e(h,1713,e+728|0)|0}}while(0);a[1180]=s;i=0;p=e;a[e+4792>>2]=6;a[e+4796>>2]=i|0;break e}default:t=1}if(t)switch(r|0){default:{t:do{if((_&65472)<<16>>16<-17728)switch((_&65472)<<16>>16){case-17920:{if(n[5300]|0){d=a[2]|0;a[e+736>>2]=_&7;a[e+736+4>>2]=_>>>3&7;$e(d,1768,e+736|0)|0}a[4668+((_&7)<<2)>>2]=bt(a[4668+((_>>>3&7)<<2)>>2]|0)|0;i=0;p=e;a[e+4792>>2]=6;a[e+4796>>2]=i|0;break e}case-17856:{if(n[5300]|0){d=a[2]|0;a[e+744>>2]=_&7;a[e+744+4>>2]=_>>>3&7;$e(d,1781,e+744|0)|0}i=a[4668+((_>>>3&7)<<2)>>2]|0;a[4668+((_&7)<<2)>>2]=i<<8&65280|i>>>8&255|i>>>16<<24|i>>>24<<16;i=0;p=e;a[e+4792>>2]=6;a[e+4796>>2]=i|0;break e}default:break t}else{if((_&65472)<<16>>16<16768){switch((_&65472)<<16>>16){case-17728:break;default:break t}if(n[5300]|0){d=a[2]|0;a[e+752>>2]=_&7;a[e+752+4>>2]=_>>>3&7;$e(d,1796,e+752|0)|0}i=a[4668+((_>>>3&7)<<2)>>2]|0;a[4668+((_&7)<<2)>>2]=(i<<8&32768|0)==0?i<<8&65280|i>>>8&255:i<<8&65280|i>>>8&255|-65536;i=0;p=e;a[e+4792>>2]=6;a[e+4796>>2]=i|0;break e}switch((_&65472)<<16>>16){case 16832:break;case 16768:{if(n[5300]|0){d=a[2]|0;a[e+768>>2]=_&7;a[e+768+4>>2]=_>>>3&7;$e(d,1825,e+768|0)|0}r=a[4668+((_&7)<<2)>>2]|0;i=a[4668+((_>>>3&7)<<2)>>2]|0;d=a[1184]|0;a[4668+((_&7)<<2)>>2]=r-i+-1+(d>>>29&1);t=(r-i+-1+(d>>>29&1)|0)<0?d|-2147483648:d&2147483647;t=(r-i+-1+(d>>>29&1)|0)==0?t|1073741824:t&-1073741825;a[1184]=t;if(!(t&536870912)){_=(((~i>>>31)+(r>>>31)+(((~i&2147483647)+(r&2147483647)|0)>>>31)|0)&2|0)==0?t&-536870913:t|536870912;a[1184]=(((~i&2147483647)+(r&2147483647)|0)>>>31|0)==(((~i>>>31)+(r>>>31)+(((~i&2147483647)+(r&2147483647)|0)>>>31)|0)>>>1&1|0)?_&-268435457:_|268435456;i=0;p=e;a[e+4792>>2]=6;a[e+4796>>2]=i|0;break e}else{_=(((~i>>>31)+(r>>>31)+(((~i&2147483647)+(r&2147483647)+1|0)>>>31)|0)&2|0)==0?t&-536870913:t|536870912;a[1184]=(((~i&2147483647)+(r&2147483647)+1|0)>>>31|0)==(((~i>>>31)+(r>>>31)+(((~i&2147483647)+(r&2147483647)+1|0)>>>31)|0)>>>1&1|0)?_&-268435457:_|268435456;i=0;p=e;a[e+4792>>2]=6;a[e+4796>>2]=i|0;break e}}default:break t}if(n[5300]|0){d=a[2]|0;a[e+760>>2]=_&7;a[e+760+4>>2]=_>>>3&7;$e(d,1811,e+760|0)|0}t=a[4668+((_&7)<<2)>>2]|0;r=a[4668+((_>>>3&7)<<2)>>2]|0;do{if(!(r&255))r=a[1184]|0;else if(!(r&31)){r=a[1184]|0;r=(t|0)<0?r|536870912:r&-536870913;a[1184]=r;break}else{d=a[1184]|0;d=1<<(r&31)+-1&t|0?d|536870912:d&-536870913;a[1184]=d;t=t<<32-(r&31)|t>>>(r&31);r=d;break}}while(0);a[4668+((_&7)<<2)>>2]=t;i=(t|0)<0?r|-2147483648:r&2147483647;a[1184]=(t|0)==0?i|1073741824:i&-1073741825;i=0;p=e;a[e+4792>>2]=6;a[e+4796>>2]=i|0;break e}}while(0);if((_&65527|0)==46672){xe(1838,23,1,a[2]|0)|0;i=1;p=e;a[e+4792>>2]=6;a[e+4796>>2]=i|0;break e}t:do{if((_&63488)<<16>>16<24576){switch((_&63488)<<16>>16){case-16384:break;default:break t}if(n[5300]|0){r=a[2]|0;a[e+776>>2]=_>>>8&7;$e(r,1862,e+776|0)|0;if(!(_&1))t=0;else{a[e+784>>2]=0;$e(r,1249,e+784|0)|0;t=1}if(_&2){if(t|0)at(44,r)|0;a[e+1008>>2]=1;$e(r,1249,e+1008|0)|0;t=t+1|0}if(_&4){if(t|0)at(44,r)|0;a[e+1016>>2]=2;$e(r,1249,e+1016|0)|0;t=t+1|0}if(_&8){if(t|0)at(44,r)|0;a[e+1024>>2]=3;$e(r,1249,e+1024|0)|0;t=t+1|0}if(_&16){if(t|0)at(44,r)|0;a[e+1032>>2]=4;$e(r,1249,e+1032|0)|0;t=t+1|0}if(_&32){if(t|0)at(44,r)|0;a[e+1040>>2]=5;$e(r,1249,e+1040|0)|0;t=t+1|0}if(_&64){if(t|0)at(44,r)|0;a[e+1048>>2]=6;$e(r,1249,e+1048|0)|0;t=t+1|0}if(_&128|0){if(t|0)at(44,r)|0;a[e+1056>>2]=7;$e(r,1249,e+1056|0)|0}xe(1253,2,1,r)|0}i=1;o=0;t=a[4668+((_>>>8&7)<<2)>>2]|0;while(1){if(i&_){r=a[4668+(o<<2)>>2]|0;r:do{if((t&-268435456|0)==-536870912){d=t+536813552|0;switch(d>>>2|d<<30|0){case 0:{d=a[1164]|0;a[1164]=r&65543;if((r&1|0)==0|(d&1|0)!=0)break r;a[1166]=a[1165];break r}case 1:{a[1165]=r&16777215;break r}case 2:{a[1166]=r&16777215;break r}case 3:break r;default:break r}}else te(2,t|0,r|0)|0}while(0);t=t+4|0}o=o+1|0;if((o|0)==8)break;else i=i<<1&254}a[4668+((_>>>8&7)<<2)>>2]=t;i=0;p=e;a[e+4792>>2]=6;a[e+4796>>2]=i|0;break e}else{switch((_&63488)<<16>>16){case 24576:break;default:break t}if(n[5300]|0){d=a[2]|0;a[e+792>>2]=_&7;a[e+792+4>>2]=_>>>3&7;a[e+792+8>>2]=_>>>4&124;$e(d,1875,e+792|0)|0}r=(a[4668+((_>>>3&7)<<2)>>2]|0)+(_>>>4&124)|0;t=a[4668+((_&7)<<2)>>2]|0;if((r&-268435456|0)!=-536870912){te(2,r|0,t|0)|0;i=0;p=e;a[e+4792>>2]=6;a[e+4796>>2]=i|0;break e}switch((r+536813552|0)>>>2|r+536813552<<30|0){case 0:{_=a[1164]|0;a[1164]=t&65543;if((t&1|0)==0|(_&1|0)!=0){i=0;p=e;a[e+4792>>2]=6;a[e+4796>>2]=i|0;break e}a[1166]=a[1165];i=0;p=e;a[e+4792>>2]=6;a[e+4796>>2]=i|0;break e}case 1:{a[1165]=t&16777215;i=0;p=e;a[e+4792>>2]=6;a[e+4796>>2]=i|0;break e}case 2:{a[1166]=t&16777215;i=0;p=e;a[e+4792>>2]=6;a[e+4796>>2]=i|0;break e}case 3:{i=0;p=e;a[e+4792>>2]=6;a[e+4796>>2]=i|0;break e}default:{i=0;p=e;a[e+4792>>2]=6;a[e+4796>>2]=i|0;break e}}}}while(0);if((_&65024|0)==20480){if(n[5300]|0){d=a[2]|0;a[e+808>>2]=_&7;a[e+808+4>>2]=_>>>3&7;a[e+808+8>>2]=_>>>6&7;$e(d,1896,e+808|0)|0}r=(a[4668+((_>>>6&7)<<2)>>2]|0)+(a[4668+((_>>>3&7)<<2)>>2]|0)|0;t=a[4668+((_&7)<<2)>>2]|0;if((r&-268435456|0)!=-536870912){te(2,r|0,t|0)|0;i=0;p=e;a[e+4792>>2]=6;a[e+4796>>2]=i|0;break e}switch((r+536813552|0)>>>2|r+536813552<<30|0){case 0:{_=a[1164]|0;a[1164]=t&65543;if((t&1|0)==0|(_&1|0)!=0){i=0;p=e;a[e+4792>>2]=6;a[e+4796>>2]=i|0;break e}a[1166]=a[1165];i=0;p=e;a[e+4792>>2]=6;a[e+4796>>2]=i|0;break e}case 1:{a[1165]=t&16777215;i=0;p=e;a[e+4792>>2]=6;a[e+4796>>2]=i|0;break e}case 2:{a[1166]=t&16777215;i=0;p=e;a[e+4792>>2]=6;a[e+4796>>2]=i|0;break e}case 3:{i=0;p=e;a[e+4792>>2]=6;a[e+4796>>2]=i|0;break e}default:{i=0;p=e;a[e+4792>>2]=6;a[e+4796>>2]=i|0;break e}}}t:do{if((_&63488)<<16>>16<28672){switch((_&63488)<<16>>16){case-28672:break;default:break t}if(n[5300]|0){d=a[2]|0;a[e+824>>2]=_>>>8&7;a[e+824+4>>2]=_<<2&1020;$e(d,1915,e+824|0)|0}r=(a[1180]|0)+(_<<2&1020)|0;t=a[4668+((_>>>8&7)<<2)>>2]|0;if((r&-268435456|0)!=-536870912){te(2,r|0,t|0)|0;i=0;p=e;a[e+4792>>2]=6;a[e+4796>>2]=i|0;break e}switch((r+536813552|0)>>>2|r+536813552<<30|0){case 0:{_=a[1164]|0;a[1164]=t&65543;if((t&1|0)==0|(_&1|0)!=0){i=0;p=e;a[e+4792>>2]=6;a[e+4796>>2]=i|0;break e}a[1166]=a[1165];i=0;p=e;a[e+4792>>2]=6;a[e+4796>>2]=i|0;break e}case 1:{a[1165]=t&16777215;i=0;p=e;a[e+4792>>2]=6;a[e+4796>>2]=i|0;break e}case 2:{a[1166]=t&16777215;i=0;p=e;a[e+4792>>2]=6;a[e+4796>>2]=i|0;break e}case 3:{i=0;p=e;a[e+4792>>2]=6;a[e+4796>>2]=i|0;break e}default:{i=0;p=e;a[e+4792>>2]=6;a[e+4796>>2]=i|0;break e}}}else{switch((_&63488)<<16>>16){case 28672:break;default:break t}if(n[5300]|0){d=a[2]|0;a[e+832>>2]=_&7;a[e+832+4>>2]=_>>>3&7;a[e+832+8>>2]=_>>>6&31;$e(d,1935,e+832|0)|0}i=a[4668+((_>>>3&7)<<2)>>2]|0;t=a[4668+((_&7)<<2)>>2]|0;r=G(3,i+(_>>>6&31)&-2|0)|0;if(!(i+(_>>>6)&1))t=r&65280|t&255;else t=r&255|t<<8;te(5,i+(_>>>6&31)&-2|0,t&65535|0)|0;i=0;p=e;a[e+4792>>2]=6;a[e+4796>>2]=i|0;break e}}while(0);if((_&65024|0)==21504){if(n[5300]|0){d=a[2]|0;a[e+848>>2]=_&7;a[e+848+4>>2]=_>>>3&7;a[e+848+8>>2]=_>>>6&7;$e(d,1957,e+848|0)|0}i=(a[4668+((_>>>6&7)<<2)>>2]|0)+(a[4668+((_>>>3&7)<<2)>>2]|0)|0;t=a[4668+((_&7)<<2)>>2]|0;r=G(3,i&-2|0)|0;if(!(i&1))t=r&65280|t&255;else t=r&255|t<<8;te(5,i&-2|0,t&65535|0)|0;i=0;p=e;a[e+4792>>2]=6;a[e+4796>>2]=i|0;break e}if((_&63488|0)==32768){if(n[5300]|0){d=a[2]|0;a[e+864>>2]=_&7;a[e+864+4>>2]=_>>>3&7;a[e+864+8>>2]=_>>>5&62;$e(d,1977,e+864|0)|0}te(5,(a[4668+((_>>>3&7)<<2)>>2]|0)+(_>>>5&62)|0,a[4668+((_&7)<<2)>>2]&65535|0)|0;i=0;p=e;a[e+4792>>2]=6;a[e+4796>>2]=i|0;break e}t:do{if((_&65024)<<16>>16<20992){switch((_&65024)<<16>>16){case 7680:break;default:break t}if(n[5300]|0){d=a[2]|0;a[e+896>>2]=_&7;a[e+896+4>>2]=_>>>3&7;a[e+896+8>>2]=_>>>6&7;$e(d,2019,e+896|0)|0}d=a[4668+((_>>>3&7)<<2)>>2]|0;a[4668+((_&7)<<2)>>2]=d-(_>>>6&7);i=a[1184]|0;i=(d-(_>>>6&7)|0)<0?i|-2147483648:i&2147483647;i=(d-(_>>>6&7)|0)==0?i|1073741824:i&-1073741825;i=(((d>>>31)+1+((((_>>>6|2147483640)^7)+1+(d&2147483647)|0)>>>31)|0)&2|0)==0?i&-536870913:i|536870912;a[1184]=((((_>>>6|2147483640)^7)+1+(d&2147483647)|0)>>>31|0)==(((d>>>31)+1+((((_>>>6|2147483640)^7)+1+(d&2147483647)|0)>>>31)|0)>>>1&1|0)?i&-268435457:i|268435456;i=0;p=e;a[e+4792>>2]=6;a[e+4796>>2]=i|0;break e}else{switch((_&65024)<<16>>16){case 20992:break;default:break t}if(n[5300]|0){d=a[2]|0;a[e+880>>2]=_&7;a[e+880+4>>2]=_>>>3&7;a[e+880+8>>2]=_>>>6&7;$e(d,1999,e+880|0)|0}te(5,(a[4668+((_>>>6&7)<<2)>>2]|0)+(a[4668+((_>>>3&7)<<2)>>2]|0)|0,a[4668+((_&7)<<2)>>2]&65535|0)|0;i=0;p=e;a[e+4792>>2]=6;a[e+4796>>2]=i|0;break e}}while(0);if((_&63488|0)==14336){if(n[5300]|0){d=a[2]|0;a[e+912>>2]=_>>>8&7;a[e+912+4>>2]=_&255;$e(d,2039,e+912|0)|0}d=a[4668+((_>>>8&7)<<2)>>2]|0;a[4668+((_>>>8&7)<<2)>>2]=d-(_&255);i=a[1184]|0;i=(d-(_&255)|0)<0?i|-2147483648:i&2147483647;i=(d-(_&255)|0)==0?i|1073741824:i&-1073741825;i=(((d>>>31)+1+((-2147483648-(_&255)+(d&2147483647)|0)>>>31)|0)&2|0)==0?i&-536870913:i|536870912;a[1184]=((-2147483648-(_&255)+(d&2147483647)|0)>>>31|0)==(((d>>>31)+1+((-2147483648-(_&255)+(d&2147483647)|0)>>>31)|0)>>>1&1|0)?i&-268435457:i|268435456;i=0;p=e;a[e+4792>>2]=6;a[e+4796>>2]=i|0;break e}if((_&65024|0)==6656){if(n[5300]|0){d=a[2]|0;a[e+920>>2]=_&7;a[e+920+4>>2]=_>>>3&7;a[e+920+8>>2]=_>>>6&7;$e(d,2057,e+920|0)|0}h=a[4668+((_>>>3&7)<<2)>>2]|0;d=a[4668+((_>>>6&7)<<2)>>2]|0;a[4668+((_&7)<<2)>>2]=h-d;i=a[1184]|0;i=(h-d|0)<0?i|-2147483648:i&2147483647;i=(h-d|0)==0?i|1073741824:i&-1073741825;i=(((~d>>>31)+(h>>>31)+(((h&2147483647)+1+(~d&2147483647)|0)>>>31)|0)&2|0)==0?i&-536870913:i|536870912;a[1184]=(((h&2147483647)+1+(~d&2147483647)|0)>>>31|0)==(((~d>>>31)+(h>>>31)+(((h&2147483647)+1+(~d&2147483647)|0)>>>31)|0)>>>1&1|0)?i&-268435457:i|268435456;i=0;p=e;a[e+4792>>2]=6;a[e+4796>>2]=i|0;break e}if((_&65408|0)==45184){if(n[5300]|0){d=a[2]|0;a[e+936>>2]=_<<2&508;$e(d,2075,e+936|0)|0}a[1180]=(a[1180]|0)-(_<<2&508);i=0;p=e;a[e+4792>>2]=6;a[e+4796>>2]=i|0;break e}if((_&65280|0)==57088){if(n[5300]|0){d=a[2]|0;a[e+944>>2]=_&255;$e(d,2091,e+944|0)|0}if((_&255|0)==204){a[1167]=a[1184];i=0;p=e;a[e+4792>>2]=6;a[e+4796>>2]=i|0;break e}else{i=a[2]|0;a[e+952>>2]=_&255;$e(i,2103,e+952|0)|0;i=1;p=e;a[e+4792>>2]=6;a[e+4796>>2]=i|0;break e}}t:do{if((_&65472)<<16>>16<-19840)switch((_&65472)<<16>>16){case-19904:{if(n[5300]|0){d=a[2]|0;a[e+960>>2]=_&7;a[e+960+4>>2]=_>>>3&7;$e(d,2117,e+960|0)|0}i=a[4668+((_>>>3&7)<<2)>>2]|0;a[4668+((_&7)<<2)>>2]=(i&128|0)==0?i&255:i|-256;i=0;p=e;a[e+4792>>2]=6;a[e+4796>>2]=i|0;break e}case-19968:{if(n[5300]|0){d=a[2]|0;a[e+968>>2]=_&7;a[e+968+4>>2]=_>>>3&7;$e(d,2131,e+968|0)|0}i=a[4668+((_>>>3&7)<<2)>>2]|0;a[4668+((_&7)<<2)>>2]=(i&32768|0)==0?i&65535:i|-65536;i=0;p=e;a[e+4792>>2]=6;a[e+4796>>2]=i|0;break e}default:break t}else{if((_&65472)<<16>>16<-19776){switch((_&65472)<<16>>16){case-19840:break;default:break t}if(n[5300]|0){d=a[2]|0;a[e+992>>2]=_&7;a[e+992+4>>2]=_>>>3&7;$e(d,2172,e+992|0)|0}a[4668+((_&7)<<2)>>2]=a[4668+((_>>>3&7)<<2)>>2]&65535;i=0;p=e;a[e+4792>>2]=6;a[e+4796>>2]=i|0;break e}if((_&65472)<<16>>16<16896){switch((_&65472)<<16>>16){case-19776:break;default:break t}if(n[5300]|0){d=a[2]|0;a[e+984>>2]=_&7;a[e+984+4>>2]=_>>>3&7;$e(d,2158,e+984|0)|0}a[4668+((_&7)<<2)>>2]=a[4668+((_>>>3&7)<<2)>>2]&255;i=0;p=e;a[e+4792>>2]=6;a[e+4796>>2]=i|0;break e}else{switch((_&65472)<<16>>16){case 16896:break;default:break t}if(n[5300]|0){d=a[2]|0;a[e+976>>2]=_&7;a[e+976+4>>2]=_>>>3&7;$e(d,2145,e+976|0)|0}_=a[4668+((_>>>3&7)<<2)>>2]&a[4668+((_&7)<<2)>>2];i=a[1184]|0;i=(_|0)<0?i|-2147483648:i&2147483647;a[1184]=(_|0)==0?i|1073741824:i&-1073741825;i=0;p=e;a[e+4792>>2]=6;a[e+4796>>2]=i|0;break e}}}while(0);i=a[2]|0;a[e+1e3>>2]=o;a[e+1e3+4>>2]=_;$e(i,2186,e+1e3|0)|0;i=1;p=e;a[e+4792>>2]=6;a[e+4796>>2]=i|0;break e}}}}}}}a[e+1368>>2]=i}var At=[wt,we];var St=[kt,ke,Ee,kt];return{_llvm_bswap_i32:bt,_enable_debug:de,stackSave:ne,_i64Subtract:st,___udivdi3:_t,setThrew:oe,_bitshift64Lshr:ft,_read_register:pe,_bitshift64Shl:lt,_memset:ct,_sbrk:gt,_memcpy:ht,stackAlloc:re,___uremdi3:mt,_run:le,_abort_run:he,setTempRet0:se,_i64Add:ut,dynCall_iiii:yt,dynCall_ii:vt,_ping:fe,_emscripten_get_global_libc:ye,_free:ve,___errno_location:Se,_set_stop_address:ce,runPostSets:ot,getTempRet0:ue,_write_register:_e,stackRestore:ie,_malloc:be,establishStackSpace:ae,_reset:ge}}(Module.asmGlobalArg,Module.asmLibraryArg,buffer),_enable_debug=Module._enable_debug=asm._enable_debug,stackSave=Module.stackSave=asm.stackSave,_i64Subtract=Module._i64Subtract=asm._i64Subtract,___udivdi3=Module.___udivdi3=asm.___udivdi3,getTempRet0=Module.getTempRet0=asm.getTempRet0,_bitshift64Lshr=Module._bitshift64Lshr=asm._bitshift64Lshr,_read_register=Module._read_register=asm._read_register,_bitshift64Shl=Module._bitshift64Shl=asm._bitshift64Shl,_memset=Module._memset=asm._memset,_sbrk=Module._sbrk=asm._sbrk,_memcpy=Module._memcpy=asm._memcpy,___errno_location=Module.___errno_location=asm.___errno_location,___uremdi3=Module.___uremdi3=asm.___uremdi3,stackAlloc=Module.stackAlloc=asm.stackAlloc,_run=Module._run=asm._run,_abort_run=Module._abort_run=asm._abort_run,setTempRet0=Module.setTempRet0=asm.setTempRet0,_i64Add=Module._i64Add=asm._i64Add,_ping=Module._ping=asm._ping,_emscripten_get_global_libc=Module._emscripten_get_global_libc=asm._emscripten_get_global_libc,_set_stop_address=Module._set_stop_address=asm._set_stop_address,_llvm_bswap_i32=Module._llvm_bswap_i32=asm._llvm_bswap_i32,_free=Module._free=asm._free,runPostSets=Module.runPostSets=asm.runPostSets,setThrew=Module.setThrew=asm.setThrew,establishStackSpace=Module.establishStackSpace=asm.establishStackSpace,_write_register=Module._write_register=asm._write_register,stackRestore=Module.stackRestore=asm.stackRestore,_malloc=Module._malloc=asm._malloc,_reset=Module._reset=asm._reset,dynCall_ii=Module.dynCall_ii=asm.dynCall_ii,dynCall_iiii=Module.dynCall_iiii=asm.dynCall_iiii,initialStackTop;function ExitStatus(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function run(e){function t(){Module.calledRun||(Module.calledRun=!0,ABORT||(ensureInitRuntime(),preMain(),Module.onRuntimeInitialized&&Module.onRuntimeInitialized(),Module._main&&shouldRunNow&&Module.callMain(e),postRun()))}e=e||Module.arguments,runDependencies>0||(preRun(),runDependencies>0||Module.calledRun||(Module.setStatus?(Module.setStatus("Running..."),setTimeout(function(){setTimeout(function(){Module.setStatus("")},1),t()},1)):t()))}function exit(e,t){t&&Module.noExitRuntime||(Module.noExitRuntime||(ABORT=!0,STACKTOP=initialStackTop,exitRuntime(),Module.onExit&&Module.onExit(e)),ENVIRONMENT_IS_NODE&&process.exit(e),Module.quit(e,new ExitStatus(e)))}Runtime.stackAlloc=Module.stackAlloc,Runtime.stackSave=Module.stackSave,Runtime.stackRestore=Module.stackRestore,Runtime.establishStackSpace=Module.establishStackSpace,Runtime.setTempRet0=Module.setTempRet0,Runtime.getTempRet0=Module.getTempRet0,Module.asm=asm,Module.then=function(e){if(Module.calledRun)e(Module);else{var t=Module.onRuntimeInitialized;Module.onRuntimeInitialized=function(){t&&t(),e(Module)}}return Module},ExitStatus.prototype=new Error,ExitStatus.prototype.constructor=ExitStatus,dependenciesFulfilled=function e(){Module.calledRun||run(),Module.calledRun||(dependenciesFulfilled=e)},Module.callMain=Module.callMain=function(e){e=e||[],ensureInitRuntime();var t=e.length+1;function r(){for(var e=0;e<3;e++)n.push(0)}var n=[allocate(intArrayFromString(Module.thisProgram),"i8",ALLOC_NORMAL)];r();for(var i=0;i<t-1;i+=1)n.push(allocate(intArrayFromString(e[i]),"i8",ALLOC_NORMAL)),r();n.push(0),n=allocate(n,"i32",ALLOC_NORMAL);try{exit(Module._main(t,n,0),!0)}catch(e){if(e instanceof ExitStatus)return;if("SimulateInfiniteLoop"==e)return void(Module.noExitRuntime=!0);var a=e;e&&"object"==typeof e&&e.stack&&(a=[e,e.stack]),Module.printErr("exception thrown: "+a),Module.quit(1,e)}},Module.run=Module.run=run,Module.exit=Module.exit=exit;var abortDecorators=[];function abort(e){Module.onAbort&&Module.onAbort(e),void 0!==e?(Module.print(e),Module.printErr(e),e=JSON.stringify(e)):e="",ABORT=!0;var t="abort("+e+") at "+stackTrace()+"\nIf this abort() is unexpected, build with -s ASSERTIONS=1 which can give more information.";throw abortDecorators&&abortDecorators.forEach(function(r){t=r(t,e)}),t}if(Module.abort=Module.abort=abort,Module.preInit)for("function"==typeof Module.preInit&&(Module.preInit=[Module.preInit]);Module.preInit.length>0;)Module.preInit.pop()();var shouldRunNow=!1;return Module.noInitialRun&&(shouldRunNow=!1),Module.noExitRuntime=!0,run(),Module};module.exports&&(module.exports=Module),module.exports=Module}),tslib_1=getCjsExportFromNamespace(tslib_es6),Thumbulator_1=createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){void 0===t&&(t={}),this._module=null,this._options=null,this._options=tslib_1.__assign({stopAddress:0},t),this._module=thumbulator(this._getApi(e,this._options)),this.enableDebug(!1)}return e.prototype.init=function(){return tslib_1.__awaiter(this,void 0,void 0,function(){return tslib_1.__generator(this,function(e){return this._module._set_stop_address(this._options.stopAddress),[2]})})},e.prototype.ping=function(){return this._module.ccall("ping","string",[],[])},e.prototype.run=function(e){return this._module._run(e)},e.prototype.abort=function(){this._module._abort_run()},e.prototype.enableDebug=function(e){this._module._enable_debug(e?1:0)},e.prototype.reset=function(){this._module._reset()},e.prototype.readRegister=function(e){if(e<0||e>15)throw new Error("illegal thumb register "+e);return this._module._read_register(e)},e.prototype.writeRegister=function(e,t){if(e<0||e>15)throw new Error("illegal thumb register "+e);this._module._write_register(e,t)},e.prototype._getApi=function(e,t){var r=t.printer||function(e){return console.log("thumbulator: "+e)};return{print:r,printErr:r,trapOnInstructionFetch:t.trapOnInstructionFetch||function(){return 0},trapOnBx32:t.trapOnBx32||function(){return 3},busRead16:e.read16,busRead32:e.read32||function(t){return 65535&e.read16(t)|e.read16(t+2)<<16},busWrite16:e.write16,busWrite32:e.write32||function(t,r){return e.write16(t,65535&r),e.write16(t+2,r>>>16)}}},e}();t.default=r}),Thumbulator=unwrapExports(Thumbulator_1);function encodeWithPrefix(e,t,r,n){if(void 0===r&&(r=!0),void 0===n&&(n=""),!r&&e<0)return encodeWithPrefix(e>>>16,t&&t>8?t-4:4,!1,n)+encodeWithPrefix(65535&e,4);var i=Math.abs(e).toString(16).toUpperCase();if(void 0!==t)for(;i.length<t;)i="0"+i;return(e<0?"-":"")+n+i}function encode$1(e,t,r){return void 0===r&&(r=!0),encodeWithPrefix(e,t,r,"$")}function hostIsLittleEndian(){var e=new Uint8Array([1,2,3,4]);return 67305985===new Uint32Array(e.buffer)[0]}var Soc=function(){function e(e){var t=this;void 0===e&&(e=function(){return 3}),this.trap=new lib_1,this._thumbulatorBus={read16:function(e){if(1&e)return t._triggerTrap("unaligned 16 bit ARM read from "+encode$1(e,8,!1)),0;var r=268435455&e;switch(e>>>28){case 0:if(r<32768)return t.getRom16(r);break;case 4:if(r<8192)return t.getRam16(r);break;case 14:switch(r){case 2080768:return t._armMamcr}}t._triggerTrap("invalid 16 bit ARM read from "+encode$1(e,8,!1))},read32:function(e){if(3&e)return t._triggerTrap("unaligned 32 bit ARM read from "+encode$1(e,8,!1)),0;var r=268435455&e;switch(e>>>28){case 0:if(r<32768)return t.getRom32(r);break;case 4:if(r<8192)return t.getRam32(r);break;case 14:switch(r){case 32772:case 32776:return 0}}t._triggerTrap("invalid 32 bit ARM read from "+encode$1(e,8,!1))},write16:function(e,r){if(1&e)t._triggerTrap("unaligned 16 bit ARM write: "+encode$1(r,4)+" -> "+encode$1(e,8,!1));else{var n=268435455&e;switch(e>>>28){case 4:if(n<8192)return void t.setRam16(n,65535&r);break;case 14:switch(n){case 2080768:return void(t._armMamcr=r)}}t._triggerTrap("invalid 16 bit ARM write: "+encode$1(r,4)+" -> "+encode$1(e,8,!1))}},write32:function(e,r){if(3&e)t._triggerTrap("unaligned 32 bit ARM write: "+encode$1(r,8,!1)+" -> "+encode$1(e,8,!1));else{var n=268435455&e;switch(e>>>28){case 4:if(n<8192)return void t.setRam32(n,r);case 14:switch(n){case 32772:case 32776:return}}t._triggerTrap("invalid 32 bit ARM write: "+encode$1(r,8,!1)+" -> "+encode$1(e,8,!1))}}},this._romBuffer=new ArrayBuffer(32768),this._ramBuffer=new ArrayBuffer(8192),this._armMamcr=0,this._thumbulator=null,hostIsLittleEndian()?(this.getRom16=function(e){return t._rom16[e>>>1]},this.getRom32=function(e){return t._rom32[e>>>2]},this.getRam16=function(e){return t._ram16[e>>>1]},this.getRam32=function(e){return t._ram32[e>>>2]},this.setRam16=function(e,r){return t._ram16[e>>>1]=r},this.setRam32=function(e,r){return t._ram32[e>>>2]=r}):(this.getRom16=function(e){return t._rom8[e]|t._rom8[e+1]<<8},this.getRom32=function(e){return t._rom8[e]|t._rom8[e+1]<<8|t._rom8[e+2]<<16|t._rom8[e+3]<<24},this.getRam16=function(e){return t._ram8[e]|t._ram8[e+1]<<8},this.getRam32=function(e){return t._ram8[e]|t._ram8[e+1]<<8|t._ram8[e+2]<<16|t._ram8[e+3]<<24},this.setRam16=function(e,r){t._ram8[e]=255&r,t._ram8[e+1]=r>>>8&255},this.setRam32=function(e,r){t._ram8[e]=255&r,t._ram8[e+1]=r>>>8&255,t._ram8[e+2]=r>>>16&255,t._ram8[e+3]=r>>>24&255}),this._rom8=new Uint8Array(this._romBuffer),this._rom16=new Uint16Array(this._romBuffer),this._rom32=new Uint32Array(this._romBuffer),this._ram8=new Uint8Array(this._ramBuffer),this._ram16=new Uint16Array(this._ramBuffer),this._ram32=new Uint32Array(this._ramBuffer),this._thumbulator=new Thumbulator(this._thumbulatorBus,{stopAddress:32772,trapOnBx32:e}),this.reset()}return e.prototype.init=function(){return this._thumbulator.init()},e.prototype.reset=function(){},e.prototype.getRom=function(){return this._rom8},e.prototype.getRam=function(){return this._ram8},e.prototype.run=function(e){this._thumbulator.reset(),this._thumbulator.enableDebug(!1);for(var t=0;t<=12;t++)this._thumbulator.writeRegister(t,0);this._thumbulator.writeRegister(13,1073749940),this._thumbulator.writeRegister(14,32773),this._thumbulator.writeRegister(15,e),this._armMamcr=0;var r=this._thumbulator.run(5e5);20!==r&&10!==r&&this._triggerTrap("ARM execution trapped: "+r)},e.prototype.getThumbulator=function(){return this._thumbulator},e.prototype._triggerTrap=function(e){this._thumbulator.abort(),this.trap.dispatch(e)},e}(),CartridgeDPCPlus=function(e){function t(t){var r=e.call(this)||this;if(r._banks=new Array(6),r._fetchers=new Array(8),r._fractionalFetchers=new Array(8),r._musicFetchers=new Array(3),r._parameters=new Uint8Array(8),r._parameterIndex=0,r._rng=0,r._clockAccumulator=0,r._lastCpuTime=0,r._fastFetch=!1,r._ldaPending=!1,r._cpuTimeProvider=null,r._soc=new Soc,t.length<28672||t.length>32768)throw new Error("not a DPC+ image: invalid lenght "+t.length);r._rom=r._soc.getRom();for(var n=0;n<6;n++)r._banks[n]=new Uint8Array(r._rom.buffer,3072+4096*n,4096);r._ram=r._soc.getRam(),r._imageRam=new Uint8Array(r._ram.buffer,3072,4096);var i=32768-t.length;for(n=0;n<t.length;n++)r._rom[i+n]=t[n];for(n=0;n<8;n++)r._fetchers[n]=new Fetcher,r._fractionalFetchers[n]=new FractionalFetcher;for(n=0;n<3;n++)r._musicFetchers[n]=new MusicFetcher;return r._soc.trap.addHandler(function(e){return r.triggerTrap(2,e)}),r.reset(),r}return __extends(t,e),t.matchesBuffer=function(e){return 2===searchForSignatures(e,["DPC+".split("").map(function(e){return e.charCodeAt(0)})])[0]},t.prototype.init=function(){return this._soc.init()},t.prototype.reset=function(){this._soc.reset(),this._currentBank=this._banks[5];for(var e=0;e<768;e++)this._soc.setRam32(e<<2,this._soc.getRom32(e<<2));for(e=6912;e<8192;e++)this._soc.setRam32(768+e-6912<<2,this._soc.getRom32(e<<2));this._currentBank=this._banks[5];for(e=0;e<8;e++)this._parameters[e]=0;for(e=0;e<8;e++)this._fetchers[e].reset(),this._fractionalFetchers[e].reset();for(e=0;e<3;e++)this._musicFetchers[e].reset();this._parameterIndex=0,this._fastFetch=this._ldaPending=!1,this._rng=725831748,this._lastCpuTime=0,this._clockAccumulator=0},t.prototype.getType=function(){return CartridgeInfo.CartridgeType.bankswitch_dpc_plus},t.prototype.setBus=function(e){return this._bus=e,this},t.prototype.setCpuTimeProvider=function(e){return this._cpuTimeProvider=e,this},t.prototype.read=function(e){return this._access(e,this._bus.getLastDataBusValue())},t.prototype.peek=function(e){return this._currentBank[4095&e]},t.prototype.write=function(e,t){this._access(e,t)},t.prototype.triggerTrap=function(t,r){e.prototype.triggerTrap.call(this,t,r)},t.prototype._access=function(e,t){e&=4095;var r=this._currentBank[e];if(this._fastFetch&&this._ldaPending&&e>127&&e<4086&&r<40&&(e=r),this._ldaPending=!1,e<40){var n=7&e,i=this._fetchers[n],a=this._fractionalFetchers[n],o=0;switch(e>>>3&7){case 0:switch(n){case 0:return this._advanceRng(),255&this._rng;case 1:return this._rewindRng(),255&this._rng;case 2:return this._rng>>>8&255;case 3:return this._rng>>>16&255;case 4:return this._rng>>>24&255;case 5:this._clockMusicFetchers();for(var s=0,u=0;u<3;u++)s+=this._imageRam[(this._musicFetchers[u].waveform<<5)+this._musicFetchers[u].waveformSample()];return 255&s}return 0;case 1:return o=this._imageRam[i.pointer],i.increment(),o;case 2:return o=this._imageRam[i.pointer]&i.mask(),i.increment(),o;case 3:return o=this._imageRam[a.pointer>>>8],a.increment(),o;case 4:return n<4?i.mask():0;default:return 0}}else if(e<128){n=7&e,i=this._fetchers[n],a=this._fractionalFetchers[n];switch(e-40>>>3&15){case 0:a.setPointerLo(t);break;case 1:a.setPointerHi(t);break;case 2:a.setFraction(t);break;case 3:i.top=t;break;case 4:i.bottom=t;break;case 5:i.setPointerLo(t);break;case 6:switch(n){case 0:this._fastFetch=0===t;break;case 1:this._parameterIndex<8&&(this._parameters[this._parameterIndex++]=t);break;case 2:this._dispatchFunction(t);break;case 5:case 6:case 7:this._musicFetchers[n-5].waveform=127&t}break;case 7:i.decrement(),this._imageRam[i.pointer]=t;break;case 8:i.setPointerHi(t);break;case 9:switch(n){case 0:this._rng=725831748;break;case 1:this._rng=4294967040&this._rng|t;break;case 2:this._rng=4294902015&this._rng|t<<8;break;case 3:this._rng=4278255615&this._rng|t<<16;break;case 4:this._rng=16777215&this._rng|t<<24;break;case 5:case 6:case 7:this._musicFetchers[n-5].frequency=this._soc.getRam32(7168+(t<<2))}break;case 10:this._imageRam[i.pointer]=t,i.increment()}}else e>4085&&e<4092&&(this._currentBank=this._banks[e-4086]);return this._fastFetch&&e>127&&e<4086&&(this._ldaPending=169===r),r},t.prototype._clockMusicFetchers=function(){var e=this._cpuTimeProvider();this._clockAccumulator+=2e4*(e-this._lastCpuTime),this._lastCpuTime=e;var t=Math.floor(this._clockAccumulator);if(this._clockAccumulator-=t,0!==t)for(var r=0;r<3;r++)this._musicFetchers[r].increment(t)},t.prototype._dispatchFunction=function(e){var t=this._parameters[0]+(this._parameters[1]<<8);switch(e){case 0:this._parameterIndex=0;break;case 1:for(var r=0;r<this._parameters[3];r++)this._ram[3072+(this._fetchers[7&this._parameters[2]].pointer+r&4095)]=this._rom[3072+(t+r)%29696];this._parameterIndex=0;break;case 2:for(r=0;r<this._parameters[3];r++)this._ram[3072+(this._fetchers[7&this._parameters[2]].pointer+r&4095)]=this._parameters[0];this._parameterIndex=0;break;case 254:case 255:this._soc.run(3083)}},t.prototype._advanceRng=function(){this._rng=(1024&this._rng?279816990:0)^(this._rng>>>11|this._rng<<21)},t.prototype._rewindRng=function(){this._rng=this._rng&1<<31?(279816990^this._rng)<<11|(279816990^this._rng)>>>21:this._rng<<11|this._rng>>>21},t}(AbstractCartridge),Fetcher=function(){function e(){this.pointer=0,this.top=0,this.bottom=0}return e.prototype.contructor=function(){this.reset()},e.prototype.reset=function(){this.pointer=this.top=this.bottom=0},e.prototype.setPointerHi=function(e){this.pointer=255&this.pointer|(15&e)<<8},e.prototype.setPointerLo=function(e){this.pointer=3840&this.pointer|255&e},e.prototype.increment=function(){this.pointer=this.pointer+1&4095},e.prototype.decrement=function(){this.pointer=this.pointer+4095&4095},e.prototype.mask=function(){return(this.top-(255&this.pointer)&255)>(this.top-this.bottom&255)?255:0},e}(),FractionalFetcher=function(){function e(){this.pointer=0,this.fraction=0}return e.prototype.contructor=function(){this.reset()},e.prototype.reset=function(){this.pointer=this.fraction=0},e.prototype.setPointerHi=function(e){this.pointer=65535&this.pointer|(15&e)<<16},e.prototype.setPointerLo=function(e){this.pointer=983295&this.pointer|(255&e)<<8},e.prototype.setFraction=function(e){this.fraction=e,this.pointer&=1048320},e.prototype.increment=function(){this.pointer=this.pointer+this.fraction&1048575},e}(),MusicFetcher=function(){function e(){this.frequency=-1,this.counter=-1,this.waveform=0,this.reset()}return e.prototype.reset=function(){this.frequency=0,this.waveform=0,this.counter=0},e.prototype.increment=function(e){this.counter=this.counter+e*this.frequency|0},e.prototype.waveformSample=function(){return this.counter>>>27},e}(),CartridgeCDF=function(e){function t(r){var n=e.call(this)||this;n._handleBxCDF0=function(e){var t=n._soc.getThumbulator(),r=t.readRegister(2),i=t.readRegister(3);switch(e){case 1762:return n._musicStreams[r%3].frequency=i,0;case 1766:return n._musicStreams[r%3].counter=0,0;case 1770:return t.writeRegister(2,n._musicStreams[r%3].counter),0;case 1774:return n._musicStreams[r%3].waveformSize=i,0}return 3},n._handleBxCDF1=function(e){var t=n._soc.getThumbulator(),r=t.readRegister(2),i=t.readRegister(3);switch(e){case 1874:return n._musicStreams[r%3].frequency=i,0;case 1878:return n._musicStreams[r%3].counter=0,0;case 1882:return t.writeRegister(2,n._musicStreams[r%3].counter),0;case 1886:return n._musicStreams[r%3].waveformSize=i,0}return 3},n._banks=new Array(7),n._currentBank=null,n._rom=null,n._ram=null,n._displayRam=null,n._musicStreams=new Array(3),n._clockAccumulator=0,n._lastCpuTime=0,n._soc=null,n._fastFetch=!1,n._digitalAudio=!1,n._fastJumpCountdown=0,n._fastFetchPending=!1,n._jmpOperandAddress=0,n._ldaOperandAddress=0,n._datastreamBase=0,n._datastreamIncrementBase=0,n._waveformBase=0,n._jumpstream=0,n._jumpstreamMask=0,n._amplitudeStream=0,n._bus=null,n._cpuTimeProvider=null;var i=t.getVersion(r);switch(i){case 0:n._jumpstreamMask=255,n._amplitudeStream=34,n._datastreamBase=1760,n._datastreamIncrementBase=1896,n._waveformBase=2032;break;case 1:n._jumpstreamMask=255,n._amplitudeStream=34,n._datastreamBase=160,n._datastreamIncrementBase=296,n._waveformBase=432;break;case 2:n._jumpstreamMask=254,n._amplitudeStream=35,n._datastreamBase=152,n._datastreamIncrementBase=292,n._waveformBase=432;break;default:throw new Error("not a CDF image: missing signature")}if(32768!==r.length)throw new Error("not a CDF image: invalid lenght "+r.length);n._soc=new Soc(0===i?n._handleBxCDF0:n._handleBxCDF1),n._soc.trap.addHandler(function(e){return n.triggerTrap(2,e)}),n._rom=n._soc.getRom();for(var a=0;a<32768;a++)n._rom[a]=r[a];for(a=0;a<7;a++)n._banks[a]=new Uint8Array(n._rom.buffer,4096*(a+1),4096);n._ram=n._soc.getRam(),n._displayRam=new Uint8Array(n._soc.getRam().buffer,2048,4096);for(a=0;a<3;a++)n._musicStreams[a]=new MusicStream;return n.reset(),n}return __extends(t,e),t.getVersion=function(e){var t="CDF".split("").map(function(e){return e.charCodeAt(0)}),r=searchForSignature(e,__spread(t,[-1],t,[-1],t));if(r<0)return 3;switch(e[r+3]){case 0:return 0;case 1:return 1;case"J".charCodeAt(0):return 2;default:return 3}},t.matchesBuffer=function(e){return 3!==t.getVersion(e)},t.prototype.init=function(){return this._soc.init()},t.prototype.reset=function(){for(var e=0;e<512;e++)this._soc.setRam32(e<<2,this._soc.getRom32(e<<2));this._fastFetch=!1,this._digitalAudio=!1,this._fastJumpCountdown=0,this._fastFetchPending=!1,this._jmpOperandAddress=0,this._ldaOperandAddress=0,this._currentBank=this._banks[6];for(e=0;e<3;e++)this._musicStreams[e].reset();this._lastCpuTime=0,this._clockAccumulator=0},t.prototype.getType=function(){return CartridgeInfo.CartridgeType.bankswitch_cdf},t.prototype.setBus=function(e){return this._bus=e,this},t.prototype.setCpuTimeProvider=function(e){return this._cpuTimeProvider=e,this},t.prototype.read=function(e){return this._access(e,this._bus.getLastDataBusValue())},t.prototype.peek=function(e){return this._currentBank[4095&e]},t.prototype.write=function(e,t){this._access(e,t)},t.prototype._access=function(e,t){e&=4095;var r=this._currentBank[e];if(this._fastJumpCountdown-- >0&&e===this._jmpOperandAddress)return this._jmpOperandAddress++,this._datastreamReadWithIncrement(this._jumpstream,256);if(this._fastFetch&&76===r&&0==(this._currentBank[e+1&4095]&this._jumpstreamMask)&&0===this._currentBank[e+2&4095])return this._fastJumpCountdown=2,this._jmpOperandAddress=e+1&4095,this._jumpstream=33+this._currentBank[e+1&4095],r;if(this._fastJumpCountdown=0,this._fastFetch&&this._fastFetchPending&&this._ldaOperandAddress===e&&r<=this._amplitudeStream){if(this._fastFetchPending=!1,r===this._amplitudeStream){if(this._clockMusicStreams(),this._digitalAudio){var n=this._musicStreams[0].counter,i=this._soc.getRam32(this._waveformBase)+(n>>>21),a=0;return i<32768&&(a=this._rom[i]),i>1073741824&&i<1073750016&&(a=this._ram[i-1073741824]),0==(1048576&n)&&(a>>>=4),15&a}for(var o=0,s=0;s<3;s++)o+=this._displayRam[this._getWaveform(s)+(this._musicStreams[s].counter>>>this._musicStreams[s].waveformSize)&4095];return o}return this._datastreamRead(r)}if(this._fastFetchPending=!1,e>=4080){switch(e){case 4080:this._datastreamWriteWithIncrement(32,t,256);break;case 4081:var u=this._getDatastreamPointer(32);u<<=8,u&=4026531840,u|=t<<20,this._setDatastreamPointer(32,u);break;case 4082:this._fastFetch=0==(15&t),this._digitalAudio=0==(240&t);break;case 4083:switch(t){case 254:case 255:this._soc.run(2059)}}e>4084&&e<4092&&(this._currentBank=this._banks[e-4085])}return this._fastFetch&&169===r&&(this._fastFetchPending=!0,this._ldaOperandAddress=e+1&4095),r},t.prototype._clockMusicStreams=function(){var e=this._cpuTimeProvider();this._clockAccumulator+=2e4*(e-this._lastCpuTime),this._lastCpuTime=e;var t=Math.floor(this._clockAccumulator);if(this._clockAccumulator-=t,0!==t)for(var r=0;r<3;r++)this._musicStreams[r].increment(t)},t.prototype._getDatastreamPointer=function(e){return this._soc.getRam32(this._datastreamBase+4*e)},t.prototype._setDatastreamPointer=function(e,t){this._soc.setRam32(this._datastreamBase+4*e,t)},t.prototype._getDatastreamIncrement=function(e){return this._soc.getRam32(this._datastreamIncrementBase+4*e)},t.prototype._datastreamRead=function(e){var t=this._getDatastreamPointer(e),r=this._displayRam[t>>>20];return this._setDatastreamPointer(e,t+(this._getDatastreamIncrement(e)<<12)|0),r},t.prototype._datastreamReadWithIncrement=function(e,t){var r=this._getDatastreamPointer(e),n=this._displayRam[r>>>20];return this._setDatastreamPointer(e,r+(t<<12)|0),n},t.prototype._datastreamWriteWithIncrement=function(e,t,r){var n=this._getDatastreamPointer(e);this._displayRam[n>>>20]=t,this._setDatastreamPointer(e,n+(r<<12)|0)},t.prototype._getWaveform=function(e){return this._soc.getRam32(this._waveformBase+4*e)-1073741824-2048&4095},t}(AbstractCartridge),MusicStream=function(){function e(){this.counter=0,this.frequency=0,this.waveformSize=27}return e.prototype.reset=function(){this.counter=this.frequency=0,this.waveformSize=27},e.prototype.increment=function(e){this.counter=this.counter+e*this.frequency|0},e}(),Cartridge8040=function(e){function t(t){var r=e.call(this)||this;if(r._bank=null,r._bank0=new Uint8Array(4096),r._bank1=new Uint8Array(4096),r._bus=null,8192!==t.length)throw new Error("buffer is not an 8k cartridge image: wrong length "+t.length);for(var n=0;n<4096;n++)r._bank0[n]=t[n],r._bank1[n]=t[4096+n];return r.reset(),r}return __extends(t,e),t.matchesBuffer=function(e){var t,r,n=searchForSignatures(e,[[173,0,8],[173,64,8],[44,0,8],[12,0,8,76],[12,255,15,76]]);try{for(var i=__values(n),a=i.next();!a.done;a=i.next()){if(a.value>=2)return!0}}catch(e){t={error:e}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return!1},t.prototype.reset=function(){this._bank=this._bank0},t.prototype.read=function(e){return this.peek(e)},t.prototype.peek=function(e){return e&=4095,this._bank[e]},t.prototype.getType=function(){return CartridgeInfo.CartridgeType.bankswitch_8k_econobanking},t.prototype.setBus=function(e){return this._bus=e,this._bus.event.read.addHandler(this._onBusAccess,this),this._bus.event.write.addHandler(this._onBusAccess,this),this},t.prototype._onBusAccess=function(e,t){switch(6208&t._bus.getLastAddresBusValue()){case 2048:t._bank=t._bank0;break;case 2112:t._bank=t._bank1}},t}(AbstractCartridge),CartridgeCV=function(e){function t(t){var r=e.call(this)||this;if(r._rom=new Uint8Array(2048),r._ram=new Uint8Array(1024),2048!==t.length)throw new Error("buffer is not a 2k cartridge image: wrong length "+t.length);for(var n=0;n<2048;n++)r._rom[n]=t[n];return r}return __extends(t,e),t.matchesBuffer=function(e){var t=searchForSignatures(e,[[157,255,243],[153,0,244]]);return t[0]>0||t[1]>0},t.prototype.setBus=function(e){return this._bus=e,this},t.prototype.randomize=function(e){for(var t=0;t<1024;t++)this._ram[t]=e.int(255)},t.prototype.read=function(e){return(e&=4095)<1024?this._ram[e]:e<2048?this._ram[1023&e]=this._bus.getLastDataBusValue():this._rom[2047&e]},t.prototype.write=function(e,t){(e&=4095)>=1024&&e<2048&&(this._ram[1023&e]=t)},t.prototype.peek=function(e){return(e&=4095)<1024?this._ram[e]:e<2048?0:this._rom[2047&e]},t.prototype.getType=function(){return CartridgeInfo.CartridgeType.bankswitch_2k_cv},t}(AbstractCartridge),CartridgeDetector=function(){function e(){}return e.prototype.detectCartridgeType=function(e){if(e.length%8448==0)return CartridgeInfo.CartridgeType.bankswitch_supercharger;if(e.length<2048)return CartridgeInfo.CartridgeType.vanilla_2k;if(e.length>=10240&&e.length<=10496)return CartridgeInfo.CartridgeType.bankswitch_8k_DPC;switch(e.length){case 2048:return this._detect2k(e);case 4096:return CartridgeInfo.CartridgeType.vanilla_4k;case 8192:return this._detect8k(e);case 12288:return CartridgeInfo.CartridgeType.bankswitch_12k_FA;case 16384:return this._detect16k(e);case 28672:return CartridgeInfo.CartridgeType.bankswitch_FA2;case 29696:return this._detect29k(e);case 32768:return this._detect32k(e);case 65536:return this._detect64k(e);default:return CartridgeInfo.CartridgeType.unknown}},e.prototype._detect2k=function(e){return CartridgeCV.matchesBuffer(e)?CartridgeInfo.CartridgeType.bankswitch_2k_cv:CartridgeInfo.CartridgeType.vanilla_2k},e.prototype._detect8k=function(e){var t=CartridgeF8.matchesBuffer(e);return CartridgeE0.matchesBuffer(e)?CartridgeInfo.CartridgeType.bankswitch_8k_E0:Cartridge3F.matchesBuffer(e)?CartridgeInfo.CartridgeType.bankswitch_8k_3F:CartridgeUA.matchesBuffer(e)?CartridgeInfo.CartridgeType.bankswitch_8k_UA:!t&&CartridgeFE.matchesBuffer(e)?CartridgeInfo.CartridgeType.bankswitch_8k_FE:Cartridge8040.matchesBuffer(e)?CartridgeInfo.CartridgeType.bankswitch_8k_econobanking:CartridgeInfo.CartridgeType.bankswitch_8k_F8},e.prototype._detect16k=function(e){return CartrdigeE7.matchesBuffer(e)?CartridgeInfo.CartridgeType.bankswitch_16k_E7:CartridgeInfo.CartridgeType.bankswitch_16k_F6},e.prototype._detect29k=function(e){return CartridgeFA2.matchesBuffer(e)?CartridgeInfo.CartridgeType.bankswitch_FA2:CartridgeInfo.CartridgeType.bankswitch_dpc_plus},e.prototype._detect32k=function(e){return Cartridge3E.matchesBuffer(e)?CartridgeInfo.CartridgeType.bankswitch_3E:CartridgeDPCPlus.matchesBuffer(e)?CartridgeInfo.CartridgeType.bankswitch_dpc_plus:CartridgeCDF.matchesBuffer(e)?CartridgeInfo.CartridgeType.bankswitch_cdf:CartridgeInfo.CartridgeType.bankswitch_32k_F4},e.prototype._detect64k=function(e){return CartridgeEF.matchesBuffer(e)?CartridgeInfo.CartridgeType.bankswitch_64k_EF:CartridgeInfo.CartridgeType.bankswitch_64k_F0},e}(),keys$1=Object.keys,isArray$3=Array.isArray,_global="undefined"!=typeof self?self:"undefined"!=typeof window?window:global$1;function extend(e,t){return"object"!=typeof t?e:(keys$1(t).forEach(function(r){e[r]=t[r]}),e)}var getProto=Object.getPrototypeOf,_hasOwn={}.hasOwnProperty;function hasOwn(e,t){return _hasOwn.call(e,t)}function props(e,t){"function"==typeof t&&(t=t(getProto(e))),keys$1(t).forEach(function(r){setProp(e,r,t[r])})}var defineProperty=Object.defineProperty;function setProp(e,t,r,n){defineProperty(e,t,extend(r&&hasOwn(r,"get")&&"function"==typeof r.get?{get:r.get,set:r.set,configurable:!0}:{value:r,configurable:!0,writable:!0},n))}function derive(e){return{from:function(t){return e.prototype=Object.create(t.prototype),setProp(e.prototype,"constructor",e),{extend:props.bind(null,e.prototype)}}}}var getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor;function getPropertyDescriptor(e,t){var r;return getOwnPropertyDescriptor(e,t)||(r=getProto(e))&&getPropertyDescriptor(r,t)}var _slice=[].slice;function slice(e,t,r){return _slice.call(e,t,r)}function override(e,t){return t(e)}function assert(e){if(!e)throw new Error("Assertion Failed")}function asap(e){_global.setImmediate?setImmediate(e):setTimeout(e,0)}function arrayToObject(e,t){return e.reduce(function(e,r,n){var i=t(r,n);return i&&(e[i[0]]=i[1]),e},{})}function trycatcher(e,t){return function(){try{e.apply(this,arguments)}catch(e){t(e)}}}function tryCatch$1(e,t,r){try{e.apply(null,r)}catch(e){t&&t(e)}}function getByKeyPath(e,t){if(hasOwn(e,t))return e[t];if(!t)return e;if("string"!=typeof t){for(var r=[],n=0,i=t.length;n<i;++n){var a=getByKeyPath(e,t[n]);r.push(a)}return r}var o=t.indexOf(".");if(-1!==o){var s=e[t.substr(0,o)];return void 0===s?void 0:getByKeyPath(s,t.substr(o+1))}}function setByKeyPath(e,t,r){if(e&&void 0!==t&&!("isFrozen"in Object&&Object.isFrozen(e)))if("string"!=typeof t&&"length"in t){assert("string"!=typeof r&&"length"in r);for(var n=0,i=t.length;n<i;++n)setByKeyPath(e,t[n],r[n])}else{var a=t.indexOf(".");if(-1!==a){var o=t.substr(0,a),s=t.substr(a+1);if(""===s)void 0===r?delete e[o]:e[o]=r;else{var u=e[o];u||(u=e[o]={}),setByKeyPath(u,s,r)}}else void 0===r?delete e[t]:e[t]=r}}function delByKeyPath(e,t){"string"==typeof t?setByKeyPath(e,t,void 0):"length"in t&&[].map.call(t,function(t){setByKeyPath(e,t,void 0)})}function shallowClone(e){var t={};for(var r in e)hasOwn(e,r)&&(t[r]=e[r]);return t}var concat$1=[].concat;function flatten(e){return concat$1.apply([],e)}var intrinsicTypes="Boolean,String,Date,RegExp,Blob,File,FileList,ArrayBuffer,DataView,Uint8ClampedArray,ImageData,Map,Set".split(",").concat(flatten([8,16,32,64].map(function(e){return["Int","Uint","Float"].map(function(t){return t+e+"Array"})}))).filter(function(e){return _global[e]}).map(function(e){return _global[e]});function deepClone(e){if(!e||"object"!=typeof e)return e;var t;if(isArray$3(e)){t=[];for(var r=0,n=e.length;r<n;++r)t.push(deepClone(e[r]))}else if(intrinsicTypes.indexOf(e.constructor)>=0)t=e;else for(var i in t=e.constructor?Object.create(e.constructor.prototype):{},e)hasOwn(e,i)&&(t[i]=deepClone(e[i]));return t}function getObjectDiff(e,t,r,n){return r=r||{},n=n||"",keys$1(e).forEach(function(i){if(hasOwn(t,i)){var a=e[i],o=t[i];"object"==typeof a&&"object"==typeof o&&a&&o&&""+a.constructor==""+o.constructor?getObjectDiff(a,o,r,n+i+"."):a!==o&&(r[n+i]=t[i])}else r[n+i]=void 0}),keys$1(t).forEach(function(i){hasOwn(e,i)||(r[n+i]=t[i])}),r}var iteratorSymbol="undefined"!=typeof Symbol&&Symbol.iterator,getIteratorOf=iteratorSymbol?function(e){var t;return null!=e&&(t=e[iteratorSymbol])&&t.apply(e)}:function(){return null},NO_CHAR_ARRAY={};function getArrayOf(e){var t,r,n,i;if(1===arguments.length){if(isArray$3(e))return e.slice();if(this===NO_CHAR_ARRAY&&"string"==typeof e)return[e];if(i=getIteratorOf(e)){for(r=[];!(n=i.next()).done;)r.push(n.value);return r}if(null==e)return[e];if("number"==typeof(t=e.length)){for(r=new Array(t);t--;)r[t]=e[t];return r}return[e]}for(t=arguments.length,r=new Array(t);t--;)r[t]=arguments[t];return r}var debug$1="undefined"!=typeof location&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function setDebug(e,t){debug$1=e,libraryFilter=t}var libraryFilter=function(){return!0},NEEDS_THROW_FOR_STACK=!new Error("").stack;function getErrorWithStack(){if(NEEDS_THROW_FOR_STACK)try{throw getErrorWithStack.arguments,new Error}catch(e){return e}return new Error}function prettyStack(e,t){var r=e.stack;return r?(t=t||0,0===r.indexOf(e.name)&&(t+=(e.name+e.message).split("\n").length),r.split("\n").slice(t).filter(libraryFilter).map(function(e){return"\n"+e}).join("")):""}function deprecated(e,t){return function(){return console.warn(e+" is deprecated. See https://github.com/dfahlander/Dexie.js/wiki/Deprecations. "+prettyStack(getErrorWithStack(),1)),t.apply(this,arguments)}}var dexieErrorNames=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"],idbDomErrorNames=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],errorList=dexieErrorNames.concat(idbDomErrorNames),defaultTexts={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed"};function DexieError(e,t){this._e=getErrorWithStack(),this.name=e,this.message=t}function getMultiErrorMessage(e,t){return e+". Errors: "+t.map(function(e){return e.toString()}).filter(function(e,t,r){return r.indexOf(e)===t}).join("\n")}function ModifyError(e,t,r,n){this._e=getErrorWithStack(),this.failures=t,this.failedKeys=n,this.successCount=r}function BulkError(e,t){this._e=getErrorWithStack(),this.name="BulkError",this.failures=t,this.message=getMultiErrorMessage(e,t)}derive(DexieError).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+prettyStack(this._e,2))}},toString:function(){return this.name+": "+this.message}}),derive(ModifyError).from(DexieError),derive(BulkError).from(DexieError);var errnames=errorList.reduce(function(e,t){return e[t]=t+"Error",e},{}),BaseException=DexieError,exceptions$1=errorList.reduce(function(e,t){var r=t+"Error";function n(e,n){this._e=getErrorWithStack(),this.name=r,e?"string"==typeof e?(this.message=e,this.inner=n||null):"object"==typeof e&&(this.message=e.name+" "+e.message,this.inner=e):(this.message=defaultTexts[t]||r,this.inner=null)}return derive(n).from(BaseException),e[t]=n,e},{});exceptions$1.Syntax=SyntaxError,exceptions$1.Type=TypeError,exceptions$1.Range=RangeError;var exceptionMap=idbDomErrorNames.reduce(function(e,t){return e[t+"Error"]=exceptions$1[t],e},{});function mapError(e,t){if(!e||e instanceof DexieError||e instanceof TypeError||e instanceof SyntaxError||!e.name||!exceptionMap[e.name])return e;var r=new exceptionMap[e.name](t||e.message,e);return"stack"in e&&setProp(r,"stack",{get:function(){return this.inner.stack}}),r}var fullNameExceptions=errorList.reduce(function(e,t){return-1===["Syntax","Type","Range"].indexOf(t)&&(e[t+"Error"]=exceptions$1[t]),e},{});function nop$1(){}function mirror(e){return e}function pureFunctionChain(e,t){return null==e||e===mirror?t:function(r){return t(e(r))}}function callBoth(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function hookCreatingChain(e,t){return e===nop$1?t:function(){var r=e.apply(this,arguments);void 0!==r&&(arguments[0]=r);var n=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var a=t.apply(this,arguments);return n&&(this.onsuccess=this.onsuccess?callBoth(n,this.onsuccess):n),i&&(this.onerror=this.onerror?callBoth(i,this.onerror):i),void 0!==a?a:r}}function hookDeletingChain(e,t){return e===nop$1?t:function(){e.apply(this,arguments);var r=this.onsuccess,n=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),r&&(this.onsuccess=this.onsuccess?callBoth(r,this.onsuccess):r),n&&(this.onerror=this.onerror?callBoth(n,this.onerror):n)}}function hookUpdatingChain(e,t){return e===nop$1?t:function(r){var n=e.apply(this,arguments);extend(r,n);var i=this.onsuccess,a=this.onerror;this.onsuccess=null,this.onerror=null;var o=t.apply(this,arguments);return i&&(this.onsuccess=this.onsuccess?callBoth(i,this.onsuccess):i),a&&(this.onerror=this.onerror?callBoth(a,this.onerror):a),void 0===n?void 0===o?void 0:o:extend(n,o)}}function reverseStoppableEventChain(e,t){return e===nop$1?t:function(){return!1!==t.apply(this,arguments)&&e.apply(this,arguments)}}function promisableChain(e,t){return e===nop$1?t:function(){var r=e.apply(this,arguments);if(r&&"function"==typeof r.then){for(var n=this,i=arguments.length,a=new Array(i);i--;)a[i]=arguments[i];return r.then(function(){return t.apply(n,a)})}return t.apply(this,arguments)}}fullNameExceptions.ModifyError=ModifyError,fullNameExceptions.DexieError=DexieError,fullNameExceptions.BulkError=BulkError;var INTERNAL$1={},LONG_STACKS_CLIP_LIMIT=100,MAX_LONG_STACKS=20,ZONE_ECHO_LIMIT=7,nativePromiseInstanceAndProto=function(){try{return new Function("let F=async ()=>{},p=F();return [p,Object.getPrototypeOf(p),Promise.resolve(),F.constructor];")()}catch(t){var e=_global.Promise;return e?[e.resolve(),e.prototype,e.resolve()]:[]}}(),resolvedNativePromise=nativePromiseInstanceAndProto[0],nativePromiseProto=nativePromiseInstanceAndProto[1],resolvedGlobalPromise=nativePromiseInstanceAndProto[2],nativePromiseThen=nativePromiseProto&&nativePromiseProto.then,NativePromise=resolvedNativePromise&&resolvedNativePromise.constructor,AsyncFunction=nativePromiseInstanceAndProto[3],patchGlobalPromise=!!resolvedGlobalPromise,stack_being_generated=!1,schedulePhysicalTick=resolvedGlobalPromise?function(){resolvedGlobalPromise.then(physicalTick)}:_global.setImmediate?setImmediate.bind(null,physicalTick):_global.MutationObserver?function(){var e=document.createElement("div");new MutationObserver(function(){physicalTick(),e=null}).observe(e,{attributes:!0}),e.setAttribute("i","1")}:function(){setTimeout(physicalTick,0)},asap$1=function(e,t){microtickQueue.push([e,t]),needsNewPhysicalTick&&(schedulePhysicalTick(),needsNewPhysicalTick=!1)},isOutsideMicroTick=!0,needsNewPhysicalTick=!0,unhandledErrors=[],rejectingErrors=[],currentFulfiller=null,rejectionMapper=mirror,globalPSD={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:globalError,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach(function(e){try{globalError(e[0],e[1])}catch(e){}})}},PSD=globalPSD,microtickQueue=[],numScheduledCalls=0,tickFinalizers=[];function Promise$2(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=nop$1,this._lib=!1;var t=this._PSD=PSD;if(debug$1&&(this._stackHolder=getErrorWithStack(),this._prev=null,this._numPrev=0),"function"!=typeof e){if(e!==INTERNAL$1)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&handleRejection(this,this._value))}this._state=null,this._value=null,++t.ref,executePromiseTask(this,e)}var thenProp={get:function(){var e=PSD,t=totalEchoes;function r(r,n){var i=this,a=!e.global&&(e!==PSD||t!==totalEchoes);a&&decrementExpectedAwaits();var o=new Promise$2(function(t,o){propagateToListener(i,new Listener(nativeAwaitCompatibleWrap(r,e,a),nativeAwaitCompatibleWrap(n,e,a),t,o,e))});return debug$1&&linkToPreviousPromise(o,this),o}return r.prototype=INTERNAL$1,r},set:function(e){setProp(this,"then",e&&e.prototype===INTERNAL$1?thenProp:{get:function(){return e},set:thenProp.set})}};function Listener(e,t,r,n,i){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=r,this.reject=n,this.psd=i}function executePromiseTask(e,t){try{t(function(t){if(null===e._state){if(t===e)throw new TypeError("A promise cannot be resolved with itself.");var r=e._lib&&beginMicroTickScope();t&&"function"==typeof t.then?executePromiseTask(e,function(e,r){t instanceof Promise$2?t._then(e,r):t.then(e,r)}):(e._state=!0,e._value=t,propagateAllListeners(e)),r&&endMicroTickScope()}},handleRejection.bind(null,e))}catch(t){handleRejection(e,t)}}function handleRejection(e,t){if(rejectingErrors.push(t),null===e._state){var r=e._lib&&beginMicroTickScope();t=rejectionMapper(t),e._state=!1,e._value=t,debug$1&&null!==t&&"object"==typeof t&&!t._promise&&tryCatch$1(function(){var r=getPropertyDescriptor(t,"stack");t._promise=e,setProp(t,"stack",{get:function(){return stack_being_generated?r&&(r.get?r.get.apply(t):r.value):e.stack}})}),addPossiblyUnhandledError(e),propagateAllListeners(e),r&&endMicroTickScope()}}function propagateAllListeners(e){var t=e._listeners;e._listeners=[];for(var r=0,n=t.length;r<n;++r)propagateToListener(e,t[r]);var i=e._PSD;--i.ref||i.finalize(),0===numScheduledCalls&&(++numScheduledCalls,asap$1(function(){0==--numScheduledCalls&&finalizePhysicalTick()},[]))}function propagateToListener(e,t){if(null!==e._state){var r=e._state?t.onFulfilled:t.onRejected;if(null===r)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++numScheduledCalls,asap$1(callListener,[r,e,t])}else e._listeners.push(t)}function callListener(e,t,r){try{currentFulfiller=t;var n,i=t._value;t._state?n=e(i):(rejectingErrors.length&&(rejectingErrors=[]),n=e(i),-1===rejectingErrors.indexOf(i)&&markErrorAsHandled(t)),r.resolve(n)}catch(e){r.reject(e)}finally{currentFulfiller=null,0==--numScheduledCalls&&finalizePhysicalTick(),--r.psd.ref||r.psd.finalize()}}function getStack(e,t,r){if(t.length===r)return t;var n="";if(!1===e._state){var i,a,o=e._value;null!=o?(i=o.name||"Error",a=o.message||o,n=prettyStack(o,0)):(i=o,a=""),t.push(i+(a?": "+a:"")+n)}return debug$1&&((n=prettyStack(e._stackHolder,2))&&-1===t.indexOf(n)&&t.push(n),e._prev&&getStack(e._prev,t,r)),t}function linkToPreviousPromise(e,t){var r=t?t._numPrev+1:0;r<LONG_STACKS_CLIP_LIMIT&&(e._prev=t,e._numPrev=r)}function physicalTick(){beginMicroTickScope()&&endMicroTickScope()}function beginMicroTickScope(){var e=isOutsideMicroTick;return isOutsideMicroTick=!1,needsNewPhysicalTick=!1,e}function endMicroTickScope(){var e,t,r;do{for(;microtickQueue.length>0;)for(e=microtickQueue,microtickQueue=[],r=e.length,t=0;t<r;++t){var n=e[t];n[0].apply(null,n[1])}}while(microtickQueue.length>0);isOutsideMicroTick=!0,needsNewPhysicalTick=!0}function finalizePhysicalTick(){var e=unhandledErrors;unhandledErrors=[],e.forEach(function(e){e._PSD.onunhandled.call(null,e._value,e)});for(var t=tickFinalizers.slice(0),r=t.length;r;)t[--r]()}function run_at_end_of_this_or_next_physical_tick(e){tickFinalizers.push(function t(){e(),tickFinalizers.splice(tickFinalizers.indexOf(t),1)}),++numScheduledCalls,asap$1(function(){0==--numScheduledCalls&&finalizePhysicalTick()},[])}function addPossiblyUnhandledError(e){unhandledErrors.some(function(t){return t._value===e._value})||unhandledErrors.push(e)}function markErrorAsHandled(e){for(var t=unhandledErrors.length;t;)if(unhandledErrors[--t]._value===e._value)return void unhandledErrors.splice(t,1)}function PromiseReject(e){return new Promise$2(INTERNAL$1,!1,e)}function wrap(e,t){var r=PSD;return function(){var n=beginMicroTickScope(),i=PSD;try{return switchToZone(r,!0),e.apply(this,arguments)}catch(e){t&&t(e)}finally{switchToZone(i,!1),n&&endMicroTickScope()}}}props(Promise$2.prototype,{then:thenProp,_then:function(e,t){propagateToListener(this,new Listener(null,null,e,t,PSD))},catch:function(e){if(1===arguments.length)return this.then(null,e);var t=arguments[0],r=arguments[1];return"function"==typeof t?this.then(null,function(e){return e instanceof t?r(e):PromiseReject(e)}):this.then(null,function(e){return e&&e.name===t?r(e):PromiseReject(e)})},finally:function(e){return this.then(function(t){return e(),t},function(t){return e(),PromiseReject(t)})},stack:{get:function(){if(this._stack)return this._stack;try{stack_being_generated=!0;var e=getStack(this,[],MAX_LONG_STACKS).join("\nFrom previous: ");return null!==this._state&&(this._stack=e),e}finally{stack_being_generated=!1}}},timeout:function(e,t){var r=this;return e<1/0?new Promise$2(function(n,i){var a=setTimeout(function(){return i(new exceptions$1.Timeout(t))},e);r.then(n,i).finally(clearTimeout.bind(null,a))}):this}}),"undefined"!=typeof Symbol&&Symbol.toStringTag&&setProp(Promise$2.prototype,Symbol.toStringTag,"Promise"),globalPSD.env=snapShot(),props(Promise$2,{all:function(){var e=getArrayOf.apply(null,arguments).map(onPossibleParallellAsync);return new Promise$2(function(t,r){0===e.length&&t([]);var n=e.length;e.forEach(function(i,a){return Promise$2.resolve(i).then(function(r){e[a]=r,--n||t(e)},r)})})},resolve:function(e){if(e instanceof Promise$2)return e;if(e&&"function"==typeof e.then)return new Promise$2(function(t,r){e.then(t,r)});var t=new Promise$2(INTERNAL$1,!0,e);return linkToPreviousPromise(t,currentFulfiller),t},reject:PromiseReject,race:function(){var e=getArrayOf.apply(null,arguments).map(onPossibleParallellAsync);return new Promise$2(function(t,r){e.map(function(e){return Promise$2.resolve(e).then(t,r)})})},PSD:{get:function(){return PSD},set:function(e){return PSD=e}},newPSD:newScope,usePSD:usePSD,scheduler:{get:function(){return asap$1},set:function(e){asap$1=e}},rejectionMapper:{get:function(){return rejectionMapper},set:function(e){rejectionMapper=e}},follow:function(e,t){return new Promise$2(function(r,n){return newScope(function(t,r){var n=PSD;n.unhandleds=[],n.onunhandled=r,n.finalize=callBoth(function(){var e=this;run_at_end_of_this_or_next_physical_tick(function(){0===e.unhandleds.length?t():r(e.unhandleds[0])})},n.finalize),e()},t,r,n)})}});var task={awaits:0,echoes:0,id:0},taskCounter=0,zoneStack=[],zoneEchoes=0,totalEchoes=0,zone_id_counter=0;function newScope(e,t,r,n){var i=PSD,a=Object.create(i);a.parent=i,a.ref=0,a.global=!1,a.id=++zone_id_counter;var o=globalPSD.env;a.env=patchGlobalPromise?{Promise:Promise$2,PromiseProp:{value:Promise$2,configurable:!0,writable:!0},all:Promise$2.all,race:Promise$2.race,resolve:Promise$2.resolve,reject:Promise$2.reject,nthen:getPatchedPromiseThen(o.nthen,a),gthen:getPatchedPromiseThen(o.gthen,a)}:{},t&&extend(a,t),++i.ref,a.finalize=function(){--this.parent.ref||this.parent.finalize()};var s=usePSD(a,e,r,n);return 0===a.ref&&a.finalize(),s}function incrementExpectedAwaits(){return task.id||(task.id=++taskCounter),++task.awaits,task.echoes+=ZONE_ECHO_LIMIT,task.id}function decrementExpectedAwaits(e){!task.awaits||e&&e!==task.id||(0==--task.awaits&&(task.id=0),task.echoes=task.awaits*ZONE_ECHO_LIMIT)}function onPossibleParallellAsync(e){return task.echoes&&e&&e.constructor===NativePromise?(incrementExpectedAwaits(),e.then(function(e){return decrementExpectedAwaits(),e},function(e){return decrementExpectedAwaits(),rejection(e)})):e}function zoneEnterEcho(e){++totalEchoes,task.echoes&&0!=--task.echoes||(task.echoes=task.id=0),zoneStack.push(PSD),switchToZone(e,!0)}function zoneLeaveEcho(){var e=zoneStack[zoneStack.length-1];zoneStack.pop(),switchToZone(e,!1)}function switchToZone(e,t){var r=PSD;if((t?!task.echoes||zoneEchoes++&&e===PSD:!zoneEchoes||--zoneEchoes&&e===PSD)||enqueueNativeMicroTask(t?zoneEnterEcho.bind(null,e):zoneLeaveEcho),e!==PSD&&(PSD=e,r===globalPSD&&(globalPSD.env=snapShot()),patchGlobalPromise)){var n=globalPSD.env.Promise,i=e.env;nativePromiseProto.then=i.nthen,n.prototype.then=i.gthen,(r.global||e.global)&&(Object.defineProperty(_global,"Promise",i.PromiseProp),n.all=i.all,n.race=i.race,n.resolve=i.resolve,n.reject=i.reject)}}function snapShot(){var e=_global.Promise;return patchGlobalPromise?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(_global,"Promise"),all:e.all,race:e.race,resolve:e.resolve,reject:e.reject,nthen:nativePromiseProto.then,gthen:e.prototype.then}:{}}function usePSD(e,t,r,n,i){var a=PSD;try{return switchToZone(e,!0),t(r,n,i)}finally{switchToZone(a,!1)}}function enqueueNativeMicroTask(e){nativePromiseThen.call(resolvedNativePromise,e)}function nativeAwaitCompatibleWrap(e,t,r){return"function"!=typeof e?e:function(){var n=PSD;r&&incrementExpectedAwaits(),switchToZone(t,!0);try{return e.apply(this,arguments)}finally{switchToZone(n,!1)}}}function getPatchedPromiseThen(e,t){return function(r,n){return e.call(this,nativeAwaitCompatibleWrap(r,t,!1),nativeAwaitCompatibleWrap(n,t,!1))}}var UNHANDLEDREJECTION="unhandledrejection";function globalError(e,t){var r;try{r=t.onuncatched(e)}catch(e){}if(!1!==r)try{var n,i={promise:t,reason:e};if(_global.document&&document.createEvent?((n=document.createEvent("Event")).initEvent(UNHANDLEDREJECTION,!0,!0),extend(n,i)):_global.CustomEvent&&extend(n=new CustomEvent(UNHANDLEDREJECTION,{detail:i}),i),n&&_global.dispatchEvent&&(dispatchEvent(n),!_global.PromiseRejectionEvent&&_global.onunhandledrejection))try{_global.onunhandledrejection(n)}catch(e){}n.defaultPrevented||console.warn("Unhandled rejection: "+(e.stack||e))}catch(e){}}var rejection=Promise$2.reject;function Events(e){var t={},r=function(r,n){if(n){for(var i=arguments.length,a=new Array(i-1);--i;)a[i-1]=arguments[i];return t[r].subscribe.apply(null,a),e}if("string"==typeof r)return t[r]};r.addEventType=a;for(var n=1,i=arguments.length;n<i;++n)a(arguments[n]);return r;function a(e,n,i){if("object"!=typeof e){var o;n||(n=reverseStoppableEventChain),i||(i=nop$1);var s={subscribers:[],fire:i,subscribe:function(e){-1===s.subscribers.indexOf(e)&&(s.subscribers.push(e),s.fire=n(s.fire,e))},unsubscribe:function(e){s.subscribers=s.subscribers.filter(function(t){return t!==e}),s.fire=s.subscribers.reduce(n,i)}};return t[e]=r[e]=s,s}keys$1(o=e).forEach(function(e){var t=o[e];if(isArray$3(t))a(e,o[e][0],o[e][1]);else{if("asap"!==t)throw new exceptions$1.InvalidArgument("Invalid event config");var r=a(e,mirror,function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];r.subscribers.forEach(function(e){asap(function(){e.apply(null,t)})})})}})}}var DEXIE_VERSION="{version}",maxString=String.fromCharCode(65535),maxKey=function(){try{return IDBKeyRange.only([[]]),[[]]}catch(e){return maxString}}(),minKey=-1/0,INVALID_KEY_ARGUMENT="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",STRING_EXPECTED="String expected.",connections=[],isIEOrEdge="undefined"!=typeof navigator&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),hasIEDeleteObjectStoreBug=isIEOrEdge,hangsOnDeleteLargeKeyRange=isIEOrEdge,dexieStackFrameFilter=function(e){return!/(dexie\.js|dexie\.min\.js)/.test(e)},dbNamesDB;function Dexie(e,t){var r,n,i,a=Dexie.dependencies,o=extend({addons:Dexie.addons,autoOpen:!0,indexedDB:a.indexedDB,IDBKeyRange:a.IDBKeyRange},t),s=o.addons,u=o.autoOpen,c=o.indexedDB,f=o.IDBKeyRange,l=this._dbSchema={},h=[],d=[],p={},_=null,g=null,m=!1,b=null,v=!1,y="readwrite",w=this,k=new Promise$2(function(e){r=e}),E=new Promise$2(function(e,t){n=t}),A=!0,S=!!getNativeGetDatabaseNamesFn(c);function T(e){this._cfg={version:e,storesSource:null,dbschema:{},tables:{},contentUpgrade:null},this.stores({})}function C(e,t,r){var n=w._createTransaction(y,d,l);n.create(t),n._completion.catch(r);var i=n._reject.bind(n);newScope(function(){PSD.trans=n,0===e?(keys$1(l).forEach(function(e){R(t,e,l[e].primKey,l[e].indexes)}),Promise$2.follow(function(){return w.on.populate.fire(n)}).catch(i)):function(e,t,r){var n=[],i=h.filter(function(t){return t._cfg.version===e})[0];if(!i)throw new exceptions$1.Upgrade("Dexie specification of currently installed DB version is missing");l=w._dbSchema=i._cfg.dbschema;var a=!1;return h.filter(function(t){return t._cfg.version>e}).forEach(function(e){n.push(function(){var n=l,i=e._cfg.dbschema;G(n,r),G(i,r),l=w._dbSchema=i;var o=function(e,t){var r={del:[],add:[],change:[]};for(var n in e)t[n]||r.del.push(n);for(n in t){var i=e[n],a=t[n];if(i){var o={name:n,def:a,recreate:!1,del:[],add:[],change:[]};if(i.primKey.src!==a.primKey.src)o.recreate=!0,r.change.push(o);else{var s=i.idxByName,u=a.idxByName;for(var c in s)u[c]||o.del.push(c);for(c in u){var f=s[c],l=u[c];f?f.src!==l.src&&o.change.push(l):o.add.push(l)}(o.del.length>0||o.add.length>0||o.change.length>0)&&r.change.push(o)}}else r.add.push([n,a])}return r}(n,i);if(o.add.forEach(function(e){R(r,e[0],e[1].primKey,e[1].indexes)}),o.change.forEach(function(e){if(e.recreate)throw new exceptions$1.Upgrade("Not yet support for changing primary key");var t=r.objectStore(e.name);e.add.forEach(function(e){M(t,e)}),e.change.forEach(function(e){t.deleteIndex(e.name),M(t,e)}),e.del.forEach(function(e){t.deleteIndex(e)})}),e._cfg.contentUpgrade)return a=!0,Promise$2.follow(function(){e._cfg.contentUpgrade(t)})}),n.push(function(t){a&&hasIEDeleteObjectStoreBug||function(e,t){for(var r=0;r<t.db.objectStoreNames.length;++r){var n=t.db.objectStoreNames[r];null==e[n]&&t.db.deleteObjectStore(n)}}(e._cfg.dbschema,t)})}),function e(){return n.length?Promise$2.resolve(n.shift()(t.idbtrans)).then(e):Promise$2.resolve()}().then(function(){!function(e,t){keys$1(e).forEach(function(r){t.db.objectStoreNames.contains(r)||R(t,r,e[r].primKey,e[r].indexes)})}(l,r)})}(e,n,t).catch(i)})}function R(e,t,r,n){var i=e.db.createObjectStore(t,r.keyPath?{keyPath:r.keyPath,autoIncrement:r.auto}:{autoIncrement:r.auto});return n.forEach(function(e){M(i,e)}),i}function M(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function x(e,t,r){this.name=e,this.schema=t,this._tx=r,this.hook=p[e]?p[e].hook:Events(null,{creating:[hookCreatingChain,nop$1],reading:[pureFunctionChain,mirror],updating:[hookUpdatingChain,nop$1],deleting:[hookDeletingChain,nop$1]})}function I(e,t,r){return(r?hookedEventRejectHandler:eventRejectHandler)(function(r){e.push(r),t&&t()})}function O(e,t,r,n,i){return new Promise$2(function(a,o){var s=r.length,u=s-1;if(0===s)return a();if(n){var c,f=hookedEventRejectHandler(o),l=hookedEventSuccessHandler(null);tryCatch$1(function(){for(var n=0;n<s;++n){c={onsuccess:null,onerror:null};var o=r[n];i.call(c,o[0],o[1],t);var h=e.delete(o[0]);h._hookCtx=c,h.onerror=f,h.onsuccess=n===u?hookedEventSuccessHandler(a):l}},function(e){throw c.onerror&&c.onerror(e),e})}else for(var h=0;h<s;++h){var d=e.delete(r[h]);d.onerror=eventRejectHandler(o),h===u&&(d.onsuccess=wrap(function(){return a()}))}})}function N(e,t,r,n){var i=this;this.db=w,this.mode=e,this.storeNames=t,this.idbtrans=null,this.on=Events(this,"complete","error","abort"),this.parent=n||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Promise$2(function(e,t){i._resolve=e,i._reject=t}),this._completion.then(function(){i.active=!1,i.on.complete.fire()},function(e){var t=i.active;return i.active=!1,i.on.error.fire(e),i.parent?i.parent._reject(e):t&&i.idbtrans&&i.idbtrans.abort(),rejection(e)})}function P(e,t,r){this._ctx={table:e,index:":id"===t?null:t,or:r}}function D(e,t){var r=null,n=null;if(t)try{r=t()}catch(e){n=e}var i=e._ctx,a=i.table;this._ctx={table:a,index:i.index,isPrimKey:!i.index||a.schema.primKey.keyPath&&i.index===a.schema.primKey.name,range:r,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:n,or:i.or,valueMapper:a.hook.reading.fire}}function B(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function L(e,t){return e._cfg.version-t._cfg.version}function $(e,t,r){t.forEach(function(t){var n=r[t];e.forEach(function(e){t in e||(e===N.prototype||e instanceof N?setProp(e,t,{get:function(){return this.table(t)}}):e[t]=new x(t,n))})})}function F(e,t,r,n,i,a){var o=wrap(a?function(e,t,n){return r(a(e),t,n)}:r,i);e.onerror||(e.onerror=eventRejectHandler(i)),e.onsuccess=trycatcher(t?function(){var r=e.result;if(r){var a=function(){r.continue()};t(r,function(e){a=e},n,i)&&o(r.value,r,function(e){a=e}),a()}else n()}:function(){var t=e.result;if(t){var r=function(){t.continue()};o(t.value,t,function(e){r=e}),r()}else n()},i)}function j(e,t){return c.cmp(e,t)}function U(e,t){return j(e,t)>0?e:t}function H(e,t){return c.cmp(e,t)}function z(e,t){return c.cmp(t,e)}function W(e,t){return e<t?-1:e===t?0:1}function Z(e,t){return e>t?-1:e===t?0:1}function K(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}function G(e,t){for(var r=t.db.objectStoreNames,n=0;n<r.length;++n){var a=r[n],o=t.objectStore(a);i="getAll"in o;for(var s=0;s<o.indexNames.length;++s){var u=o.indexNames[s],c=o.index(u).keyPath,f="string"==typeof c?c:"["+slice(c).join("+")+"]";if(e[a]){var l=e[a].idxByName[f];l&&(l.name=u)}}}/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&_global.WorkerGlobalScope&&_global instanceof _global.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(i=!1)}function Y(e){w.on("blocked").fire(e),connections.filter(function(e){return e.name===w.name&&e!==w&&!e._vcFired}).map(function(t){return t.on("versionchange").fire(e)})}this.version=function(e){if(_||m)throw new exceptions$1.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);var t=h.filter(function(t){return t._cfg.version===e})[0];return t||(t=new T(e),h.push(t),h.sort(L),A=!1,t)},extend(T.prototype,{stores:function(e){this._cfg.storesSource=this._cfg.storesSource?extend(this._cfg.storesSource,e):e;var t={};h.forEach(function(e){extend(t,e._cfg.storesSource)});var r=this._cfg.dbschema={};return this._parseStoresSpec(t,r),l=w._dbSchema=r,[p,w,N.prototype].forEach(function(e){for(var t in e)e[t]instanceof x&&delete e[t]}),$([p,w,N.prototype,this._cfg.tables],keys$1(r),r),d=keys$1(r),this},upgrade:function(e){return this._cfg.contentUpgrade=e,this},_parseStoresSpec:function(e,t){keys$1(e).forEach(function(r){if(null!==e[r]){var n={},i=function(e){var t=[];return e.split(",").forEach(function(e){var r=(e=e.trim()).replace(/([&*]|\+\+)/g,""),n=/^\[/.test(r)?r.match(/^\[(.*)\]$/)[1].split("+"):r;t.push(new IndexSpec(r,n||null,/\&/.test(e),/\*/.test(e),/\+\+/.test(e),isArray$3(n),/\./.test(e)))}),t}(e[r]),a=i.shift();if(a.multi)throw new exceptions$1.Schema("Primary key cannot be multi-valued");a.keyPath&&setByKeyPath(n,a.keyPath,a.auto?0:a.keyPath),i.forEach(function(e){if(e.auto)throw new exceptions$1.Schema("Only primary key can be marked as autoIncrement (++)");if(!e.keyPath)throw new exceptions$1.Schema("Index must have a name and cannot be an empty string");setByKeyPath(n,e.keyPath,e.compound?e.keyPath.map(function(){return""}):"")}),t[r]=new TableSchema(r,a,i,n)}})}}),this._allTables=p,this._createTransaction=function(e,t,r,n){return new N(e,t,r,n)},this._whenReady=function(e){return v||PSD.letThrough?e():new Promise$2(function(e,t){if(!m){if(!u)return void t(new exceptions$1.DatabaseClosed);w.open().catch(nop$1)}k.then(e,t)}).then(e)},this.verno=0,this.open=function(){if(m||_)return k.then(function(){return g?rejection(g):w});debug$1&&(E._stackHolder=getErrorWithStack()),m=!0,g=null,v=!1;var t=r,n=null;return Promise$2.race([E,new Promise$2(function(t,r){if(!c)throw new exceptions$1.MissingAPI("indexedDB API not found. If using IE10+, make sure to run your code on a server URL (not locally). If using old Safari versions, make sure to include indexedDB polyfill.");var i=A?c.open(e):c.open(e,Math.round(10*w.verno));if(!i)throw new exceptions$1.MissingAPI("IndexedDB API not available");i.onerror=eventRejectHandler(r),i.onblocked=wrap(Y),i.onupgradeneeded=wrap(function(t){if(n=i.transaction,A&&!w._allowEmptyDB){i.onerror=preventDefault,n.abort(),i.result.close();var a=c.deleteDatabase(e);a.onsuccess=a.onerror=wrap(function(){r(new exceptions$1.NoSuchDatabase("Database "+e+" doesnt exist"))})}else{n.onerror=eventRejectHandler(r),C((t.oldVersion>Math.pow(2,62)?0:t.oldVersion)/10,n,r)}},r),i.onsuccess=wrap(function(){if(n=null,_=i.result,connections.push(w),A)!function(){if(w.verno=_.version/10,w._dbSchema=l={},0===(d=slice(_.objectStoreNames,0)).length)return;var e=_.transaction(safariMultiStoreFix(d),"readonly");d.forEach(function(t){for(var r=e.objectStore(t),n=r.keyPath,i=n&&"string"==typeof n&&-1!==n.indexOf("."),a=new IndexSpec(n,n||"",!1,!1,!!r.autoIncrement,n&&"string"!=typeof n,i),o=[],s=0;s<r.indexNames.length;++s){var u=r.index(r.indexNames[s]);n=u.keyPath,i=n&&"string"==typeof n&&-1!==n.indexOf(".");var c=new IndexSpec(u.name,n,!!u.unique,!!u.multiEntry,!1,n&&"string"!=typeof n,i);o.push(c)}l[t]=new TableSchema(t,a,o,{})}),$([p],keys$1(l),l)}();else if(_.objectStoreNames.length>0)try{G(l,_.transaction(safariMultiStoreFix(_.objectStoreNames),"readonly"))}catch(e){}_.onversionchange=wrap(function(e){w._vcFired=!0,w.on("versionchange").fire(e)}),S||"__dbnames"===e||dbNamesDB.dbnames.put({name:e}).catch(nop$1),t()},r)})]).then(function(){return b=[],Promise$2.resolve(Dexie.vip(w.on.ready.fire)).then(function e(){if(b.length>0){var t=b.reduce(promisableChain,nop$1);return b=[],Promise$2.resolve(Dexie.vip(t)).then(e)}})}).finally(function(){b=null}).then(function(){return m=!1,w}).catch(function(e){try{n&&n.abort()}catch(e){}return m=!1,w.close(),rejection(g=e)}).finally(function(){v=!0,t()})},this.close=function(){var e=connections.indexOf(w);if(e>=0&&connections.splice(e,1),_){try{_.close()}catch(e){}_=null}u=!1,g=new exceptions$1.DatabaseClosed,m&&n(g),k=new Promise$2(function(e){r=e}),E=new Promise$2(function(e,t){n=t})},this.delete=function(){var t=arguments.length>0;return new Promise$2(function(r,n){if(t)throw new exceptions$1.InvalidArgument("Arguments not allowed in db.delete()");function i(){w.close();var t=c.deleteDatabase(e);t.onsuccess=wrap(function(){S||dbNamesDB.dbnames.delete(e).catch(nop$1),r()}),t.onerror=eventRejectHandler(n),t.onblocked=Y}m?k.then(i):i()})},this.backendDB=function(){return _},this.isOpen=function(){return null!==_},this.hasBeenClosed=function(){return g&&g instanceof exceptions$1.DatabaseClosed},this.hasFailed=function(){return null!==g},this.dynamicallyOpened=function(){return A},this.name=e,props(this,{tables:{get:function(){return keys$1(p).map(function(e){return p[e]})}}}),this.on=Events(this,"populate","blocked","versionchange",{ready:[promisableChain,nop$1]}),this.on.ready.subscribe=override(this.on.ready.subscribe,function(e){return function(t,r){Dexie.vip(function(){v?(g||Promise$2.resolve().then(t),r&&e(t)):b?(b.push(t),r&&e(t)):(e(t),r||e(function e(){w.on.ready.unsubscribe(t),w.on.ready.unsubscribe(e)}))})}}),this.transaction=function(){var e=function(e,t,r){var n=arguments.length;if(n<2)throw new exceptions$1.InvalidArgument("Too few arguments");var i=new Array(n-1);for(;--n;)i[n-1]=arguments[n];r=i.pop();var a=flatten(i);return[e,a,r]}.apply(this,arguments);return this._transaction.apply(this,e)},this._transaction=function(e,t,r){var n=PSD.trans;n&&n.db===w&&-1===e.indexOf("!")||(n=null);var i=-1!==e.indexOf("?");e=e.replace("!","").replace("?","");try{var a=t.map(function(e){var t=e instanceof x?e.name:e;if("string"!=typeof t)throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return t});if("r"==e||"readonly"==e)e="readonly";else{if("rw"!=e&&e!=y)throw new exceptions$1.InvalidArgument("Invalid transaction mode: "+e);e=y}if(n){if("readonly"===n.mode&&e===y){if(!i)throw new exceptions$1.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");n=null}n&&a.forEach(function(e){if(n&&-1===n.storeNames.indexOf(e)){if(!i)throw new exceptions$1.SubTransaction("Table "+e+" not included in parent transaction.");n=null}}),i&&n&&!n.active&&(n=null)}}catch(e){return n?n._promise(null,function(t,r){r(e)}):rejection(e)}return n?n._promise(e,o,"lock"):PSD.trans?usePSD(PSD.transless,function(){return w._whenReady(o)}):w._whenReady(o);function o(){return Promise$2.resolve().then(function(){var t,i=PSD.transless||PSD,o=w._createTransaction(e,a,l,n),s={trans:o,transless:i};n?o.idbtrans=n.idbtrans:o.create(),r.constructor===AsyncFunction&&incrementExpectedAwaits();var u=Promise$2.follow(function(){if(t=r.call(o,o))if(t.constructor===NativePromise){var e=decrementExpectedAwaits.bind(null,null);t.then(e,e)}else"function"==typeof t.next&&"function"==typeof t.throw&&(t=awaitIterator(t))},s);return(t&&"function"==typeof t.then?Promise$2.resolve(t).then(function(e){return o.active?e:rejection(new exceptions$1.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):u.then(function(){return t})).then(function(e){return n&&o._resolve(),o._completion.then(function(){return e})}).catch(function(e){return o._reject(e),rejection(e)})})}},this.table=function(e){if(!hasOwn(p,e))throw new exceptions$1.InvalidTable("Table "+e+" does not exist");return p[e]},props(x.prototype,{_trans:function(e,t,r){var n=this._tx||PSD.trans;return n&&n.db===w?n===PSD.trans?n._promise(e,t,r):newScope(function(){return n._promise(e,t,r)},{trans:n,transless:PSD.transless||PSD}):function e(t,r,n){if(v||PSD.letThrough){var i=w._createTransaction(t,r,l);try{i.create()}catch(e){return rejection(e)}return i._promise(t,function(e,t){return newScope(function(){return PSD.trans=i,n(e,t,i)})}).then(function(e){return i._completion.then(function(){return e})})}if(!m){if(!u)return rejection(new exceptions$1.DatabaseClosed);w.open().catch(nop$1)}return k.then(function(){return e(t,r,n)})}(e,[this.name],t)},_idbstore:function(e,t,r){var n=this.name;return this._trans(e,function(e,r,i){if(-1===i.storeNames.indexOf(n))throw new exceptions$1.NotFound("Table"+n+" not part of transaction");return t(e,r,i.idbtrans.objectStore(n),i)},r)},get:function(e,t){if(e&&e.constructor===Object)return this.where(e).first(t);var r=this;return this._idbstore("readonly",function(t,n,i){var a=i.get(e);a.onerror=eventRejectHandler(n),a.onsuccess=wrap(function(){t(r.hook.reading.fire(a.result))},n)}).then(t)},where:function(e){if("string"==typeof e)return new P(this,e);if(isArray$3(e))return new P(this,"["+e.join("+")+"]");var t=keys$1(e);if(1===t.length)return this.where(t[0]).equals(e[t[0]]);var r=this.schema.indexes.concat(this.schema.primKey).filter(function(e){return e.compound&&t.every(function(t){return e.keyPath.indexOf(t)>=0})&&e.keyPath.every(function(e){return t.indexOf(e)>=0})})[0];if(r&&maxKey!==maxString)return this.where(r.name).equals(r.keyPath.map(function(t){return e[t]}));r||console.warn("The query "+JSON.stringify(e)+" on "+this.name+" would benefit of a compound index ["+t.join("+")+"]");var n=this.schema.idxByName,i=t.reduce(function(t,r){return[t[0]||n[r],t[0]||!n[r]?K(t[1],function(t){return""+getByKeyPath(t,r)==""+e[r]}):t[1]]},[null,null]),a=i[0];return a?this.where(a.name).equals(e[a.keyPath]).filter(i[1]):r?this.filter(i[1]):this.where(t).equals("")},count:function(e){return this.toCollection().count(e)},offset:function(e){return this.toCollection().offset(e)},limit:function(e){return this.toCollection().limit(e)},reverse:function(){return this.toCollection().reverse()},filter:function(e){return this.toCollection().and(e)},each:function(e){return this.toCollection().each(e)},toArray:function(e){return this.toCollection().toArray(e)},orderBy:function(e){return new D(new P(this,isArray$3(e)?"["+e.join("+")+"]":e))},toCollection:function(){return new D(new P(this))},mapToClass:function(e,t){this.schema.mappedClass=e;var r=Object.create(e.prototype);t&&applyStructure(r,t),this.schema.instanceTemplate=r;var n=function(t){if(!t)return t;var r=Object.create(e.prototype);for(var n in t)if(hasOwn(t,n))try{r[n]=t[n]}catch(e){}return r};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=n,this.hook("reading",n),e},defineClass:function(e){return this.mapToClass(Dexie.defineClass(e),e)},bulkDelete:function(e){return this.hook.deleting.fire===nop$1?this._idbstore(y,function(t,r,n,i){t(O(n,i,e,!1,nop$1))}):this.where(":id").anyOf(e).delete().then(function(){})},bulkPut:function(e,t){var r=this;return this._idbstore(y,function(n,i,a){if(!a.keyPath&&!r.schema.primKey.auto&&!t)throw new exceptions$1.InvalidArgument("bulkPut() with non-inbound keys requires keys array in second argument");if(a.keyPath&&t)throw new exceptions$1.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(t&&t.length!==e.length)throw new exceptions$1.InvalidArgument("Arguments objects and keys must have the same length");if(0===e.length)return n();var o,s,u=function(e){0===c.length?n(e):i(new BulkError(r.name+".bulkPut(): "+c.length+" of "+f+" operations failed",c))},c=[],f=e.length,l=r;if(r.hook.creating.fire===nop$1&&r.hook.updating.fire===nop$1){s=I(c);for(var h=0,d=e.length;h<d;++h)(o=t?a.put(e[h],t[h]):a.put(e[h])).onerror=s;o.onerror=I(c,u),o.onsuccess=eventSuccessHandler(u)}else{var p=t||a.keyPath&&e.map(function(e){return getByKeyPath(e,a.keyPath)}),_=p&&arrayToObject(p,function(t,r){return null!=t&&[t,e[r]]});(p?l.where(":id").anyOf(p.filter(function(e){return null!=e})).modify(function(){this.value=_[this.primKey],_[this.primKey]=null}).catch(ModifyError,function(e){c=e.failures}).then(function(){for(var r=[],n=t&&[],i=p.length-1;i>=0;--i){var a=p[i];(null==a||_[a])&&(r.push(e[i]),t&&n.push(a),null!=a&&(_[a]=null))}return r.reverse(),t&&n.reverse(),l.bulkAdd(r,n)}).then(function(e){var t=p[p.length-1];return null!=t?t:e}):l.bulkAdd(e)).then(u).catch(BulkError,function(e){c=c.concat(e.failures),u()}).catch(i)}},"locked")},bulkAdd:function(e,t){var r=this,n=this.hook.creating.fire;return this._idbstore(y,function(i,a,o,s){if(!o.keyPath&&!r.schema.primKey.auto&&!t)throw new exceptions$1.InvalidArgument("bulkAdd() with non-inbound keys requires keys array in second argument");if(o.keyPath&&t)throw new exceptions$1.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(t&&t.length!==e.length)throw new exceptions$1.InvalidArgument("Arguments objects and keys must have the same length");if(0===e.length)return i();function u(e){0===h.length?i(e):a(new BulkError(r.name+".bulkAdd(): "+h.length+" of "+d+" operations failed",h))}var c,f,l,h=[],d=e.length;if(n!==nop$1){var p,_=o.keyPath;f=I(h,null,!0),l=hookedEventSuccessHandler(null),tryCatch$1(function(){for(var r=0,i=e.length;r<i;++r){p={onerror:null,onsuccess:null};var a=t&&t[r],u=e[r],h=t?a:_?getByKeyPath(u,_):void 0,d=n.call(p,h,u,s);null==h&&null!=d&&(_?setByKeyPath(u=deepClone(u),_,d):a=d),(c=null!=a?o.add(u,a):o.add(u))._hookCtx=p,r<i-1&&(c.onerror=f,p.onsuccess&&(c.onsuccess=l))}},function(e){throw p.onerror&&p.onerror(e),e}),c.onerror=I(h,u,!0),c.onsuccess=hookedEventSuccessHandler(u)}else{f=I(h);for(var g=0,m=e.length;g<m;++g)(c=t?o.add(e[g],t[g]):o.add(e[g])).onerror=f;c.onerror=I(h,u),c.onsuccess=eventSuccessHandler(u)}})},add:function(e,t){var r=this.hook.creating.fire;return this._idbstore(y,function(n,i,a,o){var s={onsuccess:null,onerror:null};if(r!==nop$1){var u=null!=t?t:a.keyPath?getByKeyPath(e,a.keyPath):void 0,c=r.call(s,u,e,o);null==u&&null!=c&&(a.keyPath?setByKeyPath(e,a.keyPath,c):t=c)}try{var f=null!=t?a.add(e,t):a.add(e);f._hookCtx=s,f.onerror=hookedEventRejectHandler(i),f.onsuccess=hookedEventSuccessHandler(function(t){var r=a.keyPath;r&&setByKeyPath(e,r,t),n(t)})}catch(e){throw s.onerror&&s.onerror(e),e}})},put:function(e,t){var r=this,n=this.hook.creating.fire,i=this.hook.updating.fire;if(n!==nop$1||i!==nop$1){var a=this.schema.primKey.keyPath,o=void 0!==t?t:a&&getByKeyPath(e,a);return null==o?this.add(e):(e=deepClone(e),this._trans(y,function(){return r.where(":id").equals(o).modify(function(){this.value=e}).then(function(n){return 0===n?r.add(e,t):o})},"locked"))}return this._idbstore(y,function(r,n,i){var a=void 0!==t?i.put(e,t):i.put(e);a.onerror=eventRejectHandler(n),a.onsuccess=wrap(function(t){var n=i.keyPath;n&&setByKeyPath(e,n,t.target.result),r(a.result)})})},delete:function(e){return this.hook.deleting.subscribers.length?this.where(":id").equals(e).delete():this._idbstore(y,function(t,r,n){var i=n.delete(e);i.onerror=eventRejectHandler(r),i.onsuccess=wrap(function(){t(i.result)})})},clear:function(){return this.hook.deleting.subscribers.length?this.toCollection().delete():this._idbstore(y,function(e,t,r){var n=r.clear();n.onerror=eventRejectHandler(t),n.onsuccess=wrap(function(){e(n.result)})})},update:function(e,t){if("object"!=typeof t||isArray$3(t))throw new exceptions$1.InvalidArgument("Modifications must be an object.");if("object"!=typeof e||isArray$3(e))return this.where(":id").equals(e).modify(t);keys$1(t).forEach(function(r){setByKeyPath(e,r,t[r])});var r=getByKeyPath(e,this.schema.primKey.keyPath);return void 0===r?rejection(new exceptions$1.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(r).modify(t)}}),props(N.prototype,{_lock:function(){return assert(!PSD.global),++this._reculock,1!==this._reculock||PSD.global||(PSD.lockOwnerFor=this),this},_unlock:function(){if(assert(!PSD.global),0==--this._reculock)for(PSD.global||(PSD.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var e=this._blockedFuncs.shift();try{usePSD(e[1],e[0])}catch(e){}}return this},_locked:function(){return this._reculock&&PSD.lockOwnerFor!==this},create:function(e){var t=this;if(!this.mode)return this;if(assert(!this.idbtrans),!e&&!_)switch(g&&g.name){case"DatabaseClosedError":throw new exceptions$1.DatabaseClosed(g);case"MissingAPIError":throw new exceptions$1.MissingAPI(g.message,g);default:throw new exceptions$1.OpenFailed(g)}if(!this.active)throw new exceptions$1.TransactionInactive;return assert(null===this._completion._state),(e=this.idbtrans=e||_.transaction(safariMultiStoreFix(this.storeNames),this.mode)).onerror=wrap(function(r){preventDefault(r),t._reject(e.error)}),e.onabort=wrap(function(r){preventDefault(r),t.active&&t._reject(new exceptions$1.Abort(e.error)),t.active=!1,t.on("abort").fire(r)}),e.oncomplete=wrap(function(){t.active=!1,t._resolve()}),this},_promise:function(e,t,r){var n=this;if(e===y&&this.mode!==y)return rejection(new exceptions$1.ReadOnly("Transaction is readonly"));if(!this.active)return rejection(new exceptions$1.TransactionInactive);if(this._locked())return new Promise$2(function(i,a){n._blockedFuncs.push([function(){n._promise(e,t,r).then(i,a)},PSD])});if(r)return newScope(function(){var e=new Promise$2(function(e,r){n._lock();var i=t(e,r,n);i&&i.then&&i.then(e,r)});return e.finally(function(){return n._unlock()}),e._lib=!0,e});var i=new Promise$2(function(e,r){var i=t(e,r,n);i&&i.then&&i.then(e,r)});return i._lib=!0,i},_root:function(){return this.parent?this.parent._root():this},waitFor:function(e){var t=this._root();if(e=Promise$2.resolve(e),t._waitingFor)t._waitingFor=t._waitingFor.then(function(){return e});else{t._waitingFor=e,t._waitingQueue=[];var r=t.idbtrans.objectStore(t.storeNames[0]);!function e(){for(++t._spinCount;t._waitingQueue.length;)t._waitingQueue.shift()();t._waitingFor&&(r.get(-1/0).onsuccess=e)}()}var n=t._waitingFor;return new Promise$2(function(r,i){e.then(function(e){return t._waitingQueue.push(wrap(r.bind(null,e)))},function(e){return t._waitingQueue.push(wrap(i.bind(null,e)))}).finally(function(){t._waitingFor===n&&(t._waitingFor=null)})})},abort:function(){this.active&&this._reject(new exceptions$1.Abort),this.active=!1},tables:{get:deprecated("Transaction.tables",function(){return p})},table:function(e){return new x(e,w.table(e).schema,this)}}),props(P.prototype,function(){function e(e,t,r){var n=e instanceof P?new D(e):e;return n._ctx.error=r?new r(t):new TypeError(t),n}function t(e){return new D(e,function(){return f.only("")}).limit(0)}function r(e,t,r,n,i,a){for(var o=Math.min(e.length,n.length),s=-1,u=0;u<o;++u){var c=t[u];if(c!==n[u])return i(e[u],r[u])<0?e.substr(0,u)+r[u]+r.substr(u+1):i(e[u],n[u])<0?e.substr(0,u)+n[u]+r.substr(u+1):s>=0?e.substr(0,s)+t[s]+r.substr(s+1):null;i(e[u],c)<0&&(s=u)}return o<n.length&&"next"===a?e+r.substr(e.length):o<e.length&&"prev"===a?e.substr(0,r.length):s<0?null:e.substr(0,s)+n[s]+r.substr(s+1)}function n(t,n,i,a){var o,s,u,c,l,h,d,p=i.length;if(!i.every(function(e){return"string"==typeof e}))return e(t,STRING_EXPECTED);function _(e){o=function(e){return"next"===e?function(e){return e.toUpperCase()}:function(e){return e.toLowerCase()}}(e),s=function(e){return"next"===e?function(e){return e.toLowerCase()}:function(e){return e.toUpperCase()}}(e),u="next"===e?W:Z;var t=i.map(function(e){return{lower:s(e),upper:o(e)}}).sort(function(e,t){return u(e.lower,t.lower)});c=t.map(function(e){return e.upper}),l=t.map(function(e){return e.lower}),h=e,d="next"===e?"":a}_("next");var g=new D(t,function(){return f.bound(c[0],l[p-1]+a)});g._ondirectionchange=function(e){_(e)};var m=0;return g._addAlgorithm(function(e,t,i){var a=e.key;if("string"!=typeof a)return!1;var o=s(a);if(n(o,l,m))return!0;for(var f=null,_=m;_<p;++_){var g=r(a,o,c[_],l[_],u,h);null===g&&null===f?m=_+1:(null===f||u(f,g)>0)&&(f=g)}return t(null!==f?function(){e.continue(f+d)}:i),!1}),g}return{between:function(r,n,i,a){i=!1!==i,a=!0===a;try{return j(r,n)>0||0===j(r,n)&&(i||a)&&(!i||!a)?t(this):new D(this,function(){return f.bound(r,n,!i,!a)})}catch(t){return e(this,INVALID_KEY_ARGUMENT)}},equals:function(e){return new D(this,function(){return f.only(e)})},above:function(e){return new D(this,function(){return f.lowerBound(e,!0)})},aboveOrEqual:function(e){return new D(this,function(){return f.lowerBound(e)})},below:function(e){return new D(this,function(){return f.upperBound(e,!0)})},belowOrEqual:function(e){return new D(this,function(){return f.upperBound(e)})},startsWith:function(t){return"string"!=typeof t?e(this,STRING_EXPECTED):this.between(t,t+maxString,!0,!0)},startsWithIgnoreCase:function(e){return""===e?this.startsWith(e):n(this,function(e,t){return 0===e.indexOf(t[0])},[e],maxString)},equalsIgnoreCase:function(e){return n(this,function(e,t){return e===t[0]},[e],"")},anyOfIgnoreCase:function(){var e=getArrayOf.apply(NO_CHAR_ARRAY,arguments);return 0===e.length?t(this):n(this,function(e,t){return-1!==t.indexOf(e)},e,"")},startsWithAnyOfIgnoreCase:function(){var e=getArrayOf.apply(NO_CHAR_ARRAY,arguments);return 0===e.length?t(this):n(this,function(e,t){return t.some(function(t){return 0===e.indexOf(t)})},e,maxString)},anyOf:function(){var r=getArrayOf.apply(NO_CHAR_ARRAY,arguments),n=H;try{r.sort(n)}catch(t){return e(this,INVALID_KEY_ARGUMENT)}if(0===r.length)return t(this);var i=new D(this,function(){return f.bound(r[0],r[r.length-1])});i._ondirectionchange=function(e){n="next"===e?H:z,r.sort(n)};var a=0;return i._addAlgorithm(function(e,t,i){for(var o=e.key;n(o,r[a])>0;)if(++a===r.length)return t(i),!1;return 0===n(o,r[a])||(t(function(){e.continue(r[a])}),!1)}),i},notEqual:function(e){return this.inAnyRange([[minKey,e],[e,maxKey]],{includeLowers:!1,includeUppers:!1})},noneOf:function(){var t=getArrayOf.apply(NO_CHAR_ARRAY,arguments);if(0===t.length)return new D(this);try{t.sort(H)}catch(t){return e(this,INVALID_KEY_ARGUMENT)}var r=t.reduce(function(e,t){return e?e.concat([[e[e.length-1][1],t]]):[[minKey,t]]},null);return r.push([t[t.length-1],maxKey]),this.inAnyRange(r,{includeLowers:!1,includeUppers:!1})},inAnyRange:function(r,n){if(0===r.length)return t(this);if(!r.every(function(e){return void 0!==e[0]&&void 0!==e[1]&&H(e[0],e[1])<=0}))return e(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",exceptions$1.InvalidArgument);var i=!n||!1!==n.includeLowers,a=n&&!0===n.includeUppers;var o,s=H;function u(e,t){return s(e[0],t[0])}try{(o=r.reduce(function(e,t){for(var r=0,n=e.length;r<n;++r){var i=e[r];if(j(t[0],i[1])<0&&j(t[1],i[0])>0){i[0]=(a=i[0],o=t[0],j(a,o)<0?a:o),i[1]=U(i[1],t[1]);break}}var a,o;return r===n&&e.push(t),e},[])).sort(u)}catch(t){return e(this,INVALID_KEY_ARGUMENT)}var c=0,l=a?function(e){return H(e,o[c][1])>0}:function(e){return H(e,o[c][1])>=0},h=i?function(e){return z(e,o[c][0])>0}:function(e){return z(e,o[c][0])>=0};var d=l,p=new D(this,function(){return f.bound(o[0][0],o[o.length-1][1],!i,!a)});return p._ondirectionchange=function(e){"next"===e?(d=l,s=H):(d=h,s=z),o.sort(u)},p._addAlgorithm(function(e,t,r){for(var n=e.key;d(n);)if(++c===o.length)return t(r),!1;return!!function(e){return!l(e)&&!h(e)}(n)||0!==j(n,o[c][1])&&0!==j(n,o[c][0])&&(t(function(){s===H?e.continue(o[c][0]):e.continue(o[c][1])}),!1)}),p},startsWithAnyOf:function(){var r=getArrayOf.apply(NO_CHAR_ARRAY,arguments);return r.every(function(e){return"string"==typeof e})?0===r.length?t(this):this.inAnyRange(r.map(function(e){return[e,e+maxString]})):e(this,"startsWithAnyOf() only works with strings")}}}),props(D.prototype,function(){function e(e,t){e.filter=K(e.filter,t)}function t(e,t,r){var n=e.replayFilter;e.replayFilter=n?function(){return K(n(),t())}:t,e.justLimit=r&&!n}function r(e,t){if(e.isPrimKey)return t;var r=e.table.schema.idxByName[e.index];if(!r)throw new exceptions$1.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return t.index(r.name)}function n(e,t){var n=r(e,t);return e.keysOnly&&"openKeyCursor"in n?n.openKeyCursor(e.range||null,e.dir+e.unique):n.openCursor(e.range||null,e.dir+e.unique)}function a(e,t,r,i,a){var o=e.replayFilter?K(e.filter,e.replayFilter()):e.filter;e.or?function(){var s={},u=0;function c(){2==++u&&r()}function f(e,r,n){if(!o||o(r,n,c,i)){var a=r.primaryKey,u=""+a;"[object ArrayBuffer]"===u&&(u=""+new Uint8Array(a)),hasOwn(s,u)||(s[u]=!0,t(e,r,n))}}e.or._iterate(f,c,i,a),F(n(e,a),e.algorithm,f,c,i,!e.keysOnly&&e.valueMapper)}():F(n(e,a),K(e.algorithm,o),t,r,i,!e.keysOnly&&e.valueMapper)}return{_read:function(e,t){var r=this._ctx;return r.error?r.table._trans(null,rejection.bind(null,r.error)):r.table._idbstore("readonly",e).then(t)},_write:function(e){var t=this._ctx;return t.error?t.table._trans(null,rejection.bind(null,t.error)):t.table._idbstore(y,e,"locked")},_addAlgorithm:function(e){var t=this._ctx;t.algorithm=K(t.algorithm,e)},_iterate:function(e,t,r,n){return a(this._ctx,e,t,r,n)},clone:function(e){var t=Object.create(this.constructor.prototype),r=Object.create(this._ctx);return e&&extend(r,e),t._ctx=r,t},raw:function(){return this._ctx.valueMapper=null,this},each:function(e){var t=this._ctx;return this._read(function(r,n,i){a(t,e,r,n,i)})},count:function(e){var t=this._ctx;if(B(t,!0))return this._read(function(e,n,i){var a=r(t,i),o=t.range?a.count(t.range):a.count();o.onerror=eventRejectHandler(n),o.onsuccess=function(r){e(Math.min(r.target.result,t.limit))}},e);var n=0;return this._read(function(e,r,i){a(t,function(){return++n,!1},function(){e(n)},r,i)},e)},sortBy:function(e,t){var r=e.split(".").reverse(),n=r[0],i=r.length-1;function a(e,t){return t?a(e[r[t]],t-1):e[n]}var o="next"===this._ctx.dir?1:-1;function s(e,t){var r=a(e,i),n=a(t,i);return r<n?-o:r>n?o:0}return this.toArray(function(e){return e.sort(s)}).then(t)},toArray:function(e){var t=this._ctx;return this._read(function(e,n,o){if(i&&"next"===t.dir&&B(t,!0)&&t.limit>0){var s=t.table.hook.reading.fire,u=r(t,o),c=t.limit<1/0?u.getAll(t.range,t.limit):u.getAll(t.range);c.onerror=eventRejectHandler(n),c.onsuccess=eventSuccessHandler(s===mirror?e:function(t){try{e(t.map(s))}catch(e){n(e)}})}else{var f=[];a(t,function(e){f.push(e)},function(){e(f)},n,o)}},e)},offset:function(e){var r=this._ctx;return e<=0?this:(r.offset+=e,B(r)?t(r,function(){var t=e;return function(e,r){return 0===t||(1===t?(--t,!1):(r(function(){e.advance(t),t=0}),!1))}}):t(r,function(){var t=e;return function(){return--t<0}}),this)},limit:function(e){return this._ctx.limit=Math.min(this._ctx.limit,e),t(this._ctx,function(){var t=e;return function(e,r,n){return--t<=0&&r(n),t>=0}},!0),this},until:function(t,r){return e(this._ctx,function(e,n,i){return!t(e.value)||(n(i),r)}),this},first:function(e){return this.limit(1).toArray(function(e){return e[0]}).then(e)},last:function(e){return this.reverse().first(e)},filter:function(t){var r,n;return e(this._ctx,function(e){return t(e.value)}),r=this._ctx,n=t,r.isMatch=K(r.isMatch,n),this},and:function(e){return this.filter(e)},or:function(e){return new P(this._ctx.table,e,this)},reverse:function(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},desc:function(){return this.reverse()},eachKey:function(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each(function(t,r){e(r.key,r)})},eachUniqueKey:function(e){return this._ctx.unique="unique",this.eachKey(e)},eachPrimaryKey:function(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each(function(t,r){e(r.primaryKey,r)})},keys:function(e){var t=this._ctx;t.keysOnly=!t.isMatch;var r=[];return this.each(function(e,t){r.push(t.key)}).then(function(){return r}).then(e)},primaryKeys:function(e){var t=this._ctx;if(i&&"next"===t.dir&&B(t,!0)&&t.limit>0)return this._read(function(e,n,i){var a=r(t,i),o=t.limit<1/0?a.getAllKeys(t.range,t.limit):a.getAllKeys(t.range);o.onerror=eventRejectHandler(n),o.onsuccess=eventSuccessHandler(e)}).then(e);t.keysOnly=!t.isMatch;var n=[];return this.each(function(e,t){n.push(t.primaryKey)}).then(function(){return n}).then(e)},uniqueKeys:function(e){return this._ctx.unique="unique",this.keys(e)},firstKey:function(e){return this.limit(1).keys(function(e){return e[0]}).then(e)},lastKey:function(e){return this.reverse().firstKey(e)},distinct:function(){var t=this._ctx,r=t.index&&t.table.schema.idxByName[t.index];if(!r||!r.multi)return this;var n={};return e(this._ctx,function(e){var t=e.primaryKey.toString(),r=hasOwn(n,t);return n[t]=!0,!r}),this},modify:function(e){var t=this,r=this._ctx.table.hook,n=r.updating.fire,i=r.deleting.fire;return this._write(function(r,a,o,s){var u;if("function"==typeof e)u=n===nop$1&&i===nop$1?e:function(t){var r=deepClone(t);if(!1===e.call(this,t,this))return!1;if(hasOwn(this,"value")){var a=getObjectDiff(r,this.value),o=n.call(this,a,this.primKey,r,s);o&&(t=this.value,keys$1(o).forEach(function(e){setByKeyPath(t,e,o[e])}))}else i.call(this,this.primKey,t,s)};else if(n===nop$1){var c=keys$1(e),f=c.length;u=function(t){for(var r=!1,n=0;n<f;++n){var i=c[n],a=e[i];getByKeyPath(t,i)!==a&&(setByKeyPath(t,i,a),r=!0)}return r}}else{var l=e;e=shallowClone(l),u=function(t){var r=!1,i=n.call(this,e,this.primKey,deepClone(t),s);return i&&extend(e,i),keys$1(e).forEach(function(n){var i=e[n];getByKeyPath(t,n)!==i&&(setByKeyPath(t,n,i),r=!0)}),i&&(e=shallowClone(l)),r}}var h=0,d=0,p=!1,_=[],g=[],m=null;function b(e){return e&&(_.push(e),g.push(m)),a(new ModifyError("Error modifying one or more objects",_,d,g))}function v(){p&&d+_.length===h&&(_.length>0?b():r(d))}t.clone().raw()._iterate(function(e,t){m=t.primaryKey;var r={primKey:t.primaryKey,value:e,onsuccess:null,onerror:null};function n(e){return _.push(e),g.push(r.primKey),v(),!0}if(!1!==u.call(r,e,r)){var i=!hasOwn(r,"value");++h,tryCatch$1(function(){var e=i?t.delete():t.update(r.value);e._hookCtx=r,e.onerror=hookedEventRejectHandler(n),e.onsuccess=hookedEventSuccessHandler(function(){++d,v()})},n)}else r.onsuccess&&r.onsuccess(r.value)},function(){p=!0,v()},b,o)})},delete:function(){var e=this,t=this._ctx,r=t.range,n=t.table.hook.deleting.fire,i=n!==nop$1;if(!i&&B(t)&&(t.isPrimKey&&!hangsOnDeleteLargeKeyRange||!r))return this._write(function(e,t,n){var i=eventRejectHandler(t),a=r?n.count(r):n.count();a.onerror=i,a.onsuccess=function(){var o=a.result;tryCatch$1(function(){var t=r?n.delete(r):n.clear();t.onerror=i,t.onsuccess=function(){return e(o)}},function(e){return t(e)})}});var a=i?2e3:1e4;return this._write(function(r,o,s,u){var c=0,f=e.clone({keysOnly:!t.isMatch&&!i}).distinct().limit(a).raw(),l=[],h=function(){return f.each(i?function(e,t){l.push([t.primaryKey,t.value])}:function(e,t){l.push(t.primaryKey)}).then(function(){return i?l.sort(function(e,t){return H(e[0],t[0])}):l.sort(H),O(s,u,l,i,n)}).then(function(){var e=l.length;return c+=e,l=[],e<a?c:h()})};r(h())})}}}),extend(this,{Collection:D,Table:x,Transaction:N,Version:T,WhereClause:P}),w.on("versionchange",function(e){e.newVersion>0?console.warn("Another connection wants to upgrade database '"+w.name+"'. Closing db now to resume the upgrade."):console.warn("Another connection wants to delete database '"+w.name+"'. Closing db now to resume the delete request."),w.close()}),w.on("blocked",function(e){!e.newVersion||e.newVersion<e.oldVersion?console.warn("Dexie.delete('"+w.name+"') was blocked"):console.warn("Upgrade '"+w.name+"' blocked by other connection holding version "+e.oldVersion/10)}),s.forEach(function(e){e(w)})}function parseType(e){if("function"==typeof e)return new e;if(isArray$3(e))return[parseType(e[0])];if(e&&"object"==typeof e){var t={};return applyStructure(t,e),t}return e}function applyStructure(e,t){return keys$1(t).forEach(function(r){var n=parseType(t[r]);e[r]=n}),e}function hookedEventSuccessHandler(e){return wrap(function(t){var r=t.target,n=r._hookCtx,i=n.value||r.result,a=n&&n.onsuccess;a&&a(i),e&&e(i)},e)}function eventRejectHandler(e){return wrap(function(t){return preventDefault(t),e(t.target.error),!1})}function eventSuccessHandler(e){return wrap(function(t){e(t.target.result)})}function hookedEventRejectHandler(e){return wrap(function(t){var r=t.target,n=r.error,i=r._hookCtx,a=i&&i.onerror;return a&&a(n),preventDefault(t),e(n),!1})}function preventDefault(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}function awaitIterator(e){var t=function(t){return e.next(t)},r=i(t),n=i(function(t){return e.throw(t)});function i(e){return function(t){var i=e(t),a=i.value;return i.done?a:a&&"function"==typeof a.then?a.then(r,n):isArray$3(a)?Promise$2.all(a).then(r,n):r(a)}}return i(t)()}function IndexSpec(e,t,r,n,i,a,o){this.name=e,this.keyPath=t,this.unique=r,this.multi=n,this.auto=i,this.compound=a,this.dotted=o;var s="string"==typeof t?t:t&&"["+[].join.call(t,"+")+"]";this.src=(r?"&":"")+(n?"*":"")+(i?"++":"")+s}function TableSchema(e,t,r,n){this.name=e,this.primKey=t||new IndexSpec,this.indexes=r||[new IndexSpec],this.instanceTemplate=n,this.mappedClass=null,this.idxByName=arrayToObject(r,function(e){return[e.name,e]})}function safariMultiStoreFix(e){return 1===e.length?e[0]:e}function getNativeGetDatabaseNamesFn(e){var t=e&&(e.getDatabaseNames||e.webkitGetDatabaseNames);return t&&t.bind(e)}setDebug(debug$1,dexieStackFrameFilter),props(Dexie,fullNameExceptions),props(Dexie,{delete:function(e){var t=new Dexie(e),r=t.delete();return r.onblocked=function(e){return t.on("blocked",e),this},r},exists:function(e){return new Dexie(e).open().then(function(e){return e.close(),!0}).catch(Dexie.NoSuchDatabaseError,function(){return!1})},getDatabaseNames:function(e){var t=getNativeGetDatabaseNamesFn(Dexie.dependencies.indexedDB);return t?new Promise$2(function(e,r){var n=t();n.onsuccess=function(t){e(slice(t.target.result,0))},n.onerror=eventRejectHandler(r)}).then(e):dbNamesDB.dbnames.toCollection().primaryKeys(e)},defineClass:function(){return function(e){e&&extend(this,e)}},applyStructure:applyStructure,ignoreTransaction:function(e){return PSD.trans?usePSD(PSD.transless,e):e()},vip:function(e){return newScope(function(){return PSD.letThrough=!0,e()})},async:function(e){return function(){try{var t=awaitIterator(e.apply(this,arguments));return t&&"function"==typeof t.then?t:Promise$2.resolve(t)}catch(e){return rejection(e)}}},spawn:function(e,t,r){try{var n=awaitIterator(e.apply(r,t||[]));return n&&"function"==typeof n.then?n:Promise$2.resolve(n)}catch(e){return rejection(e)}},currentTransaction:{get:function(){return PSD.trans||null}},waitFor:function(e,t){var r=Promise$2.resolve("function"==typeof e?Dexie.ignoreTransaction(e):e).timeout(t||6e4);return PSD.trans?PSD.trans.waitFor(r):r},Promise:Promise$2,debug:{get:function(){return debug$1},set:function(e){setDebug(e,"dexie"===e?function(){return!0}:dexieStackFrameFilter)}},derive:derive,extend:extend,props:props,override:override,Events:Events,getByKeyPath:getByKeyPath,setByKeyPath:setByKeyPath,delByKeyPath:delByKeyPath,shallowClone:shallowClone,deepClone:deepClone,getObjectDiff:getObjectDiff,asap:asap,maxKey:maxKey,minKey:minKey,addons:[],connections:connections,MultiModifyError:exceptions$1.Modify,errnames:errnames,IndexSpec:IndexSpec,TableSchema:TableSchema,dependencies:function(){try{return{indexedDB:_global.indexedDB||_global.mozIndexedDB||_global.webkitIndexedDB||_global.msIndexedDB,IDBKeyRange:_global.IDBKeyRange||_global.webkitIDBKeyRange}}catch(e){return{indexedDB:null,IDBKeyRange:null}}}(),semVer:DEXIE_VERSION,version:DEXIE_VERSION.split(".").map(function(e){return parseInt(e)}).reduce(function(e,t,r){return e+t/Math.pow(10,2*r)}),default:Dexie,Dexie:Dexie}),Promise$2.rejectionMapper=mapError,dbNamesDB=new Dexie("__dbnames"),dbNamesDB.version(1).stores({dbnames:"name"}),function(){try{void 0!==typeof localStorage&&void 0!==_global.document&&(JSON.parse(localStorage.getItem("Dexie.DatabaseNames")||"[]").forEach(function(e){return dbNamesDB.dbnames.put({name:e}).catch(nop$1)}),localStorage.removeItem("Dexie.DatabaseNames"))}catch(e){}}();var SETTINGS_ID=0,DB_NAME="stellerator-ng",Database=function(e){function t(){var t=e.call(this,DB_NAME)||this;return t.version(1).stores({cartridges:"&hash",roms:"&hash",settings:"&id"}),t}return __extends(t,e),t}(Dexie),Storage=function(){function e(){this._database=new Database}return e.prototype.getAllCartridges=function(){return this._database.cartridges.toArray()},e.prototype.insertCartridges=function(e){var t=this;return this._database.transaction("rw",[this._database.cartridges,this._database.roms],function(){return __awaiter(t,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return[4,Promise.all([this._database.cartridges.bulkPut(e.map(function(e){return e.cartridge})),this._database.roms.bulkPut(e.map(function(e){return{hash:e.cartridge.hash,image:e.image}}))])];case 1:return t.sent(),[2]}})})})},e.prototype.updateCartridge=function(e){return __awaiter(this,void 0,void 0,function(){var t=this;return __generator(this,function(r){return[2,this._database.transaction("rw",[this._database.cartridges],function(){return __awaiter(t,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return[4,this._database.cartridges.get(e.hash)];case 1:return t.sent()?[4,this._database.cartridges.put(e)]:[2];case 2:return t.sent(),[2]}})})})]})})},e.prototype.deleteCartridge=function(e){var t=this;return this._database.transaction("rw",[this._database.cartridges,this._database.roms],function(){return __awaiter(t,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return[4,Promise.all([this._database.cartridges.delete(e),this._database.roms.delete(e)])];case 1:return t.sent(),[2]}})})})},e.prototype.deleteAllCartridges=function(){return this._database.cartridges.clear()},e.prototype.getSettings=function(){return __awaiter(this,void 0,void 0,function(){var e;return __generator(this,function(t){switch(t.label){case 0:return[4,this._database.settings.get(SETTINGS_ID)];case 1:return(e=t.sent())?(e.id,[2,__rest(e,["id"])]):[2,void 0]}})})},e.prototype.saveSettings=function(e){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return[4,this._database.settings.put(__assign({},e,{id:SETTINGS_ID}))];case 1:return t.sent(),[2]}})})},e.prototype.dropDatabase=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return this._database.close(),[4,indexedDB.deleteDatabase(DB_NAME)];case 1:return e.sent(),this._database=new Database,[2]}})})},e=__decorate([inversify_8()],e)}(),AddCartridge=function(){function e(e){var t=this;this._storage=e,this._addCartridge=function(){t._input&&t._input.removeEventListener("change",t._onCartridgeAdded),t._input=document.createElement("input"),t._input.type="file",t._input.accept=".bin, .a26, .zip",t._input.multiple=!0,t._input.addEventListener("change",t._onCartridgeAdded),t._input.click()},this._onCartridgeAdded=function(e){return __awaiter(t,void 0,void 0,function(){var t,r,n,i=this;return __generator(this,function(a){switch(a.label){case 0:return t=e.target,[4,Promise.all(Array.prototype.map.call(t.files,function(e){return i._processFile(e)}))];case 1:return r=a.sent().reduce(function(e,t){return e.concat(t)},[]),n=Array.from(new Map(r.map(function(e){return[e.cartridge.hash,e]})).values()),[4,this._storage.insertCartridges(n)];case 2:return a.sent(),this._ports.onNewCartridges_.send(Array.from(n.map(function(e){return e.cartridge}))),[2]}})})},this._input=null,this._detector=new CartridgeDetector}return e.prototype.init=function(e){this._ports=e,e.addCartridge_.subscribe(this._addCartridge)},e.prototype._processFile=function(e){return __awaiter(this,void 0,void 0,function(){var t,r,n=this;return __generator(this,function(i){switch(i.label){case 0:return i.trys.push([0,6,,7]),[4,new Promise(function(t,r){var n=new FileReader;n.addEventListener("load",function(){return t(new Uint8Array(n.result))}),n.addEventListener("error",function(){return r(n.error)}),n.readAsArrayBuffer(e)})];case 1:return t=i.sent(),e.name.match(/.zip$/i)?[4,(r=new lib$2).loadAsync(t)]:[3,4];case 2:return i.sent(),[4,Promise.all(r.file(/\.(bin|a26)$/i).filter(function(e){return!e.dir}).map(function(e){return e.async("uint8array").then(function(t){return n._createCartridge(e.name.replace(/.*\//,""),t)})}))];case 3:return[2,i.sent()];case 4:return[2,[this._createCartridge(e.name,t)]];case 5:return[3,7];case 6:return i.sent(),[2,[]];case 7:return[2]}})})},e.prototype._createCartridge=function(e,t){var r=calculateFromUint8Array(t),n=e.replace(/\.[^\.]*$/,"");return{cartridge:{hash:r,name:n,tvMode:this._tvModeFromName(n),cartridgeType:this._detector.detectCartridgeType(t),emulatePaddles:!1,volume:100},image:t}},e.prototype._tvModeFromName=function(e){return e.match(/[\W\-_]pal\d*[\W\-_]/i)?"pal":e.match(/[\W\-_]secam\d*[\W\-_]/i)?"secam":"ntsc"},e=__decorate([inversify_8(),__param(0,inversify_11(Storage)),__metadata("design:paramtypes",[Storage])],e)}(),TrackCartridges=function(){function e(e){var t=this;this._storage=e,this._onCartridgeUpdated=function(e){return t._storage.updateCartridge(e)},this._onCartridgeDeleted=function(e){return t._storage.deleteCartridge(e)},this._onDeleteAllCartridges=function(){return t._storage.deleteAllCartridges()}}return e.prototype.init=function(e){e.updateCartridge_.subscribe(this._onCartridgeUpdated),e.deleteCartridge_.subscribe(this._onCartridgeDeleted),e.deleteAllCartridges_.subscribe(this._onDeleteAllCartridges)},e=__decorate([inversify_8(),__param(0,inversify_11(Storage)),__metadata("design:paramtypes",[Storage])],e)}(),TrackSettings=function(){function e(e){var t=this;this._storage=e,this._onSettingsUpdate=function(e){return t._storage.saveSettings(e)}}return e.prototype.init=function(e){e.updateSettings_.subscribe(this._onSettingsUpdate)},e=__decorate([inversify_8(),__param(0,inversify_11(Storage)),__metadata("design:paramtypes",[Storage])],e)}();function main(){return __awaiter(this,void 0,void 0,function(){var e,t,r,n,i,a,o,s;return __generator(this,function(u){switch(u.label){case 0:initialize(),e=CartridgeInfo.getAllTypes().map(function(e){return{key:e,description:CartridgeInfo.describeCartridgeType(e)}}),t=new inversify_2({autoBindInjectable:!0,defaultScope:"Singleton"}),r=t.get(Storage),u.label=1;case 1:return u.trys.push([1,3,,6]),[4,Promise.all([r.getAllCartridges(),r.getSettings()])];case 2:return o=__read.apply(void 0,[u.sent(),2]),n=o[0],i=o[1],[3,6];case 3:return u.sent(),[4,r.dropDatabase()];case 4:return u.sent(),[4,Promise.all([r.getAllCartridges(),r.getSettings()])];case 5:return s=__read.apply(void 0,[u.sent(),2]),n=s[0],i=s[1],[3,6];case 6:return a=Elm.Stellerator.Main.init({flags:{cartridges:n,cartridgeTypes:e,settings:i}}).ports,t.get(MediaApi).init(a),t.get(ScrollIntoView).init(a),t.get(AddCartridge).init(a),t.get(TrackCartridges).init(a),t.get(TrackSettings).init(a),[2]}})})}window.addEventListener("load",main);
//# sourceMappingURL=app.js.map
