{"version":3,"file":"app.js","sources":["../../../node_modules/tslib/tslib.es6.js","../../../node_modules/rangetouch/src/js/config.js","../../../node_modules/rangetouch/src/js/utils/css.js","../../../node_modules/rangetouch/src/js/utils/events.js","../../../node_modules/rangetouch/src/js/utils/is.js","../../../node_modules/rangetouch/src/js/utils/numbers.js","../../../node_modules/rangetouch/src/js/rangetouch.js","../../../src/frontend/common/rangetouch.ts","../../../src/machine/stella/cartridge/CartridgeInfo.ts","../../../src/frontend/stellerator/mediaApi.ts","../../../node_modules/crypt/crypt.js","../../../node_modules/charenc/charenc.js","../../../node_modules/is-buffer/index.js","../../../node_modules/md5/md5.js","../../../node_modules/rollup-plugin-node-globals/src/global.js","../../../node_modules/buffer-es6/base64.js","../../../node_modules/buffer-es6/ieee754.js","../../../node_modules/buffer-es6/isArray.js","../../../node_modules/buffer-es6/index.js","../../../src/tools/hash/md5.ts","../../../src/frontend/stellerator/scrollIntoView.ts","../../../src/frontend/stellerator/addCartridge.ts","../../../src/frontend/stellerator/index.ts"],"sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","const defaults = {\n    addCSS: true, // Add CSS to the element to improve usability (required here or in your CSS!)\n    thumbWidth: 15, // The width of the thumb handle\n    watch: true, // Watch for new elements that match a string target\n};\n\nexport default defaults;","// Element matches a selector\nexport function matches(element, selector) {\n    const prototype = { Element };\n\n    function match() {\n        return Array.from(document.querySelectorAll(selector)).includes(this);\n    }\n\n    const matches =\n        prototype.matches ||\n        prototype.webkitMatchesSelector ||\n        prototype.mozMatchesSelector ||\n        prototype.msMatchesSelector ||\n        match;\n\n    return matches.call(element, selector);\n}\n\nexport default {};\n","// Trigger event\nexport function trigger(element, type) {\n    if (!element || !type) {\n        return;\n    }\n\n    // Create and dispatch the event\n    const event = new Event(type);\n\n    // Dispatch the event\n    element.dispatchEvent(event);\n}\n\nexport default {};\n","// ==========================================================================\n// Type checking utils\n// ==========================================================================\n\nconst getConstructor = input => (input !== null && typeof input !== 'undefined' ? input.constructor : null);\nconst instanceOf = (input, constructor) => Boolean(input && constructor && input instanceof constructor);\n\nconst isNullOrUndefined = input => input === null || typeof input === 'undefined';\nconst isObject = input => getConstructor(input) === Object;\nconst isNumber = input => getConstructor(input) === Number && !Number.isNaN(input);\nconst isString = input => getConstructor(input) === String;\nconst isBoolean = input => getConstructor(input) === Boolean;\nconst isFunction = input => getConstructor(input) === Function;\nconst isArray = input => Array.isArray(input);\nconst isNodeList = input => instanceOf(input, NodeList);\nconst isElement = input => instanceOf(input, Element);\nconst isEvent = input => instanceOf(input, Event);\nconst isEmpty = input =>\n    isNullOrUndefined(input) ||\n    ((isString(input) || isArray(input) || isNodeList(input)) && !input.length) ||\n    (isObject(input) && !Object.keys(input).length);\n\nexport default {\n    nullOrUndefined: isNullOrUndefined,\n    object: isObject,\n    number: isNumber,\n    string: isString,\n    boolean: isBoolean,\n    function: isFunction,\n    array: isArray,\n    nodeList: isNodeList,\n    element: isElement,\n    event: isEvent,\n    empty: isEmpty,\n};\n","// Get the number of decimal places\nexport function getDecimalPlaces(value) {\n    const match = `${value}`.match(/(?:\\.(\\d+))?(?:[eE]([+-]?\\d+))?$/);\n\n    if (!match) {\n        return 0;\n    }\n\n    return Math.max(\n        0,\n        // Number of digits right of decimal point.\n        (match[1] ? match[1].length : 0) -\n            // Adjust for scientific notation.\n            (match[2] ? +match[2] : 0),\n    );\n}\n\n// Round to the nearest step\nexport function round(number, step) {\n    if (step < 1) {\n        const places = getDecimalPlaces(step);\n        return parseFloat(number.toFixed(places));\n    }\n    return Math.round(number / step) * step;\n}\n\nexport default {};\n","// ==========================================================================\n// rangetouch.js v2.0.0\n// Making <input type=\"range\"> work on touch devices\n// https://github.com/sampotts/rangetouch\n// License: The MIT License (MIT)\n// ==========================================================================\n\nimport defaults from './config';\nimport { matches } from './utils/css';\nimport { trigger } from './utils/events';\nimport is from './utils/is';\nimport { round } from './utils/numbers';\n\nclass RangeTouch {\n    /**\n     * Setup a new instance\n     * @param {String|Element} target\n     * @param {Object} options\n     */\n    constructor(target, options) {\n        if (is.element(target)) {\n            // An Element is passed, use it directly\n            this.element = target;\n        } else if (is.string(target)) {\n            // A CSS Selector is passed, fetch it from the DOM\n            this.element = document.querySelector(target);\n        }\n\n        if (!is.element(this.element) || !is.empty(this.element.rangeTouch)) {\n            return;\n        }\n\n        this.config = Object.assign({}, defaults, options);\n\n        this.init();\n    }\n\n    static get enabled() {\n        return 'ontouchstart' in document.documentElement;\n    }\n\n    /**\n     * Setup multiple instances\n     * @param {String|Element|NodeList|Array} target\n     * @param {Object} options\n     */\n    static setup(target, options = {}) {\n        let targets = null;\n\n        if (is.empty(target) || is.string(target)) {\n            targets = Array.from(document.querySelectorAll(is.string(target) ? target : 'input[type=\"range\"]'));\n        } else if (is.element(target)) {\n            targets = [target];\n        } else if (is.nodeList(target)) {\n            targets = Array.from(target);\n        } else if (is.array(target)) {\n            targets = target.filter(is.element);\n        }\n\n        if (is.empty(targets)) {\n            return null;\n        }\n\n        const config = Object.assign({}, defaults, options);\n\n        if (is.string(target) && config.watch) {\n            // Create an observer instance\n            const observer = new MutationObserver(mutations => {\n                Array.from(mutations).forEach(mutation => {\n                    Array.from(mutation.addedNodes).forEach(node => {\n                        if (!is.element(node) || !matches(node, target)) {\n                            return;\n                        }\n\n                        // eslint-disable-next-line no-unused-vars\n                        const range = new RangeTouch(node, config);\n                    });\n                });\n            });\n\n            // Pass in the target node, as well as the observer options\n            observer.observe(document.body, {\n                childList: true,\n                subtree: true,\n            });\n        }\n\n        return targets.map(t => new RangeTouch(t, options));\n    }\n\n    init() {\n        // Bail if not a touch enabled device\n        if (!RangeTouch.enabled) {\n            return;\n        }\n\n        // Add useful CSS\n        if (this.config.addCSS) {\n            // TODO: Restore original values on destroy\n            this.element.style.userSelect = 'none';\n            this.element.style.webKitUserSelect = 'none';\n            this.element.style.touchAction = 'manipulation';\n        }\n\n        this.listeners(true);\n\n        this.element.rangeTouch = this;\n    }\n\n    destroy() {\n        // Bail if not a touch enabled device\n        if (!RangeTouch.enabled) {\n            return;\n        }\n\n        this.listeners(false);\n\n        this.element.rangeTouch = null;\n    }\n\n    listeners(toggle) {\n        const method = toggle ? 'addEventListener' : 'removeEventListener';\n\n        // Listen for events\n        ['touchstart', 'touchmove', 'touchend'].forEach(type => {\n            this.element[method](type, event => this.set(event), false);\n        });\n    }\n\n    /**\n     * Get the value based on touch position\n     * @param {Event} event\n     */\n    get(event) {\n        if (!RangeTouch.enabled || !is.event(event)) {\n            return null;\n        }\n\n        const input = event.target;\n        const touch = event.changedTouches[0];\n        const min = parseFloat(input.getAttribute('min')) || 0;\n        const max = parseFloat(input.getAttribute('max')) || 100;\n        const step = parseFloat(input.getAttribute('step')) || 1;\n        const delta = max - min;\n\n        // Calculate percentage\n        let percent;\n        const clientRect = input.getBoundingClientRect();\n        const thumbWidth = ((100 / clientRect.width) * (this.config.thumbWidth / 2)) / 100;\n\n        // Determine left percentage\n        percent = (100 / clientRect.width) * (touch.clientX - clientRect.left);\n\n        // Don't allow outside bounds\n        if (percent < 0) {\n            percent = 0;\n        } else if (percent > 100) {\n            percent = 100;\n        }\n\n        // Factor in the thumb offset\n        if (percent < 50) {\n            percent -= (100 - percent * 2) * thumbWidth;\n        } else if (percent > 50) {\n            percent += (percent - 50) * 2 * thumbWidth;\n        }\n\n        // Find the closest step to the mouse position\n        return min + round(delta * (percent / 100), step);\n    }\n\n    /**\n     * Update range value based on position\n     * @param {Event} event\n     */\n    set(event) {\n        if (!RangeTouch.enabled || !is.event(event) || event.target.disabled) {\n            return;\n        }\n\n        // Prevent text highlight on iOS\n        event.preventDefault();\n\n        // Set value\n        event.target.value = this.get(event);\n\n        // Trigger event\n        trigger(event.target, event.type === 'touchend' ? 'change' : 'input');\n    }\n}\n\nexport default RangeTouch;\n","import Rangetouch from 'rangetouch';\n\nconst instances = new WeakMap<Element, Rangetouch>();\n\nfunction registerOne(target: Element): void {\n    if (!instances.has(target)) {\n        instances.set(target, new Rangetouch(target, { watch: false, addCSS: false, thumbWidth: 8 }));\n    }\n}\n\nfunction registerRecursive(target: Element): void {\n    const selector = 'input[type=range]';\n\n    if (target.matches && target.matches(selector)) {\n        registerOne(target);\n    }\n\n    target.querySelectorAll && target.querySelectorAll(selector).forEach(registerOne);\n}\n\nlet observer: MutationObserver | null = null;\n\nexport function initialize(): void {\n    if (observer) {\n        return;\n    }\n\n    registerRecursive(document.body);\n\n    observer = new MutationObserver(mutations =>\n        mutations.forEach(mutation => mutation.addedNodes.forEach(registerRecursive))\n    );\n\n    observer.observe(document.body, {\n        attributes: false,\n        characterData: false,\n        childList: true,\n        subtree: true\n    });\n}\n","/*\n *   This file is part of 6502.ts, an emulator for 6502 based systems built\n *   in Typescript.\n *\n *   Copyright (C) 2014 - 2018 Christian Speckner & contributors\n *\n *   This program is free software; you can redistribute it and/or modify\n *   it under the terms of the GNU General Public License as published by\n *   the Free Software Foundation; either version 2 of the License, or\n *   (at your option) any later version.\n *\n *   This program is distributed in the hope that it will be useful,\n *   but WITHOUT ANY WARRANTY; without even the implied warranty of\n *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *   GNU General Public License for more details.\n *\n *   You should have received a copy of the GNU General Public License along\n *   with this program; if not, write to the Free Software Foundation, Inc.,\n *   51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n */\n\nnamespace CartridgeInfo {\n    export enum CartridgeType {\n        vanilla_2k = 'vanilla_2k',\n        vanilla_4k = 'vanilla_4k',\n\n        bankswitch_2k_cv = 'bankswitch_2k_cv',\n\n        bankswitch_8k_F8 = 'bankswitch_8k_F8',\n        bankswitch_8k_E0 = 'bankswitch_8k_E0',\n        bankswitch_8k_3F = 'bankswitch_8k_3F',\n        bankswitch_8k_FE = 'bankswitch_8k_FE',\n        bankswitch_8k_UA = 'bankswitch_8k_UA',\n        bankswitch_8k_DPC = 'bankswitch_8k_DPC',\n        bankswitch_8k_econobanking = 'bankswitch_8k_econobanking',\n\n        bankswitch_12k_FA = 'bankswitch_12k_FA',\n\n        bankswitch_16k_F6 = 'bankswitch_16k_F6',\n        bankswitch_16k_E7 = 'bankswitch_16k_E7',\n\n        bankswitch_FA2 = 'bankswitch_FA2',\n\n        bankswitch_32k_F4 = 'bankswitch_32k_F4',\n\n        bankswitch_64k_F0 = 'bankswitch_64k_F0',\n        bankswitch_64k_EF = 'bankswitch_64k_EF',\n\n        bankswitch_3E = 'bankswitch_3E',\n        bankswitch_supercharger = 'bankswitch_supercharger',\n        bankswitch_dpc_plus = 'bankswitch_dpc_plus',\n        bankswitch_cdf = 'bankswitch_cdf',\n\n        unknown = 'unknown'\n    }\n\n    export function getAllTypes(): Array<CartridgeType> {\n        return [\n            CartridgeType.vanilla_2k,\n            CartridgeType.vanilla_4k,\n            CartridgeType.bankswitch_2k_cv,\n            CartridgeType.bankswitch_8k_F8,\n            CartridgeType.bankswitch_8k_E0,\n            CartridgeType.bankswitch_8k_3F,\n            CartridgeType.bankswitch_8k_FE,\n            CartridgeType.bankswitch_8k_UA,\n            CartridgeType.bankswitch_8k_econobanking,\n            CartridgeType.bankswitch_12k_FA,\n            CartridgeType.bankswitch_8k_DPC,\n            CartridgeType.bankswitch_16k_F6,\n            CartridgeType.bankswitch_16k_E7,\n            CartridgeType.bankswitch_FA2,\n            CartridgeType.bankswitch_32k_F4,\n            CartridgeType.bankswitch_3E,\n            CartridgeType.bankswitch_64k_F0,\n            CartridgeType.bankswitch_64k_EF,\n            CartridgeType.bankswitch_supercharger,\n            CartridgeType.bankswitch_dpc_plus,\n            CartridgeType.bankswitch_cdf,\n            CartridgeType.unknown\n        ];\n    }\n\n    export function describeCartridgeType(cartridgeType: CartridgeType): string {\n        switch (cartridgeType) {\n            case CartridgeType.vanilla_2k:\n                return 'plain 2k';\n\n            case CartridgeType.vanilla_4k:\n                return 'plain 4k';\n\n            case CartridgeType.bankswitch_2k_cv:\n                return '2k CommaVideo scheme';\n\n            case CartridgeType.bankswitch_8k_F8:\n                return 'bankswitched 8k, F8 (Atari) scheme';\n\n            case CartridgeType.bankswitch_8k_E0:\n                return 'bankswitched 8k, E0 (Parker Bros.) scheme';\n\n            case CartridgeType.bankswitch_8k_3F:\n                return 'bankswitched 8k, 3F (Tigervision) scheme';\n\n            case CartridgeType.bankswitch_8k_FE:\n                return 'bankswitched 8k, FE (Activision) scheme';\n\n            case CartridgeType.bankswitch_8k_UA:\n                return 'bankswitched 8k, UA (Pleiades) scheme';\n\n            case CartridgeType.bankswitch_12k_FA:\n                return 'bankswitched 12k, FA (CBS) scheme';\n\n            case CartridgeType.bankswitch_8k_DPC:\n                return 'bankswitched 8k + DPC';\n\n            case CartridgeType.bankswitch_8k_econobanking:\n                return 'bankswitched 8k, econobanking scheme';\n\n            case CartridgeType.bankswitch_16k_F6:\n                return 'bankswitched 16k, F6 (Atari) scheme';\n\n            case CartridgeType.bankswitch_16k_E7:\n                return 'bankswitched 16k, E7 (M-Network) scheme';\n\n            case CartridgeType.bankswitch_FA2:\n                return 'bankswitched 28k/29k, FA2 (modified CBS) scheme';\n\n            case CartridgeType.bankswitch_32k_F4:\n                return 'bankswitched 32k, F4 (Atari) scheme';\n\n            case CartridgeType.bankswitch_3E:\n                return 'bankswitched 3E (Tigervision + RAM) scheme';\n\n            case CartridgeType.bankswitch_64k_F0:\n                return 'bankswitched 64k, F0 (Megaboy) scheme';\n\n            case CartridgeType.bankswitch_64k_EF:\n                return 'bankswitched 64k, EFSC (Homestar Runner) scheme';\n\n            case CartridgeType.bankswitch_supercharger:\n                return 'bankswitched supercharger';\n\n            case CartridgeType.bankswitch_dpc_plus:\n                return 'bankswitched DPC+';\n\n            case CartridgeType.bankswitch_cdf:\n                return 'bankswitched CDF';\n\n            case CartridgeType.unknown:\n                return 'unknown';\n        }\n    }\n}\n\nexport { CartridgeInfo as default };\n","import { Ports } from '../elm/Stellerator/Main.elm';\n\nexport function initMediaApi(ports: Ports): void {\n    let queries: Array<MediaQueryList> = [];\n\n    const updateQueries = () => ports.mediaUpdate_.send(queries.map(q => q.matches));\n\n    ports.watchMedia_.subscribe(queryList => {\n        queries.forEach(q => {\n            if (q.removeEventListener) {\n                q.removeEventListener('change', updateQueries);\n            } else {\n                q.removeListener(updateQueries);\n            }\n        });\n\n        queries = queryList.map(q => matchMedia(q));\n        queries.forEach(q => {\n            if (q.removeEventListener) {\n                q.addEventListener('change', updateQueries);\n            } else {\n                q.addListener(updateQueries);\n            }\n        });\n\n        updateQueries();\n    });\n}\n","(function() {\n  var base64map\n      = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/',\n\n  crypt = {\n    // Bit-wise rotation left\n    rotl: function(n, b) {\n      return (n << b) | (n >>> (32 - b));\n    },\n\n    // Bit-wise rotation right\n    rotr: function(n, b) {\n      return (n << (32 - b)) | (n >>> b);\n    },\n\n    // Swap big-endian to little-endian and vice versa\n    endian: function(n) {\n      // If number given, swap endian\n      if (n.constructor == Number) {\n        return crypt.rotl(n, 8) & 0x00FF00FF | crypt.rotl(n, 24) & 0xFF00FF00;\n      }\n\n      // Else, assume array and swap all items\n      for (var i = 0; i < n.length; i++)\n        n[i] = crypt.endian(n[i]);\n      return n;\n    },\n\n    // Generate an array of any length of random bytes\n    randomBytes: function(n) {\n      for (var bytes = []; n > 0; n--)\n        bytes.push(Math.floor(Math.random() * 256));\n      return bytes;\n    },\n\n    // Convert a byte array to big-endian 32-bit words\n    bytesToWords: function(bytes) {\n      for (var words = [], i = 0, b = 0; i < bytes.length; i++, b += 8)\n        words[b >>> 5] |= bytes[i] << (24 - b % 32);\n      return words;\n    },\n\n    // Convert big-endian 32-bit words to a byte array\n    wordsToBytes: function(words) {\n      for (var bytes = [], b = 0; b < words.length * 32; b += 8)\n        bytes.push((words[b >>> 5] >>> (24 - b % 32)) & 0xFF);\n      return bytes;\n    },\n\n    // Convert a byte array to a hex string\n    bytesToHex: function(bytes) {\n      for (var hex = [], i = 0; i < bytes.length; i++) {\n        hex.push((bytes[i] >>> 4).toString(16));\n        hex.push((bytes[i] & 0xF).toString(16));\n      }\n      return hex.join('');\n    },\n\n    // Convert a hex string to a byte array\n    hexToBytes: function(hex) {\n      for (var bytes = [], c = 0; c < hex.length; c += 2)\n        bytes.push(parseInt(hex.substr(c, 2), 16));\n      return bytes;\n    },\n\n    // Convert a byte array to a base-64 string\n    bytesToBase64: function(bytes) {\n      for (var base64 = [], i = 0; i < bytes.length; i += 3) {\n        var triplet = (bytes[i] << 16) | (bytes[i + 1] << 8) | bytes[i + 2];\n        for (var j = 0; j < 4; j++)\n          if (i * 8 + j * 6 <= bytes.length * 8)\n            base64.push(base64map.charAt((triplet >>> 6 * (3 - j)) & 0x3F));\n          else\n            base64.push('=');\n      }\n      return base64.join('');\n    },\n\n    // Convert a base-64 string to a byte array\n    base64ToBytes: function(base64) {\n      // Remove non-base-64 characters\n      base64 = base64.replace(/[^A-Z0-9+\\/]/ig, '');\n\n      for (var bytes = [], i = 0, imod4 = 0; i < base64.length;\n          imod4 = ++i % 4) {\n        if (imod4 == 0) continue;\n        bytes.push(((base64map.indexOf(base64.charAt(i - 1))\n            & (Math.pow(2, -2 * imod4 + 8) - 1)) << (imod4 * 2))\n            | (base64map.indexOf(base64.charAt(i)) >>> (6 - imod4 * 2)));\n      }\n      return bytes;\n    }\n  };\n\n  module.exports = crypt;\n})();\n","var charenc = {\n  // UTF-8 encoding\n  utf8: {\n    // Convert a string to a byte array\n    stringToBytes: function(str) {\n      return charenc.bin.stringToBytes(unescape(encodeURIComponent(str)));\n    },\n\n    // Convert a byte array to a string\n    bytesToString: function(bytes) {\n      return decodeURIComponent(escape(charenc.bin.bytesToString(bytes)));\n    }\n  },\n\n  // Binary encoding\n  bin: {\n    // Convert a string to a byte array\n    stringToBytes: function(str) {\n      for (var bytes = [], i = 0; i < str.length; i++)\n        bytes.push(str.charCodeAt(i) & 0xFF);\n      return bytes;\n    },\n\n    // Convert a byte array to a string\n    bytesToString: function(bytes) {\n      for (var str = [], i = 0; i < bytes.length; i++)\n        str.push(String.fromCharCode(bytes[i]));\n      return str.join('');\n    }\n  }\n};\n\nmodule.exports = charenc;\n","/*!\n * Determine if an object is a Buffer\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n\n// The _isBuffer check is for Safari 5-7 support, because it's missing\n// Object.prototype.constructor. Remove this eventually\nmodule.exports = function (obj) {\n  return obj != null && (isBuffer(obj) || isSlowBuffer(obj) || !!obj._isBuffer)\n}\n\nfunction isBuffer (obj) {\n  return !!obj.constructor && typeof obj.constructor.isBuffer === 'function' && obj.constructor.isBuffer(obj)\n}\n\n// For Node v0.10 support. Remove this eventually.\nfunction isSlowBuffer (obj) {\n  return typeof obj.readFloatLE === 'function' && typeof obj.slice === 'function' && isBuffer(obj.slice(0, 0))\n}\n","(function(){\r\n  var crypt = require('crypt'),\r\n      utf8 = require('charenc').utf8,\r\n      isBuffer = require('is-buffer'),\r\n      bin = require('charenc').bin,\r\n\r\n  // The core\r\n  md5 = function (message, options) {\r\n    // Convert to byte array\r\n    if (message.constructor == String)\r\n      if (options && options.encoding === 'binary')\r\n        message = bin.stringToBytes(message);\r\n      else\r\n        message = utf8.stringToBytes(message);\r\n    else if (isBuffer(message))\r\n      message = Array.prototype.slice.call(message, 0);\r\n    else if (!Array.isArray(message))\r\n      message = message.toString();\r\n    // else, assume byte array already\r\n\r\n    var m = crypt.bytesToWords(message),\r\n        l = message.length * 8,\r\n        a =  1732584193,\r\n        b = -271733879,\r\n        c = -1732584194,\r\n        d =  271733878;\r\n\r\n    // Swap endian\r\n    for (var i = 0; i < m.length; i++) {\r\n      m[i] = ((m[i] <<  8) | (m[i] >>> 24)) & 0x00FF00FF |\r\n             ((m[i] << 24) | (m[i] >>>  8)) & 0xFF00FF00;\r\n    }\r\n\r\n    // Padding\r\n    m[l >>> 5] |= 0x80 << (l % 32);\r\n    m[(((l + 64) >>> 9) << 4) + 14] = l;\r\n\r\n    // Method shortcuts\r\n    var FF = md5._ff,\r\n        GG = md5._gg,\r\n        HH = md5._hh,\r\n        II = md5._ii;\r\n\r\n    for (var i = 0; i < m.length; i += 16) {\r\n\r\n      var aa = a,\r\n          bb = b,\r\n          cc = c,\r\n          dd = d;\r\n\r\n      a = FF(a, b, c, d, m[i+ 0],  7, -680876936);\r\n      d = FF(d, a, b, c, m[i+ 1], 12, -389564586);\r\n      c = FF(c, d, a, b, m[i+ 2], 17,  606105819);\r\n      b = FF(b, c, d, a, m[i+ 3], 22, -1044525330);\r\n      a = FF(a, b, c, d, m[i+ 4],  7, -176418897);\r\n      d = FF(d, a, b, c, m[i+ 5], 12,  1200080426);\r\n      c = FF(c, d, a, b, m[i+ 6], 17, -1473231341);\r\n      b = FF(b, c, d, a, m[i+ 7], 22, -45705983);\r\n      a = FF(a, b, c, d, m[i+ 8],  7,  1770035416);\r\n      d = FF(d, a, b, c, m[i+ 9], 12, -1958414417);\r\n      c = FF(c, d, a, b, m[i+10], 17, -42063);\r\n      b = FF(b, c, d, a, m[i+11], 22, -1990404162);\r\n      a = FF(a, b, c, d, m[i+12],  7,  1804603682);\r\n      d = FF(d, a, b, c, m[i+13], 12, -40341101);\r\n      c = FF(c, d, a, b, m[i+14], 17, -1502002290);\r\n      b = FF(b, c, d, a, m[i+15], 22,  1236535329);\r\n\r\n      a = GG(a, b, c, d, m[i+ 1],  5, -165796510);\r\n      d = GG(d, a, b, c, m[i+ 6],  9, -1069501632);\r\n      c = GG(c, d, a, b, m[i+11], 14,  643717713);\r\n      b = GG(b, c, d, a, m[i+ 0], 20, -373897302);\r\n      a = GG(a, b, c, d, m[i+ 5],  5, -701558691);\r\n      d = GG(d, a, b, c, m[i+10],  9,  38016083);\r\n      c = GG(c, d, a, b, m[i+15], 14, -660478335);\r\n      b = GG(b, c, d, a, m[i+ 4], 20, -405537848);\r\n      a = GG(a, b, c, d, m[i+ 9],  5,  568446438);\r\n      d = GG(d, a, b, c, m[i+14],  9, -1019803690);\r\n      c = GG(c, d, a, b, m[i+ 3], 14, -187363961);\r\n      b = GG(b, c, d, a, m[i+ 8], 20,  1163531501);\r\n      a = GG(a, b, c, d, m[i+13],  5, -1444681467);\r\n      d = GG(d, a, b, c, m[i+ 2],  9, -51403784);\r\n      c = GG(c, d, a, b, m[i+ 7], 14,  1735328473);\r\n      b = GG(b, c, d, a, m[i+12], 20, -1926607734);\r\n\r\n      a = HH(a, b, c, d, m[i+ 5],  4, -378558);\r\n      d = HH(d, a, b, c, m[i+ 8], 11, -2022574463);\r\n      c = HH(c, d, a, b, m[i+11], 16,  1839030562);\r\n      b = HH(b, c, d, a, m[i+14], 23, -35309556);\r\n      a = HH(a, b, c, d, m[i+ 1],  4, -1530992060);\r\n      d = HH(d, a, b, c, m[i+ 4], 11,  1272893353);\r\n      c = HH(c, d, a, b, m[i+ 7], 16, -155497632);\r\n      b = HH(b, c, d, a, m[i+10], 23, -1094730640);\r\n      a = HH(a, b, c, d, m[i+13],  4,  681279174);\r\n      d = HH(d, a, b, c, m[i+ 0], 11, -358537222);\r\n      c = HH(c, d, a, b, m[i+ 3], 16, -722521979);\r\n      b = HH(b, c, d, a, m[i+ 6], 23,  76029189);\r\n      a = HH(a, b, c, d, m[i+ 9],  4, -640364487);\r\n      d = HH(d, a, b, c, m[i+12], 11, -421815835);\r\n      c = HH(c, d, a, b, m[i+15], 16,  530742520);\r\n      b = HH(b, c, d, a, m[i+ 2], 23, -995338651);\r\n\r\n      a = II(a, b, c, d, m[i+ 0],  6, -198630844);\r\n      d = II(d, a, b, c, m[i+ 7], 10,  1126891415);\r\n      c = II(c, d, a, b, m[i+14], 15, -1416354905);\r\n      b = II(b, c, d, a, m[i+ 5], 21, -57434055);\r\n      a = II(a, b, c, d, m[i+12],  6,  1700485571);\r\n      d = II(d, a, b, c, m[i+ 3], 10, -1894986606);\r\n      c = II(c, d, a, b, m[i+10], 15, -1051523);\r\n      b = II(b, c, d, a, m[i+ 1], 21, -2054922799);\r\n      a = II(a, b, c, d, m[i+ 8],  6,  1873313359);\r\n      d = II(d, a, b, c, m[i+15], 10, -30611744);\r\n      c = II(c, d, a, b, m[i+ 6], 15, -1560198380);\r\n      b = II(b, c, d, a, m[i+13], 21,  1309151649);\r\n      a = II(a, b, c, d, m[i+ 4],  6, -145523070);\r\n      d = II(d, a, b, c, m[i+11], 10, -1120210379);\r\n      c = II(c, d, a, b, m[i+ 2], 15,  718787259);\r\n      b = II(b, c, d, a, m[i+ 9], 21, -343485551);\r\n\r\n      a = (a + aa) >>> 0;\r\n      b = (b + bb) >>> 0;\r\n      c = (c + cc) >>> 0;\r\n      d = (d + dd) >>> 0;\r\n    }\r\n\r\n    return crypt.endian([a, b, c, d]);\r\n  };\r\n\r\n  // Auxiliary functions\r\n  md5._ff  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (b & c | ~b & d) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n  md5._gg  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (b & d | c & ~d) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n  md5._hh  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (b ^ c ^ d) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n  md5._ii  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (c ^ (b | ~d)) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n\r\n  // Package private blocksize\r\n  md5._blocksize = 16;\r\n  md5._digestsize = 16;\r\n\r\n  module.exports = function (message, options) {\r\n    if (message === undefined || message === null)\r\n      throw new Error('Illegal argument ' + message);\r\n\r\n    var digestbytes = crypt.wordsToBytes(md5(message, options));\r\n    return options && options.asBytes ? digestbytes :\r\n        options && options.asString ? bin.bytesToString(digestbytes) :\r\n        crypt.bytesToHex(digestbytes);\r\n  };\r\n\r\n})();\r\n","export default (typeof global !== \"undefined\" ? global :\n            typeof self !== \"undefined\" ? self :\n            typeof window !== \"undefined\" ? window : {});\n","\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\nvar inited = false;\nfunction init () {\n  inited = true;\n  var code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\n  for (var i = 0, len = code.length; i < len; ++i) {\n    lookup[i] = code[i]\n    revLookup[code.charCodeAt(i)] = i\n  }\n\n  revLookup['-'.charCodeAt(0)] = 62\n  revLookup['_'.charCodeAt(0)] = 63\n}\n\nexport function toByteArray (b64) {\n  if (!inited) {\n    init();\n  }\n  var i, j, l, tmp, placeHolders, arr\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // the number of equal signs (place holders)\n  // if there are two placeholders, than the two characters before it\n  // represent one byte\n  // if there is only one, then the three characters before it represent 2 bytes\n  // this is just a cheap hack to not do indexOf twice\n  placeHolders = b64[len - 2] === '=' ? 2 : b64[len - 1] === '=' ? 1 : 0\n\n  // base64 is 4/3 + up to two characters of the original data\n  arr = new Arr(len * 3 / 4 - placeHolders)\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  l = placeHolders > 0 ? len - 4 : len\n\n  var L = 0\n\n  for (i = 0, j = 0; i < l; i += 4, j += 3) {\n    tmp = (revLookup[b64.charCodeAt(i)] << 18) | (revLookup[b64.charCodeAt(i + 1)] << 12) | (revLookup[b64.charCodeAt(i + 2)] << 6) | revLookup[b64.charCodeAt(i + 3)]\n    arr[L++] = (tmp >> 16) & 0xFF\n    arr[L++] = (tmp >> 8) & 0xFF\n    arr[L++] = tmp & 0xFF\n  }\n\n  if (placeHolders === 2) {\n    tmp = (revLookup[b64.charCodeAt(i)] << 2) | (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[L++] = tmp & 0xFF\n  } else if (placeHolders === 1) {\n    tmp = (revLookup[b64.charCodeAt(i)] << 10) | (revLookup[b64.charCodeAt(i + 1)] << 4) | (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[L++] = (tmp >> 8) & 0xFF\n    arr[L++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] + lookup[num >> 12 & 0x3F] + lookup[num >> 6 & 0x3F] + lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp = (uint8[i] << 16) + (uint8[i + 1] << 8) + (uint8[i + 2])\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nexport function fromByteArray (uint8) {\n  if (!inited) {\n    init();\n  }\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var output = ''\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    output += lookup[tmp >> 2]\n    output += lookup[(tmp << 4) & 0x3F]\n    output += '=='\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + (uint8[len - 1])\n    output += lookup[tmp >> 10]\n    output += lookup[(tmp >> 4) & 0x3F]\n    output += lookup[(tmp << 2) & 0x3F]\n    output += '='\n  }\n\n  parts.push(output)\n\n  return parts.join('')\n}\n","\nexport function read (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = nBytes * 8 - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = e * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = m * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexport function write (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = nBytes * 8 - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = (value * c - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","var toString = {}.toString;\n\nexport default Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n\nimport * as base64 from './base64'\nimport * as ieee754 from './ieee754'\nimport isArray from './isArray'\n\nexport var INSPECT_MAX_BYTES = 50\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n  ? global.TYPED_ARRAY_SUPPORT\n  : true\n\n/*\n * Export kMaxLength after typed array support is determined.\n */\nvar _kMaxLength = kMaxLength()\nexport {_kMaxLength as kMaxLength};\nfunction typedArraySupport () {\n  return true;\n  // rollup issues\n  // try {\n  //   var arr = new Uint8Array(1)\n  //   arr.__proto__ = {\n  //     __proto__: Uint8Array.prototype,\n  //     foo: function () { return 42 }\n  //   }\n  //   return arr.foo() === 42 && // typed array instances can be augmented\n  //       typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n  //       arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  // } catch (e) {\n  //   return false\n  // }\n}\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\nfunction createBuffer (that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError('Invalid typed array length')\n  }\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer(length)\n    }\n    that.length = length\n  }\n\n  return that\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nexport function Buffer (arg, encodingOrOffset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, encodingOrOffset, length)\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error(\n        'If encoding is specified then the first argument must be a string'\n      )\n    }\n    return allocUnsafe(this, arg)\n  }\n  return from(this, arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype\n  return arr\n}\n\nfunction from (that, value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value, encodingOrOffset)\n  }\n\n  return fromObject(that, value)\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length)\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype\n  Buffer.__proto__ = Uint8Array\n  if (typeof Symbol !== 'undefined' && Symbol.species &&\n      Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    // Object.defineProperty(Buffer, Symbol.species, {\n    //   value: null,\n    //   configurable: true\n    // })\n  }\n}\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number')\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative')\n  }\n}\n\nfunction alloc (that, size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(that, size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(that, size).fill(fill, encoding)\n      : createBuffer(that, size).fill(fill)\n  }\n  return createBuffer(that, size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding)\n}\n\nfunction allocUnsafe (that, size) {\n  assertSize(size)\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(null, size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size)\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  var length = byteLength(string, encoding) | 0\n  that = createBuffer(that, length)\n\n  var actual = that.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    that = that.slice(0, actual)\n  }\n\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  that = createBuffer(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array, byteOffset, length) {\n  array.byteLength // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds')\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array)\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset)\n  } else {\n    array = new Uint8Array(array, byteOffset, length)\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array)\n  }\n  return that\n}\n\nfunction fromObject (that, obj) {\n  if (internalIsBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    that = createBuffer(that, len)\n\n    if (that.length === 0) {\n      return that\n    }\n\n    obj.copy(that, 0, 0, len)\n    return that\n  }\n\n  if (obj) {\n    if ((typeof ArrayBuffer !== 'undefined' &&\n        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0)\n      }\n      return fromArrayLike(that, obj)\n    }\n\n    if (obj.type === 'Buffer' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data)\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nexport function SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\nBuffer.isBuffer = isBuffer;\nfunction internalIsBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!internalIsBuffer(a) || !internalIsBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (!internalIsBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    }\n    buf.copy(buffer, pos)\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (internalIsBuffer(string)) {\n    return string.length\n  }\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&\n      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    string = '' + string\n  }\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!internalIsBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (!internalIsBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer')\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset  // Coerce to Number.\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (internalIsBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (Buffer.TYPED_ARRAY_SUPPORT &&\n        typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end)\n    newBuf.__proto__ = Buffer.prototype\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!internalIsBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, start + len),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if (code < 256) {\n        val = code\n      }\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = internalIsBuffer(val)\n      ? val\n      : utf8ToBytes(new Buffer(val, encoding).toString())\n    var len = bytes.length\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction isnan (val) {\n  return val !== val // eslint-disable-line no-self-compare\n}\n\n\n// the following is from is-buffer, also by Feross Aboukhadijeh and with same lisence\n// The _isBuffer check is for Safari 5-7 support, because it's missing\n// Object.prototype.constructor. Remove this eventually\nexport function isBuffer(obj) {\n  return obj != null && (!!obj._isBuffer || isFastBuffer(obj) || isSlowBuffer(obj))\n}\n\nfunction isFastBuffer (obj) {\n  return !!obj.constructor && typeof obj.constructor.isBuffer === 'function' && obj.constructor.isBuffer(obj)\n}\n\n// For Node v0.10 support. Remove this eventually.\nfunction isSlowBuffer (obj) {\n  return typeof obj.readFloatLE === 'function' && typeof obj.slice === 'function' && isFastBuffer(obj.slice(0, 0))\n}\n","/*\n *   This file is part of 6502.ts, an emulator for 6502 based systems built\n *   in Typescript.\n *\n *   Copyright (C) 2014 - 2018 Christian Speckner & contributors\n *\n *   This program is free software; you can redistribute it and/or modify\n *   it under the terms of the GNU General Public License as published by\n *   the Free Software Foundation; either version 2 of the License, or\n *   (at your option) any later version.\n *\n *   This program is distributed in the hope that it will be useful,\n *   but WITHOUT ANY WARRANTY; without even the implied warranty of\n *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *   GNU General Public License for more details.\n *\n *   You should have received a copy of the GNU General Public License along\n *   with this program; if not, write to the Free Software Foundation, Inc.,\n *   51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n */\n\nimport md5sum from 'md5';\nimport { Buffer } from 'buffer';\n\nexport function calculateFromUint8Array(buffer: Uint8Array): string {\n    return md5sum(Buffer.from(buffer));\n}\n\nexport function calculateFromString(input: string): string {\n    return md5sum(Buffer.from(input, 'utf8'));\n}\n","import { Ports } from '../elm/Stellerator/Main.elm';\n\nclass Task {\n    constructor(private _position: ScrollLogicalPosition, private _id: string, private _timeout = 100) {}\n\n    start(): void {\n        setTimeout(() => this._observer.disconnect(), this._timeout);\n\n        this._observer.observe(document.body, {\n            attributes: false,\n            characterData: false,\n            childList: true,\n            subtree: true\n        });\n    }\n\n    private _onMutation = (mutations: Array<MutationRecord>): void => {\n        if (!mutations.find(m => m.addedNodes)) {\n            return;\n        }\n\n        const node = document.getElementById(this._id);\n\n        if (node) {\n            this._observer.disconnect();\n            clearTimeout(this._timeoutHandle);\n\n            node.scrollIntoView({ block: this._position });\n        }\n    };\n\n    private _observer = new MutationObserver(this._onMutation);\n    private _timeoutHandle: any = null;\n}\n\nexport function initSrollIntoView(ports: Ports): void {\n    ports.scrollIntoView_.subscribe(([position, id]) => {\n        const node = document.getElementById(id);\n\n        if (node) {\n            node.scrollIntoView({ block: position });\n        } else {\n            new Task(position, id).start();\n        }\n    });\n}\n","import { Ports } from '../elm/Stellerator/Main.elm';\n\nexport function initAddCartridge(ports: Ports): void {\n    const input = document.createElement('input');\n    input.type = 'file';\n\n    ports.addCartridge_.subscribe(() => input.click());\n}\n","import Elm, { Cartridge, TvMode, AudioEmulation, CpuEmulation, CartridgeType } from '../elm/Stellerator/Main.elm';\nimport '../theme/dos.scss';\n\nimport { initialize as initializeRangetouch } from '../common/rangetouch';\nimport { initMediaApi } from './mediaApi';\nimport CartridgeInfo from '../../machine/stella/cartridge/CartridgeInfo';\nimport { calculateFromString as md5 } from '../../tools/hash/md5';\nimport { initSrollIntoView } from './scrollIntoView';\nimport { initAddCartridge } from './addCartridge';\n\nconst cartridges: Array<Cartridge> = [\n    {\n        hash: '60283a7dc0e83d4c1bfb4a3140274cd1',\n        name: 'Pole Position',\n        cartridgeType: CartridgeInfo.CartridgeType.bankswitch_32k_F4,\n        tvMode: TvMode.ntsc,\n        emulatePaddles: false,\n        volume: 66\n    },\n    {\n        hash: '471f63bb5d2b51b3c8c33f90001e83c4',\n        name: 'Bobby geht heim',\n        cartridgeType: CartridgeInfo.CartridgeType.vanilla_4k,\n        tvMode: TvMode.pal,\n        emulatePaddles: false,\n        volume: 66,\n        audioEmulation: AudioEmulation.pcm,\n        cpuEmulation: CpuEmulation.cycle,\n        firstVisibleLine: 28,\n        rngSeed: 42\n    },\n    ...[\n        'Crystal Castles (Atari)',\n        'Pitfall',\n        'Pitfall II',\n        '[HB] Stay Frosty 2',\n        'Communist mutants from space',\n        'Winter Games (1987) (Epyx, Steven A. Baker, Tod Frye, Peter Engelbrite) (80561-00251) (PAL)',\n        ...Array(50)\n            .fill(undefined)\n            .map((_, i) => `game ${i + 1}`)\n    ].map(name => ({\n        hash: md5(name),\n        name,\n        cartridgeType: CartridgeInfo.CartridgeType.bankswitch_32k_F4,\n        tvMode: TvMode.ntsc,\n        emulatePaddles: false,\n        volume: 66\n    }))\n];\n\nfunction main(): void {\n    initializeRangetouch();\n\n    const cartridgeTypes: Array<CartridgeType> = CartridgeInfo.getAllTypes().map(cartridgeType => ({\n        key: cartridgeType,\n        description: CartridgeInfo.describeCartridgeType(cartridgeType)\n    }));\n\n    const { ports } = Elm.Stellerator.Main.init({\n        flags: {\n            cartridges,\n            cartridgeTypes\n        }\n    });\n\n    initMediaApi(ports);\n    initSrollIntoView(ports);\n    initAddCartridge(ports);\n}\n\nwindow.addEventListener('load', main);\n"],"names":["__read","o","n","m","Symbol","iterator","r","e","i","call","ar","next","done","push","value","error","__spread","arguments","length","concat","defaults","addCSS","thumbWidth","watch","matches","element","selector","Array","from","document","querySelectorAll","includes","this","trigger","type","event","Event","dispatchEvent","getConstructor","input","constructor","instanceOf","Boolean","isNullOrUndefined","isObject","Object","isNumber","Number","isNaN","isString","String","isBoolean","isFunction","Function","isArray","isNodeList","NodeList","isElement","Element","isEvent","isEmpty","keys","nullOrUndefined","object","number","string","boolean","function","array","nodeList","empty","getDecimalPlaces","match","Math","max","round","step","places","parseFloat","toFixed","RangeTouch","[object Object]","target","options","is","querySelector","rangeTouch","config","assign","init","enabled","documentElement","targets","filter","MutationObserver","mutations","forEach","mutation","addedNodes","node","observe","body","childList","subtree","map","t","style","userSelect","webKitUserSelect","touchAction","listeners","toggle","method","set","touch","changedTouches","min","getAttribute","delta","percent","clientRect","getBoundingClientRect","width","clientX","left","disabled","preventDefault","get","instances","WeakMap","registerOne","has","Rangetouch","registerRecursive","CartridgeInfo","observer","initialize","attributes","characterData","initMediaApi","ports","queries","updateQueries","mediaUpdate_","send","q","watchMedia_","subscribe","queryList","removeEventListener","removeListener","matchMedia","addEventListener","addListener","CartridgeType","vanilla_2k","vanilla_4k","bankswitch_2k_cv","bankswitch_8k_F8","bankswitch_8k_E0","bankswitch_8k_3F","bankswitch_8k_FE","bankswitch_8k_UA","bankswitch_8k_econobanking","bankswitch_12k_FA","bankswitch_8k_DPC","bankswitch_16k_F6","bankswitch_16k_E7","bankswitch_FA2","bankswitch_32k_F4","bankswitch_3E","bankswitch_64k_F0","bankswitch_64k_EF","bankswitch_supercharger","bankswitch_dpc_plus","bankswitch_cdf","unknown","cartridgeType","base64map","crypt","rotl","b","rotr","endian","randomBytes","bytes","floor","random","bytesToWords","words","wordsToBytes","bytesToHex","hex","toString","join","hexToBytes","c","parseInt","substr","bytesToBase64","base64","triplet","j","charAt","base64ToBytes","replace","imod4","indexOf","pow","module","charenc","utf8","stringToBytes","str","bin","unescape","encodeURIComponent","bytesToString","decodeURIComponent","escape","charCodeAt","fromCharCode","obj","isBuffer","isSlowBuffer","_isBuffer","readFloatLE","slice","require$$0","require$$1","require$$2","md5","message","encoding","prototype","l","a","d","FF","_ff","GG","_gg","HH","_hh","II","_ii","aa","bb","cc","dd","x","s","_blocksize","_digestsize","Error","digestbytes","asBytes","asString","global","self","window","lookup","revLookup","Arr","Uint8Array","inited","code","len","toByteArray","b64","tmp","placeHolders","arr","L","tripletToBase64","num","encodeChunk","uint8","start","end","output","fromByteArray","extraBytes","parts","len2","read","buffer","offset","isLE","mLen","nBytes","eLen","eMax","eBias","nBits","NaN","Infinity","write","rt","abs","log","LN2","INSPECT_MAX_BYTES","kMaxLength","Buffer","TYPED_ARRAY_SUPPORT","createBuffer","that","RangeError","__proto__","arg","encodingOrOffset","allocUnsafe","TypeError","ArrayBuffer","fromArrayBuffer","fromString","fromObject","assertSize","size","alloc","fill","undefined","checked","isEncoding","byteLength","actual","fromArrayLike","byteOffset","internalIsBuffer","copy","isnan","data","isView","loweredCase","utf8ToBytes","toLowerCase","slowToString","hexSlice","utf8Slice","asciiSlice","latin1Slice","base64Slice","utf16leSlice","swap","bidirectionalIndexOf","val","dir","arrayIndexOf","lastIndexOf","indexSize","arrLength","valLength","buf","readUInt16BE","foundIndex","found","hexWrite","remaining","strLen","parsed","utf8Write","blitBuffer","asciiWrite","asciiToBytes","latin1Write","base64Write","ucs2Write","utf16leToBytes","base64.fromByteArray","res","secondByte","thirdByte","fourthByte","tempCodePoint","firstByte","codePoint","bytesPerSequence","decodeCodePointsArray","poolSize","_augment","allocUnsafeSlow","compare","y","list","pos","swap16","swap32","swap64","apply","equals","inspect","thisStart","thisEnd","thisCopy","targetCopy","isFinite","toJSON","_arr","MAX_ARGUMENTS_LENGTH","codePoints","ret","out","toHex","checkOffset","ext","checkInt","objectWriteUInt16","littleEndian","objectWriteUInt32","checkIEEE754","writeFloat","noAssert","ieee754.write","writeDouble","newBuf","subarray","sliceLen","readUIntLE","mul","readUIntBE","readUInt8","readUInt16LE","readUInt32LE","readUInt32BE","readIntLE","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","ieee754.read","readFloatBE","readDoubleLE","readDoubleBE","writeUIntLE","writeUIntBE","writeUInt8","writeUInt16LE","writeUInt16BE","writeUInt32LE","writeUInt32BE","writeIntLE","limit","sub","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","targetStart","INVALID_BASE64_RE","base64clean","stringtrim","trim","units","leadSurrogate","byteArray","hi","lo","base64.toByteArray","src","dst","isFastBuffer","calculateFromString","md5sum","_position","_id","_timeout","find","getElementById","_this","_observer","disconnect","clearTimeout","_timeoutHandle","scrollIntoView","block","_onMutation","Task","setTimeout","initSrollIntoView","scrollIntoView_","_a","_b","position","id","initAddCartridge","createElement","addCartridge_","click","cartridges","hash","name","tvMode","emulatePaddles","volume","audioEmulation","cpuEmulation","firstVisibleLine","rngSeed","tslib_1.__spread","_","main","initializeRangetouch","cartridgeTypes","getAllTypes","key","description","describeCartridgeType"],"mappings":"aAuHO,SAASA,OAAOC,EAAGC,GACtB,IAAIC,EAAsB,mBAAXC,QAAyBH,EAAEG,OAAOC,UACjD,IAAKF,EAAG,OAAOF,EACf,IAAmBK,EAAYC,EAA3BC,EAAIL,EAAEM,KAAKR,GAAOS,EAAK,GAC3B,IACI,WAAc,IAANR,GAAgBA,KAAM,MAAQI,EAAIE,EAAEG,QAAQC,MAAMF,EAAGG,KAAKP,EAAEQ,OAExE,MAAOC,GAASR,EAAI,CAAEQ,MAAOA,WAEzB,IACQT,IAAMA,EAAEM,OAAST,EAAIK,EAAU,SAAIL,EAAEM,KAAKD,WAExC,GAAID,EAAG,MAAMA,EAAEQ,OAE7B,OAAOL,EAGX,SAAgBM,WACZ,IAAK,IAAIN,EAAK,GAAIF,EAAI,EAAGA,EAAIS,UAAUC,OAAQV,IAC3CE,EAAKA,EAAGS,OAAOnB,OAAOiB,UAAUT,KACpC,OAAOE,qv9FC3IX,MAAMU,SAAW,CACbC,QAAQ,EACRC,WAAY,GACZC,OAAO,GCFJ,SAASC,QAAQC,EAASC,GAc7B,OAXA,WACI,OAAOC,MAAMC,KAAKC,SAASC,iBAAiBJ,IAAWK,SAASC,OAUrDvB,KAAKgB,EAASC,GCd1B,SAASO,QAAQR,EAASS,GAC7B,IAAKT,IAAYS,EACb,OAIJ,MAAMC,EAAQ,IAAIC,MAAMF,GAGxBT,EAAQY,cAAcF,GCN1B,MAAMG,eAAiBC,GAAUA,MAAAA,EAAiDA,EAAMC,YAAc,KAChGC,WAAa,CAACF,EAAOC,IAAgBE,QAAQH,GAASC,GAAeD,aAAiBC,GAEtFG,kBAAoBJ,GAASA,MAAAA,EAC7BK,SAAWL,GAASD,eAAeC,KAAWM,OAC9CC,SAAWP,GAASD,eAAeC,KAAWQ,SAAWA,OAAOC,MAAMT,GACtEU,SAAWV,GAASD,eAAeC,KAAWW,OAC9CC,UAAYZ,GAASD,eAAeC,KAAWG,QAC/CU,WAAab,GAASD,eAAeC,KAAWc,SAChDC,QAAUf,GAASZ,MAAM2B,QAAQf,GACjCgB,WAAahB,GAASE,WAAWF,EAAOiB,UACxCC,UAAYlB,GAASE,WAAWF,EAAOmB,SACvCC,QAAUpB,GAASE,WAAWF,EAAOH,OACrCwB,QAAUrB,GACZI,kBAAkBJ,KAChBU,SAASV,IAAUe,QAAQf,IAAUgB,WAAWhB,MAAYA,EAAMrB,QACnE0B,SAASL,KAAWM,OAAOgB,KAAKtB,GAAOrB,OAE5C,OAAe,CACX4C,gBAAiBnB,kBACjBoB,OAAQnB,SACRoB,OAAQlB,SACRmB,OAAQhB,SACRiB,QAASf,UACTgB,SAAUf,WACVgB,MAAOd,QACPe,SAAUd,WACV9B,QAASgC,UACTtB,MAAOwB,QACPW,MAAOV,SChCJ,SAASW,iBAAiBzD,GAC7B,MAAM0D,KAAW1D,IAAQ0D,MAAM,oCAE/B,OAAKA,EAIEC,KAAKC,IACR,GAECF,EAAM,GAAKA,EAAM,GAAGtD,OAAS,IAEzBsD,EAAM,IAAMA,EAAM,GAAK,IARrB,EAaR,SAASG,MAAMX,EAAQY,GAC1B,GAAIA,EAAO,EAAG,CACV,MAAMC,EAASN,iBAAiBK,GAChC,OAAOE,WAAWd,EAAOe,QAAQF,IAErC,OAAOJ,KAAKE,MAAMX,EAASY,GAAQA,ECVvC,MAAMI,WAMFC,YAAYC,EAAQC,GACZC,GAAG3D,QAAQyD,GAEXlD,KAAKP,QAAUyD,EACRE,GAAGnB,OAAOiB,KAEjBlD,KAAKP,QAAUI,SAASwD,cAAcH,IAGrCE,GAAG3D,QAAQO,KAAKP,UAAa2D,GAAGd,MAAMtC,KAAKP,QAAQ6D,cAIxDtD,KAAKuD,OAAS1C,OAAO2C,OAAO,GAAIpE,SAAU+D,GAE1CnD,KAAKyD,QAGTC,qBACI,MAAO,iBAAkB7D,SAAS8D,gBAQtCV,aAAaC,EAAQC,EAAU,IAC3B,IAAIS,EAAU,KAYd,GAVIR,GAAGd,MAAMY,IAAWE,GAAGnB,OAAOiB,GAC9BU,EAAUjE,MAAMC,KAAKC,SAASC,iBAAiBsD,GAAGnB,OAAOiB,GAAUA,EAAS,wBACrEE,GAAG3D,QAAQyD,GAClBU,EAAU,CAACV,GACJE,GAAGf,SAASa,GACnBU,EAAUjE,MAAMC,KAAKsD,GACdE,GAAGhB,MAAMc,KAChBU,EAAUV,EAAOW,OAAOT,GAAG3D,UAG3B2D,GAAGd,MAAMsB,GACT,OAAO,KAGX,MAAML,EAAS1C,OAAO2C,OAAO,GAAIpE,SAAU+D,GAE3C,GAAIC,GAAGnB,OAAOiB,IAAWK,EAAOhE,MAAO,CAElB,IAAIuE,iBAAiBC,IAClCpE,MAAMC,KAAKmE,GAAWC,QAAQC,IAC1BtE,MAAMC,KAAKqE,EAASC,YAAYF,QAAQG,IACpC,IAAKf,GAAG3D,QAAQ0E,KAAU3E,QAAQ2E,EAAMjB,GACpC,OAIU,IAAIF,WAAWmB,EAAMZ,SAMtCa,QAAQvE,SAASwE,KAAM,CAC5BC,WAAW,EACXC,SAAS,IAIjB,OAAOX,EAAQY,IAAIC,GAAK,IAAIzB,WAAWyB,EAAGtB,IAG9CF,OAESD,WAAWU,UAKZ1D,KAAKuD,OAAOlE,SAEZW,KAAKP,QAAQiF,MAAMC,WAAa,OAChC3E,KAAKP,QAAQiF,MAAME,iBAAmB,OACtC5E,KAAKP,QAAQiF,MAAMG,YAAc,gBAGrC7E,KAAK8E,WAAU,GAEf9E,KAAKP,QAAQ6D,WAAatD,MAG9BiD,UAESD,WAAWU,UAIhB1D,KAAK8E,WAAU,GAEf9E,KAAKP,QAAQ6D,WAAa,MAG9BL,UAAU8B,GACN,MAAMC,EAASD,EAAS,mBAAqB,sBAG7C,CAAC,aAAc,YAAa,YAAYf,QAAQ9D,IAC5CF,KAAKP,QAAQuF,GAAQ9E,EAAMC,GAASH,KAAKiF,IAAI9E,IAAQ,KAQ7D8C,IAAI9C,GACA,IAAK6C,WAAWU,UAAYN,GAAGjD,MAAMA,GACjC,OAAO,KAGX,MAAMI,EAAQJ,EAAM+C,OACdgC,EAAQ/E,EAAMgF,eAAe,GAC7BC,EAAMtC,WAAWvC,EAAM8E,aAAa,SAAW,EAC/C3C,EAAMI,WAAWvC,EAAM8E,aAAa,SAAW,IAC/CzC,EAAOE,WAAWvC,EAAM8E,aAAa,UAAY,EACjDC,EAAQ5C,EAAM0C,EAGpB,IAAIG,EACJ,MAAMC,EAAajF,EAAMkF,wBACnBnG,EAAe,IAAMkG,EAAWE,OAAU1F,KAAKuD,OAAOjE,WAAa,GAAM,IAoB/E,OAjBAiG,EAAW,IAAMC,EAAWE,OAAUR,EAAMS,QAAUH,EAAWI,OAGnD,EACVL,EAAU,EACHA,EAAU,MACjBA,EAAU,KAIVA,EAAU,GACVA,IAAY,IAAgB,EAAVA,GAAejG,EAC1BiG,EAAU,KACjBA,GAA4B,GAAhBA,EAAU,IAAUjG,GAI7B8F,EAAMzC,MAAM2C,GAASC,EAAU,KAAM3C,GAOhDK,IAAI9C,GACK6C,WAAWU,SAAYN,GAAGjD,MAAMA,KAAUA,EAAM+C,OAAO2C,WAK5D1F,EAAM2F,iBAGN3F,EAAM+C,OAAOpE,MAAQkB,KAAK+F,IAAI5F,GAG9BF,QAAQE,EAAM+C,OAAuB,aAAf/C,EAAMD,KAAsB,SAAW,WCzLrE,IAAM8F,UAAY,IAAIC,QAEtB,SAASC,YAAYhD,GACZ8C,UAAUG,IAAIjD,IACf8C,UAAUf,IAAI/B,EAAQ,IAAIkD,WAAWlD,EAAQ,CAAE3D,OAAO,EAAOF,QAAQ,EAAOC,WAAY,KAIhG,SAAS+G,kBAAkBnD,GAGnBA,EAAO1D,SAAW0D,EAAO1D,QAFZ,sBAGb0G,YAAYhD,GAGhBA,EAAOpD,kBAAoBoD,EAAOpD,iBANjB,qBAM4CkE,QAAQkC,aAGzE,ICCUI,cDDNC,SAAoC,KAExC,SAAgBC,aACRD,WAIJF,kBAAkBxG,SAASwE,OAE3BkC,SAAW,IAAIzC,iBAAiB,SAAAC,GAC5B,OAAAA,EAAUC,QAAQ,SAAAC,GAAY,OAAAA,EAASC,WAAWF,QAAQqC,wBAGrDjC,QAAQvE,SAASwE,KAAM,CAC5BoC,YAAY,EACZC,eAAe,EACfpC,WAAW,EACXC,SAAS,cEnCDoC,aAAaC,GACzB,IAAIC,EAAiC,GAE/BC,EAAgB,WAAM,OAAAF,EAAMG,aAAaC,KAAKH,EAAQrC,IAAI,SAAAyC,GAAK,OAAAA,EAAEzH,YAEvEoH,EAAMM,YAAYC,UAAU,SAAAC,GACxBP,EAAQ7C,QAAQ,SAAAiD,GACRA,EAAEI,oBACFJ,EAAEI,oBAAoB,SAAUP,GAEhCG,EAAEK,eAAeR,MAIzBD,EAAUO,EAAU5C,IAAI,SAAAyC,GAAK,OAAAM,WAAWN,MAChCjD,QAAQ,SAAAiD,GACRA,EAAEI,oBACFJ,EAAEO,iBAAiB,SAAUV,GAE7BG,EAAEQ,YAAYX,KAItBA,uFDJR,SAAUR,GACN,IAAYoB,GAAZ,SAAYA,GACRA,0BACAA,0BAEAA,sCAEAA,sCACAA,sCACAA,sCACAA,sCACAA,sCACAA,wCACAA,0DAEAA,wCAEAA,wCACAA,wCAEAA,kCAEAA,wCAEAA,wCACAA,wCAEAA,gCACAA,oDACAA,4CACAA,kCAEAA,oBA/BJ,CAAYA,EAAApB,kBAAAA,qBAkCIA,cAAhB,WACI,MAAO,CACHoB,EAAcC,WACdD,EAAcE,WACdF,EAAcG,iBACdH,EAAcI,iBACdJ,EAAcK,iBACdL,EAAcM,iBACdN,EAAcO,iBACdP,EAAcQ,iBACdR,EAAcS,2BACdT,EAAcU,kBACdV,EAAcW,kBACdX,EAAcY,kBACdZ,EAAca,kBACdb,EAAcc,eACdd,EAAce,kBACdf,EAAcgB,cACdhB,EAAciB,kBACdjB,EAAckB,kBACdlB,EAAcmB,wBACdnB,EAAcoB,oBACdpB,EAAcqB,eACdrB,EAAcsB,UAIN1C,wBAAhB,SAAsC2C,GAClC,OAAQA,GACJ,KAAKvB,EAAcC,WACf,MAAO,WAEX,KAAKD,EAAcE,WACf,MAAO,WAEX,KAAKF,EAAcG,iBACf,MAAO,uBAEX,KAAKH,EAAcI,iBACf,MAAO,qCAEX,KAAKJ,EAAcK,iBACf,MAAO,4CAEX,KAAKL,EAAcM,iBACf,MAAO,2CAEX,KAAKN,EAAcO,iBACf,MAAO,0CAEX,KAAKP,EAAcQ,iBACf,MAAO,wCAEX,KAAKR,EAAcU,kBACf,MAAO,oCAEX,KAAKV,EAAcW,kBACf,MAAO,wBAEX,KAAKX,EAAcS,2BACf,MAAO,uCAEX,KAAKT,EAAcY,kBACf,MAAO,sCAEX,KAAKZ,EAAca,kBACf,MAAO,0CAEX,KAAKb,EAAcc,eACf,MAAO,kDAEX,KAAKd,EAAce,kBACf,MAAO,sCAEX,KAAKf,EAAcgB,cACf,MAAO,6CAEX,KAAKhB,EAAciB,kBACf,MAAO,wCAEX,KAAKjB,EAAckB,kBACf,MAAO,kDAEX,KAAKlB,EAAcmB,wBACf,MAAO,4BAEX,KAAKnB,EAAcoB,oBACf,MAAO,oBAEX,KAAKpB,EAAcqB,eACf,MAAO,mBAEX,KAAKrB,EAAcsB,QACf,MAAO,YAhIvB,CAAU1C,gBAAAA,+DErBV,WACE,IAAI4C,EACE,mEAENC,EAAQ,CAENC,KAAM,SAASlL,EAAGmL,GAChB,OAAQnL,GAAKmL,EAAMnL,IAAO,GAAKmL,GAIjCC,KAAM,SAASpL,EAAGmL,GAChB,OAAQnL,GAAM,GAAKmL,EAAOnL,IAAMmL,GAIlCE,OAAQ,SAASrL,GAEf,GAAIA,EAAEsC,aAAeO,OACnB,OAA0B,SAAnBoI,EAAMC,KAAKlL,EAAG,GAAsC,WAApBiL,EAAMC,KAAKlL,EAAG,IAIvD,IAAK,IAAIM,EAAI,EAAGA,EAAIN,EAAEgB,OAAQV,IAC5BN,EAAEM,GAAK2K,EAAMI,OAAOrL,EAAEM,IACxB,OAAON,GAITsL,YAAa,SAAStL,GACpB,IAAK,IAAIuL,EAAQ,GAAIvL,EAAI,EAAGA,IAC1BuL,EAAM5K,KAAK4D,KAAKiH,MAAsB,IAAhBjH,KAAKkH,WAC7B,OAAOF,GAITG,aAAc,SAASH,GACrB,IAAK,IAAII,EAAQ,GAAIrL,EAAI,EAAG6K,EAAI,EAAG7K,EAAIiL,EAAMvK,OAAQV,IAAK6K,GAAK,EAC7DQ,EAAMR,IAAM,IAAMI,EAAMjL,IAAO,GAAK6K,EAAI,GAC1C,OAAOQ,GAITC,aAAc,SAASD,GACrB,IAAK,IAAIJ,EAAQ,GAAIJ,EAAI,EAAGA,EAAmB,GAAfQ,EAAM3K,OAAamK,GAAK,EACtDI,EAAM5K,KAAMgL,EAAMR,IAAM,KAAQ,GAAKA,EAAI,GAAO,KAClD,OAAOI,GAITM,WAAY,SAASN,GACnB,IAAK,IAAIO,EAAM,GAAIxL,EAAI,EAAGA,EAAIiL,EAAMvK,OAAQV,IAC1CwL,EAAInL,MAAM4K,EAAMjL,KAAO,GAAGyL,SAAS,KACnCD,EAAInL,MAAiB,GAAX4K,EAAMjL,IAAUyL,SAAS,KAErC,OAAOD,EAAIE,KAAK,KAIlBC,WAAY,SAASH,GACnB,IAAK,IAAIP,EAAQ,GAAIW,EAAI,EAAGA,EAAIJ,EAAI9K,OAAQkL,GAAK,EAC/CX,EAAM5K,KAAKwL,SAASL,EAAIM,OAAOF,EAAG,GAAI,KACxC,OAAOX,GAITc,cAAe,SAASd,GACtB,IAAK,IAAIe,EAAS,GAAIhM,EAAI,EAAGA,EAAIiL,EAAMvK,OAAQV,GAAK,EAElD,IADA,IAAIiM,EAAWhB,EAAMjL,IAAM,GAAOiL,EAAMjL,EAAI,IAAM,EAAKiL,EAAMjL,EAAI,GACxDkM,EAAI,EAAGA,EAAI,EAAGA,IACb,EAAJlM,EAAY,EAAJkM,GAAwB,EAAfjB,EAAMvK,OACzBsL,EAAO3L,KAAKqK,EAAUyB,OAAQF,IAAY,GAAK,EAAIC,GAAM,KAEzDF,EAAO3L,KAAK,KAElB,OAAO2L,EAAON,KAAK,KAIrBU,cAAe,SAASJ,GAEtBA,EAASA,EAAOK,QAAQ,iBAAkB,IAE1C,IAAK,IAAIpB,EAAQ,GAAIjL,EAAI,EAAGsM,EAAQ,EAAGtM,EAAIgM,EAAOtL,OAC9C4L,IAAUtM,EAAI,EACH,GAATsM,GACJrB,EAAM5K,MAAOqK,EAAU6B,QAAQP,EAAOG,OAAOnM,EAAI,IAC1CiE,KAAKuI,IAAI,GAAI,EAAIF,EAAQ,GAAK,IAAgB,EAARA,EACtC5B,EAAU6B,QAAQP,EAAOG,OAAOnM,MAAS,EAAY,EAARsM,GAEtD,OAAOrB,IAIXwB,UAAiB9B,EA9FnB,KCAI+B,QAAU,CAEZC,KAAM,CAEJC,cAAe,SAASC,GACtB,OAAOH,QAAQI,IAAIF,cAAcG,SAASC,mBAAmBH,MAI/DI,cAAe,SAAShC,GACtB,OAAOiC,mBAAmBC,OAAOT,QAAQI,IAAIG,cAAchC,OAK/D6B,IAAK,CAEHF,cAAe,SAASC,GACtB,IAAK,IAAI5B,EAAQ,GAAIjL,EAAI,EAAGA,EAAI6M,EAAInM,OAAQV,IAC1CiL,EAAM5K,KAAyB,IAApBwM,EAAIO,WAAWpN,IAC5B,OAAOiL,GAITgC,cAAe,SAAShC,GACtB,IAAK,IAAI4B,EAAM,GAAI7M,EAAI,EAAGA,EAAIiL,EAAMvK,OAAQV,IAC1C6M,EAAIxM,KAAKqC,OAAO2K,aAAapC,EAAMjL,KACrC,OAAO6M,EAAInB,KAAK,iBAKLgB,mBCvBA,SAAUY,GACzB,OAAc,MAAPA,IAAgBC,SAASD,IAAQE,aAAaF,MAAUA,EAAIG,YAGrE,SAASF,SAAUD,GACjB,QAASA,EAAItL,aAAmD,mBAA7BsL,EAAItL,YAAYuL,UAA2BD,EAAItL,YAAYuL,SAASD,GAIzG,SAASE,aAAcF,GACrB,MAAkC,mBAApBA,EAAII,aAAmD,mBAAdJ,EAAIK,OAAwBJ,SAASD,EAAIK,MAAM,EAAG,8CCnB3G,WACE,IAAIhD,EAAQiD,MACRjB,EAAOkB,UAAmBlB,KAC1BY,EAAWO,WACXhB,EAAMe,UAAmBf,IAG7BiB,EAAM,SAAUC,EAASrJ,GAEnBqJ,EAAQhM,aAAeU,OAEvBsL,EADErJ,GAAgC,WAArBA,EAAQsJ,SACXnB,EAAIF,cAAcoB,GAElBrB,EAAKC,cAAcoB,GACxBT,EAASS,GAChBA,EAAU7M,MAAM+M,UAAUP,MAAM1N,KAAK+N,EAAS,GACtC7M,MAAM2B,QAAQkL,KACtBA,EAAUA,EAAQvC,YAWpB,IARA,IAAI9L,EAAIgL,EAAMS,aAAa4C,GACvBG,EAAqB,EAAjBH,EAAQtN,OACZ0N,EAAK,WACLvD,GAAK,UACLe,GAAK,WACLyC,EAAK,UAGArO,EAAI,EAAGA,EAAIL,EAAEe,OAAQV,IAC5BL,EAAEK,GAAsC,UAA/BL,EAAEK,IAAO,EAAML,EAAEK,KAAO,IACO,YAA/BL,EAAEK,IAAM,GAAOL,EAAEK,KAAQ,GAIpCL,EAAEwO,IAAM,IAAM,KAASA,EAAI,GAC3BxO,EAA4B,IAAvBwO,EAAI,KAAQ,GAAM,IAAWA,EAGlC,IAAIG,EAAKP,EAAIQ,IACTC,EAAKT,EAAIU,IACTC,EAAKX,EAAIY,IACTC,EAAKb,EAAIc,IAEb,IAAS7O,EAAI,EAAGA,EAAIL,EAAEe,OAAQV,GAAK,GAAI,CAErC,IAAI8O,EAAKV,EACLW,EAAKlE,EACLmE,EAAKpD,EACLqD,EAAKZ,EAETD,EAAIE,EAAGF,EAAGvD,EAAGe,EAAGyC,EAAG1O,EAAEK,EAAG,GAAK,GAAI,WACjCqO,EAAIC,EAAGD,EAAGD,EAAGvD,EAAGe,EAAGjM,EAAEK,EAAG,GAAI,IAAK,WACjC4L,EAAI0C,EAAG1C,EAAGyC,EAAGD,EAAGvD,EAAGlL,EAAEK,EAAG,GAAI,GAAK,WACjC6K,EAAIyD,EAAGzD,EAAGe,EAAGyC,EAAGD,EAAGzO,EAAEK,EAAG,GAAI,IAAK,YACjCoO,EAAIE,EAAGF,EAAGvD,EAAGe,EAAGyC,EAAG1O,EAAEK,EAAG,GAAK,GAAI,WACjCqO,EAAIC,EAAGD,EAAGD,EAAGvD,EAAGe,EAAGjM,EAAEK,EAAG,GAAI,GAAK,YACjC4L,EAAI0C,EAAG1C,EAAGyC,EAAGD,EAAGvD,EAAGlL,EAAEK,EAAG,GAAI,IAAK,YACjC6K,EAAIyD,EAAGzD,EAAGe,EAAGyC,EAAGD,EAAGzO,EAAEK,EAAG,GAAI,IAAK,UACjCoO,EAAIE,EAAGF,EAAGvD,EAAGe,EAAGyC,EAAG1O,EAAEK,EAAG,GAAK,EAAI,YACjCqO,EAAIC,EAAGD,EAAGD,EAAGvD,EAAGe,EAAGjM,EAAEK,EAAG,GAAI,IAAK,YACjC4L,EAAI0C,EAAG1C,EAAGyC,EAAGD,EAAGvD,EAAGlL,EAAEK,EAAE,IAAK,IAAK,OACjC6K,EAAIyD,EAAGzD,EAAGe,EAAGyC,EAAGD,EAAGzO,EAAEK,EAAE,IAAK,IAAK,YACjCoO,EAAIE,EAAGF,EAAGvD,EAAGe,EAAGyC,EAAG1O,EAAEK,EAAE,IAAM,EAAI,YACjCqO,EAAIC,EAAGD,EAAGD,EAAGvD,EAAGe,EAAGjM,EAAEK,EAAE,IAAK,IAAK,UACjC4L,EAAI0C,EAAG1C,EAAGyC,EAAGD,EAAGvD,EAAGlL,EAAEK,EAAE,IAAK,IAAK,YAGjCoO,EAAII,EAAGJ,EAFPvD,EAAIyD,EAAGzD,EAAGe,EAAGyC,EAAGD,EAAGzO,EAAEK,EAAE,IAAK,GAAK,YAEpB4L,EAAGyC,EAAG1O,EAAEK,EAAG,GAAK,GAAI,WACjCqO,EAAIG,EAAGH,EAAGD,EAAGvD,EAAGe,EAAGjM,EAAEK,EAAG,GAAK,GAAI,YACjC4L,EAAI4C,EAAG5C,EAAGyC,EAAGD,EAAGvD,EAAGlL,EAAEK,EAAE,IAAK,GAAK,WACjC6K,EAAI2D,EAAG3D,EAAGe,EAAGyC,EAAGD,EAAGzO,EAAEK,EAAG,GAAI,IAAK,WACjCoO,EAAII,EAAGJ,EAAGvD,EAAGe,EAAGyC,EAAG1O,EAAEK,EAAG,GAAK,GAAI,WACjCqO,EAAIG,EAAGH,EAAGD,EAAGvD,EAAGe,EAAGjM,EAAEK,EAAE,IAAM,EAAI,UACjC4L,EAAI4C,EAAG5C,EAAGyC,EAAGD,EAAGvD,EAAGlL,EAAEK,EAAE,IAAK,IAAK,WACjC6K,EAAI2D,EAAG3D,EAAGe,EAAGyC,EAAGD,EAAGzO,EAAEK,EAAG,GAAI,IAAK,WACjCoO,EAAII,EAAGJ,EAAGvD,EAAGe,EAAGyC,EAAG1O,EAAEK,EAAG,GAAK,EAAI,WACjCqO,EAAIG,EAAGH,EAAGD,EAAGvD,EAAGe,EAAGjM,EAAEK,EAAE,IAAM,GAAI,YACjC4L,EAAI4C,EAAG5C,EAAGyC,EAAGD,EAAGvD,EAAGlL,EAAEK,EAAG,GAAI,IAAK,WACjC6K,EAAI2D,EAAG3D,EAAGe,EAAGyC,EAAGD,EAAGzO,EAAEK,EAAG,GAAI,GAAK,YACjCoO,EAAII,EAAGJ,EAAGvD,EAAGe,EAAGyC,EAAG1O,EAAEK,EAAE,IAAM,GAAI,YACjCqO,EAAIG,EAAGH,EAAGD,EAAGvD,EAAGe,EAAGjM,EAAEK,EAAG,GAAK,GAAI,UACjC4L,EAAI4C,EAAG5C,EAAGyC,EAAGD,EAAGvD,EAAGlL,EAAEK,EAAG,GAAI,GAAK,YAGjCoO,EAAIM,EAAGN,EAFPvD,EAAI2D,EAAG3D,EAAGe,EAAGyC,EAAGD,EAAGzO,EAAEK,EAAE,IAAK,IAAK,YAEpB4L,EAAGyC,EAAG1O,EAAEK,EAAG,GAAK,GAAI,QACjCqO,EAAIK,EAAGL,EAAGD,EAAGvD,EAAGe,EAAGjM,EAAEK,EAAG,GAAI,IAAK,YACjC4L,EAAI8C,EAAG9C,EAAGyC,EAAGD,EAAGvD,EAAGlL,EAAEK,EAAE,IAAK,GAAK,YACjC6K,EAAI6D,EAAG7D,EAAGe,EAAGyC,EAAGD,EAAGzO,EAAEK,EAAE,IAAK,IAAK,UACjCoO,EAAIM,EAAGN,EAAGvD,EAAGe,EAAGyC,EAAG1O,EAAEK,EAAG,GAAK,GAAI,YACjCqO,EAAIK,EAAGL,EAAGD,EAAGvD,EAAGe,EAAGjM,EAAEK,EAAG,GAAI,GAAK,YACjC4L,EAAI8C,EAAG9C,EAAGyC,EAAGD,EAAGvD,EAAGlL,EAAEK,EAAG,GAAI,IAAK,WACjC6K,EAAI6D,EAAG7D,EAAGe,EAAGyC,EAAGD,EAAGzO,EAAEK,EAAE,IAAK,IAAK,YACjCoO,EAAIM,EAAGN,EAAGvD,EAAGe,EAAGyC,EAAG1O,EAAEK,EAAE,IAAM,EAAI,WACjCqO,EAAIK,EAAGL,EAAGD,EAAGvD,EAAGe,EAAGjM,EAAEK,EAAG,GAAI,IAAK,WACjC4L,EAAI8C,EAAG9C,EAAGyC,EAAGD,EAAGvD,EAAGlL,EAAEK,EAAG,GAAI,IAAK,WACjC6K,EAAI6D,EAAG7D,EAAGe,EAAGyC,EAAGD,EAAGzO,EAAEK,EAAG,GAAI,GAAK,UACjCoO,EAAIM,EAAGN,EAAGvD,EAAGe,EAAGyC,EAAG1O,EAAEK,EAAG,GAAK,GAAI,WACjCqO,EAAIK,EAAGL,EAAGD,EAAGvD,EAAGe,EAAGjM,EAAEK,EAAE,IAAK,IAAK,WACjC4L,EAAI8C,EAAG9C,EAAGyC,EAAGD,EAAGvD,EAAGlL,EAAEK,EAAE,IAAK,GAAK,WAGjCoO,EAAIQ,EAAGR,EAFPvD,EAAI6D,EAAG7D,EAAGe,EAAGyC,EAAGD,EAAGzO,EAAEK,EAAG,GAAI,IAAK,WAEpB4L,EAAGyC,EAAG1O,EAAEK,EAAG,GAAK,GAAI,WACjCqO,EAAIO,EAAGP,EAAGD,EAAGvD,EAAGe,EAAGjM,EAAEK,EAAG,GAAI,GAAK,YACjC4L,EAAIgD,EAAGhD,EAAGyC,EAAGD,EAAGvD,EAAGlL,EAAEK,EAAE,IAAK,IAAK,YACjC6K,EAAI+D,EAAG/D,EAAGe,EAAGyC,EAAGD,EAAGzO,EAAEK,EAAG,GAAI,IAAK,UACjCoO,EAAIQ,EAAGR,EAAGvD,EAAGe,EAAGyC,EAAG1O,EAAEK,EAAE,IAAM,EAAI,YACjCqO,EAAIO,EAAGP,EAAGD,EAAGvD,EAAGe,EAAGjM,EAAEK,EAAG,GAAI,IAAK,YACjC4L,EAAIgD,EAAGhD,EAAGyC,EAAGD,EAAGvD,EAAGlL,EAAEK,EAAE,IAAK,IAAK,SACjC6K,EAAI+D,EAAG/D,EAAGe,EAAGyC,EAAGD,EAAGzO,EAAEK,EAAG,GAAI,IAAK,YACjCoO,EAAIQ,EAAGR,EAAGvD,EAAGe,EAAGyC,EAAG1O,EAAEK,EAAG,GAAK,EAAI,YACjCqO,EAAIO,EAAGP,EAAGD,EAAGvD,EAAGe,EAAGjM,EAAEK,EAAE,IAAK,IAAK,UACjC4L,EAAIgD,EAAGhD,EAAGyC,EAAGD,EAAGvD,EAAGlL,EAAEK,EAAG,GAAI,IAAK,YACjC6K,EAAI+D,EAAG/D,EAAGe,EAAGyC,EAAGD,EAAGzO,EAAEK,EAAE,IAAK,GAAK,YACjCoO,EAAIQ,EAAGR,EAAGvD,EAAGe,EAAGyC,EAAG1O,EAAEK,EAAG,GAAK,GAAI,WACjCqO,EAAIO,EAAGP,EAAGD,EAAGvD,EAAGe,EAAGjM,EAAEK,EAAE,IAAK,IAAK,YACjC4L,EAAIgD,EAAGhD,EAAGyC,EAAGD,EAAGvD,EAAGlL,EAAEK,EAAG,GAAI,GAAK,WACjC6K,EAAI+D,EAAG/D,EAAGe,EAAGyC,EAAGD,EAAGzO,EAAEK,EAAG,GAAI,IAAK,WAEjCoO,EAAKA,EAAIU,IAAQ,EACjBjE,EAAKA,EAAIkE,IAAQ,EACjBnD,EAAKA,EAAIoD,IAAQ,EACjBX,EAAKA,EAAIY,IAAQ,EAGnB,OAAOtE,EAAMI,OAAO,CAACqD,EAAGvD,EAAGe,EAAGyC,KAIhCN,EAAIQ,IAAO,SAAUH,EAAGvD,EAAGe,EAAGyC,EAAGa,EAAGC,EAAGlJ,GACrC,IAAIvG,EAAI0O,GAAKvD,EAAIe,GAAKf,EAAIwD,IAAMa,IAAM,GAAKjJ,EAC3C,OAASvG,GAAKyP,EAAMzP,IAAO,GAAKyP,GAAOtE,GAEzCkD,EAAIU,IAAO,SAAUL,EAAGvD,EAAGe,EAAGyC,EAAGa,EAAGC,EAAGlJ,GACrC,IAAIvG,EAAI0O,GAAKvD,EAAIwD,EAAIzC,GAAKyC,IAAMa,IAAM,GAAKjJ,EAC3C,OAASvG,GAAKyP,EAAMzP,IAAO,GAAKyP,GAAOtE,GAEzCkD,EAAIY,IAAO,SAAUP,EAAGvD,EAAGe,EAAGyC,EAAGa,EAAGC,EAAGlJ,GACrC,IAAIvG,EAAI0O,GAAKvD,EAAIe,EAAIyC,IAAMa,IAAM,GAAKjJ,EACtC,OAASvG,GAAKyP,EAAMzP,IAAO,GAAKyP,GAAOtE,GAEzCkD,EAAIc,IAAO,SAAUT,EAAGvD,EAAGe,EAAGyC,EAAGa,EAAGC,EAAGlJ,GACrC,IAAIvG,EAAI0O,GAAKxC,GAAKf,GAAKwD,KAAOa,IAAM,GAAKjJ,EACzC,OAASvG,GAAKyP,EAAMzP,IAAO,GAAKyP,GAAOtE,GAIzCkD,EAAIqB,WAAa,GACjBrB,EAAIsB,YAAc,GAElB5C,UAAiB,SAAUuB,EAASrJ,GAClC,GAAIqJ,MAAAA,EACF,MAAM,IAAIsB,MAAM,oBAAsBtB,GAExC,IAAIuB,EAAc5E,EAAMW,aAAayC,EAAIC,EAASrJ,IAClD,OAAOA,GAAWA,EAAQ6K,QAAUD,EAChC5K,GAAWA,EAAQ8K,SAAW3C,EAAIG,cAAcsC,GAChD5E,EAAMY,WAAWgE,IA5JzB,cCAkC,oBAAXG,OAAyBA,OACpB,oBAATC,KAAuBA,KACZ,oBAAXC,OAAyBA,OAAS,GCDjDC,OAAS,GACTC,UAAY,GACZC,IAA4B,oBAAfC,WAA6BA,WAAa7O,MACvD8O,QAAS,EACb,SAAShL,OACPgL,QAAS,EAET,IADA,IAAIC,EAAO,mEACFlQ,EAAI,EAAGmQ,EAAMD,EAAKxP,OAAQV,EAAImQ,IAAOnQ,EAC5C6P,OAAO7P,GAAKkQ,EAAKlQ,GACjB8P,UAAUI,EAAK9C,WAAWpN,IAAMA,EAGlC8P,UAAU,IAAI1C,WAAW,IAAM,GAC/B0C,UAAU,IAAI1C,WAAW,IAAM,GAG1B,SAASgD,YAAaC,GAI3B,IAAIrQ,EAAGkM,EAAGiC,EAAGmC,EAAKC,EAAcC,EAH3BP,QACHhL,OAGF,IAAIkL,EAAME,EAAI3P,OAEd,GAAIyP,EAAM,EAAI,EACZ,MAAM,IAAIb,MAAM,kDAQlBiB,EAAgC,MAAjBF,EAAIF,EAAM,GAAa,EAAqB,MAAjBE,EAAIF,EAAM,GAAa,EAAI,EAGrEK,EAAM,IAAIT,IAAU,EAANI,EAAU,EAAII,GAG5BpC,EAAIoC,EAAe,EAAIJ,EAAM,EAAIA,EAEjC,IAAIM,EAAI,EAER,IAAKzQ,EAAI,EAAGkM,EAAI,EAAGlM,EAAImO,EAAGnO,GAAK,EAAGkM,GAAK,EACrCoE,EAAOR,UAAUO,EAAIjD,WAAWpN,KAAO,GAAO8P,UAAUO,EAAIjD,WAAWpN,EAAI,KAAO,GAAO8P,UAAUO,EAAIjD,WAAWpN,EAAI,KAAO,EAAK8P,UAAUO,EAAIjD,WAAWpN,EAAI,IAC/JwQ,EAAIC,KAAQH,GAAO,GAAM,IACzBE,EAAIC,KAAQH,GAAO,EAAK,IACxBE,EAAIC,KAAa,IAANH,EAYb,OATqB,IAAjBC,GACFD,EAAOR,UAAUO,EAAIjD,WAAWpN,KAAO,EAAM8P,UAAUO,EAAIjD,WAAWpN,EAAI,KAAO,EACjFwQ,EAAIC,KAAa,IAANH,GACe,IAAjBC,IACTD,EAAOR,UAAUO,EAAIjD,WAAWpN,KAAO,GAAO8P,UAAUO,EAAIjD,WAAWpN,EAAI,KAAO,EAAM8P,UAAUO,EAAIjD,WAAWpN,EAAI,KAAO,EAC5HwQ,EAAIC,KAAQH,GAAO,EAAK,IACxBE,EAAIC,KAAa,IAANH,GAGNE,EAGT,SAASE,gBAAiBC,GACxB,OAAOd,OAAOc,GAAO,GAAK,IAAQd,OAAOc,GAAO,GAAK,IAAQd,OAAOc,GAAO,EAAI,IAAQd,OAAa,GAANc,GAGhG,SAASC,YAAaC,EAAOC,EAAOC,GAGlC,IAFA,IAAIT,EACAU,EAAS,GACJhR,EAAI8Q,EAAO9Q,EAAI+Q,EAAK/Q,GAAK,EAChCsQ,GAAOO,EAAM7Q,IAAM,KAAO6Q,EAAM7Q,EAAI,IAAM,GAAM6Q,EAAM7Q,EAAI,GAC1DgR,EAAO3Q,KAAKqQ,gBAAgBJ,IAE9B,OAAOU,EAAOtF,KAAK,IAGd,SAASuF,cAAeJ,GAI7B,IAAIP,EAHCL,QACHhL,OAUF,IAPA,IAAIkL,EAAMU,EAAMnQ,OACZwQ,EAAaf,EAAM,EACnBa,EAAS,GACTG,EAAQ,GAIHnR,EAAI,EAAGoR,EAAOjB,EAAMe,EAAYlR,EAAIoR,EAAMpR,GAH9B,MAInBmR,EAAM9Q,KAAKuQ,YAAYC,EAAO7Q,EAAIA,EAJf,MAIqCoR,EAAOA,EAAQpR,EAJpD,QAuBrB,OAfmB,IAAfkR,GACFZ,EAAMO,EAAMV,EAAM,GAClBa,GAAUnB,OAAOS,GAAO,GACxBU,GAAUnB,OAAQS,GAAO,EAAK,IAC9BU,GAAU,MACc,IAAfE,IACTZ,GAAOO,EAAMV,EAAM,IAAM,GAAMU,EAAMV,EAAM,GAC3Ca,GAAUnB,OAAOS,GAAO,IACxBU,GAAUnB,OAAQS,GAAO,EAAK,IAC9BU,GAAUnB,OAAQS,GAAO,EAAK,IAC9BU,GAAU,KAGZG,EAAM9Q,KAAK2Q,GAEJG,EAAMzF,KAAK,IC3Gb,SAAS2F,KAAMC,EAAQC,EAAQC,EAAMC,EAAMC,GAChD,IAAI3R,EAAGJ,EACHgS,EAAgB,EAATD,EAAaD,EAAO,EAC3BG,GAAQ,GAAKD,GAAQ,EACrBE,EAAQD,GAAQ,EAChBE,GAAS,EACT9R,EAAIwR,EAAQE,EAAS,EAAK,EAC1BrD,EAAImD,GAAQ,EAAI,EAChBrC,EAAImC,EAAOC,EAASvR,GAOxB,IALAA,GAAKqO,EAELtO,EAAIoP,GAAM,IAAO2C,GAAU,EAC3B3C,KAAQ2C,EACRA,GAASH,EACFG,EAAQ,EAAG/R,EAAQ,IAAJA,EAAUuR,EAAOC,EAASvR,GAAIA,GAAKqO,EAAGyD,GAAS,GAKrE,IAHAnS,EAAII,GAAM,IAAO+R,GAAU,EAC3B/R,KAAQ+R,EACRA,GAASL,EACFK,EAAQ,EAAGnS,EAAQ,IAAJA,EAAU2R,EAAOC,EAASvR,GAAIA,GAAKqO,EAAGyD,GAAS,GAErE,GAAU,IAAN/R,EACFA,EAAI,EAAI8R,MACH,CAAA,GAAI9R,IAAM6R,EACf,OAAOjS,EAAIoS,IAAsBC,EAAAA,GAAd7C,GAAK,EAAI,GAE5BxP,GAAQsE,KAAKuI,IAAI,EAAGiF,GACpB1R,GAAQ8R,EAEV,OAAQ1C,GAAK,EAAI,GAAKxP,EAAIsE,KAAKuI,IAAI,EAAGzM,EAAI0R,GAGrC,SAASQ,MAAOX,EAAQhR,EAAOiR,EAAQC,EAAMC,EAAMC,GACxD,IAAI3R,EAAGJ,EAAGiM,EACN+F,EAAgB,EAATD,EAAaD,EAAO,EAC3BG,GAAQ,GAAKD,GAAQ,EACrBE,EAAQD,GAAQ,EAChBM,EAAe,KAATT,EAAcxN,KAAKuI,IAAI,GAAI,IAAMvI,KAAKuI,IAAI,GAAI,IAAM,EAC1DxM,EAAIwR,EAAO,EAAKE,EAAS,EACzBrD,EAAImD,EAAO,GAAK,EAChBrC,EAAI7O,EAAQ,GAAgB,IAAVA,GAAe,EAAIA,EAAQ,EAAK,EAAI,EAmC1D,IAjCAA,EAAQ2D,KAAKkO,IAAI7R,GAEbkC,MAAMlC,IAAUA,IAAU0R,EAAAA,GAC5BrS,EAAI6C,MAAMlC,GAAS,EAAI,EACvBP,EAAI6R,IAEJ7R,EAAIkE,KAAKiH,MAAMjH,KAAKmO,IAAI9R,GAAS2D,KAAKoO,KAClC/R,GAASsL,EAAI3H,KAAKuI,IAAI,GAAIzM,IAAM,IAClCA,IACA6L,GAAK,IAGLtL,GADEP,EAAI8R,GAAS,EACNK,EAAKtG,EAELsG,EAAKjO,KAAKuI,IAAI,EAAG,EAAIqF,IAEpBjG,GAAK,IACf7L,IACA6L,GAAK,GAGH7L,EAAI8R,GAASD,GACfjS,EAAI,EACJI,EAAI6R,GACK7R,EAAI8R,GAAS,GACtBlS,GAAKW,EAAQsL,EAAI,GAAK3H,KAAKuI,IAAI,EAAGiF,GAClC1R,GAAQ8R,IAERlS,EAAIW,EAAQ2D,KAAKuI,IAAI,EAAGqF,EAAQ,GAAK5N,KAAKuI,IAAI,EAAGiF,GACjD1R,EAAI,IAID0R,GAAQ,EAAGH,EAAOC,EAASvR,GAAS,IAAJL,EAAUK,GAAKqO,EAAG1O,GAAK,IAAK8R,GAAQ,GAI3E,IAFA1R,EAAKA,GAAK0R,EAAQ9R,EAClBgS,GAAQF,EACDE,EAAO,EAAGL,EAAOC,EAASvR,GAAS,IAAJD,EAAUC,GAAKqO,EAAGtO,GAAK,IAAK4R,GAAQ,GAE1EL,EAAOC,EAASvR,EAAIqO,IAAU,IAAJc,ECnF5B,IAAI1D,SAAW,GAAGA,mBAEHtK,MAAM2B,SAAW,SAAU0N,GACxC,MAA6B,kBAAtB/E,SAASxL,KAAKuQ,ICUZ8B,kBAAoB,GAoD/B,SAASC,aACP,OAAOC,OAAOC,oBACV,WACA,WAGN,SAASC,aAAcC,EAAMjS,GAC3B,GAAI6R,aAAe7R,EACjB,MAAM,IAAIkS,WAAW,8BAcvB,OAZIJ,OAAOC,qBAETE,EAAO,IAAI3C,WAAWtP,IACjBmS,UAAYL,OAAOtE,WAGX,OAATyE,IACFA,EAAO,IAAIH,OAAO9R,IAEpBiS,EAAKjS,OAASA,GAGTiS,EAaT,SAAgBH,OAAQM,EAAKC,EAAkBrS,GAC7C,KAAK8R,OAAOC,qBAAyBjR,gBAAgBgR,QACnD,OAAO,IAAIA,OAAOM,EAAKC,EAAkBrS,GAI3C,GAAmB,iBAARoS,EAAkB,CAC3B,GAAgC,iBAArBC,EACT,MAAM,IAAIzD,MACR,qEAGJ,OAAO0D,YAAYxR,KAAMsR,GAE3B,OAAO1R,KAAKI,KAAMsR,EAAKC,EAAkBrS,GAW3C,SAASU,KAAMuR,EAAMrS,EAAOyS,EAAkBrS,GAC5C,GAAqB,iBAAVJ,EACT,MAAM,IAAI2S,UAAU,yCAGtB,MAA2B,oBAAhBC,aAA+B5S,aAAiB4S,YAClDC,gBAAgBR,EAAMrS,EAAOyS,EAAkBrS,GAGnC,iBAAVJ,EACF8S,WAAWT,EAAMrS,EAAOyS,GAG1BM,WAAWV,EAAMrS,GA4B1B,SAASgT,WAAYC,GACnB,GAAoB,iBAATA,EACT,MAAM,IAAIN,UAAU,oCACf,GAAIM,EAAO,EAChB,MAAM,IAAIX,WAAW,wCAIzB,SAASY,MAAOb,EAAMY,EAAME,EAAMxF,GAEhC,OADAqF,WAAWC,GACPA,GAAQ,EACHb,aAAaC,EAAMY,QAEfG,IAATD,EAIyB,iBAAbxF,EACVyE,aAAaC,EAAMY,GAAME,KAAKA,EAAMxF,GACpCyE,aAAaC,EAAMY,GAAME,KAAKA,GAE7Bf,aAAaC,EAAMY,GAW5B,SAASP,YAAaL,EAAMY,GAG1B,GAFAD,WAAWC,GACXZ,EAAOD,aAAaC,EAAMY,EAAO,EAAI,EAAoB,EAAhBI,QAAQJ,KAC5Cf,OAAOC,oBACV,IAAK,IAAIzS,EAAI,EAAGA,EAAIuT,IAAQvT,EAC1B2S,EAAK3S,GAAK,EAGd,OAAO2S,EAgBT,SAASS,WAAYT,EAAMlP,EAAQwK,GAKjC,GAJwB,iBAAbA,GAAsC,KAAbA,IAClCA,EAAW,SAGRuE,OAAOoB,WAAW3F,GACrB,MAAM,IAAIgF,UAAU,8CAGtB,IAAIvS,EAAwC,EAA/BmT,WAAWpQ,EAAQwK,GAG5B6F,GAFJnB,EAAOD,aAAaC,EAAMjS,IAERuR,MAAMxO,EAAQwK,GAShC,OAPI6F,IAAWpT,IAIbiS,EAAOA,EAAKhF,MAAM,EAAGmG,IAGhBnB,EAGT,SAASoB,cAAepB,EAAM/O,GAC5B,IAAIlD,EAASkD,EAAMlD,OAAS,EAAI,EAA4B,EAAxBiT,QAAQ/P,EAAMlD,QAClDiS,EAAOD,aAAaC,EAAMjS,GAC1B,IAAK,IAAIV,EAAI,EAAGA,EAAIU,EAAQV,GAAK,EAC/B2S,EAAK3S,GAAgB,IAAX4D,EAAM5D,GAElB,OAAO2S,EAGT,SAASQ,gBAAiBR,EAAM/O,EAAOoQ,EAAYtT,GAGjD,GAFAkD,EAAMiQ,WAEFG,EAAa,GAAKpQ,EAAMiQ,WAAaG,EACvC,MAAM,IAAIpB,WAAW,6BAGvB,GAAIhP,EAAMiQ,WAAaG,GAActT,GAAU,GAC7C,MAAM,IAAIkS,WAAW,6BAmBvB,OAfEhP,OADiB8P,IAAfM,QAAuCN,IAAXhT,EACtB,IAAIsP,WAAWpM,QACH8P,IAAXhT,EACD,IAAIsP,WAAWpM,EAAOoQ,GAEtB,IAAIhE,WAAWpM,EAAOoQ,EAAYtT,GAGxC8R,OAAOC,qBAETE,EAAO/O,GACFiP,UAAYL,OAAOtE,UAGxByE,EAAOoB,cAAcpB,EAAM/O,GAEtB+O,EAGT,SAASU,WAAYV,EAAMrF,GACzB,GAAI2G,iBAAiB3G,GAAM,CACzB,IAAI6C,EAA4B,EAAtBwD,QAAQrG,EAAI5M,QAGtB,OAAoB,KAFpBiS,EAAOD,aAAaC,EAAMxC,IAEjBzP,OACAiS,GAGTrF,EAAI4G,KAAKvB,EAAM,EAAG,EAAGxC,GACdwC,GAGT,GAAIrF,EAAK,CACP,GAA4B,oBAAhB4F,aACR5F,EAAIgE,kBAAkB4B,aAAgB,WAAY5F,EACpD,MAA0B,iBAAfA,EAAI5M,QAAuByT,MAAM7G,EAAI5M,QACvCgS,aAAaC,EAAM,GAErBoB,cAAcpB,EAAMrF,GAG7B,GAAiB,WAAbA,EAAI5L,MAAqBoB,UAAQwK,EAAI8G,MACvC,OAAOL,cAAcpB,EAAMrF,EAAI8G,MAInC,MAAM,IAAInB,UAAU,sFAGtB,SAASU,QAASjT,GAGhB,GAAIA,GAAU6R,aACZ,MAAM,IAAIK,WAAW,0DACaL,aAAa9G,SAAS,IAAM,UAEhE,OAAgB,EAAT/K,EAUT,SAASuT,iBAAkBpJ,GACzB,QAAe,MAALA,IAAaA,EAAE4C,WA2E3B,SAASoG,WAAYpQ,EAAQwK,GAC3B,GAAIgG,iBAAiBxQ,GACnB,OAAOA,EAAO/C,OAEhB,GAA2B,oBAAhBwS,aAA6D,mBAAvBA,YAAYmB,SACxDnB,YAAYmB,OAAO5Q,IAAWA,aAAkByP,aACnD,OAAOzP,EAAOoQ,WAEM,iBAAXpQ,IACTA,EAAS,GAAKA,GAGhB,IAAI0M,EAAM1M,EAAO/C,OACjB,GAAY,IAARyP,EAAW,OAAO,EAItB,IADA,IAAImE,GAAc,IAEhB,OAAQrG,GACN,IAAK,QACL,IAAK,SACL,IAAK,SACH,OAAOkC,EACT,IAAK,OACL,IAAK,QACL,UAAKuD,EACH,OAAOa,YAAY9Q,GAAQ/C,OAC7B,IAAK,OACL,IAAK,QACL,IAAK,UACL,IAAK,WACH,OAAa,EAANyP,EACT,IAAK,MACH,OAAOA,IAAQ,EACjB,IAAK,SACH,OAAO/D,cAAc3I,GAAQ/C,OAC/B,QACE,GAAI4T,EAAa,OAAOC,YAAY9Q,GAAQ/C,OAC5CuN,GAAY,GAAKA,GAAUuG,cAC3BF,GAAc,GAMtB,SAASG,aAAcxG,EAAU6C,EAAOC,GACtC,IAAIuD,GAAc,EAclB,SALcZ,IAAV5C,GAAuBA,EAAQ,KACjCA,EAAQ,GAINA,EAAQtP,KAAKd,OACf,MAAO,GAOT,SAJYgT,IAAR3C,GAAqBA,EAAMvP,KAAKd,UAClCqQ,EAAMvP,KAAKd,QAGTqQ,GAAO,EACT,MAAO,GAOT,IAHAA,KAAS,KACTD,KAAW,GAGT,MAAO,GAKT,IAFK7C,IAAUA,EAAW,UAGxB,OAAQA,GACN,IAAK,MACH,OAAOyG,SAASlT,KAAMsP,EAAOC,GAE/B,IAAK,OACL,IAAK,QACH,OAAO4D,UAAUnT,KAAMsP,EAAOC,GAEhC,IAAK,QACH,OAAO6D,WAAWpT,KAAMsP,EAAOC,GAEjC,IAAK,SACL,IAAK,SACH,OAAO8D,YAAYrT,KAAMsP,EAAOC,GAElC,IAAK,SACH,OAAO+D,YAAYtT,KAAMsP,EAAOC,GAElC,IAAK,OACL,IAAK,QACL,IAAK,UACL,IAAK,WACH,OAAOgE,aAAavT,KAAMsP,EAAOC,GAEnC,QACE,GAAIuD,EAAa,MAAM,IAAIrB,UAAU,qBAAuBhF,GAC5DA,GAAYA,EAAW,IAAIuG,cAC3BF,GAAc,GAStB,SAASU,KAAMnK,EAAGnL,EAAGC,GACnB,IAAIK,EAAI6K,EAAEnL,GACVmL,EAAEnL,GAAKmL,EAAElL,GACTkL,EAAElL,GAAKK,EAmIT,SAASiV,qBAAsB3D,EAAQ4D,EAAKlB,EAAY/F,EAAUkH,GAEhE,GAAsB,IAAlB7D,EAAO5Q,OAAc,OAAQ,EAmBjC,GAhB0B,iBAAfsT,GACT/F,EAAW+F,EACXA,EAAa,GACJA,EAAa,WACtBA,EAAa,WACJA,GAAc,aACvBA,GAAc,YAEhBA,GAAcA,EACVxR,MAAMwR,KAERA,EAAamB,EAAM,EAAK7D,EAAO5Q,OAAS,GAItCsT,EAAa,IAAGA,EAAa1C,EAAO5Q,OAASsT,GAC7CA,GAAc1C,EAAO5Q,OAAQ,CAC/B,GAAIyU,EAAK,OAAQ,EACZnB,EAAa1C,EAAO5Q,OAAS,OAC7B,GAAIsT,EAAa,EAAG,CACzB,IAAImB,EACC,OAAQ,EADJnB,EAAa,EAUxB,GALmB,iBAARkB,IACTA,EAAM1C,OAAOpR,KAAK8T,EAAKjH,IAIrBgG,iBAAiBiB,GAEnB,OAAmB,IAAfA,EAAIxU,QACE,EAEH0U,aAAa9D,EAAQ4D,EAAKlB,EAAY/F,EAAUkH,GAClD,GAAmB,iBAARD,EAEhB,OADAA,GAAY,IACR1C,OAAOC,qBACiC,mBAAjCzC,WAAW9B,UAAU3B,QAC1B4I,EACKnF,WAAW9B,UAAU3B,QAAQtM,KAAKqR,EAAQ4D,EAAKlB,GAE/ChE,WAAW9B,UAAUmH,YAAYpV,KAAKqR,EAAQ4D,EAAKlB,GAGvDoB,aAAa9D,EAAQ,CAAE4D,GAAOlB,EAAY/F,EAAUkH,GAG7D,MAAM,IAAIlC,UAAU,wCAGtB,SAASmC,aAAc5E,EAAK0E,EAAKlB,EAAY/F,EAAUkH,GACrD,IA0BInV,EA1BAsV,EAAY,EACZC,EAAY/E,EAAI9P,OAChB8U,EAAYN,EAAIxU,OAEpB,QAAiBgT,IAAbzF,IAEe,UADjBA,EAAWvL,OAAOuL,GAAUuG,gBACY,UAAbvG,GACV,YAAbA,GAAuC,aAAbA,GAAyB,CACrD,GAAIuC,EAAI9P,OAAS,GAAKwU,EAAIxU,OAAS,EACjC,OAAQ,EAEV4U,EAAY,EACZC,GAAa,EACbC,GAAa,EACbxB,GAAc,EAIlB,SAAS3C,EAAMoE,EAAKzV,GAClB,OAAkB,IAAdsV,EACKG,EAAIzV,GAEJyV,EAAIC,aAAa1V,EAAIsV,GAKhC,GAAIH,EAAK,CACP,IAAIQ,GAAc,EAClB,IAAK3V,EAAIgU,EAAYhU,EAAIuV,EAAWvV,IAClC,GAAIqR,EAAKb,EAAKxQ,KAAOqR,EAAK6D,GAAqB,IAAhBS,EAAoB,EAAI3V,EAAI2V,IAEzD,IADoB,IAAhBA,IAAmBA,EAAa3V,GAChCA,EAAI2V,EAAa,IAAMH,EAAW,OAAOG,EAAaL,OAEtC,IAAhBK,IAAmB3V,GAAKA,EAAI2V,GAChCA,GAAc,OAKlB,IADI3B,EAAawB,EAAYD,IAAWvB,EAAauB,EAAYC,GAC5DxV,EAAIgU,EAAYhU,GAAK,EAAGA,IAAK,CAEhC,IADA,IAAI4V,GAAQ,EACH1J,EAAI,EAAGA,EAAIsJ,EAAWtJ,IAC7B,GAAImF,EAAKb,EAAKxQ,EAAIkM,KAAOmF,EAAK6D,EAAKhJ,GAAI,CACrC0J,GAAQ,EACR,MAGJ,GAAIA,EAAO,OAAO5V,EAItB,OAAQ,EAeV,SAAS6V,SAAUJ,EAAKhS,EAAQ8N,EAAQ7Q,GACtC6Q,EAAShP,OAAOgP,IAAW,EAC3B,IAAIuE,EAAYL,EAAI/U,OAAS6Q,EACxB7Q,GAGHA,EAAS6B,OAAO7B,IACHoV,IACXpV,EAASoV,GAJXpV,EAASoV,EASX,IAAIC,EAAStS,EAAO/C,OACpB,GAAIqV,EAAS,GAAM,EAAG,MAAM,IAAI9C,UAAU,sBAEtCvS,EAASqV,EAAS,IACpBrV,EAASqV,EAAS,GAEpB,IAAK,IAAI/V,EAAI,EAAGA,EAAIU,IAAUV,EAAG,CAC/B,IAAIgW,EAASnK,SAASpI,EAAOqI,OAAW,EAAJ9L,EAAO,GAAI,IAC/C,GAAIwC,MAAMwT,GAAS,OAAOhW,EAC1ByV,EAAIlE,EAASvR,GAAKgW,EAEpB,OAAOhW,EAGT,SAASiW,UAAWR,EAAKhS,EAAQ8N,EAAQ7Q,GACvC,OAAOwV,WAAW3B,YAAY9Q,EAAQgS,EAAI/U,OAAS6Q,GAASkE,EAAKlE,EAAQ7Q,GAG3E,SAASyV,WAAYV,EAAKhS,EAAQ8N,EAAQ7Q,GACxC,OAAOwV,WAAWE,aAAa3S,GAASgS,EAAKlE,EAAQ7Q,GAGvD,SAAS2V,YAAaZ,EAAKhS,EAAQ8N,EAAQ7Q,GACzC,OAAOyV,WAAWV,EAAKhS,EAAQ8N,EAAQ7Q,GAGzC,SAAS4V,YAAab,EAAKhS,EAAQ8N,EAAQ7Q,GACzC,OAAOwV,WAAW9J,cAAc3I,GAASgS,EAAKlE,EAAQ7Q,GAGxD,SAAS6V,UAAWd,EAAKhS,EAAQ8N,EAAQ7Q,GACvC,OAAOwV,WAAWM,eAAe/S,EAAQgS,EAAI/U,OAAS6Q,GAASkE,EAAKlE,EAAQ7Q,GAkF9E,SAASoU,YAAaW,EAAK3E,EAAOC,GAChC,OAAc,IAAVD,GAAeC,IAAQ0E,EAAI/U,OACtB+V,cAAqBhB,GAErBgB,cAAqBhB,EAAI9H,MAAMmD,EAAOC,IAIjD,SAAS4D,UAAWc,EAAK3E,EAAOC,GAC9BA,EAAM9M,KAAK2C,IAAI6O,EAAI/U,OAAQqQ,GAI3B,IAHA,IAAI2F,EAAM,GAEN1W,EAAI8Q,EACD9Q,EAAI+Q,GAAK,CACd,IAQM4F,EAAYC,EAAWC,EAAYC,EARrCC,EAAYtB,EAAIzV,GAChBgX,EAAY,KACZC,EAAoBF,EAAY,IAAQ,EACvCA,EAAY,IAAQ,EACpBA,EAAY,IAAQ,EACrB,EAEJ,GAAI/W,EAAIiX,GAAoBlG,EAG1B,OAAQkG,GACN,KAAK,EACCF,EAAY,MACdC,EAAYD,GAEd,MACF,KAAK,EAEyB,MAAV,KADlBJ,EAAalB,EAAIzV,EAAI,OAEnB8W,GAA6B,GAAZC,IAAqB,EAAoB,GAAbJ,GACzB,MAClBK,EAAYF,GAGhB,MACF,KAAK,EACHH,EAAalB,EAAIzV,EAAI,GACrB4W,EAAYnB,EAAIzV,EAAI,GACQ,MAAV,IAAb2W,IAAsD,MAAV,IAAZC,KACnCE,GAA6B,GAAZC,IAAoB,IAAoB,GAAbJ,IAAsB,EAAmB,GAAZC,GACrD,OAAUE,EAAgB,OAAUA,EAAgB,SACtEE,EAAYF,GAGhB,MACF,KAAK,EACHH,EAAalB,EAAIzV,EAAI,GACrB4W,EAAYnB,EAAIzV,EAAI,GACpB6W,EAAapB,EAAIzV,EAAI,GACO,MAAV,IAAb2W,IAAsD,MAAV,IAAZC,IAAsD,MAAV,IAAbC,KAClEC,GAA6B,GAAZC,IAAoB,IAAqB,GAAbJ,IAAsB,IAAmB,GAAZC,IAAqB,EAAoB,GAAbC,GAClF,OAAUC,EAAgB,UAC5CE,EAAYF,GAMJ,OAAdE,GAGFA,EAAY,MACZC,EAAmB,GACVD,EAAY,QAErBA,GAAa,MACbN,EAAIrW,KAAK2W,IAAc,GAAK,KAAQ,OACpCA,EAAY,MAAqB,KAAZA,GAGvBN,EAAIrW,KAAK2W,GACThX,GAAKiX,EAGP,OAAOC,sBAAsBR,GAv7B/BlE,OAAOC,yBAAqDiB,IAA/BhE,SAAO+C,qBAChC/C,SAAO+C,oBA6EXD,OAAO2E,SAAW,KAGlB3E,OAAO4E,SAAW,SAAU5G,GAE1B,OADAA,EAAIqC,UAAYL,OAAOtE,UAChBsC,GA2BTgC,OAAOpR,KAAO,SAAUd,EAAOyS,EAAkBrS,GAC/C,OAAOU,KAAK,KAAMd,EAAOyS,EAAkBrS,IAGzC8R,OAAOC,sBACTD,OAAOtE,UAAU2E,UAAY7C,WAAW9B,UACxCsE,OAAOK,UAAY7C,YAuCrBwC,OAAOgB,MAAQ,SAAUD,EAAME,EAAMxF,GACnC,OAAOuF,MAAM,KAAMD,EAAME,EAAMxF,IAiBjCuE,OAAOQ,YAAc,SAAUO,GAC7B,OAAOP,YAAY,KAAMO,IAK3Bf,OAAO6E,gBAAkB,SAAU9D,GACjC,OAAOP,YAAY,KAAMO,IAgH3Bf,OAAOjF,SAAWA,WAKlBiF,OAAO8E,QAAU,SAAkBlJ,EAAGvD,GACpC,IAAKoJ,iBAAiB7F,KAAO6F,iBAAiBpJ,GAC5C,MAAM,IAAIoI,UAAU,6BAGtB,GAAI7E,IAAMvD,EAAG,OAAO,EAKpB,IAHA,IAAIqE,EAAId,EAAE1N,OACN6W,EAAI1M,EAAEnK,OAEDV,EAAI,EAAGmQ,EAAMlM,KAAK2C,IAAIsI,EAAGqI,GAAIvX,EAAImQ,IAAOnQ,EAC/C,GAAIoO,EAAEpO,KAAO6K,EAAE7K,GAAI,CACjBkP,EAAId,EAAEpO,GACNuX,EAAI1M,EAAE7K,GACN,MAIJ,OAAIkP,EAAIqI,GAAW,EACfA,EAAIrI,EAAU,EACX,GAGTsD,OAAOoB,WAAa,SAAqB3F,GACvC,OAAQvL,OAAOuL,GAAUuG,eACvB,IAAK,MACL,IAAK,OACL,IAAK,QACL,IAAK,QACL,IAAK,SACL,IAAK,SACL,IAAK,SACL,IAAK,OACL,IAAK,QACL,IAAK,UACL,IAAK,WACH,OAAO,EACT,QACE,OAAO,IAIbhC,OAAO7R,OAAS,SAAiB6W,EAAM9W,GACrC,IAAKoC,UAAQ0U,GACX,MAAM,IAAIvE,UAAU,+CAGtB,GAAoB,IAAhBuE,EAAK9W,OACP,OAAO8R,OAAOgB,MAAM,GAGtB,IAAIxT,EACJ,QAAe0T,IAAXhT,EAEF,IADAA,EAAS,EACJV,EAAI,EAAGA,EAAIwX,EAAK9W,SAAUV,EAC7BU,GAAU8W,EAAKxX,GAAGU,OAItB,IAAI4Q,EAASkB,OAAOQ,YAAYtS,GAC5B+W,EAAM,EACV,IAAKzX,EAAI,EAAGA,EAAIwX,EAAK9W,SAAUV,EAAG,CAChC,IAAIyV,EAAM+B,EAAKxX,GACf,IAAKiU,iBAAiBwB,GACpB,MAAM,IAAIxC,UAAU,+CAEtBwC,EAAIvB,KAAK5C,EAAQmG,GACjBA,GAAOhC,EAAI/U,OAEb,OAAO4Q,GA8CTkB,OAAOqB,WAAaA,WA0EpBrB,OAAOtE,UAAUT,WAAY,EAQ7B+E,OAAOtE,UAAUwJ,OAAS,WACxB,IAAIvH,EAAM3O,KAAKd,OACf,GAAIyP,EAAM,GAAM,EACd,MAAM,IAAIyC,WAAW,6CAEvB,IAAK,IAAI5S,EAAI,EAAGA,EAAImQ,EAAKnQ,GAAK,EAC5BgV,KAAKxT,KAAMxB,EAAGA,EAAI,GAEpB,OAAOwB,MAGTgR,OAAOtE,UAAUyJ,OAAS,WACxB,IAAIxH,EAAM3O,KAAKd,OACf,GAAIyP,EAAM,GAAM,EACd,MAAM,IAAIyC,WAAW,6CAEvB,IAAK,IAAI5S,EAAI,EAAGA,EAAImQ,EAAKnQ,GAAK,EAC5BgV,KAAKxT,KAAMxB,EAAGA,EAAI,GAClBgV,KAAKxT,KAAMxB,EAAI,EAAGA,EAAI,GAExB,OAAOwB,MAGTgR,OAAOtE,UAAU0J,OAAS,WACxB,IAAIzH,EAAM3O,KAAKd,OACf,GAAIyP,EAAM,GAAM,EACd,MAAM,IAAIyC,WAAW,6CAEvB,IAAK,IAAI5S,EAAI,EAAGA,EAAImQ,EAAKnQ,GAAK,EAC5BgV,KAAKxT,KAAMxB,EAAGA,EAAI,GAClBgV,KAAKxT,KAAMxB,EAAI,EAAGA,EAAI,GACtBgV,KAAKxT,KAAMxB,EAAI,EAAGA,EAAI,GACtBgV,KAAKxT,KAAMxB,EAAI,EAAGA,EAAI,GAExB,OAAOwB,MAGTgR,OAAOtE,UAAUzC,SAAW,WAC1B,IAAI/K,EAAuB,EAAdc,KAAKd,OAClB,OAAe,IAAXA,EAAqB,GACA,IAArBD,UAAUC,OAAqBiU,UAAUnT,KAAM,EAAGd,GAC/C+T,aAAaoD,MAAMrW,KAAMf,YAGlC+R,OAAOtE,UAAU4J,OAAS,SAAiBjN,GACzC,IAAKoJ,iBAAiBpJ,GAAI,MAAM,IAAIoI,UAAU,6BAC9C,OAAIzR,OAASqJ,GACsB,IAA5B2H,OAAO8E,QAAQ9V,KAAMqJ,IAG9B2H,OAAOtE,UAAU6J,QAAU,WACzB,IAAIlL,EAAM,GACN3I,EAAMoO,kBAKV,OAJI9Q,KAAKd,OAAS,IAChBmM,EAAMrL,KAAKiK,SAAS,MAAO,EAAGvH,GAAKF,MAAM,SAAS0H,KAAK,KACnDlK,KAAKd,OAASwD,IAAK2I,GAAO,UAEzB,WAAaA,EAAM,KAG5B2F,OAAOtE,UAAUoJ,QAAU,SAAkB5S,EAAQoM,EAAOC,EAAKiH,EAAWC,GAC1E,IAAKhE,iBAAiBvP,GACpB,MAAM,IAAIuO,UAAU,6BAgBtB,QAbcS,IAAV5C,IACFA,EAAQ,QAEE4C,IAAR3C,IACFA,EAAMrM,EAASA,EAAOhE,OAAS,QAEfgT,IAAdsE,IACFA,EAAY,QAEEtE,IAAZuE,IACFA,EAAUzW,KAAKd,QAGboQ,EAAQ,GAAKC,EAAMrM,EAAOhE,QAAUsX,EAAY,GAAKC,EAAUzW,KAAKd,OACtE,MAAM,IAAIkS,WAAW,sBAGvB,GAAIoF,GAAaC,GAAWnH,GAASC,EACnC,OAAO,EAET,GAAIiH,GAAaC,EACf,OAAQ,EAEV,GAAInH,GAASC,EACX,OAAO,EAQT,GAAIvP,OAASkD,EAAQ,OAAO,EAS5B,IAPA,IAAIwK,GAJJ+I,KAAa,IADbD,KAAe,GAMXT,GAPJxG,KAAS,IADTD,KAAW,GASPX,EAAMlM,KAAK2C,IAAIsI,EAAGqI,GAElBW,EAAW1W,KAAKmM,MAAMqK,EAAWC,GACjCE,EAAazT,EAAOiJ,MAAMmD,EAAOC,GAE5B/Q,EAAI,EAAGA,EAAImQ,IAAOnQ,EACzB,GAAIkY,EAASlY,KAAOmY,EAAWnY,GAAI,CACjCkP,EAAIgJ,EAASlY,GACbuX,EAAIY,EAAWnY,GACf,MAIJ,OAAIkP,EAAIqI,GAAW,EACfA,EAAIrI,EAAU,EACX,GA6HTsD,OAAOtE,UAAU3M,SAAW,SAAmB2T,EAAKlB,EAAY/F,GAC9D,OAAoD,IAA7CzM,KAAK+K,QAAQ2I,EAAKlB,EAAY/F,IAGvCuE,OAAOtE,UAAU3B,QAAU,SAAkB2I,EAAKlB,EAAY/F,GAC5D,OAAOgH,qBAAqBzT,KAAM0T,EAAKlB,EAAY/F,GAAU,IAG/DuE,OAAOtE,UAAUmH,YAAc,SAAsBH,EAAKlB,EAAY/F,GACpE,OAAOgH,qBAAqBzT,KAAM0T,EAAKlB,EAAY/F,GAAU,IAkD/DuE,OAAOtE,UAAU+D,MAAQ,SAAgBxO,EAAQ8N,EAAQ7Q,EAAQuN,GAE/D,QAAeyF,IAAXnC,EACFtD,EAAW,OACXvN,EAASc,KAAKd,OACd6Q,EAAS,OAEJ,QAAemC,IAAXhT,GAA0C,iBAAX6Q,EACxCtD,EAAWsD,EACX7Q,EAASc,KAAKd,OACd6Q,EAAS,MAEJ,CAAA,IAAI6G,SAAS7G,GAWlB,MAAM,IAAIjC,MACR,2EAXFiC,GAAkB,EACd6G,SAAS1X,IACXA,GAAkB,OACDgT,IAAbzF,IAAwBA,EAAW,UAEvCA,EAAWvN,EACXA,OAASgT,GASb,IAAIoC,EAAYtU,KAAKd,OAAS6Q,EAG9B,SAFemC,IAAXhT,GAAwBA,EAASoV,KAAWpV,EAASoV,GAEpDrS,EAAO/C,OAAS,IAAMA,EAAS,GAAK6Q,EAAS,IAAOA,EAAS/P,KAAKd,OACrE,MAAM,IAAIkS,WAAW,0CAGlB3E,IAAUA,EAAW,QAG1B,IADA,IAAIqG,GAAc,IAEhB,OAAQrG,GACN,IAAK,MACH,OAAO4H,SAASrU,KAAMiC,EAAQ8N,EAAQ7Q,GAExC,IAAK,OACL,IAAK,QACH,OAAOuV,UAAUzU,KAAMiC,EAAQ8N,EAAQ7Q,GAEzC,IAAK,QACH,OAAOyV,WAAW3U,KAAMiC,EAAQ8N,EAAQ7Q,GAE1C,IAAK,SACL,IAAK,SACH,OAAO2V,YAAY7U,KAAMiC,EAAQ8N,EAAQ7Q,GAE3C,IAAK,SAEH,OAAO4V,YAAY9U,KAAMiC,EAAQ8N,EAAQ7Q,GAE3C,IAAK,OACL,IAAK,QACL,IAAK,UACL,IAAK,WACH,OAAO6V,UAAU/U,KAAMiC,EAAQ8N,EAAQ7Q,GAEzC,QACE,GAAI4T,EAAa,MAAM,IAAIrB,UAAU,qBAAuBhF,GAC5DA,GAAY,GAAKA,GAAUuG,cAC3BF,GAAc,IAKtB9B,OAAOtE,UAAUmK,OAAS,WACxB,MAAO,CACL3W,KAAM,SACN0S,KAAMjT,MAAM+M,UAAUP,MAAM1N,KAAKuB,KAAK8W,MAAQ9W,KAAM,KAwFxD,IAAI+W,qBAAuB,KAE3B,SAASrB,sBAAuBsB,GAC9B,IAAIrI,EAAMqI,EAAW9X,OACrB,GAAIyP,GAAOoI,qBACT,OAAO7V,OAAO2K,aAAawK,MAAMnV,OAAQ8V,GAM3C,IAFA,IAAI9B,EAAM,GACN1W,EAAI,EACDA,EAAImQ,GACTuG,GAAOhU,OAAO2K,aAAawK,MACzBnV,OACA8V,EAAW7K,MAAM3N,EAAGA,GAAKuY,uBAG7B,OAAO7B,EAGT,SAAS9B,WAAYa,EAAK3E,EAAOC,GAC/B,IAAI0H,EAAM,GACV1H,EAAM9M,KAAK2C,IAAI6O,EAAI/U,OAAQqQ,GAE3B,IAAK,IAAI/Q,EAAI8Q,EAAO9Q,EAAI+Q,IAAO/Q,EAC7ByY,GAAO/V,OAAO2K,aAAsB,IAAToI,EAAIzV,IAEjC,OAAOyY,EAGT,SAAS5D,YAAaY,EAAK3E,EAAOC,GAChC,IAAI0H,EAAM,GACV1H,EAAM9M,KAAK2C,IAAI6O,EAAI/U,OAAQqQ,GAE3B,IAAK,IAAI/Q,EAAI8Q,EAAO9Q,EAAI+Q,IAAO/Q,EAC7ByY,GAAO/V,OAAO2K,aAAaoI,EAAIzV,IAEjC,OAAOyY,EAGT,SAAS/D,SAAUe,EAAK3E,EAAOC,GAC7B,IAAIZ,EAAMsF,EAAI/U,SAEToQ,GAASA,EAAQ,KAAGA,EAAQ,KAC5BC,GAAOA,EAAM,GAAKA,EAAMZ,KAAKY,EAAMZ,GAGxC,IADA,IAAIuI,EAAM,GACD1Y,EAAI8Q,EAAO9Q,EAAI+Q,IAAO/Q,EAC7B0Y,GAAOC,MAAMlD,EAAIzV,IAEnB,OAAO0Y,EAGT,SAAS3D,aAAcU,EAAK3E,EAAOC,GAGjC,IAFA,IAAI9F,EAAQwK,EAAI9H,MAAMmD,EAAOC,GACzB2F,EAAM,GACD1W,EAAI,EAAGA,EAAIiL,EAAMvK,OAAQV,GAAK,EACrC0W,GAAOhU,OAAO2K,aAAapC,EAAMjL,GAAoB,IAAfiL,EAAMjL,EAAI,IAElD,OAAO0W,EA0CT,SAASkC,YAAarH,EAAQsH,EAAKnY,GACjC,GAAK6Q,EAAS,GAAO,GAAKA,EAAS,EAAG,MAAM,IAAIqB,WAAW,sBAC3D,GAAIrB,EAASsH,EAAMnY,EAAQ,MAAM,IAAIkS,WAAW,yCA+JlD,SAASkG,SAAUrD,EAAKnV,EAAOiR,EAAQsH,EAAK3U,EAAK0C,GAC/C,IAAKqN,iBAAiBwB,GAAM,MAAM,IAAIxC,UAAU,+CAChD,GAAI3S,EAAQ4D,GAAO5D,EAAQsG,EAAK,MAAM,IAAIgM,WAAW,qCACrD,GAAIrB,EAASsH,EAAMpD,EAAI/U,OAAQ,MAAM,IAAIkS,WAAW,sBAkDtD,SAASmG,kBAAmBtD,EAAKnV,EAAOiR,EAAQyH,GAC1C1Y,EAAQ,IAAGA,EAAQ,MAASA,EAAQ,GACxC,IAAK,IAAIN,EAAI,EAAGkM,EAAIjI,KAAK2C,IAAI6O,EAAI/U,OAAS6Q,EAAQ,GAAIvR,EAAIkM,IAAKlM,EAC7DyV,EAAIlE,EAASvR,IAAMM,EAAS,KAAS,GAAK0Y,EAAehZ,EAAI,EAAIA,MAClC,GAA5BgZ,EAAehZ,EAAI,EAAIA,GA8B9B,SAASiZ,kBAAmBxD,EAAKnV,EAAOiR,EAAQyH,GAC1C1Y,EAAQ,IAAGA,EAAQ,WAAaA,EAAQ,GAC5C,IAAK,IAAIN,EAAI,EAAGkM,EAAIjI,KAAK2C,IAAI6O,EAAI/U,OAAS6Q,EAAQ,GAAIvR,EAAIkM,IAAKlM,EAC7DyV,EAAIlE,EAASvR,GAAMM,IAAuC,GAA5B0Y,EAAehZ,EAAI,EAAIA,GAAU,IAmJnE,SAASkZ,aAAczD,EAAKnV,EAAOiR,EAAQsH,EAAK3U,EAAK0C,GACnD,GAAI2K,EAASsH,EAAMpD,EAAI/U,OAAQ,MAAM,IAAIkS,WAAW,sBACpD,GAAIrB,EAAS,EAAG,MAAM,IAAIqB,WAAW,sBAGvC,SAASuG,WAAY1D,EAAKnV,EAAOiR,EAAQyH,EAAcI,GAKrD,OAJKA,GACHF,aAAazD,EAAKnV,EAAOiR,EAAQ,GAEnC8H,MAAc5D,EAAKnV,EAAOiR,EAAQyH,EAAc,GAAI,GAC7CzH,EAAS,EAWlB,SAAS+H,YAAa7D,EAAKnV,EAAOiR,EAAQyH,EAAcI,GAKtD,OAJKA,GACHF,aAAazD,EAAKnV,EAAOiR,EAAQ,GAEnC8H,MAAc5D,EAAKnV,EAAOiR,EAAQyH,EAAc,GAAI,GAC7CzH,EAAS,EA/clBiB,OAAOtE,UAAUP,MAAQ,SAAgBmD,EAAOC,GAC9C,IAoBIwI,EApBApJ,EAAM3O,KAAKd,OAqBf,IApBAoQ,IAAUA,GAGE,GACVA,GAASX,GACG,IAAGW,EAAQ,GACdA,EAAQX,IACjBW,EAAQX,IANVY,OAAc2C,IAAR3C,EAAoBZ,IAAQY,GASxB,GACRA,GAAOZ,GACG,IAAGY,EAAM,GACVA,EAAMZ,IACfY,EAAMZ,GAGJY,EAAMD,IAAOC,EAAMD,GAGnB0B,OAAOC,qBACT8G,EAAS/X,KAAKgY,SAAS1I,EAAOC,IACvB8B,UAAYL,OAAOtE,cACrB,CACL,IAAIuL,EAAW1I,EAAMD,EACrByI,EAAS,IAAI/G,OAAOiH,OAAU/F,GAC9B,IAAK,IAAI1T,EAAI,EAAGA,EAAIyZ,IAAYzZ,EAC9BuZ,EAAOvZ,GAAKwB,KAAKxB,EAAI8Q,GAIzB,OAAOyI,GAWT/G,OAAOtE,UAAUwL,WAAa,SAAqBnI,EAAQsC,EAAYuF,GACrE7H,GAAkB,EAClBsC,GAA0B,EACrBuF,GAAUR,YAAYrH,EAAQsC,EAAYrS,KAAKd,QAKpD,IAHA,IAAIwU,EAAM1T,KAAK+P,GACXoI,EAAM,EACN3Z,EAAI,IACCA,EAAI6T,IAAe8F,GAAO,MACjCzE,GAAO1T,KAAK+P,EAASvR,GAAK2Z,EAG5B,OAAOzE,GAGT1C,OAAOtE,UAAU0L,WAAa,SAAqBrI,EAAQsC,EAAYuF,GACrE7H,GAAkB,EAClBsC,GAA0B,EACrBuF,GACHR,YAAYrH,EAAQsC,EAAYrS,KAAKd,QAKvC,IAFA,IAAIwU,EAAM1T,KAAK+P,IAAWsC,GACtB8F,EAAM,EACH9F,EAAa,IAAM8F,GAAO,MAC/BzE,GAAO1T,KAAK+P,IAAWsC,GAAc8F,EAGvC,OAAOzE,GAGT1C,OAAOtE,UAAU2L,UAAY,SAAoBtI,EAAQ6H,GAEvD,OADKA,GAAUR,YAAYrH,EAAQ,EAAG/P,KAAKd,QACpCc,KAAK+P,IAGdiB,OAAOtE,UAAU4L,aAAe,SAAuBvI,EAAQ6H,GAE7D,OADKA,GAAUR,YAAYrH,EAAQ,EAAG/P,KAAKd,QACpCc,KAAK+P,GAAW/P,KAAK+P,EAAS,IAAM,GAG7CiB,OAAOtE,UAAUwH,aAAe,SAAuBnE,EAAQ6H,GAE7D,OADKA,GAAUR,YAAYrH,EAAQ,EAAG/P,KAAKd,QACnCc,KAAK+P,IAAW,EAAK/P,KAAK+P,EAAS,IAG7CiB,OAAOtE,UAAU6L,aAAe,SAAuBxI,EAAQ6H,GAG7D,OAFKA,GAAUR,YAAYrH,EAAQ,EAAG/P,KAAKd,SAElCc,KAAK+P,GACT/P,KAAK+P,EAAS,IAAM,EACpB/P,KAAK+P,EAAS,IAAM,IACD,SAAnB/P,KAAK+P,EAAS,IAGrBiB,OAAOtE,UAAU8L,aAAe,SAAuBzI,EAAQ6H,GAG7D,OAFKA,GAAUR,YAAYrH,EAAQ,EAAG/P,KAAKd,QAEpB,SAAfc,KAAK+P,IACT/P,KAAK+P,EAAS,IAAM,GACrB/P,KAAK+P,EAAS,IAAM,EACrB/P,KAAK+P,EAAS,KAGlBiB,OAAOtE,UAAU+L,UAAY,SAAoB1I,EAAQsC,EAAYuF,GACnE7H,GAAkB,EAClBsC,GAA0B,EACrBuF,GAAUR,YAAYrH,EAAQsC,EAAYrS,KAAKd,QAKpD,IAHA,IAAIwU,EAAM1T,KAAK+P,GACXoI,EAAM,EACN3Z,EAAI,IACCA,EAAI6T,IAAe8F,GAAO,MACjCzE,GAAO1T,KAAK+P,EAASvR,GAAK2Z,EAM5B,OAFIzE,IAFJyE,GAAO,OAESzE,GAAOjR,KAAKuI,IAAI,EAAG,EAAIqH,IAEhCqB,GAGT1C,OAAOtE,UAAUgM,UAAY,SAAoB3I,EAAQsC,EAAYuF,GACnE7H,GAAkB,EAClBsC,GAA0B,EACrBuF,GAAUR,YAAYrH,EAAQsC,EAAYrS,KAAKd,QAKpD,IAHA,IAAIV,EAAI6T,EACJ8F,EAAM,EACNzE,EAAM1T,KAAK+P,IAAWvR,GACnBA,EAAI,IAAM2Z,GAAO,MACtBzE,GAAO1T,KAAK+P,IAAWvR,GAAK2Z,EAM9B,OAFIzE,IAFJyE,GAAO,OAESzE,GAAOjR,KAAKuI,IAAI,EAAG,EAAIqH,IAEhCqB,GAGT1C,OAAOtE,UAAUiM,SAAW,SAAmB5I,EAAQ6H,GAErD,OADKA,GAAUR,YAAYrH,EAAQ,EAAG/P,KAAKd,QACtB,IAAfc,KAAK+P,IAC0B,GAA5B,IAAO/P,KAAK+P,GAAU,GADK/P,KAAK+P,IAI3CiB,OAAOtE,UAAUkM,YAAc,SAAsB7I,EAAQ6H,GACtDA,GAAUR,YAAYrH,EAAQ,EAAG/P,KAAKd,QAC3C,IAAIwU,EAAM1T,KAAK+P,GAAW/P,KAAK+P,EAAS,IAAM,EAC9C,OAAc,MAAN2D,EAAsB,WAANA,EAAmBA,GAG7C1C,OAAOtE,UAAUmM,YAAc,SAAsB9I,EAAQ6H,GACtDA,GAAUR,YAAYrH,EAAQ,EAAG/P,KAAKd,QAC3C,IAAIwU,EAAM1T,KAAK+P,EAAS,GAAM/P,KAAK+P,IAAW,EAC9C,OAAc,MAAN2D,EAAsB,WAANA,EAAmBA,GAG7C1C,OAAOtE,UAAUoM,YAAc,SAAsB/I,EAAQ6H,GAG3D,OAFKA,GAAUR,YAAYrH,EAAQ,EAAG/P,KAAKd,QAEnCc,KAAK+P,GACV/P,KAAK+P,EAAS,IAAM,EACpB/P,KAAK+P,EAAS,IAAM,GACpB/P,KAAK+P,EAAS,IAAM,IAGzBiB,OAAOtE,UAAUqM,YAAc,SAAsBhJ,EAAQ6H,GAG3D,OAFKA,GAAUR,YAAYrH,EAAQ,EAAG/P,KAAKd,QAEnCc,KAAK+P,IAAW,GACrB/P,KAAK+P,EAAS,IAAM,GACpB/P,KAAK+P,EAAS,IAAM,EACpB/P,KAAK+P,EAAS,IAGnBiB,OAAOtE,UAAUR,YAAc,SAAsB6D,EAAQ6H,GAE3D,OADKA,GAAUR,YAAYrH,EAAQ,EAAG/P,KAAKd,QACpC8Z,KAAahZ,KAAM+P,GAAQ,EAAM,GAAI,IAG9CiB,OAAOtE,UAAUuM,YAAc,SAAsBlJ,EAAQ6H,GAE3D,OADKA,GAAUR,YAAYrH,EAAQ,EAAG/P,KAAKd,QACpC8Z,KAAahZ,KAAM+P,GAAQ,EAAO,GAAI,IAG/CiB,OAAOtE,UAAUwM,aAAe,SAAuBnJ,EAAQ6H,GAE7D,OADKA,GAAUR,YAAYrH,EAAQ,EAAG/P,KAAKd,QACpC8Z,KAAahZ,KAAM+P,GAAQ,EAAM,GAAI,IAG9CiB,OAAOtE,UAAUyM,aAAe,SAAuBpJ,EAAQ6H,GAE7D,OADKA,GAAUR,YAAYrH,EAAQ,EAAG/P,KAAKd,QACpC8Z,KAAahZ,KAAM+P,GAAQ,EAAO,GAAI,IAS/CiB,OAAOtE,UAAU0M,YAAc,SAAsBta,EAAOiR,EAAQsC,EAAYuF,IAC9E9Y,GAASA,EACTiR,GAAkB,EAClBsC,GAA0B,EACrBuF,IAEHN,SAAStX,KAAMlB,EAAOiR,EAAQsC,EADf5P,KAAKuI,IAAI,EAAG,EAAIqH,GAAc,EACO,GAGtD,IAAI8F,EAAM,EACN3Z,EAAI,EAER,IADAwB,KAAK+P,GAAkB,IAARjR,IACNN,EAAI6T,IAAe8F,GAAO,MACjCnY,KAAK+P,EAASvR,GAAMM,EAAQqZ,EAAO,IAGrC,OAAOpI,EAASsC,GAGlBrB,OAAOtE,UAAU2M,YAAc,SAAsBva,EAAOiR,EAAQsC,EAAYuF,IAC9E9Y,GAASA,EACTiR,GAAkB,EAClBsC,GAA0B,EACrBuF,IAEHN,SAAStX,KAAMlB,EAAOiR,EAAQsC,EADf5P,KAAKuI,IAAI,EAAG,EAAIqH,GAAc,EACO,GAGtD,IAAI7T,EAAI6T,EAAa,EACjB8F,EAAM,EAEV,IADAnY,KAAK+P,EAASvR,GAAa,IAARM,IACVN,GAAK,IAAM2Z,GAAO,MACzBnY,KAAK+P,EAASvR,GAAMM,EAAQqZ,EAAO,IAGrC,OAAOpI,EAASsC,GAGlBrB,OAAOtE,UAAU4M,WAAa,SAAqBxa,EAAOiR,EAAQ6H,GAMhE,OALA9Y,GAASA,EACTiR,GAAkB,EACb6H,GAAUN,SAAStX,KAAMlB,EAAOiR,EAAQ,EAAG,IAAM,GACjDiB,OAAOC,sBAAqBnS,EAAQ2D,KAAKiH,MAAM5K,IACpDkB,KAAK+P,GAAmB,IAARjR,EACTiR,EAAS,GAWlBiB,OAAOtE,UAAU6M,cAAgB,SAAwBza,EAAOiR,EAAQ6H,GAUtE,OATA9Y,GAASA,EACTiR,GAAkB,EACb6H,GAAUN,SAAStX,KAAMlB,EAAOiR,EAAQ,EAAG,MAAQ,GACpDiB,OAAOC,qBACTjR,KAAK+P,GAAmB,IAARjR,EAChBkB,KAAK+P,EAAS,GAAMjR,IAAU,GAE9ByY,kBAAkBvX,KAAMlB,EAAOiR,GAAQ,GAElCA,EAAS,GAGlBiB,OAAOtE,UAAU8M,cAAgB,SAAwB1a,EAAOiR,EAAQ6H,GAUtE,OATA9Y,GAASA,EACTiR,GAAkB,EACb6H,GAAUN,SAAStX,KAAMlB,EAAOiR,EAAQ,EAAG,MAAQ,GACpDiB,OAAOC,qBACTjR,KAAK+P,GAAWjR,IAAU,EAC1BkB,KAAK+P,EAAS,GAAc,IAARjR,GAEpByY,kBAAkBvX,KAAMlB,EAAOiR,GAAQ,GAElCA,EAAS,GAUlBiB,OAAOtE,UAAU+M,cAAgB,SAAwB3a,EAAOiR,EAAQ6H,GAYtE,OAXA9Y,GAASA,EACTiR,GAAkB,EACb6H,GAAUN,SAAStX,KAAMlB,EAAOiR,EAAQ,EAAG,WAAY,GACxDiB,OAAOC,qBACTjR,KAAK+P,EAAS,GAAMjR,IAAU,GAC9BkB,KAAK+P,EAAS,GAAMjR,IAAU,GAC9BkB,KAAK+P,EAAS,GAAMjR,IAAU,EAC9BkB,KAAK+P,GAAmB,IAARjR,GAEhB2Y,kBAAkBzX,KAAMlB,EAAOiR,GAAQ,GAElCA,EAAS,GAGlBiB,OAAOtE,UAAUgN,cAAgB,SAAwB5a,EAAOiR,EAAQ6H,GAYtE,OAXA9Y,GAASA,EACTiR,GAAkB,EACb6H,GAAUN,SAAStX,KAAMlB,EAAOiR,EAAQ,EAAG,WAAY,GACxDiB,OAAOC,qBACTjR,KAAK+P,GAAWjR,IAAU,GAC1BkB,KAAK+P,EAAS,GAAMjR,IAAU,GAC9BkB,KAAK+P,EAAS,GAAMjR,IAAU,EAC9BkB,KAAK+P,EAAS,GAAc,IAARjR,GAEpB2Y,kBAAkBzX,KAAMlB,EAAOiR,GAAQ,GAElCA,EAAS,GAGlBiB,OAAOtE,UAAUiN,WAAa,SAAqB7a,EAAOiR,EAAQsC,EAAYuF,GAG5E,GAFA9Y,GAASA,EACTiR,GAAkB,GACb6H,EAAU,CACb,IAAIgC,EAAQnX,KAAKuI,IAAI,EAAG,EAAIqH,EAAa,GAEzCiF,SAAStX,KAAMlB,EAAOiR,EAAQsC,EAAYuH,EAAQ,GAAIA,GAGxD,IAAIpb,EAAI,EACJ2Z,EAAM,EACN0B,EAAM,EAEV,IADA7Z,KAAK+P,GAAkB,IAARjR,IACNN,EAAI6T,IAAe8F,GAAO,MAC7BrZ,EAAQ,GAAa,IAAR+a,GAAsC,IAAzB7Z,KAAK+P,EAASvR,EAAI,KAC9Cqb,EAAM,GAER7Z,KAAK+P,EAASvR,IAAOM,EAAQqZ,GAAQ,GAAK0B,EAAM,IAGlD,OAAO9J,EAASsC,GAGlBrB,OAAOtE,UAAUoN,WAAa,SAAqBhb,EAAOiR,EAAQsC,EAAYuF,GAG5E,GAFA9Y,GAASA,EACTiR,GAAkB,GACb6H,EAAU,CACb,IAAIgC,EAAQnX,KAAKuI,IAAI,EAAG,EAAIqH,EAAa,GAEzCiF,SAAStX,KAAMlB,EAAOiR,EAAQsC,EAAYuH,EAAQ,GAAIA,GAGxD,IAAIpb,EAAI6T,EAAa,EACjB8F,EAAM,EACN0B,EAAM,EAEV,IADA7Z,KAAK+P,EAASvR,GAAa,IAARM,IACVN,GAAK,IAAM2Z,GAAO,MACrBrZ,EAAQ,GAAa,IAAR+a,GAAsC,IAAzB7Z,KAAK+P,EAASvR,EAAI,KAC9Cqb,EAAM,GAER7Z,KAAK+P,EAASvR,IAAOM,EAAQqZ,GAAQ,GAAK0B,EAAM,IAGlD,OAAO9J,EAASsC,GAGlBrB,OAAOtE,UAAUqN,UAAY,SAAoBjb,EAAOiR,EAAQ6H,GAO9D,OANA9Y,GAASA,EACTiR,GAAkB,EACb6H,GAAUN,SAAStX,KAAMlB,EAAOiR,EAAQ,EAAG,KAAO,KAClDiB,OAAOC,sBAAqBnS,EAAQ2D,KAAKiH,MAAM5K,IAChDA,EAAQ,IAAGA,EAAQ,IAAOA,EAAQ,GACtCkB,KAAK+P,GAAmB,IAARjR,EACTiR,EAAS,GAGlBiB,OAAOtE,UAAUsN,aAAe,SAAuBlb,EAAOiR,EAAQ6H,GAUpE,OATA9Y,GAASA,EACTiR,GAAkB,EACb6H,GAAUN,SAAStX,KAAMlB,EAAOiR,EAAQ,EAAG,OAAS,OACrDiB,OAAOC,qBACTjR,KAAK+P,GAAmB,IAARjR,EAChBkB,KAAK+P,EAAS,GAAMjR,IAAU,GAE9ByY,kBAAkBvX,KAAMlB,EAAOiR,GAAQ,GAElCA,EAAS,GAGlBiB,OAAOtE,UAAUuN,aAAe,SAAuBnb,EAAOiR,EAAQ6H,GAUpE,OATA9Y,GAASA,EACTiR,GAAkB,EACb6H,GAAUN,SAAStX,KAAMlB,EAAOiR,EAAQ,EAAG,OAAS,OACrDiB,OAAOC,qBACTjR,KAAK+P,GAAWjR,IAAU,EAC1BkB,KAAK+P,EAAS,GAAc,IAARjR,GAEpByY,kBAAkBvX,KAAMlB,EAAOiR,GAAQ,GAElCA,EAAS,GAGlBiB,OAAOtE,UAAUwN,aAAe,SAAuBpb,EAAOiR,EAAQ6H,GAYpE,OAXA9Y,GAASA,EACTiR,GAAkB,EACb6H,GAAUN,SAAStX,KAAMlB,EAAOiR,EAAQ,EAAG,YAAa,YACzDiB,OAAOC,qBACTjR,KAAK+P,GAAmB,IAARjR,EAChBkB,KAAK+P,EAAS,GAAMjR,IAAU,EAC9BkB,KAAK+P,EAAS,GAAMjR,IAAU,GAC9BkB,KAAK+P,EAAS,GAAMjR,IAAU,IAE9B2Y,kBAAkBzX,KAAMlB,EAAOiR,GAAQ,GAElCA,EAAS,GAGlBiB,OAAOtE,UAAUyN,aAAe,SAAuBrb,EAAOiR,EAAQ6H,GAapE,OAZA9Y,GAASA,EACTiR,GAAkB,EACb6H,GAAUN,SAAStX,KAAMlB,EAAOiR,EAAQ,EAAG,YAAa,YACzDjR,EAAQ,IAAGA,EAAQ,WAAaA,EAAQ,GACxCkS,OAAOC,qBACTjR,KAAK+P,GAAWjR,IAAU,GAC1BkB,KAAK+P,EAAS,GAAMjR,IAAU,GAC9BkB,KAAK+P,EAAS,GAAMjR,IAAU,EAC9BkB,KAAK+P,EAAS,GAAc,IAARjR,GAEpB2Y,kBAAkBzX,KAAMlB,EAAOiR,GAAQ,GAElCA,EAAS,GAgBlBiB,OAAOtE,UAAU0N,aAAe,SAAuBtb,EAAOiR,EAAQ6H,GACpE,OAAOD,WAAW3X,KAAMlB,EAAOiR,GAAQ,EAAM6H,IAG/C5G,OAAOtE,UAAU2N,aAAe,SAAuBvb,EAAOiR,EAAQ6H,GACpE,OAAOD,WAAW3X,KAAMlB,EAAOiR,GAAQ,EAAO6H,IAWhD5G,OAAOtE,UAAU4N,cAAgB,SAAwBxb,EAAOiR,EAAQ6H,GACtE,OAAOE,YAAY9X,KAAMlB,EAAOiR,GAAQ,EAAM6H,IAGhD5G,OAAOtE,UAAU6N,cAAgB,SAAwBzb,EAAOiR,EAAQ6H,GACtE,OAAOE,YAAY9X,KAAMlB,EAAOiR,GAAQ,EAAO6H,IAIjD5G,OAAOtE,UAAUgG,KAAO,SAAexP,EAAQsX,EAAalL,EAAOC,GAQjE,GAPKD,IAAOA,EAAQ,GACfC,GAAe,IAARA,IAAWA,EAAMvP,KAAKd,QAC9Bsb,GAAetX,EAAOhE,SAAQsb,EAActX,EAAOhE,QAClDsb,IAAaA,EAAc,GAC5BjL,EAAM,GAAKA,EAAMD,IAAOC,EAAMD,GAG9BC,IAAQD,EAAO,OAAO,EAC1B,GAAsB,IAAlBpM,EAAOhE,QAAgC,IAAhBc,KAAKd,OAAc,OAAO,EAGrD,GAAIsb,EAAc,EAChB,MAAM,IAAIpJ,WAAW,6BAEvB,GAAI9B,EAAQ,GAAKA,GAAStP,KAAKd,OAAQ,MAAM,IAAIkS,WAAW,6BAC5D,GAAI7B,EAAM,EAAG,MAAM,IAAI6B,WAAW,2BAG9B7B,EAAMvP,KAAKd,SAAQqQ,EAAMvP,KAAKd,QAC9BgE,EAAOhE,OAASsb,EAAcjL,EAAMD,IACtCC,EAAMrM,EAAOhE,OAASsb,EAAclL,GAGtC,IACI9Q,EADAmQ,EAAMY,EAAMD,EAGhB,GAAItP,OAASkD,GAAUoM,EAAQkL,GAAeA,EAAcjL,EAE1D,IAAK/Q,EAAImQ,EAAM,EAAGnQ,GAAK,IAAKA,EAC1B0E,EAAO1E,EAAIgc,GAAexa,KAAKxB,EAAI8Q,QAEhC,GAAIX,EAAM,MAASqC,OAAOC,oBAE/B,IAAKzS,EAAI,EAAGA,EAAImQ,IAAOnQ,EACrB0E,EAAO1E,EAAIgc,GAAexa,KAAKxB,EAAI8Q,QAGrCd,WAAW9B,UAAUzH,IAAIxG,KACvByE,EACAlD,KAAKgY,SAAS1I,EAAOA,EAAQX,GAC7B6L,GAIJ,OAAO7L,GAOTqC,OAAOtE,UAAUuF,KAAO,SAAeyB,EAAKpE,EAAOC,EAAK9C,GAEtD,GAAmB,iBAARiH,EAAkB,CAS3B,GARqB,iBAAVpE,GACT7C,EAAW6C,EACXA,EAAQ,EACRC,EAAMvP,KAAKd,QACa,iBAARqQ,IAChB9C,EAAW8C,EACXA,EAAMvP,KAAKd,QAEM,IAAfwU,EAAIxU,OAAc,CACpB,IAAIwP,EAAOgF,EAAI9H,WAAW,GACtB8C,EAAO,MACTgF,EAAMhF,GAGV,QAAiBwD,IAAbzF,GAA8C,iBAAbA,EACnC,MAAM,IAAIgF,UAAU,6BAEtB,GAAwB,iBAAbhF,IAA0BuE,OAAOoB,WAAW3F,GACrD,MAAM,IAAIgF,UAAU,qBAAuBhF,OAErB,iBAARiH,IAChBA,GAAY,KAId,GAAIpE,EAAQ,GAAKtP,KAAKd,OAASoQ,GAAStP,KAAKd,OAASqQ,EACpD,MAAM,IAAI6B,WAAW,sBAGvB,GAAI7B,GAAOD,EACT,OAAOtP,KAQT,IAAIxB,EACJ,GANA8Q,KAAkB,EAClBC,OAAc2C,IAAR3C,EAAoBvP,KAAKd,OAASqQ,IAAQ,EAE3CmE,IAAKA,EAAM,GAGG,iBAARA,EACT,IAAKlV,EAAI8Q,EAAO9Q,EAAI+Q,IAAO/Q,EACzBwB,KAAKxB,GAAKkV,MAEP,CACL,IAAIjK,EAAQgJ,iBAAiBiB,GACzBA,EACAX,YAAY,IAAI/B,OAAO0C,EAAKjH,GAAUxC,YACtC0E,EAAMlF,EAAMvK,OAChB,IAAKV,EAAI,EAAGA,EAAI+Q,EAAMD,IAAS9Q,EAC7BwB,KAAKxB,EAAI8Q,GAAS7F,EAAMjL,EAAImQ,GAIhC,OAAO3O,MAMT,IAAIya,kBAAoB,qBAExB,SAASC,YAAarP,GAIpB,IAFAA,EAAMsP,WAAWtP,GAAKR,QAAQ4P,kBAAmB,KAEzCvb,OAAS,EAAG,MAAO,GAE3B,KAAOmM,EAAInM,OAAS,GAAM,GACxBmM,GAAY,IAEd,OAAOA,EAGT,SAASsP,WAAYtP,GACnB,OAAIA,EAAIuP,KAAavP,EAAIuP,OAClBvP,EAAIR,QAAQ,aAAc,IAGnC,SAASsM,MAAOjZ,GACd,OAAIA,EAAI,GAAW,IAAMA,EAAE+L,SAAS,IAC7B/L,EAAE+L,SAAS,IAGpB,SAAS8I,YAAa9Q,EAAQ4Y,GAE5B,IAAIrF,EADJqF,EAAQA,GAASrK,EAAAA,EAMjB,IAJA,IAAItR,EAAS+C,EAAO/C,OAChB4b,EAAgB,KAChBrR,EAAQ,GAEHjL,EAAI,EAAGA,EAAIU,IAAUV,EAAG,CAI/B,IAHAgX,EAAYvT,EAAO2J,WAAWpN,IAGd,OAAUgX,EAAY,MAAQ,CAE5C,IAAKsF,EAAe,CAElB,GAAItF,EAAY,MAAQ,EAEjBqF,GAAS,IAAM,GAAGpR,EAAM5K,KAAK,IAAM,IAAM,KAC9C,SACK,GAAIL,EAAI,IAAMU,EAAQ,EAEtB2b,GAAS,IAAM,GAAGpR,EAAM5K,KAAK,IAAM,IAAM,KAC9C,SAIFic,EAAgBtF,EAEhB,SAIF,GAAIA,EAAY,MAAQ,EACjBqF,GAAS,IAAM,GAAGpR,EAAM5K,KAAK,IAAM,IAAM,KAC9Cic,EAAgBtF,EAChB,SAIFA,EAAkE,OAArDsF,EAAgB,OAAU,GAAKtF,EAAY,YAC/CsF,IAEJD,GAAS,IAAM,GAAGpR,EAAM5K,KAAK,IAAM,IAAM,KAMhD,GAHAic,EAAgB,KAGZtF,EAAY,IAAM,CACpB,IAAKqF,GAAS,GAAK,EAAG,MACtBpR,EAAM5K,KAAK2W,QACN,GAAIA,EAAY,KAAO,CAC5B,IAAKqF,GAAS,GAAK,EAAG,MACtBpR,EAAM5K,KACJ2W,GAAa,EAAM,IACP,GAAZA,EAAmB,UAEhB,GAAIA,EAAY,MAAS,CAC9B,IAAKqF,GAAS,GAAK,EAAG,MACtBpR,EAAM5K,KACJ2W,GAAa,GAAM,IACnBA,GAAa,EAAM,GAAO,IACd,GAAZA,EAAmB,SAEhB,CAAA,KAAIA,EAAY,SASrB,MAAM,IAAI1H,MAAM,sBARhB,IAAK+M,GAAS,GAAK,EAAG,MACtBpR,EAAM5K,KACJ2W,GAAa,GAAO,IACpBA,GAAa,GAAM,GAAO,IAC1BA,GAAa,EAAM,GAAO,IACd,GAAZA,EAAmB,MAOzB,OAAO/L,EAGT,SAASmL,aAAcvJ,GAErB,IADA,IAAI0P,EAAY,GACPvc,EAAI,EAAGA,EAAI6M,EAAInM,SAAUV,EAEhCuc,EAAUlc,KAAyB,IAApBwM,EAAIO,WAAWpN,IAEhC,OAAOuc,EAGT,SAAS/F,eAAgB3J,EAAKwP,GAG5B,IAFA,IAAIzQ,EAAG4Q,EAAIC,EACPF,EAAY,GACPvc,EAAI,EAAGA,EAAI6M,EAAInM,WACjB2b,GAAS,GAAK,KADarc,EAIhCwc,GADA5Q,EAAIiB,EAAIO,WAAWpN,KACT,EACVyc,EAAK7Q,EAAI,IACT2Q,EAAUlc,KAAKoc,GACfF,EAAUlc,KAAKmc,GAGjB,OAAOD,EAIT,SAASnQ,cAAeS,GACtB,OAAO6P,YAAmBR,YAAYrP,IAGxC,SAASqJ,WAAYyG,EAAKC,EAAKrL,EAAQ7Q,GACrC,IAAK,IAAIV,EAAI,EAAGA,EAAIU,KACbV,EAAIuR,GAAUqL,EAAIlc,QAAYV,GAAK2c,EAAIjc,UADhBV,EAE5B4c,EAAI5c,EAAIuR,GAAUoL,EAAI3c,GAExB,OAAOA,EAGT,SAASmU,MAAOe,GACd,OAAOA,GAAQA,EAOV,SAAS3H,WAASD,GACvB,OAAc,MAAPA,MAAkBA,EAAIG,WAAaoP,aAAavP,IAAQE,eAAaF,IAG9E,SAASuP,aAAcvP,GACrB,QAASA,EAAItL,aAAmD,mBAA7BsL,EAAItL,YAAYuL,UAA2BD,EAAItL,YAAYuL,SAASD,GAIzG,SAASE,eAAcF,GACrB,MAAkC,mBAApBA,EAAII,aAAmD,mBAAdJ,EAAIK,OAAwBkP,aAAavP,EAAIK,MAAM,EAAG,aCnvD/FmP,oBAAoB/a,GAChC,OAAOgb,IAAOvK,OAAOpR,KAAKW,EAAO,6BC1BjC,WAAoBib,EAA0CC,EAAqBC,GAAnF,wBAAmFA,OAA/D1b,eAAAwb,EAA0Cxb,SAAAyb,EAAqBzb,cAAA0b,EAa3E1b,iBAAc,SAAC+D,GACnB,GAAKA,EAAU4X,KAAK,SAAAxd,GAAK,OAAAA,EAAE+F,aAA3B,CAIA,IAAMC,EAAOtE,SAAS+b,eAAeC,EAAKJ,KAEtCtX,IACA0X,EAAKC,UAAUC,aACfC,aAAaH,EAAKI,gBAElB9X,EAAK+X,eAAe,CAAEC,MAAON,EAAKL,eAIlCxb,eAAY,IAAI8D,iBAAiB9D,KAAKoc,aACtCpc,oBAAsB,KAClC,OA5BIqc,kBAAA,WAAA,WACIC,WAAW,WAAM,OAAAT,EAAKC,UAAUC,cAAc/b,KAAK0b,UAEnD1b,KAAK8b,UAAU1X,QAAQvE,SAASwE,KAAM,CAClCoC,YAAY,EACZC,eAAe,EACfpC,WAAW,EACXC,SAAS,mBAuBLgY,kBAAkB3V,GAC9BA,EAAM4V,gBAAgBrV,UAAU,SAACsV,OAAAC,cAACC,OAAUC,OAClCzY,EAAOtE,SAAS+b,eAAegB,GAEjCzY,EACAA,EAAK+X,eAAe,CAAEC,MAAOQ,IAE7B,IAAIN,KAAKM,EAAUC,GAAItN,mBCxCnBuN,iBAAiBjW,GAC7B,IAAMrG,EAAQV,SAASid,cAAc,SACrCvc,EAAML,KAAO,OAEb0G,EAAMmW,cAAc5V,UAAU,WAAM,OAAA5G,EAAMyc,UCI9C,IAAMC,qBACF,CACIC,KAAM,mCACNC,KAAM,gBACNlU,cAAe3C,cAAcoB,cAAce,kBAC3C2U,cACAC,gBAAgB,EAChBC,OAAQ,IAEZ,CACIJ,KAAM,mCACNC,KAAM,kBACNlU,cAAe3C,cAAcoB,cAAcE,WAC3CwV,aACAC,gBAAgB,EAChBC,OAAQ,GACRC,qBACAC,qBACAC,iBAAkB,GAClBC,QAAS,KAEVC,UACC,0BACA,UACA,aACA,qBACA,+BACA,+FACGhe,MAAM,IACJsS,UAAKC,GACL1N,IAAI,SAACoZ,EAAGpf,GAAM,MAAA,SAAQA,EAAI,MACjCgG,IAAI,SAAA2Y,GAAQ,OACVD,KAAM3Q,oBAAI4Q,GACVA,OACAlU,cAAe3C,cAAcoB,cAAce,kBAC3C2U,cACAC,gBAAgB,EAChBC,OAAQ,OAIhB,SAASO,OACLC,aAEA,IAAMC,EAAuCzX,cAAc0X,cAAcxZ,IAAI,SAAAyE,GAAiB,OAC1FgV,IAAKhV,EACLiV,YAAa5X,cAAc6X,sBAAsBlV,MAG7CrC,oFAORD,aAAaC,GACb2V,kBAAkB3V,GAClBiW,iBAAiBjW,GAGrBwH,OAAO5G,iBAAiB,OAAQqW"}