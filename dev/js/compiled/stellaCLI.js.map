{
  "version": 3,
  "sources": [
    "node_modules/browser-pack/_prelude.js",
    "node_modules/async-mutex/lib/Mutex.js",
    "node_modules/async-mutex/lib/index.js",
    "node_modules/base64-js/index.js",
    "node_modules/browser-resolve/empty.js",
    "node_modules/buffer/index.js",
    "node_modules/ieee754/index.js",
    "node_modules/microevent.ts/lib/Event.js",
    "node_modules/microevent.ts/lib/index.js",
    "node_modules/path-browserify/index.js",
    "node_modules/process/browser.js",
    "node_modules/screenfull/dist/screenfull.js",
    "node_modules/seedrandom/index.js",
    "node_modules/seedrandom/lib/alea.js",
    "node_modules/seedrandom/lib/tychei.js",
    "node_modules/seedrandom/lib/xor128.js",
    "node_modules/seedrandom/lib/xor4096.js",
    "node_modules/seedrandom/lib/xorshift7.js",
    "node_modules/seedrandom/lib/xorwow.js",
    "node_modules/seedrandom/seedrandom.js",
    "node_modules/setimmediate2/dist/setImmediate.js",
    "node_modules/thumbulator.ts/lib/Thumbulator.js",
    "node_modules/thumbulator.ts/lib/native/thumbulator.js",
    "node_modules/tslib/tslib.js",
    "node_modules/util/node_modules/inherits/inherits_browser.js",
    "node_modules/util/support/isBufferBrowser.js",
    "node_modules/util/util.js",
    "src/cli/AbstractCLI.ts",
    "src/cli/CommandInterpreter.ts",
    "src/cli/Completer.ts",
    "src/cli/DebuggerCLI.ts",
    "src/cli/DebuggerFrontend.ts",
    "src/cli/JqtermCLIRunner.ts",
    "src/cli/stella/ControlPanelManagementProvider.ts",
    "src/cli/stella/StellaCLI.ts",
    "src/cli/stella/SystemConfigSetupProvider.ts",
    "src/fs/AbstractFileSystemProvider.ts",
    "src/fs/PrepackagedFilesystemProvider.ts",
    "src/machine/Debugger.ts",
    "src/machine/board/BoardInterface.ts",
    "src/machine/cpu/Cpu.ts",
    "src/machine/cpu/CpuInterface.ts",
    "src/machine/cpu/Disassembler.ts",
    "src/machine/cpu/Instruction.ts",
    "src/machine/io/DigitalJoystick.ts",
    "src/machine/io/Paddle.ts",
    "src/machine/io/Switch.ts",
    "src/machine/stella/Board.ts",
    "src/machine/stella/Bus.ts",
    "src/machine/stella/Config.ts",
    "src/machine/stella/ControlPanel.ts",
    "src/machine/stella/Pia.ts",
    "src/machine/stella/cartridge/AbstractCartridge.ts",
    "src/machine/stella/cartridge/Cartridge0840.ts",
    "src/machine/stella/cartridge/Cartridge2k.ts",
    "src/machine/stella/cartridge/Cartridge3E.ts",
    "src/machine/stella/cartridge/Cartridge3F.ts",
    "src/machine/stella/cartridge/Cartridge4k.ts",
    "src/machine/stella/cartridge/CartridgeCDF.ts",
    "src/machine/stella/cartridge/CartridgeDPC.ts",
    "src/machine/stella/cartridge/CartridgeDPCPlus.ts",
    "src/machine/stella/cartridge/CartridgeDetector.ts",
    "src/machine/stella/cartridge/CartridgeE0.ts",
    "src/machine/stella/cartridge/CartridgeE7.ts",
    "src/machine/stella/cartridge/CartridgeEF.ts",
    "src/machine/stella/cartridge/CartridgeF0.ts",
    "src/machine/stella/cartridge/CartridgeF4.ts",
    "src/machine/stella/cartridge/CartridgeF6.ts",
    "src/machine/stella/cartridge/CartridgeF8.ts",
    "src/machine/stella/cartridge/CartridgeFA.ts",
    "src/machine/stella/cartridge/CartridgeFA2.ts",
    "src/machine/stella/cartridge/CartridgeFE.ts",
    "src/machine/stella/cartridge/CartridgeFactory.ts",
    "src/machine/stella/cartridge/CartridgeInfo.ts",
    "src/machine/stella/cartridge/CartridgeInterface.ts",
    "src/machine/stella/cartridge/CartridgeSupercharger.ts",
    "src/machine/stella/cartridge/CartridgeUA.ts",
    "src/machine/stella/cartridge/harmony/Soc.ts",
    "src/machine/stella/cartridge/supercharger/Header.ts",
    "src/machine/stella/cartridge/supercharger/blob.ts",
    "src/machine/stella/cartridge/util.ts",
    "src/machine/stella/tia/Ball.ts",
    "src/machine/stella/tia/DelayQueue.ts",
    "src/machine/stella/tia/FrameManager.ts",
    "src/machine/stella/tia/LatchedInput.ts",
    "src/machine/stella/tia/Missile.ts",
    "src/machine/stella/tia/PCMAudio.ts",
    "src/machine/stella/tia/PCMChannel.ts",
    "src/machine/stella/tia/PaddleReader.ts",
    "src/machine/stella/tia/Player.ts",
    "src/machine/stella/tia/Playfield.ts",
    "src/machine/stella/tia/Tia.ts",
    "src/machine/stella/tia/ToneGenerator.ts",
    "src/machine/stella/tia/WaveformAudio.ts",
    "src/machine/stella/tia/drawCounterDecodes.ts",
    "src/machine/stella/tia/palette.ts",
    "src/machine/vanilla/Board.ts",
    "src/machine/vanilla/Memory.ts",
    "src/tools/AudioOutputBuffer.ts",
    "src/tools/ClockProbe.ts",
    "src/tools/RingBuffer.ts",
    "src/tools/base64.ts",
    "src/tools/binary.ts",
    "src/tools/hex.ts",
    "src/tools/pool/InducedMember.ts",
    "src/tools/pool/InducedPool.ts",
    "src/tools/pool/Pool.ts",
    "src/tools/pool/PoolMember.ts",
    "src/tools/rng/SeedrandomGenerator.ts",
    "src/tools/rng/factory.ts",
    "src/tools/scheduler/ImmedateScheduler.ts",
    "src/tools/scheduler/PeriodicScheduler.ts",
    "src/tools/scheduler/getTimestamp.ts",
    "src/tools/scheduler/limiting/ConstantCycles.ts",
    "src/tools/scheduler/limiting/ConstantTimeslice.ts",
    "src/tools/scheduler/setImmediate.ts",
    "src/video/processing/FrameMergeProcessor.ts",
    "src/video/processing/PassthroughProcessor.ts",
    "src/video/processing/ProcessorFactory.ts",
    "src/video/processing/ProcessorPipeline.ts",
    "src/video/surface/ArrayBufferSurface.ts",
    "src/web/driver/FullscreenVideo.ts",
    "src/web/driver/MouseAsPaddle.ts",
    "src/web/driver/PCMAudioEndpoint.ts",
    "src/web/driver/SimpleCanvasVideo.ts",
    "src/web/driver/VideoEndpoint.ts",
    "src/web/driver/WebAudio.ts",
    "src/web/driver/audio/LinearResampler.ts",
    "src/web/driver/audio/PCMChannel.ts",
    "src/web/driver/audio/WaveformChannel.ts",
    "src/web/stella/driver/KeyboardIO.ts",
    "src/web/stella/driver/WebAudio.ts",
    "src/web/stellaCLI.ts"
  ],
  "names": [],
  "mappings": "AAAA;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AClDA;AACA;AACA;AACA;AACA;;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AClHA;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AClrDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC5EA;AACA;AACA;AACA;;;ACHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AChOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACxLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACxKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC5DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AClHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACvGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACjFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AClJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACjGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACtFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACvPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACjEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AC3BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC/NA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACvBA;AACA;AACA;AACA;AACA;AACA;;;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;ACrjBA,+CAAsC;AAEtC;IAAA;QACI,WAAM,GAAuB;YACzB,eAAe,EAAE,IAAI,qBAAK,EAAQ;YAClC,IA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AAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;CACP,CAAC,CAAC;AAEU,QAAA,aAAa,GAAG,IAAI,UAAU,CAAC;IACxC,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,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;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;CACb,CAAC,CAAC;AAEU,QAAA,GAAG,GAAG,IAAI,WAAW,CAAC;IAC/B,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;CACb,CAAC,CAAC;AAEU,QAAA,KAAK,GAAG,IAAI,WAAW,CAAC;IACjC,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UA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",
  "file": "generated.js",
  "sourceRoot": "",
  "sourcesContent": [
    "(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})",
    "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Mutex = /** @class */ (function () {\n    function Mutex() {\n        this._queue = [];\n        this._pending = false;\n    }\n    Mutex.prototype.isLocked = function () {\n        return this._pending;\n    };\n    Mutex.prototype.acquire = function () {\n        var _this = this;\n        var ticket = new Promise(function (resolve) { return _this._queue.push(resolve); });\n        if (!this._pending) {\n            this._dispatchNext();\n        }\n        return ticket;\n    };\n    Mutex.prototype.runExclusive = function (callback) {\n        return this\n            .acquire()\n            .then(function (release) {\n            var result;\n            try {\n                result = callback();\n            }\n            catch (e) {\n                release();\n                throw (e);\n            }\n            return Promise\n                .resolve(result)\n                .then(function (x) { return (release(), x); }, function (e) {\n                release();\n                throw e;\n            });\n        });\n    };\n    Mutex.prototype._dispatchNext = function () {\n        if (this._queue.length > 0) {\n            this._pending = true;\n            this._queue.shift()(this._dispatchNext.bind(this));\n        }\n        else {\n            this._pending = false;\n        }\n    };\n    return Mutex;\n}());\nexports.default = Mutex;\n",
    "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Mutex_1 = require(\"./Mutex\");\nexports.Mutex = Mutex_1.default;\n",
    "'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction placeHoldersCount (b64) {\n  var len = b64.length\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // the number of equal signs (place holders)\n  // if there are two placeholders, than the two characters before it\n  // represent one byte\n  // if there is only one, then the three characters before it represent 2 bytes\n  // this is just a cheap hack to not do indexOf twice\n  return b64[len - 2] === '=' ? 2 : b64[len - 1] === '=' ? 1 : 0\n}\n\nfunction byteLength (b64) {\n  // base64 is 4/3 + up to two characters of the original data\n  return (b64.length * 3 / 4) - placeHoldersCount(b64)\n}\n\nfunction toByteArray (b64) {\n  var i, l, tmp, placeHolders, arr\n  var len = b64.length\n  placeHolders = placeHoldersCount(b64)\n\n  arr = new Arr((len * 3 / 4) - placeHolders)\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  l = placeHolders > 0 ? len - 4 : len\n\n  var L = 0\n\n  for (i = 0; i < l; i += 4) {\n    tmp = (revLookup[b64.charCodeAt(i)] << 18) | (revLookup[b64.charCodeAt(i + 1)] << 12) | (revLookup[b64.charCodeAt(i + 2)] << 6) | revLookup[b64.charCodeAt(i + 3)]\n    arr[L++] = (tmp >> 16) & 0xFF\n    arr[L++] = (tmp >> 8) & 0xFF\n    arr[L++] = tmp & 0xFF\n  }\n\n  if (placeHolders === 2) {\n    tmp = (revLookup[b64.charCodeAt(i)] << 2) | (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[L++] = tmp & 0xFF\n  } else if (placeHolders === 1) {\n    tmp = (revLookup[b64.charCodeAt(i)] << 10) | (revLookup[b64.charCodeAt(i + 1)] << 4) | (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[L++] = (tmp >> 8) & 0xFF\n    arr[L++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] + lookup[num >> 12 & 0x3F] + lookup[num >> 6 & 0x3F] + lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp = (uint8[i] << 16) + (uint8[i + 1] << 8) + (uint8[i + 2])\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var output = ''\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    output += lookup[tmp >> 2]\n    output += lookup[(tmp << 4) & 0x3F]\n    output += '=='\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + (uint8[len - 1])\n    output += lookup[tmp >> 10]\n    output += lookup[(tmp >> 4) & 0x3F]\n    output += lookup[(tmp << 2) & 0x3F]\n    output += '='\n  }\n\n  parts.push(output)\n\n  return parts.join('')\n}\n",
    "",
    "/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\nvar K_MAX_LENGTH = 0x7fffffff\nexports.kMaxLength = K_MAX_LENGTH\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Print warning and recommend using `buffer` v4.x which has an Object\n *               implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * We report that the browser does not support typed arrays if the are not subclassable\n * using __proto__. Firefox 4-29 lacks support for adding new properties to `Uint8Array`\n * (See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438). IE 10 lacks support\n * for __proto__ and has a buggy typed array implementation.\n */\nBuffer.TYPED_ARRAY_SUPPORT = typedArraySupport()\n\nif (!Buffer.TYPED_ARRAY_SUPPORT && typeof console !== 'undefined' &&\n    typeof console.error === 'function') {\n  console.error(\n    'This browser lacks typed array (Uint8Array) support which is required by ' +\n    '`buffer` v5.x. Use `buffer` v4.x if you require old browser support.'\n  )\n}\n\nfunction typedArraySupport () {\n  // Can typed array instances can be augmented?\n  try {\n    var arr = new Uint8Array(1)\n    arr.__proto__ = {__proto__: Uint8Array.prototype, foo: function () { return 42 }}\n    return arr.foo() === 42\n  } catch (e) {\n    return false\n  }\n}\n\nfunction createBuffer (length) {\n  if (length > K_MAX_LENGTH) {\n    throw new RangeError('Invalid typed array length')\n  }\n  // Return an augmented `Uint8Array` instance\n  var buf = new Uint8Array(length)\n  buf.__proto__ = Buffer.prototype\n  return buf\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error(\n        'If encoding is specified then the first argument must be a string'\n      )\n    }\n    return allocUnsafe(arg)\n  }\n  return from(arg, encodingOrOffset, length)\n}\n\n// Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\nif (typeof Symbol !== 'undefined' && Symbol.species &&\n    Buffer[Symbol.species] === Buffer) {\n  Object.defineProperty(Buffer, Symbol.species, {\n    value: null,\n    configurable: true,\n    enumerable: false,\n    writable: false\n  })\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\nfunction from (value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (isArrayBuffer(value)) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(value, encodingOrOffset)\n  }\n\n  return fromObject(value)\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(value, encodingOrOffset, length)\n}\n\n// Note: Change prototype *after* Buffer.from is defined to workaround Chrome bug:\n// https://github.com/feross/buffer/pull/148\nBuffer.prototype.__proto__ = Uint8Array.prototype\nBuffer.__proto__ = Uint8Array\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number')\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative')\n  }\n}\n\nfunction alloc (size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(size).fill(fill, encoding)\n      : createBuffer(size).fill(fill)\n  }\n  return createBuffer(size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(size, fill, encoding)\n}\n\nfunction allocUnsafe (size) {\n  assertSize(size)\n  return createBuffer(size < 0 ? 0 : checked(size) | 0)\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(size)\n}\n\nfunction fromString (string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  var length = byteLength(string, encoding) | 0\n  var buf = createBuffer(length)\n\n  var actual = buf.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    buf = buf.slice(0, actual)\n  }\n\n  return buf\n}\n\nfunction fromArrayLike (array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  var buf = createBuffer(length)\n  for (var i = 0; i < length; i += 1) {\n    buf[i] = array[i] & 255\n  }\n  return buf\n}\n\nfunction fromArrayBuffer (array, byteOffset, length) {\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds')\n  }\n\n  var buf\n  if (byteOffset === undefined && length === undefined) {\n    buf = new Uint8Array(array)\n  } else if (length === undefined) {\n    buf = new Uint8Array(array, byteOffset)\n  } else {\n    buf = new Uint8Array(array, byteOffset, length)\n  }\n\n  // Return an augmented `Uint8Array` instance\n  buf.__proto__ = Buffer.prototype\n  return buf\n}\n\nfunction fromObject (obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    var buf = createBuffer(len)\n\n    if (buf.length === 0) {\n      return buf\n    }\n\n    obj.copy(buf, 0, 0, len)\n    return buf\n  }\n\n  if (obj) {\n    if (isArrayBufferView(obj) || 'length' in obj) {\n      if (typeof obj.length !== 'number' || numberIsNaN(obj.length)) {\n        return createBuffer(0)\n      }\n      return fromArrayLike(obj)\n    }\n\n    if (obj.type === 'Buffer' && Array.isArray(obj.data)) {\n      return fromArrayLike(obj.data)\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < K_MAX_LENGTH` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= K_MAX_LENGTH) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + K_MAX_LENGTH.toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return b != null && b._isBuffer === true\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!Array.isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    }\n    buf.copy(buffer, pos)\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (isArrayBufferView(string) || isArrayBuffer(string)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    string = '' + string\n  }\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// This property is used by `Buffer.isBuffer` (and the `is-buffer` npm package)\n// to detect a Buffer instance. It's not possible to use `instanceof Buffer`\n// reliably in a browserify context because there could be multiple different\n// copies of the 'buffer' package in use. This method works even for Buffer\n// instances that were created from another copy of the `buffer` package.\n// See: https://github.com/feross/buffer/issues/154\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer')\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset  // Coerce to Number.\n  if (numberIsNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (numberIsNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset >>> 0\n    if (isFinite(length)) {\n      length = length >>> 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + (bytes[i + 1] * 256))\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf = this.subarray(start, end)\n  // Return an augmented `Uint8Array` instance\n  newBuf.__proto__ = Buffer.prototype\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset + 3] = (value >>> 24)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 1] = (value >>> 8)\n  this[offset] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    var limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    var limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 3] = (value >>> 24)\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, start + len),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if (code < 256) {\n        val = code\n      }\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : new Buffer(val, encoding)\n    var len = bytes.length\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = str.trim().replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\n// ArrayBuffers from another context (i.e. an iframe) do not pass the `instanceof` check\n// but they should be treated as valid. See: https://github.com/feross/buffer/issues/166\nfunction isArrayBuffer (obj) {\n  return obj instanceof ArrayBuffer ||\n    (obj != null && obj.constructor != null && obj.constructor.name === 'ArrayBuffer' &&\n      typeof obj.byteLength === 'number')\n}\n\n// Node 0.10 supports `ArrayBuffer` but lacks `ArrayBuffer.isView`\nfunction isArrayBufferView (obj) {\n  return (typeof ArrayBuffer.isView === 'function') && ArrayBuffer.isView(obj)\n}\n\nfunction numberIsNaN (obj) {\n  return obj !== obj // eslint-disable-line no-self-compare\n}\n",
    "exports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = nBytes * 8 - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = e * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = m * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = nBytes * 8 - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = (value * c - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n",
    "\"use strict\";\nvar factories = [];\nfactories[0] = function () {\n    return function dispatcher0() { };\n};\nfactories[1] = function (callback, context) {\n    if (typeof (context) === 'undefined')\n        return callback;\n    return function dispatcher1(payload) {\n        callback(payload, context);\n    };\n};\nfunction getFactory(handlerCount) {\n    if (!factories[handlerCount])\n        factories[handlerCount] = compileFactory(handlerCount);\n    return factories[handlerCount];\n}\nfunction compileFactory(handlerCount) {\n    var src = 'return function dispatcher' + handlerCount + '(payload) {\\n';\n    var argsHandlers = [], argsContexts = [];\n    for (var i = 0; i < handlerCount; i++) {\n        argsHandlers.push('cb' + i);\n        argsContexts.push('ctx' + i);\n        src += '    cb' + i + '(payload, ctx' + i + ');\\n';\n    }\n    src += '};';\n    return new (Function.bind.apply(Function, [void 0].concat(argsHandlers.concat(argsContexts), [src])))();\n}\nvar Event = (function () {\n    function Event() {\n        this.hasHandlers = false;\n        this._handlers = [];\n        this._contexts = [];\n        this._createDispatcher();\n    }\n    Event.prototype.addHandler = function (handler, context) {\n        if (!this.isHandlerAttached(handler, context)) {\n            this._handlers.push(handler);\n            this._contexts.push(context);\n            this._createDispatcher();\n            this._updateHasHandlers();\n        }\n        return this;\n    };\n    Event.prototype.removeHandler = function (handler, context) {\n        var idx = this._getHandlerIndex(handler, context);\n        if (typeof (idx) !== 'undefined') {\n            this._handlers.splice(idx, 1);\n            this._contexts.splice(idx, 1);\n            this._createDispatcher();\n            this._updateHasHandlers();\n        }\n        return this;\n    };\n    Event.prototype.isHandlerAttached = function (handler, context) {\n        return typeof (this._getHandlerIndex(handler, context)) !== 'undefined';\n    };\n    Event.prototype._updateHasHandlers = function () {\n        this.hasHandlers = !!this._handlers.length;\n    };\n    Event.prototype._getHandlerIndex = function (handler, context) {\n        var handlerCount = this._handlers.length;\n        var idx;\n        for (idx = 0; idx < handlerCount; idx++) {\n            if (this._handlers[idx] === handler && this._contexts[idx] === context)\n                break;\n        }\n        return idx < handlerCount ? idx : undefined;\n    };\n    Event.prototype._createDispatcher = function () {\n        this.dispatch = getFactory(this._handlers.length).apply(this, this._handlers.concat(this._contexts));\n    };\n    return Event;\n}());\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = Event;\n",
    "\"use strict\";\nvar Event_1 = require('./Event');\nexports.Event = Event_1.default;\n",
    "// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// resolves . and .. elements in a path array with directory names there\n// must be no slashes, empty elements, or device names (c:\\) in the array\n// (so also no leading and trailing slashes - it does not distinguish\n// relative and absolute paths)\nfunction normalizeArray(parts, allowAboveRoot) {\n  // if the path tries to go above the root, `up` ends up > 0\n  var up = 0;\n  for (var i = parts.length - 1; i >= 0; i--) {\n    var last = parts[i];\n    if (last === '.') {\n      parts.splice(i, 1);\n    } else if (last === '..') {\n      parts.splice(i, 1);\n      up++;\n    } else if (up) {\n      parts.splice(i, 1);\n      up--;\n    }\n  }\n\n  // if the path is allowed to go above the root, restore leading ..s\n  if (allowAboveRoot) {\n    for (; up--; up) {\n      parts.unshift('..');\n    }\n  }\n\n  return parts;\n}\n\n// Split a filename into [root, dir, basename, ext], unix version\n// 'root' is just a slash, or nothing.\nvar splitPathRe =\n    /^(\\/?|)([\\s\\S]*?)((?:\\.{1,2}|[^\\/]+?|)(\\.[^.\\/]*|))(?:[\\/]*)$/;\nvar splitPath = function(filename) {\n  return splitPathRe.exec(filename).slice(1);\n};\n\n// path.resolve([from ...], to)\n// posix version\nexports.resolve = function() {\n  var resolvedPath = '',\n      resolvedAbsolute = false;\n\n  for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {\n    var path = (i >= 0) ? arguments[i] : process.cwd();\n\n    // Skip empty and invalid entries\n    if (typeof path !== 'string') {\n      throw new TypeError('Arguments to path.resolve must be strings');\n    } else if (!path) {\n      continue;\n    }\n\n    resolvedPath = path + '/' + resolvedPath;\n    resolvedAbsolute = path.charAt(0) === '/';\n  }\n\n  // At this point the path should be resolved to a full absolute path, but\n  // handle relative paths to be safe (might happen when process.cwd() fails)\n\n  // Normalize the path\n  resolvedPath = normalizeArray(filter(resolvedPath.split('/'), function(p) {\n    return !!p;\n  }), !resolvedAbsolute).join('/');\n\n  return ((resolvedAbsolute ? '/' : '') + resolvedPath) || '.';\n};\n\n// path.normalize(path)\n// posix version\nexports.normalize = function(path) {\n  var isAbsolute = exports.isAbsolute(path),\n      trailingSlash = substr(path, -1) === '/';\n\n  // Normalize the path\n  path = normalizeArray(filter(path.split('/'), function(p) {\n    return !!p;\n  }), !isAbsolute).join('/');\n\n  if (!path && !isAbsolute) {\n    path = '.';\n  }\n  if (path && trailingSlash) {\n    path += '/';\n  }\n\n  return (isAbsolute ? '/' : '') + path;\n};\n\n// posix version\nexports.isAbsolute = function(path) {\n  return path.charAt(0) === '/';\n};\n\n// posix version\nexports.join = function() {\n  var paths = Array.prototype.slice.call(arguments, 0);\n  return exports.normalize(filter(paths, function(p, index) {\n    if (typeof p !== 'string') {\n      throw new TypeError('Arguments to path.join must be strings');\n    }\n    return p;\n  }).join('/'));\n};\n\n\n// path.relative(from, to)\n// posix version\nexports.relative = function(from, to) {\n  from = exports.resolve(from).substr(1);\n  to = exports.resolve(to).substr(1);\n\n  function trim(arr) {\n    var start = 0;\n    for (; start < arr.length; start++) {\n      if (arr[start] !== '') break;\n    }\n\n    var end = arr.length - 1;\n    for (; end >= 0; end--) {\n      if (arr[end] !== '') break;\n    }\n\n    if (start > end) return [];\n    return arr.slice(start, end - start + 1);\n  }\n\n  var fromParts = trim(from.split('/'));\n  var toParts = trim(to.split('/'));\n\n  var length = Math.min(fromParts.length, toParts.length);\n  var samePartsLength = length;\n  for (var i = 0; i < length; i++) {\n    if (fromParts[i] !== toParts[i]) {\n      samePartsLength = i;\n      break;\n    }\n  }\n\n  var outputParts = [];\n  for (var i = samePartsLength; i < fromParts.length; i++) {\n    outputParts.push('..');\n  }\n\n  outputParts = outputParts.concat(toParts.slice(samePartsLength));\n\n  return outputParts.join('/');\n};\n\nexports.sep = '/';\nexports.delimiter = ':';\n\nexports.dirname = function(path) {\n  var result = splitPath(path),\n      root = result[0],\n      dir = result[1];\n\n  if (!root && !dir) {\n    // No dirname whatsoever\n    return '.';\n  }\n\n  if (dir) {\n    // It has a dirname, strip trailing slash\n    dir = dir.substr(0, dir.length - 1);\n  }\n\n  return root + dir;\n};\n\n\nexports.basename = function(path, ext) {\n  var f = splitPath(path)[2];\n  // TODO: make this comparison case-insensitive on windows?\n  if (ext && f.substr(-1 * ext.length) === ext) {\n    f = f.substr(0, f.length - ext.length);\n  }\n  return f;\n};\n\n\nexports.extname = function(path) {\n  return splitPath(path)[3];\n};\n\nfunction filter (xs, f) {\n    if (xs.filter) return xs.filter(f);\n    var res = [];\n    for (var i = 0; i < xs.length; i++) {\n        if (f(xs[i], i, xs)) res.push(xs[i]);\n    }\n    return res;\n}\n\n// String.prototype.substr - negative index don't work in IE8\nvar substr = 'ab'.substr(-1) === 'b'\n    ? function (str, start, len) { return str.substr(start, len) }\n    : function (str, start, len) {\n        if (start < 0) start = str.length + start;\n        return str.substr(start, len);\n    }\n;\n",
    "// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n",
    "/*!\n* screenfull\n* v3.3.1 - 2017-07-07\n* (c) Sindre Sorhus; MIT License\n*/\n(function () {\n\t'use strict';\n\n\tvar document = typeof window !== 'undefined' && typeof window.document !== 'undefined' ? window.document : {};\n\tvar isCommonjs = typeof module !== 'undefined' && module.exports;\n\tvar keyboardAllowed = typeof Element !== 'undefined' && 'ALLOW_KEYBOARD_INPUT' in Element;\n\n\tvar fn = (function () {\n\t\tvar val;\n\n\t\tvar fnMap = [\n\t\t\t[\n\t\t\t\t'requestFullscreen',\n\t\t\t\t'exitFullscreen',\n\t\t\t\t'fullscreenElement',\n\t\t\t\t'fullscreenEnabled',\n\t\t\t\t'fullscreenchange',\n\t\t\t\t'fullscreenerror'\n\t\t\t],\n\t\t\t// New WebKit\n\t\t\t[\n\t\t\t\t'webkitRequestFullscreen',\n\t\t\t\t'webkitExitFullscreen',\n\t\t\t\t'webkitFullscreenElement',\n\t\t\t\t'webkitFullscreenEnabled',\n\t\t\t\t'webkitfullscreenchange',\n\t\t\t\t'webkitfullscreenerror'\n\n\t\t\t],\n\t\t\t// Old WebKit (Safari 5.1)\n\t\t\t[\n\t\t\t\t'webkitRequestFullScreen',\n\t\t\t\t'webkitCancelFullScreen',\n\t\t\t\t'webkitCurrentFullScreenElement',\n\t\t\t\t'webkitCancelFullScreen',\n\t\t\t\t'webkitfullscreenchange',\n\t\t\t\t'webkitfullscreenerror'\n\n\t\t\t],\n\t\t\t[\n\t\t\t\t'mozRequestFullScreen',\n\t\t\t\t'mozCancelFullScreen',\n\t\t\t\t'mozFullScreenElement',\n\t\t\t\t'mozFullScreenEnabled',\n\t\t\t\t'mozfullscreenchange',\n\t\t\t\t'mozfullscreenerror'\n\t\t\t],\n\t\t\t[\n\t\t\t\t'msRequestFullscreen',\n\t\t\t\t'msExitFullscreen',\n\t\t\t\t'msFullscreenElement',\n\t\t\t\t'msFullscreenEnabled',\n\t\t\t\t'MSFullscreenChange',\n\t\t\t\t'MSFullscreenError'\n\t\t\t]\n\t\t];\n\n\t\tvar i = 0;\n\t\tvar l = fnMap.length;\n\t\tvar ret = {};\n\n\t\tfor (; i < l; i++) {\n\t\t\tval = fnMap[i];\n\t\t\tif (val && val[1] in document) {\n\t\t\t\tfor (i = 0; i < val.length; i++) {\n\t\t\t\t\tret[fnMap[0][i]] = val[i];\n\t\t\t\t}\n\t\t\t\treturn ret;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t})();\n\n\tvar eventNameMap = {\n\t\tchange: fn.fullscreenchange,\n\t\terror: fn.fullscreenerror\n\t};\n\n\tvar screenfull = {\n\t\trequest: function (elem) {\n\t\t\tvar request = fn.requestFullscreen;\n\n\t\t\telem = elem || document.documentElement;\n\n\t\t\t// Work around Safari 5.1 bug: reports support for\n\t\t\t// keyboard in fullscreen even though it doesn't.\n\t\t\t// Browser sniffing, since the alternative with\n\t\t\t// setTimeout is even worse.\n\t\t\tif (/5\\.1[.\\d]* Safari/.test(navigator.userAgent)) {\n\t\t\t\telem[request]();\n\t\t\t} else {\n\t\t\t\telem[request](keyboardAllowed && Element.ALLOW_KEYBOARD_INPUT);\n\t\t\t}\n\t\t},\n\t\texit: function () {\n\t\t\tdocument[fn.exitFullscreen]();\n\t\t},\n\t\ttoggle: function (elem) {\n\t\t\tif (this.isFullscreen) {\n\t\t\t\tthis.exit();\n\t\t\t} else {\n\t\t\t\tthis.request(elem);\n\t\t\t}\n\t\t},\n\t\tonchange: function (callback) {\n\t\t\tthis.on('change', callback);\n\t\t},\n\t\tonerror: function (callback) {\n\t\t\tthis.on('error', callback);\n\t\t},\n\t\ton: function (event, callback) {\n\t\t\tvar eventName = eventNameMap[event];\n\t\t\tif (eventName) {\n\t\t\t\tdocument.addEventListener(eventName, callback, false);\n\t\t\t}\n\t\t},\n\t\toff: function (event, callback) {\n\t\t\tvar eventName = eventNameMap[event];\n\t\t\tif (eventName) {\n\t\t\t\tdocument.removeEventListener(eventName, callback, false);\n\t\t\t}\n\t\t},\n\t\traw: fn\n\t};\n\n\tif (!fn) {\n\t\tif (isCommonjs) {\n\t\t\tmodule.exports = false;\n\t\t} else {\n\t\t\twindow.screenfull = false;\n\t\t}\n\n\t\treturn;\n\t}\n\n\tObject.defineProperties(screenfull, {\n\t\tisFullscreen: {\n\t\t\tget: function () {\n\t\t\t\treturn Boolean(document[fn.fullscreenElement]);\n\t\t\t}\n\t\t},\n\t\telement: {\n\t\t\tenumerable: true,\n\t\t\tget: function () {\n\t\t\t\treturn document[fn.fullscreenElement];\n\t\t\t}\n\t\t},\n\t\tenabled: {\n\t\t\tenumerable: true,\n\t\t\tget: function () {\n\t\t\t\t// Coerce to boolean in case of old WebKit\n\t\t\t\treturn Boolean(document[fn.fullscreenEnabled]);\n\t\t\t}\n\t\t}\n\t});\n\n\tif (isCommonjs) {\n\t\tmodule.exports = screenfull;\n\t} else {\n\t\twindow.screenfull = screenfull;\n\t}\n})();\n",
    "// A library of seedable RNGs implemented in Javascript.\n//\n// Usage:\n//\n// var seedrandom = require('seedrandom');\n// var random = seedrandom(1); // or any seed.\n// var x = random();       // 0 <= x < 1.  Every bit is random.\n// var x = random.quick(); // 0 <= x < 1.  32 bits of randomness.\n\n// alea, a 53-bit multiply-with-carry generator by Johannes Baagøe.\n// Period: ~2^116\n// Reported to pass all BigCrush tests.\nvar alea = require('./lib/alea');\n\n// xor128, a pure xor-shift generator by George Marsaglia.\n// Period: 2^128-1.\n// Reported to fail: MatrixRank and LinearComp.\nvar xor128 = require('./lib/xor128');\n\n// xorwow, George Marsaglia's 160-bit xor-shift combined plus weyl.\n// Period: 2^192-2^32\n// Reported to fail: CollisionOver, SimpPoker, and LinearComp.\nvar xorwow = require('./lib/xorwow');\n\n// xorshift7, by François Panneton and Pierre L'ecuyer, takes\n// a different approach: it adds robustness by allowing more shifts\n// than Marsaglia's original three.  It is a 7-shift generator\n// with 256 bits, that passes BigCrush with no systmatic failures.\n// Period 2^256-1.\n// No systematic BigCrush failures reported.\nvar xorshift7 = require('./lib/xorshift7');\n\n// xor4096, by Richard Brent, is a 4096-bit xor-shift with a\n// very long period that also adds a Weyl generator. It also passes\n// BigCrush with no systematic failures.  Its long period may\n// be useful if you have many generators and need to avoid\n// collisions.\n// Period: 2^4128-2^32.\n// No systematic BigCrush failures reported.\nvar xor4096 = require('./lib/xor4096');\n\n// Tyche-i, by Samuel Neves and Filipe Araujo, is a bit-shifting random\n// number generator derived from ChaCha, a modern stream cipher.\n// https://eden.dei.uc.pt/~sneves/pubs/2011-snfa2.pdf\n// Period: ~2^127\n// No systematic BigCrush failures reported.\nvar tychei = require('./lib/tychei');\n\n// The original ARC4-based prng included in this library.\n// Period: ~2^1600\nvar sr = require('./seedrandom');\n\nsr.alea = alea;\nsr.xor128 = xor128;\nsr.xorwow = xorwow;\nsr.xorshift7 = xorshift7;\nsr.xor4096 = xor4096;\nsr.tychei = tychei;\n\nmodule.exports = sr;\n",
    "// A port of an algorithm by Johannes Baagøe <baagoe@baagoe.com>, 2010\n// http://baagoe.com/en/RandomMusings/javascript/\n// https://github.com/nquinlan/better-random-numbers-for-javascript-mirror\n// Original work is under MIT license -\n\n// Copyright (C) 2010 by Johannes Baagøe <baagoe@baagoe.org>\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n// \n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n// \n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\n\n\n(function(global, module, define) {\n\nfunction Alea(seed) {\n  var me = this, mash = Mash();\n\n  me.next = function() {\n    var t = 2091639 * me.s0 + me.c * 2.3283064365386963e-10; // 2^-32\n    me.s0 = me.s1;\n    me.s1 = me.s2;\n    return me.s2 = t - (me.c = t | 0);\n  };\n\n  // Apply the seeding algorithm from Baagoe.\n  me.c = 1;\n  me.s0 = mash(' ');\n  me.s1 = mash(' ');\n  me.s2 = mash(' ');\n  me.s0 -= mash(seed);\n  if (me.s0 < 0) { me.s0 += 1; }\n  me.s1 -= mash(seed);\n  if (me.s1 < 0) { me.s1 += 1; }\n  me.s2 -= mash(seed);\n  if (me.s2 < 0) { me.s2 += 1; }\n  mash = null;\n}\n\nfunction copy(f, t) {\n  t.c = f.c;\n  t.s0 = f.s0;\n  t.s1 = f.s1;\n  t.s2 = f.s2;\n  return t;\n}\n\nfunction impl(seed, opts) {\n  var xg = new Alea(seed),\n      state = opts && opts.state,\n      prng = xg.next;\n  prng.int32 = function() { return (xg.next() * 0x100000000) | 0; }\n  prng.double = function() {\n    return prng() + (prng() * 0x200000 | 0) * 1.1102230246251565e-16; // 2^-53\n  };\n  prng.quick = prng;\n  if (state) {\n    if (typeof(state) == 'object') copy(state, xg);\n    prng.state = function() { return copy(xg, {}); }\n  }\n  return prng;\n}\n\nfunction Mash() {\n  var n = 0xefc8249d;\n\n  var mash = function(data) {\n    data = data.toString();\n    for (var i = 0; i < data.length; i++) {\n      n += data.charCodeAt(i);\n      var h = 0.02519603282416938 * n;\n      n = h >>> 0;\n      h -= n;\n      h *= n;\n      n = h >>> 0;\n      h -= n;\n      n += h * 0x100000000; // 2^32\n    }\n    return (n >>> 0) * 2.3283064365386963e-10; // 2^-32\n  };\n\n  return mash;\n}\n\n\nif (module && module.exports) {\n  module.exports = impl;\n} else if (define && define.amd) {\n  define(function() { return impl; });\n} else {\n  this.alea = impl;\n}\n\n})(\n  this,\n  (typeof module) == 'object' && module,    // present in node.js\n  (typeof define) == 'function' && define   // present with an AMD loader\n);\n\n\n",
    "// A Javascript implementaion of the \"Tyche-i\" prng algorithm by\n// Samuel Neves and Filipe Araujo.\n// See https://eden.dei.uc.pt/~sneves/pubs/2011-snfa2.pdf\n\n(function(global, module, define) {\n\nfunction XorGen(seed) {\n  var me = this, strseed = '';\n\n  // Set up generator function.\n  me.next = function() {\n    var b = me.b, c = me.c, d = me.d, a = me.a;\n    b = (b << 25) ^ (b >>> 7) ^ c;\n    c = (c - d) | 0;\n    d = (d << 24) ^ (d >>> 8) ^ a;\n    a = (a - b) | 0;\n    me.b = b = (b << 20) ^ (b >>> 12) ^ c;\n    me.c = c = (c - d) | 0;\n    me.d = (d << 16) ^ (c >>> 16) ^ a;\n    return me.a = (a - b) | 0;\n  };\n\n  /* The following is non-inverted tyche, which has better internal\n   * bit diffusion, but which is about 25% slower than tyche-i in JS.\n  me.next = function() {\n    var a = me.a, b = me.b, c = me.c, d = me.d;\n    a = (me.a + me.b | 0) >>> 0;\n    d = me.d ^ a; d = d << 16 ^ d >>> 16;\n    c = me.c + d | 0;\n    b = me.b ^ c; b = b << 12 ^ d >>> 20;\n    me.a = a = a + b | 0;\n    d = d ^ a; me.d = d = d << 8 ^ d >>> 24;\n    me.c = c = c + d | 0;\n    b = b ^ c;\n    return me.b = (b << 7 ^ b >>> 25);\n  }\n  */\n\n  me.a = 0;\n  me.b = 0;\n  me.c = 2654435769 | 0;\n  me.d = 1367130551;\n\n  if (seed === Math.floor(seed)) {\n    // Integer seed.\n    me.a = (seed / 0x100000000) | 0;\n    me.b = seed | 0;\n  } else {\n    // String seed.\n    strseed += seed;\n  }\n\n  // Mix in string seed, then discard an initial batch of 64 values.\n  for (var k = 0; k < strseed.length + 20; k++) {\n    me.b ^= strseed.charCodeAt(k) | 0;\n    me.next();\n  }\n}\n\nfunction copy(f, t) {\n  t.a = f.a;\n  t.b = f.b;\n  t.c = f.c;\n  t.d = f.d;\n  return t;\n};\n\nfunction impl(seed, opts) {\n  var xg = new XorGen(seed),\n      state = opts && opts.state,\n      prng = function() { return (xg.next() >>> 0) / 0x100000000; };\n  prng.double = function() {\n    do {\n      var top = xg.next() >>> 11,\n          bot = (xg.next() >>> 0) / 0x100000000,\n          result = (top + bot) / (1 << 21);\n    } while (result === 0);\n    return result;\n  };\n  prng.int32 = xg.next;\n  prng.quick = prng;\n  if (state) {\n    if (typeof(state) == 'object') copy(state, xg);\n    prng.state = function() { return copy(xg, {}); }\n  }\n  return prng;\n}\n\nif (module && module.exports) {\n  module.exports = impl;\n} else if (define && define.amd) {\n  define(function() { return impl; });\n} else {\n  this.tychei = impl;\n}\n\n})(\n  this,\n  (typeof module) == 'object' && module,    // present in node.js\n  (typeof define) == 'function' && define   // present with an AMD loader\n);\n\n\n",
    "// A Javascript implementaion of the \"xor128\" prng algorithm by\n// George Marsaglia.  See http://www.jstatsoft.org/v08/i14/paper\n\n(function(global, module, define) {\n\nfunction XorGen(seed) {\n  var me = this, strseed = '';\n\n  me.x = 0;\n  me.y = 0;\n  me.z = 0;\n  me.w = 0;\n\n  // Set up generator function.\n  me.next = function() {\n    var t = me.x ^ (me.x << 11);\n    me.x = me.y;\n    me.y = me.z;\n    me.z = me.w;\n    return me.w ^= (me.w >>> 19) ^ t ^ (t >>> 8);\n  };\n\n  if (seed === (seed | 0)) {\n    // Integer seed.\n    me.x = seed;\n  } else {\n    // String seed.\n    strseed += seed;\n  }\n\n  // Mix in string seed, then discard an initial batch of 64 values.\n  for (var k = 0; k < strseed.length + 64; k++) {\n    me.x ^= strseed.charCodeAt(k) | 0;\n    me.next();\n  }\n}\n\nfunction copy(f, t) {\n  t.x = f.x;\n  t.y = f.y;\n  t.z = f.z;\n  t.w = f.w;\n  return t;\n}\n\nfunction impl(seed, opts) {\n  var xg = new XorGen(seed),\n      state = opts && opts.state,\n      prng = function() { return (xg.next() >>> 0) / 0x100000000; };\n  prng.double = function() {\n    do {\n      var top = xg.next() >>> 11,\n          bot = (xg.next() >>> 0) / 0x100000000,\n          result = (top + bot) / (1 << 21);\n    } while (result === 0);\n    return result;\n  };\n  prng.int32 = xg.next;\n  prng.quick = prng;\n  if (state) {\n    if (typeof(state) == 'object') copy(state, xg);\n    prng.state = function() { return copy(xg, {}); }\n  }\n  return prng;\n}\n\nif (module && module.exports) {\n  module.exports = impl;\n} else if (define && define.amd) {\n  define(function() { return impl; });\n} else {\n  this.xor128 = impl;\n}\n\n})(\n  this,\n  (typeof module) == 'object' && module,    // present in node.js\n  (typeof define) == 'function' && define   // present with an AMD loader\n);\n\n\n",
    "// A Javascript implementaion of Richard Brent's Xorgens xor4096 algorithm.\n//\n// This fast non-cryptographic random number generator is designed for\n// use in Monte-Carlo algorithms. It combines a long-period xorshift\n// generator with a Weyl generator, and it passes all common batteries\n// of stasticial tests for randomness while consuming only a few nanoseconds\n// for each prng generated.  For background on the generator, see Brent's\n// paper: \"Some long-period random number generators using shifts and xors.\"\n// http://arxiv.org/pdf/1004.3115v1.pdf\n//\n// Usage:\n//\n// var xor4096 = require('xor4096');\n// random = xor4096(1);                        // Seed with int32 or string.\n// assert.equal(random(), 0.1520436450538547); // (0, 1) range, 53 bits.\n// assert.equal(random.int32(), 1806534897);   // signed int32, 32 bits.\n//\n// For nonzero numeric keys, this impelementation provides a sequence\n// identical to that by Brent's xorgens 3 implementaion in C.  This\n// implementation also provides for initalizing the generator with\n// string seeds, or for saving and restoring the state of the generator.\n//\n// On Chrome, this prng benchmarks about 2.1 times slower than\n// Javascript's built-in Math.random().\n\n(function(global, module, define) {\n\nfunction XorGen(seed) {\n  var me = this;\n\n  // Set up generator function.\n  me.next = function() {\n    var w = me.w,\n        X = me.X, i = me.i, t, v;\n    // Update Weyl generator.\n    me.w = w = (w + 0x61c88647) | 0;\n    // Update xor generator.\n    v = X[(i + 34) & 127];\n    t = X[i = ((i + 1) & 127)];\n    v ^= v << 13;\n    t ^= t << 17;\n    v ^= v >>> 15;\n    t ^= t >>> 12;\n    // Update Xor generator array state.\n    v = X[i] = v ^ t;\n    me.i = i;\n    // Result is the combination.\n    return (v + (w ^ (w >>> 16))) | 0;\n  };\n\n  function init(me, seed) {\n    var t, v, i, j, w, X = [], limit = 128;\n    if (seed === (seed | 0)) {\n      // Numeric seeds initialize v, which is used to generates X.\n      v = seed;\n      seed = null;\n    } else {\n      // String seeds are mixed into v and X one character at a time.\n      seed = seed + '\\0';\n      v = 0;\n      limit = Math.max(limit, seed.length);\n    }\n    // Initialize circular array and weyl value.\n    for (i = 0, j = -32; j < limit; ++j) {\n      // Put the unicode characters into the array, and shuffle them.\n      if (seed) v ^= seed.charCodeAt((j + 32) % seed.length);\n      // After 32 shuffles, take v as the starting w value.\n      if (j === 0) w = v;\n      v ^= v << 10;\n      v ^= v >>> 15;\n      v ^= v << 4;\n      v ^= v >>> 13;\n      if (j >= 0) {\n        w = (w + 0x61c88647) | 0;     // Weyl.\n        t = (X[j & 127] ^= (v + w));  // Combine xor and weyl to init array.\n        i = (0 == t) ? i + 1 : 0;     // Count zeroes.\n      }\n    }\n    // We have detected all zeroes; make the key nonzero.\n    if (i >= 128) {\n      X[(seed && seed.length || 0) & 127] = -1;\n    }\n    // Run the generator 512 times to further mix the state before using it.\n    // Factoring this as a function slows the main generator, so it is just\n    // unrolled here.  The weyl generator is not advanced while warming up.\n    i = 127;\n    for (j = 4 * 128; j > 0; --j) {\n      v = X[(i + 34) & 127];\n      t = X[i = ((i + 1) & 127)];\n      v ^= v << 13;\n      t ^= t << 17;\n      v ^= v >>> 15;\n      t ^= t >>> 12;\n      X[i] = v ^ t;\n    }\n    // Storing state as object members is faster than using closure variables.\n    me.w = w;\n    me.X = X;\n    me.i = i;\n  }\n\n  init(me, seed);\n}\n\nfunction copy(f, t) {\n  t.i = f.i;\n  t.w = f.w;\n  t.X = f.X.slice();\n  return t;\n};\n\nfunction impl(seed, opts) {\n  if (seed == null) seed = +(new Date);\n  var xg = new XorGen(seed),\n      state = opts && opts.state,\n      prng = function() { return (xg.next() >>> 0) / 0x100000000; };\n  prng.double = function() {\n    do {\n      var top = xg.next() >>> 11,\n          bot = (xg.next() >>> 0) / 0x100000000,\n          result = (top + bot) / (1 << 21);\n    } while (result === 0);\n    return result;\n  };\n  prng.int32 = xg.next;\n  prng.quick = prng;\n  if (state) {\n    if (state.X) copy(state, xg);\n    prng.state = function() { return copy(xg, {}); }\n  }\n  return prng;\n}\n\nif (module && module.exports) {\n  module.exports = impl;\n} else if (define && define.amd) {\n  define(function() { return impl; });\n} else {\n  this.xor4096 = impl;\n}\n\n})(\n  this,                                     // window object or global\n  (typeof module) == 'object' && module,    // present in node.js\n  (typeof define) == 'function' && define   // present with an AMD loader\n);\n",
    "// A Javascript implementaion of the \"xorshift7\" algorithm by\n// François Panneton and Pierre L'ecuyer:\n// \"On the Xorgshift Random Number Generators\"\n// http://saluc.engr.uconn.edu/refs/crypto/rng/panneton05onthexorshift.pdf\n\n(function(global, module, define) {\n\nfunction XorGen(seed) {\n  var me = this;\n\n  // Set up generator function.\n  me.next = function() {\n    // Update xor generator.\n    var X = me.x, i = me.i, t, v, w;\n    t = X[i]; t ^= (t >>> 7); v = t ^ (t << 24);\n    t = X[(i + 1) & 7]; v ^= t ^ (t >>> 10);\n    t = X[(i + 3) & 7]; v ^= t ^ (t >>> 3);\n    t = X[(i + 4) & 7]; v ^= t ^ (t << 7);\n    t = X[(i + 7) & 7]; t = t ^ (t << 13); v ^= t ^ (t << 9);\n    X[i] = v;\n    me.i = (i + 1) & 7;\n    return v;\n  };\n\n  function init(me, seed) {\n    var j, w, X = [];\n\n    if (seed === (seed | 0)) {\n      // Seed state array using a 32-bit integer.\n      w = X[0] = seed;\n    } else {\n      // Seed state using a string.\n      seed = '' + seed;\n      for (j = 0; j < seed.length; ++j) {\n        X[j & 7] = (X[j & 7] << 15) ^\n            (seed.charCodeAt(j) + X[(j + 1) & 7] << 13);\n      }\n    }\n    // Enforce an array length of 8, not all zeroes.\n    while (X.length < 8) X.push(0);\n    for (j = 0; j < 8 && X[j] === 0; ++j);\n    if (j == 8) w = X[7] = -1; else w = X[j];\n\n    me.x = X;\n    me.i = 0;\n\n    // Discard an initial 256 values.\n    for (j = 256; j > 0; --j) {\n      me.next();\n    }\n  }\n\n  init(me, seed);\n}\n\nfunction copy(f, t) {\n  t.x = f.x.slice();\n  t.i = f.i;\n  return t;\n}\n\nfunction impl(seed, opts) {\n  if (seed == null) seed = +(new Date);\n  var xg = new XorGen(seed),\n      state = opts && opts.state,\n      prng = function() { return (xg.next() >>> 0) / 0x100000000; };\n  prng.double = function() {\n    do {\n      var top = xg.next() >>> 11,\n          bot = (xg.next() >>> 0) / 0x100000000,\n          result = (top + bot) / (1 << 21);\n    } while (result === 0);\n    return result;\n  };\n  prng.int32 = xg.next;\n  prng.quick = prng;\n  if (state) {\n    if (state.x) copy(state, xg);\n    prng.state = function() { return copy(xg, {}); }\n  }\n  return prng;\n}\n\nif (module && module.exports) {\n  module.exports = impl;\n} else if (define && define.amd) {\n  define(function() { return impl; });\n} else {\n  this.xorshift7 = impl;\n}\n\n})(\n  this,\n  (typeof module) == 'object' && module,    // present in node.js\n  (typeof define) == 'function' && define   // present with an AMD loader\n);\n\n",
    "// A Javascript implementaion of the \"xorwow\" prng algorithm by\n// George Marsaglia.  See http://www.jstatsoft.org/v08/i14/paper\n\n(function(global, module, define) {\n\nfunction XorGen(seed) {\n  var me = this, strseed = '';\n\n  // Set up generator function.\n  me.next = function() {\n    var t = (me.x ^ (me.x >>> 2));\n    me.x = me.y; me.y = me.z; me.z = me.w; me.w = me.v;\n    return (me.d = (me.d + 362437 | 0)) +\n       (me.v = (me.v ^ (me.v << 4)) ^ (t ^ (t << 1))) | 0;\n  };\n\n  me.x = 0;\n  me.y = 0;\n  me.z = 0;\n  me.w = 0;\n  me.v = 0;\n\n  if (seed === (seed | 0)) {\n    // Integer seed.\n    me.x = seed;\n  } else {\n    // String seed.\n    strseed += seed;\n  }\n\n  // Mix in string seed, then discard an initial batch of 64 values.\n  for (var k = 0; k < strseed.length + 64; k++) {\n    me.x ^= strseed.charCodeAt(k) | 0;\n    if (k == strseed.length) {\n      me.d = me.x << 10 ^ me.x >>> 4;\n    }\n    me.next();\n  }\n}\n\nfunction copy(f, t) {\n  t.x = f.x;\n  t.y = f.y;\n  t.z = f.z;\n  t.w = f.w;\n  t.v = f.v;\n  t.d = f.d;\n  return t;\n}\n\nfunction impl(seed, opts) {\n  var xg = new XorGen(seed),\n      state = opts && opts.state,\n      prng = function() { return (xg.next() >>> 0) / 0x100000000; };\n  prng.double = function() {\n    do {\n      var top = xg.next() >>> 11,\n          bot = (xg.next() >>> 0) / 0x100000000,\n          result = (top + bot) / (1 << 21);\n    } while (result === 0);\n    return result;\n  };\n  prng.int32 = xg.next;\n  prng.quick = prng;\n  if (state) {\n    if (typeof(state) == 'object') copy(state, xg);\n    prng.state = function() { return copy(xg, {}); }\n  }\n  return prng;\n}\n\nif (module && module.exports) {\n  module.exports = impl;\n} else if (define && define.amd) {\n  define(function() { return impl; });\n} else {\n  this.xorwow = impl;\n}\n\n})(\n  this,\n  (typeof module) == 'object' && module,    // present in node.js\n  (typeof define) == 'function' && define   // present with an AMD loader\n);\n\n\n",
    "/*\nCopyright 2014 David Bau.\n\nPermission is hereby granted, free of charge, to any person obtaining\na copy of this software and associated documentation files (the\n\"Software\"), to deal in the Software without restriction, including\nwithout limitation the rights to use, copy, modify, merge, publish,\ndistribute, sublicense, and/or sell copies of the Software, and to\npermit persons to whom the Software is furnished to do so, subject to\nthe following conditions:\n\nThe above copyright notice and this permission notice shall be\nincluded in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\nEXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\nMERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\nIN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\nCLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\nTORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\nSOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\n\n(function (pool, math) {\n//\n// The following constants are related to IEEE 754 limits.\n//\nvar global = this,\n    width = 256,        // each RC4 output is 0 <= x < 256\n    chunks = 6,         // at least six RC4 outputs for each double\n    digits = 52,        // there are 52 significant digits in a double\n    rngname = 'random', // rngname: name for Math.random and Math.seedrandom\n    startdenom = math.pow(width, chunks),\n    significance = math.pow(2, digits),\n    overflow = significance * 2,\n    mask = width - 1,\n    nodecrypto;         // node.js crypto module, initialized at the bottom.\n\n//\n// seedrandom()\n// This is the seedrandom function described above.\n//\nfunction seedrandom(seed, options, callback) {\n  var key = [];\n  options = (options == true) ? { entropy: true } : (options || {});\n\n  // Flatten the seed string or build one from local entropy if needed.\n  var shortseed = mixkey(flatten(\n    options.entropy ? [seed, tostring(pool)] :\n    (seed == null) ? autoseed() : seed, 3), key);\n\n  // Use the seed to initialize an ARC4 generator.\n  var arc4 = new ARC4(key);\n\n  // This function returns a random double in [0, 1) that contains\n  // randomness in every bit of the mantissa of the IEEE 754 value.\n  var prng = function() {\n    var n = arc4.g(chunks),             // Start with a numerator n < 2 ^ 48\n        d = startdenom,                 //   and denominator d = 2 ^ 48.\n        x = 0;                          //   and no 'extra last byte'.\n    while (n < significance) {          // Fill up all significant digits by\n      n = (n + x) * width;              //   shifting numerator and\n      d *= width;                       //   denominator and generating a\n      x = arc4.g(1);                    //   new least-significant-byte.\n    }\n    while (n >= overflow) {             // To avoid rounding up, before adding\n      n /= 2;                           //   last byte, shift everything\n      d /= 2;                           //   right using integer math until\n      x >>>= 1;                         //   we have exactly the desired bits.\n    }\n    return (n + x) / d;                 // Form the number within [0, 1).\n  };\n\n  prng.int32 = function() { return arc4.g(4) | 0; }\n  prng.quick = function() { return arc4.g(4) / 0x100000000; }\n  prng.double = prng;\n\n  // Mix the randomness into accumulated entropy.\n  mixkey(tostring(arc4.S), pool);\n\n  // Calling convention: what to return as a function of prng, seed, is_math.\n  return (options.pass || callback ||\n      function(prng, seed, is_math_call, state) {\n        if (state) {\n          // Load the arc4 state from the given state if it has an S array.\n          if (state.S) { copy(state, arc4); }\n          // Only provide the .state method if requested via options.state.\n          prng.state = function() { return copy(arc4, {}); }\n        }\n\n        // If called as a method of Math (Math.seedrandom()), mutate\n        // Math.random because that is how seedrandom.js has worked since v1.0.\n        if (is_math_call) { math[rngname] = prng; return seed; }\n\n        // Otherwise, it is a newer calling convention, so return the\n        // prng directly.\n        else return prng;\n      })(\n  prng,\n  shortseed,\n  'global' in options ? options.global : (this == math),\n  options.state);\n}\nmath['seed' + rngname] = seedrandom;\n\n//\n// ARC4\n//\n// An ARC4 implementation.  The constructor takes a key in the form of\n// an array of at most (width) integers that should be 0 <= x < (width).\n//\n// The g(count) method returns a pseudorandom integer that concatenates\n// the next (count) outputs from ARC4.  Its return value is a number x\n// that is in the range 0 <= x < (width ^ count).\n//\nfunction ARC4(key) {\n  var t, keylen = key.length,\n      me = this, i = 0, j = me.i = me.j = 0, s = me.S = [];\n\n  // The empty key [] is treated as [0].\n  if (!keylen) { key = [keylen++]; }\n\n  // Set up S using the standard key scheduling algorithm.\n  while (i < width) {\n    s[i] = i++;\n  }\n  for (i = 0; i < width; i++) {\n    s[i] = s[j = mask & (j + key[i % keylen] + (t = s[i]))];\n    s[j] = t;\n  }\n\n  // The \"g\" method returns the next (count) outputs as one number.\n  (me.g = function(count) {\n    // Using instance members instead of closure state nearly doubles speed.\n    var t, r = 0,\n        i = me.i, j = me.j, s = me.S;\n    while (count--) {\n      t = s[i = mask & (i + 1)];\n      r = r * width + s[mask & ((s[i] = s[j = mask & (j + t)]) + (s[j] = t))];\n    }\n    me.i = i; me.j = j;\n    return r;\n    // For robust unpredictability, the function call below automatically\n    // discards an initial batch of values.  This is called RC4-drop[256].\n    // See http://google.com/search?q=rsa+fluhrer+response&btnI\n  })(width);\n}\n\n//\n// copy()\n// Copies internal state of ARC4 to or from a plain object.\n//\nfunction copy(f, t) {\n  t.i = f.i;\n  t.j = f.j;\n  t.S = f.S.slice();\n  return t;\n};\n\n//\n// flatten()\n// Converts an object tree to nested arrays of strings.\n//\nfunction flatten(obj, depth) {\n  var result = [], typ = (typeof obj), prop;\n  if (depth && typ == 'object') {\n    for (prop in obj) {\n      try { result.push(flatten(obj[prop], depth - 1)); } catch (e) {}\n    }\n  }\n  return (result.length ? result : typ == 'string' ? obj : obj + '\\0');\n}\n\n//\n// mixkey()\n// Mixes a string seed into a key that is an array of integers, and\n// returns a shortened string seed that is equivalent to the result key.\n//\nfunction mixkey(seed, key) {\n  var stringseed = seed + '', smear, j = 0;\n  while (j < stringseed.length) {\n    key[mask & j] =\n      mask & ((smear ^= key[mask & j] * 19) + stringseed.charCodeAt(j++));\n  }\n  return tostring(key);\n}\n\n//\n// autoseed()\n// Returns an object for autoseeding, using window.crypto and Node crypto\n// module if available.\n//\nfunction autoseed() {\n  try {\n    var out;\n    if (nodecrypto && (out = nodecrypto.randomBytes)) {\n      // The use of 'out' to remember randomBytes makes tight minified code.\n      out = out(width);\n    } else {\n      out = new Uint8Array(width);\n      (global.crypto || global.msCrypto).getRandomValues(out);\n    }\n    return tostring(out);\n  } catch (e) {\n    var browser = global.navigator,\n        plugins = browser && browser.plugins;\n    return [+new Date, global, plugins, global.screen, tostring(pool)];\n  }\n}\n\n//\n// tostring()\n// Converts an array of charcodes to a string\n//\nfunction tostring(a) {\n  return String.fromCharCode.apply(0, a);\n}\n\n//\n// When seedrandom.js is loaded, we immediately mix a few bits\n// from the built-in RNG into the entropy pool.  Because we do\n// not want to interfere with deterministic PRNG state later,\n// seedrandom will not call math.random on its own again after\n// initialization.\n//\nmixkey(math.random(), pool);\n\n//\n// Nodejs and AMD support: export the implementation as a module using\n// either convention.\n//\nif ((typeof module) == 'object' && module.exports) {\n  module.exports = seedrandom;\n  // When in node.js, try using crypto package for autoseeding.\n  try {\n    nodecrypto = require('crypto');\n  } catch (ex) {}\n} else if ((typeof define) == 'function' && define.amd) {\n  define(function() { return seedrandom; });\n}\n\n// End anonymous scope, and pass initial values.\n})(\n  [],     // pool: entropy pool starts empty\n  Math    // math: package containing random, pow, and seedrandom\n);\n",
    "(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n\ttypeof define === 'function' && define.amd ? define(factory) :\n\t(global.immediate = factory());\n}(this, (function () { 'use strict';\n\nvar context = (function () {\n  /* eslint no-eval: 0 */\n  return this || (1, eval)('this');\n})();\n\n// @see http://codeforhire.com/2013/09/21/setimmediate-and-messagechannel-broken-on-internet-explorer-10/\nvar useNative = (function () {\n  return !(context.navigator && /Trident|Edge/.test(context.navigator.userAgent));\n})();\n\nvar nextId = 1;\nvar lock = false;\nvar TASKS = {};\n\nfunction wrap(handler) {\n  var args = Array.prototype.slice.call(arguments, 1);\n  var len = args.length;\n\n  return !len ? function () {\n    return handler.call(undefined);\n  } : len === 1 ? function () {\n    return handler.call(undefined, args[0]);\n  } : len === 2 ? function () {\n    return handler.call(undefined, args[0], args[1]);\n  } : len === 3 ? function () {\n    return handler.call(undefined, args[0], args[1], args[2]);\n  } : function () {\n    return handler.apply(undefined, args);\n  };\n}\n\nfunction create(args) {\n  TASKS[nextId] = wrap.apply(undefined, args);\n  return nextId++;\n}\n\nfunction clear(handleId) {\n  delete TASKS[handleId];\n}\n\nfunction run(handleId) {\n  if (lock) {\n    context.setTimeout(wrap(run, handleId), 0);\n  } else {\n    var task = TASKS[handleId];\n\n    if (task) {\n      lock = true;\n\n      try {\n        task();\n      } finally {\n        clear(handleId);\n        lock = false;\n      }\n    }\n  }\n}\n\nfunction init() {\n  var polifill = function polifill() {\n    var handleId = create(arguments);\n    context.setTimeout(wrap(run, handleId), 0);\n    return handleId;\n  };\n\n  polifill.usePolifill = 'setTimeout';\n\n  return polifill;\n}\n\nfunction canUse() {\n  return 'setTimeout' in context;\n}\n\nvar setTimeoutPolifill = Object.freeze({\n\tinit: init,\n\tcanUse: canUse\n});\n\nfunction init$1() {\n  var polifill = function polifill() {\n    var handleId = create(arguments);\n    context.process.nextTick(wrap(run, handleId));\n    return handleId;\n  };\n\n  polifill.usePolifill = 'nextTick';\n\n  return polifill;\n}\n\n// Don't get fooled by e.g. browserify environments.\n// For Node.js before 0.9\nfunction canUse$1() {\n  return Object.prototype.toString.call(context.process) === '[object process]';\n}\n\nvar nextTickPolifill = Object.freeze({\n\tinit: init$1,\n\tcanUse: canUse$1\n});\n\nfunction init$2() {\n  var messagePrefix = 'setImmediate$' + Math.random() + '$';\n\n  var onGlobalMessage = function onGlobalMessage(event) {\n    if (event.source === context && typeof event.data === 'string' && event.data.indexOf(messagePrefix) === 0) {\n\n      run(Number(event.data.slice(messagePrefix.length)));\n    }\n  };\n\n  if (context.addEventListener) {\n    context.addEventListener('message', onGlobalMessage, false);\n  } else {\n    context.attachEvent('onmessage', onGlobalMessage);\n  }\n\n  var polifill = function polifill() {\n    var handleId = create(arguments);\n    context.postMessage(messagePrefix + handleId, '*');\n    return handleId;\n  };\n\n  polifill.usePolifill = 'postMessage';\n\n  return polifill;\n}\n\n// For non-IE10 modern browsers\nfunction canUse$2() {\n  if (context.importScripts || !context.postMessage) {\n    return false;\n  }\n\n  if (context.navigator && /Chrome/.test(context.navigator.userAgent)) {\n    //skip this method due to heavy minor GC on heavy use.\n    return false;\n  }\n\n  var asynch = true;\n  var oldOnMessage = context.onmessage;\n  context.onmessage = function () {\n    asynch = false;\n  };\n\n  context.postMessage('', '*');\n  context.onmessage = oldOnMessage;\n  return asynch;\n}\n\nvar postMessagePolifill = Object.freeze({\n\tinit: init$2,\n\tcanUse: canUse$2\n});\n\nfunction init$3() {\n  var channel = new context.MessageChannel();\n\n  channel.port1.onmessage = function (event) {\n    run(Number(event.data));\n  };\n\n  var polifill = function polifill() {\n    var handleId = create(arguments);\n    channel.port2.postMessage(handleId);\n    return handleId;\n  };\n\n  polifill.usePolifill = 'messageChannel';\n\n  return polifill;\n}\n\n// For web workers, where supported\nfunction canUse$3() {\n  return Boolean(context.MessageChannel);\n}\n\nvar messageChannelPolifill = Object.freeze({\n\tinit: init$3,\n\tcanUse: canUse$3\n});\n\nfunction init$4() {\n  var html = context.document.documentElement;\n\n  var polifill = function polifill() {\n    var handleId = create(arguments);\n    var script = context.document.createElement('script');\n\n    script.onreadystatechange = function () {\n      run(handleId);\n      script.onreadystatechange = null;\n      html.removeChild(script);\n      script = null;\n    };\n\n    html.appendChild(script);\n    return handleId;\n  };\n\n  polifill.usePolifill = 'readyStateChange';\n\n  return polifill;\n}\n\n// For IE 6–8\nfunction canUse$4() {\n  return context.document && 'onreadystatechange' in context.document.createElement('script');\n}\n\nvar readyStateChangePolifill = Object.freeze({\n\tinit: init$4,\n\tcanUse: canUse$4\n});\n\nvar POLIFILLS = [nextTickPolifill, postMessagePolifill, messageChannelPolifill, readyStateChangePolifill];\n\nvar setImmediate = useNative ? context.setImmediate || context.msSetImmediate || usePolifill(POLIFILLS, setTimeoutPolifill) : init();\n\nvar clearImmediate = useNative ? context.clearImmediate || context.msClearImmediate || clear : clear;\n\nfunction polifill() {\n  if (context.setImmediate !== setImmediate) {\n    context.setImmediate = setImmediate;\n    context.msSetImmediate = setImmediate;\n    context.clearImmediate = clearImmediate;\n    context.msClearImmediate = clearImmediate;\n  }\n}\n\nfunction usePolifill(list, def) {\n  for (var i = 0; i < list.length; i++) {\n    var _polifill = list[i];\n    if (_polifill.canUse()) {\n      return _polifill.init();\n    }\n  }\n\n  return def.init();\n}\n\nvar index = {\n  setImmediate: setImmediate,\n  clearImmediate: clearImmediate,\n  polifill: polifill\n};\n\nreturn index;\n\n})));\n//# sourceMappingURL=setImmediate.js.map\n",
    "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar nativeThumbulator = require(\"./native/thumbulator\");\nvar Thumbulator = (function () {\n    function Thumbulator(bus, options) {\n        if (options === void 0) { options = {}; }\n        this._module = null;\n        this._options = null;\n        this._options = tslib_1.__assign({ stopAddress: 0 }, options);\n        this._module = nativeThumbulator(this._getApi(bus, this._options));\n        this.enableDebug(false);\n    }\n    Thumbulator.prototype.init = function () {\n        return tslib_1.__awaiter(this, void 0, void 0, function () {\n            return tslib_1.__generator(this, function (_a) {\n                this._module._set_stop_address(this._options.stopAddress);\n                return [2];\n            });\n        });\n    };\n    Thumbulator.prototype.ping = function () {\n        return this._module.ccall('ping', 'string', [], []);\n    };\n    Thumbulator.prototype.run = function (cycles) {\n        return this._module._run(cycles);\n    };\n    Thumbulator.prototype.abort = function () {\n        this._module._abort_run();\n    };\n    Thumbulator.prototype.enableDebug = function (enable) {\n        this._module._enable_debug(enable ? 1 : 0);\n    };\n    Thumbulator.prototype.reset = function () {\n        this._module._reset();\n    };\n    Thumbulator.prototype.readRegister = function (register) {\n        if (register < 0 || register > 15) {\n            throw new Error(\"illegal thumb register \" + register);\n        }\n        return this._module._read_register(register);\n    };\n    Thumbulator.prototype.writeRegister = function (register, value) {\n        if (register < 0 || register > 15) {\n            throw new Error(\"illegal thumb register \" + register);\n        }\n        this._module._write_register(register, value);\n    };\n    Thumbulator.prototype._getApi = function (bus, options) {\n        var printer = options.printer || (function (data) { return console.log('thumbulator: ' + data); });\n        return {\n            print: printer,\n            printErr: printer,\n            trapOnInstructionFetch: options.trapOnInstructionFetch || (function () { return 0; }),\n            trapOnBx32: options.trapOnBx32 || (function () { return 3; }),\n            busRead16: bus.read16,\n            busRead32: bus.read32 || (function (address) { return (bus.read16(address) & 0xffff) | (bus.read16(address + 2) << 16); }),\n            busWrite16: bus.write16,\n            busWrite32: bus.write32 ||\n                (function (address, value) { return (bus.write16(address, value & 0xffff), bus.write16(address + 2, value >>> 16)); })\n        };\n    };\n    return Thumbulator;\n}());\nexports.default = Thumbulator;\n",
    "var Module = function(Module) {\n  Module = Module || {};\n  var Module = Module;\n\nvar Module;if(!Module)Module=(typeof Module!==\"undefined\"?Module:null)||{};var moduleOverrides={};for(var key in Module){if(Module.hasOwnProperty(key)){moduleOverrides[key]=Module[key]}}var ENVIRONMENT_IS_WEB=false;var ENVIRONMENT_IS_WORKER=false;var ENVIRONMENT_IS_NODE=false;var ENVIRONMENT_IS_SHELL=false;if(Module[\"ENVIRONMENT\"]){if(Module[\"ENVIRONMENT\"]===\"WEB\"){ENVIRONMENT_IS_WEB=true}else if(Module[\"ENVIRONMENT\"]===\"WORKER\"){ENVIRONMENT_IS_WORKER=true}else if(Module[\"ENVIRONMENT\"]===\"NODE\"){ENVIRONMENT_IS_NODE=true}else if(Module[\"ENVIRONMENT\"]===\"SHELL\"){ENVIRONMENT_IS_SHELL=true}else{throw new Error(\"The provided Module['ENVIRONMENT'] value is not valid. It must be one of: WEB|WORKER|NODE|SHELL.\")}}else{ENVIRONMENT_IS_WEB=typeof window===\"object\";ENVIRONMENT_IS_WORKER=typeof importScripts===\"function\";ENVIRONMENT_IS_NODE=typeof process===\"object\"&&typeof require===\"function\"&&!ENVIRONMENT_IS_WEB&&!ENVIRONMENT_IS_WORKER;ENVIRONMENT_IS_SHELL=!ENVIRONMENT_IS_WEB&&!ENVIRONMENT_IS_NODE&&!ENVIRONMENT_IS_WORKER}if(ENVIRONMENT_IS_NODE){if(!Module[\"print\"])Module[\"print\"]=console.log;if(!Module[\"printErr\"])Module[\"printErr\"]=console.warn;var nodeFS;var nodePath;Module[\"read\"]=function shell_read(filename,binary){if(!nodeFS)nodeFS=require(\"fs\");if(!nodePath)nodePath=require(\"path\");filename=nodePath[\"normalize\"](filename);var ret=nodeFS[\"readFileSync\"](filename);return binary?ret:ret.toString()};Module[\"readBinary\"]=function readBinary(filename){var ret=Module[\"read\"](filename,true);if(!ret.buffer){ret=new Uint8Array(ret)}assert(ret.buffer);return ret};Module[\"load\"]=function load(f){globalEval(read(f))};if(!Module[\"thisProgram\"]){if(process[\"argv\"].length>1){Module[\"thisProgram\"]=process[\"argv\"][1].replace(/\\\\/g,\"/\")}else{Module[\"thisProgram\"]=\"unknown-program\"}}Module[\"arguments\"]=process[\"argv\"].slice(2);Module[\"inspect\"]=(function(){return\"[Emscripten Module object]\"})}else if(ENVIRONMENT_IS_SHELL){if(!Module[\"print\"])Module[\"print\"]=print;if(typeof printErr!=\"undefined\")Module[\"printErr\"]=printErr;if(typeof read!=\"undefined\"){Module[\"read\"]=read}else{Module[\"read\"]=function shell_read(){throw\"no read() available\"}}Module[\"readBinary\"]=function readBinary(f){if(typeof readbuffer===\"function\"){return new Uint8Array(readbuffer(f))}var data=read(f,\"binary\");assert(typeof data===\"object\");return data};if(typeof scriptArgs!=\"undefined\"){Module[\"arguments\"]=scriptArgs}else if(typeof arguments!=\"undefined\"){Module[\"arguments\"]=arguments}if(typeof quit===\"function\"){Module[\"quit\"]=(function(status,toThrow){quit(status)})}}else if(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER){Module[\"read\"]=function shell_read(url){var xhr=new XMLHttpRequest;xhr.open(\"GET\",url,false);xhr.send(null);return xhr.responseText};if(ENVIRONMENT_IS_WORKER){Module[\"readBinary\"]=function readBinary(url){var xhr=new XMLHttpRequest;xhr.open(\"GET\",url,false);xhr.responseType=\"arraybuffer\";xhr.send(null);return new Uint8Array(xhr.response)}}Module[\"readAsync\"]=function readAsync(url,onload,onerror){var xhr=new XMLHttpRequest;xhr.open(\"GET\",url,true);xhr.responseType=\"arraybuffer\";xhr.onload=function xhr_onload(){if(xhr.status==200||xhr.status==0&&xhr.response){onload(xhr.response)}else{onerror()}};xhr.onerror=onerror;xhr.send(null)};if(typeof arguments!=\"undefined\"){Module[\"arguments\"]=arguments}if(typeof console!==\"undefined\"){if(!Module[\"print\"])Module[\"print\"]=function shell_print(x){console.log(x)};if(!Module[\"printErr\"])Module[\"printErr\"]=function shell_printErr(x){console.warn(x)}}else{var TRY_USE_DUMP=false;if(!Module[\"print\"])Module[\"print\"]=TRY_USE_DUMP&&typeof dump!==\"undefined\"?(function(x){dump(x)}):(function(x){})}if(ENVIRONMENT_IS_WORKER){Module[\"load\"]=importScripts}if(typeof Module[\"setWindowTitle\"]===\"undefined\"){Module[\"setWindowTitle\"]=(function(title){document.title=title})}}else{throw\"Unknown runtime environment. Where are we?\"}function globalEval(x){eval.call(null,x)}if(!Module[\"load\"]&&Module[\"read\"]){Module[\"load\"]=function load(f){globalEval(Module[\"read\"](f))}}if(!Module[\"print\"]){Module[\"print\"]=(function(){})}if(!Module[\"printErr\"]){Module[\"printErr\"]=Module[\"print\"]}if(!Module[\"arguments\"]){Module[\"arguments\"]=[]}if(!Module[\"thisProgram\"]){Module[\"thisProgram\"]=\"./this.program\"}if(!Module[\"quit\"]){Module[\"quit\"]=(function(status,toThrow){throw toThrow})}Module.print=Module[\"print\"];Module.printErr=Module[\"printErr\"];Module[\"preRun\"]=[];Module[\"postRun\"]=[];for(var key in moduleOverrides){if(moduleOverrides.hasOwnProperty(key)){Module[key]=moduleOverrides[key]}}moduleOverrides=undefined;var Runtime={setTempRet0:(function(value){tempRet0=value;return value}),getTempRet0:(function(){return tempRet0}),stackSave:(function(){return STACKTOP}),stackRestore:(function(stackTop){STACKTOP=stackTop}),getNativeTypeSize:(function(type){switch(type){case\"i1\":case\"i8\":return 1;case\"i16\":return 2;case\"i32\":return 4;case\"i64\":return 8;case\"float\":return 4;case\"double\":return 8;default:{if(type[type.length-1]===\"*\"){return Runtime.QUANTUM_SIZE}else if(type[0]===\"i\"){var bits=parseInt(type.substr(1));assert(bits%8===0);return bits/8}else{return 0}}}}),getNativeFieldSize:(function(type){return Math.max(Runtime.getNativeTypeSize(type),Runtime.QUANTUM_SIZE)}),STACK_ALIGN:16,prepVararg:(function(ptr,type){if(type===\"double\"||type===\"i64\"){if(ptr&7){assert((ptr&7)===4);ptr+=4}}else{assert((ptr&3)===0)}return ptr}),getAlignSize:(function(type,size,vararg){if(!vararg&&(type==\"i64\"||type==\"double\"))return 8;if(!type)return Math.min(size,8);return Math.min(size||(type?Runtime.getNativeFieldSize(type):0),Runtime.QUANTUM_SIZE)}),dynCall:(function(sig,ptr,args){if(args&&args.length){return Module[\"dynCall_\"+sig].apply(null,[ptr].concat(args))}else{return Module[\"dynCall_\"+sig].call(null,ptr)}}),functionPointers:[],addFunction:(function(func){for(var i=0;i<Runtime.functionPointers.length;i++){if(!Runtime.functionPointers[i]){Runtime.functionPointers[i]=func;return 2*(1+i)}}throw\"Finished up all reserved function pointers. Use a higher value for RESERVED_FUNCTION_POINTERS.\"}),removeFunction:(function(index){Runtime.functionPointers[(index-2)/2]=null}),warnOnce:(function(text){if(!Runtime.warnOnce.shown)Runtime.warnOnce.shown={};if(!Runtime.warnOnce.shown[text]){Runtime.warnOnce.shown[text]=1;Module.printErr(text)}}),funcWrappers:{},getFuncWrapper:(function(func,sig){if(!func)return;assert(sig);if(!Runtime.funcWrappers[sig]){Runtime.funcWrappers[sig]={}}var sigCache=Runtime.funcWrappers[sig];if(!sigCache[func]){if(sig.length===1){sigCache[func]=function dynCall_wrapper(){return Runtime.dynCall(sig,func)}}else if(sig.length===2){sigCache[func]=function dynCall_wrapper(arg){return Runtime.dynCall(sig,func,[arg])}}else{sigCache[func]=function dynCall_wrapper(){return Runtime.dynCall(sig,func,Array.prototype.slice.call(arguments))}}}return sigCache[func]}),getCompilerSetting:(function(name){throw\"You must build with -s RETAIN_COMPILER_SETTINGS=1 for Runtime.getCompilerSetting or emscripten_get_compiler_setting to work\"}),stackAlloc:(function(size){var ret=STACKTOP;STACKTOP=STACKTOP+size|0;STACKTOP=STACKTOP+15&-16;return ret}),staticAlloc:(function(size){var ret=STATICTOP;STATICTOP=STATICTOP+size|0;STATICTOP=STATICTOP+15&-16;return ret}),dynamicAlloc:(function(size){var ret=HEAP32[DYNAMICTOP_PTR>>2];var end=(ret+size+15|0)&-16;HEAP32[DYNAMICTOP_PTR>>2]=end;if(end>=TOTAL_MEMORY){var success=enlargeMemory();if(!success){HEAP32[DYNAMICTOP_PTR>>2]=ret;return 0}}return ret}),alignMemory:(function(size,quantum){var ret=size=Math.ceil(size/(quantum?quantum:16))*(quantum?quantum:16);return ret}),makeBigInt:(function(low,high,unsigned){var ret=unsigned?+(low>>>0)+ +(high>>>0)*+4294967296:+(low>>>0)+ +(high|0)*+4294967296;return ret}),GLOBAL_BASE:8,QUANTUM_SIZE:4,__dummy__:0};Module[\"Runtime\"]=Runtime;var ABORT=0;var EXITSTATUS=0;function assert(condition,text){if(!condition){abort(\"Assertion failed: \"+text)}}function getCFunc(ident){var func=Module[\"_\"+ident];if(!func){try{func=eval(\"_\"+ident)}catch(e){}}assert(func,\"Cannot call unknown function \"+ident+\" (perhaps LLVM optimizations or closure removed it?)\");return func}var cwrap,ccall;((function(){var JSfuncs={\"stackSave\":(function(){Runtime.stackSave()}),\"stackRestore\":(function(){Runtime.stackRestore()}),\"arrayToC\":(function(arr){var ret=Runtime.stackAlloc(arr.length);writeArrayToMemory(arr,ret);return ret}),\"stringToC\":(function(str){var ret=0;if(str!==null&&str!==undefined&&str!==0){var len=(str.length<<2)+1;ret=Runtime.stackAlloc(len);stringToUTF8(str,ret,len)}return ret})};var toC={\"string\":JSfuncs[\"stringToC\"],\"array\":JSfuncs[\"arrayToC\"]};ccall=function ccallFunc(ident,returnType,argTypes,args,opts){var func=getCFunc(ident);var cArgs=[];var stack=0;if(args){for(var i=0;i<args.length;i++){var converter=toC[argTypes[i]];if(converter){if(stack===0)stack=Runtime.stackSave();cArgs[i]=converter(args[i])}else{cArgs[i]=args[i]}}}var ret=func.apply(null,cArgs);if(returnType===\"string\")ret=Pointer_stringify(ret);if(stack!==0){if(opts&&opts.async){EmterpreterAsync.asyncFinalizers.push((function(){Runtime.stackRestore(stack)}));return}Runtime.stackRestore(stack)}return ret};var sourceRegex=/^function\\s*[a-zA-Z$_0-9]*\\s*\\(([^)]*)\\)\\s*{\\s*([^*]*?)[\\s;]*(?:return\\s*(.*?)[;\\s]*)?}$/;function parseJSFunc(jsfunc){var parsed=jsfunc.toString().match(sourceRegex).slice(1);return{arguments:parsed[0],body:parsed[1],returnValue:parsed[2]}}var JSsource=null;function ensureJSsource(){if(!JSsource){JSsource={};for(var fun in JSfuncs){if(JSfuncs.hasOwnProperty(fun)){JSsource[fun]=parseJSFunc(JSfuncs[fun])}}}}cwrap=function cwrap(ident,returnType,argTypes){argTypes=argTypes||[];var cfunc=getCFunc(ident);var numericArgs=argTypes.every((function(type){return type===\"number\"}));var numericRet=returnType!==\"string\";if(numericRet&&numericArgs){return cfunc}var argNames=argTypes.map((function(x,i){return\"$\"+i}));var funcstr=\"(function(\"+argNames.join(\",\")+\") {\";var nargs=argTypes.length;if(!numericArgs){ensureJSsource();funcstr+=\"var stack = \"+JSsource[\"stackSave\"].body+\";\";for(var i=0;i<nargs;i++){var arg=argNames[i],type=argTypes[i];if(type===\"number\")continue;var convertCode=JSsource[type+\"ToC\"];funcstr+=\"var \"+convertCode.arguments+\" = \"+arg+\";\";funcstr+=convertCode.body+\";\";funcstr+=arg+\"=(\"+convertCode.returnValue+\");\"}}var cfuncname=parseJSFunc((function(){return cfunc})).returnValue;funcstr+=\"var ret = \"+cfuncname+\"(\"+argNames.join(\",\")+\");\";if(!numericRet){var strgfy=parseJSFunc((function(){return Pointer_stringify})).returnValue;funcstr+=\"ret = \"+strgfy+\"(ret);\"}if(!numericArgs){ensureJSsource();funcstr+=JSsource[\"stackRestore\"].body.replace(\"()\",\"(stack)\")+\";\"}funcstr+=\"return ret})\";return eval(funcstr)}}))();Module[\"ccall\"]=ccall;Module[\"cwrap\"]=cwrap;function setValue(ptr,value,type,noSafe){type=type||\"i8\";if(type.charAt(type.length-1)===\"*\")type=\"i32\";switch(type){case\"i1\":HEAP8[ptr>>0]=value;break;case\"i8\":HEAP8[ptr>>0]=value;break;case\"i16\":HEAP16[ptr>>1]=value;break;case\"i32\":HEAP32[ptr>>2]=value;break;case\"i64\":tempI64=[value>>>0,(tempDouble=value,+Math_abs(tempDouble)>=+1?tempDouble>+0?(Math_min(+Math_floor(tempDouble/+4294967296),+4294967295)|0)>>>0:~~+Math_ceil((tempDouble- +(~~tempDouble>>>0))/+4294967296)>>>0:0)],HEAP32[ptr>>2]=tempI64[0],HEAP32[ptr+4>>2]=tempI64[1];break;case\"float\":HEAPF32[ptr>>2]=value;break;case\"double\":HEAPF64[ptr>>3]=value;break;default:abort(\"invalid type for setValue: \"+type)}}Module[\"setValue\"]=setValue;function getValue(ptr,type,noSafe){type=type||\"i8\";if(type.charAt(type.length-1)===\"*\")type=\"i32\";switch(type){case\"i1\":return HEAP8[ptr>>0];case\"i8\":return HEAP8[ptr>>0];case\"i16\":return HEAP16[ptr>>1];case\"i32\":return HEAP32[ptr>>2];case\"i64\":return HEAP32[ptr>>2];case\"float\":return HEAPF32[ptr>>2];case\"double\":return HEAPF64[ptr>>3];default:abort(\"invalid type for setValue: \"+type)}return null}Module[\"getValue\"]=getValue;var ALLOC_NORMAL=0;var ALLOC_STACK=1;var ALLOC_STATIC=2;var ALLOC_DYNAMIC=3;var ALLOC_NONE=4;Module[\"ALLOC_NORMAL\"]=ALLOC_NORMAL;Module[\"ALLOC_STACK\"]=ALLOC_STACK;Module[\"ALLOC_STATIC\"]=ALLOC_STATIC;Module[\"ALLOC_DYNAMIC\"]=ALLOC_DYNAMIC;Module[\"ALLOC_NONE\"]=ALLOC_NONE;function allocate(slab,types,allocator,ptr){var zeroinit,size;if(typeof slab===\"number\"){zeroinit=true;size=slab}else{zeroinit=false;size=slab.length}var singleType=typeof types===\"string\"?types:null;var ret;if(allocator==ALLOC_NONE){ret=ptr}else{ret=[typeof _malloc===\"function\"?_malloc:Runtime.staticAlloc,Runtime.stackAlloc,Runtime.staticAlloc,Runtime.dynamicAlloc][allocator===undefined?ALLOC_STATIC:allocator](Math.max(size,singleType?1:types.length))}if(zeroinit){var ptr=ret,stop;assert((ret&3)==0);stop=ret+(size&~3);for(;ptr<stop;ptr+=4){HEAP32[ptr>>2]=0}stop=ret+size;while(ptr<stop){HEAP8[ptr++>>0]=0}return ret}if(singleType===\"i8\"){if(slab.subarray||slab.slice){HEAPU8.set(slab,ret)}else{HEAPU8.set(new Uint8Array(slab),ret)}return ret}var i=0,type,typeSize,previousType;while(i<size){var curr=slab[i];if(typeof curr===\"function\"){curr=Runtime.getFunctionIndex(curr)}type=singleType||types[i];if(type===0){i++;continue}if(type==\"i64\")type=\"i32\";setValue(ret+i,curr,type);if(previousType!==type){typeSize=Runtime.getNativeTypeSize(type);previousType=type}i+=typeSize}return ret}Module[\"allocate\"]=allocate;function getMemory(size){if(!staticSealed)return Runtime.staticAlloc(size);if(!runtimeInitialized)return Runtime.dynamicAlloc(size);return _malloc(size)}Module[\"getMemory\"]=getMemory;function Pointer_stringify(ptr,length){if(length===0||!ptr)return\"\";var hasUtf=0;var t;var i=0;while(1){t=HEAPU8[ptr+i>>0];hasUtf|=t;if(t==0&&!length)break;i++;if(length&&i==length)break}if(!length)length=i;var ret=\"\";if(hasUtf<128){var MAX_CHUNK=1024;var curr;while(length>0){curr=String.fromCharCode.apply(String,HEAPU8.subarray(ptr,ptr+Math.min(length,MAX_CHUNK)));ret=ret?ret+curr:curr;ptr+=MAX_CHUNK;length-=MAX_CHUNK}return ret}return Module[\"UTF8ToString\"](ptr)}Module[\"Pointer_stringify\"]=Pointer_stringify;function AsciiToString(ptr){var str=\"\";while(1){var ch=HEAP8[ptr++>>0];if(!ch)return str;str+=String.fromCharCode(ch)}}Module[\"AsciiToString\"]=AsciiToString;function stringToAscii(str,outPtr){return writeAsciiToMemory(str,outPtr,false)}Module[\"stringToAscii\"]=stringToAscii;var UTF8Decoder=typeof TextDecoder!==\"undefined\"?new TextDecoder(\"utf8\"):undefined;function UTF8ArrayToString(u8Array,idx){var endPtr=idx;while(u8Array[endPtr])++endPtr;if(endPtr-idx>16&&u8Array.subarray&&UTF8Decoder){return UTF8Decoder.decode(u8Array.subarray(idx,endPtr))}else{var u0,u1,u2,u3,u4,u5;var str=\"\";while(1){u0=u8Array[idx++];if(!u0)return str;if(!(u0&128)){str+=String.fromCharCode(u0);continue}u1=u8Array[idx++]&63;if((u0&224)==192){str+=String.fromCharCode((u0&31)<<6|u1);continue}u2=u8Array[idx++]&63;if((u0&240)==224){u0=(u0&15)<<12|u1<<6|u2}else{u3=u8Array[idx++]&63;if((u0&248)==240){u0=(u0&7)<<18|u1<<12|u2<<6|u3}else{u4=u8Array[idx++]&63;if((u0&252)==248){u0=(u0&3)<<24|u1<<18|u2<<12|u3<<6|u4}else{u5=u8Array[idx++]&63;u0=(u0&1)<<30|u1<<24|u2<<18|u3<<12|u4<<6|u5}}}if(u0<65536){str+=String.fromCharCode(u0)}else{var ch=u0-65536;str+=String.fromCharCode(55296|ch>>10,56320|ch&1023)}}}}Module[\"UTF8ArrayToString\"]=UTF8ArrayToString;function UTF8ToString(ptr){return UTF8ArrayToString(HEAPU8,ptr)}Module[\"UTF8ToString\"]=UTF8ToString;function stringToUTF8Array(str,outU8Array,outIdx,maxBytesToWrite){if(!(maxBytesToWrite>0))return 0;var startIdx=outIdx;var endIdx=outIdx+maxBytesToWrite-1;for(var i=0;i<str.length;++i){var u=str.charCodeAt(i);if(u>=55296&&u<=57343)u=65536+((u&1023)<<10)|str.charCodeAt(++i)&1023;if(u<=127){if(outIdx>=endIdx)break;outU8Array[outIdx++]=u}else if(u<=2047){if(outIdx+1>=endIdx)break;outU8Array[outIdx++]=192|u>>6;outU8Array[outIdx++]=128|u&63}else if(u<=65535){if(outIdx+2>=endIdx)break;outU8Array[outIdx++]=224|u>>12;outU8Array[outIdx++]=128|u>>6&63;outU8Array[outIdx++]=128|u&63}else if(u<=2097151){if(outIdx+3>=endIdx)break;outU8Array[outIdx++]=240|u>>18;outU8Array[outIdx++]=128|u>>12&63;outU8Array[outIdx++]=128|u>>6&63;outU8Array[outIdx++]=128|u&63}else if(u<=67108863){if(outIdx+4>=endIdx)break;outU8Array[outIdx++]=248|u>>24;outU8Array[outIdx++]=128|u>>18&63;outU8Array[outIdx++]=128|u>>12&63;outU8Array[outIdx++]=128|u>>6&63;outU8Array[outIdx++]=128|u&63}else{if(outIdx+5>=endIdx)break;outU8Array[outIdx++]=252|u>>30;outU8Array[outIdx++]=128|u>>24&63;outU8Array[outIdx++]=128|u>>18&63;outU8Array[outIdx++]=128|u>>12&63;outU8Array[outIdx++]=128|u>>6&63;outU8Array[outIdx++]=128|u&63}}outU8Array[outIdx]=0;return outIdx-startIdx}Module[\"stringToUTF8Array\"]=stringToUTF8Array;function stringToUTF8(str,outPtr,maxBytesToWrite){return stringToUTF8Array(str,HEAPU8,outPtr,maxBytesToWrite)}Module[\"stringToUTF8\"]=stringToUTF8;function lengthBytesUTF8(str){var len=0;for(var i=0;i<str.length;++i){var u=str.charCodeAt(i);if(u>=55296&&u<=57343)u=65536+((u&1023)<<10)|str.charCodeAt(++i)&1023;if(u<=127){++len}else if(u<=2047){len+=2}else if(u<=65535){len+=3}else if(u<=2097151){len+=4}else if(u<=67108863){len+=5}else{len+=6}}return len}Module[\"lengthBytesUTF8\"]=lengthBytesUTF8;var UTF16Decoder=typeof TextDecoder!==\"undefined\"?new TextDecoder(\"utf-16le\"):undefined;function demangle(func){var __cxa_demangle_func=Module[\"___cxa_demangle\"]||Module[\"__cxa_demangle\"];if(__cxa_demangle_func){try{var s=func.substr(1);var len=lengthBytesUTF8(s)+1;var buf=_malloc(len);stringToUTF8(s,buf,len);var status=_malloc(4);var ret=__cxa_demangle_func(buf,0,0,status);if(getValue(status,\"i32\")===0&&ret){return Pointer_stringify(ret)}}catch(e){}finally{if(buf)_free(buf);if(status)_free(status);if(ret)_free(ret)}return func}Runtime.warnOnce(\"warning: build with  -s DEMANGLE_SUPPORT=1  to link in libcxxabi demangling\");return func}function demangleAll(text){var regex=/__Z[\\w\\d_]+/g;return text.replace(regex,(function(x){var y=demangle(x);return x===y?x:x+\" [\"+y+\"]\"}))}function jsStackTrace(){var err=new Error;if(!err.stack){try{throw new Error(0)}catch(e){err=e}if(!err.stack){return\"(no stack trace available)\"}}return err.stack.toString()}function stackTrace(){var js=jsStackTrace();if(Module[\"extraStackTrace\"])js+=\"\\n\"+Module[\"extraStackTrace\"]();return demangleAll(js)}Module[\"stackTrace\"]=stackTrace;var HEAP,buffer,HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64;function updateGlobalBufferViews(){Module[\"HEAP8\"]=HEAP8=new Int8Array(buffer);Module[\"HEAP16\"]=HEAP16=new Int16Array(buffer);Module[\"HEAP32\"]=HEAP32=new Int32Array(buffer);Module[\"HEAPU8\"]=HEAPU8=new Uint8Array(buffer);Module[\"HEAPU16\"]=HEAPU16=new Uint16Array(buffer);Module[\"HEAPU32\"]=HEAPU32=new Uint32Array(buffer);Module[\"HEAPF32\"]=HEAPF32=new Float32Array(buffer);Module[\"HEAPF64\"]=HEAPF64=new Float64Array(buffer)}var STATIC_BASE,STATICTOP,staticSealed;var STACK_BASE,STACKTOP,STACK_MAX;var DYNAMIC_BASE,DYNAMICTOP_PTR;STATIC_BASE=STATICTOP=STACK_BASE=STACKTOP=STACK_MAX=DYNAMIC_BASE=DYNAMICTOP_PTR=0;staticSealed=false;function abortOnCannotGrowMemory(){abort(\"Cannot enlarge memory arrays. Either (1) compile with  -s TOTAL_MEMORY=X  with X higher than the current value \"+TOTAL_MEMORY+\", (2) compile with  -s ALLOW_MEMORY_GROWTH=1  which allows increasing the size at runtime but prevents some optimizations, (3) set Module.TOTAL_MEMORY to a higher value before the program runs, or (4) if you want malloc to return NULL (0) instead of this abort, compile with  -s ABORTING_MALLOC=0 \")}function enlargeMemory(){abortOnCannotGrowMemory()}var TOTAL_STACK=Module[\"TOTAL_STACK\"]||10240;var TOTAL_MEMORY=Module[\"TOTAL_MEMORY\"]||16777216;if(TOTAL_MEMORY<TOTAL_STACK)Module.printErr(\"TOTAL_MEMORY should be larger than TOTAL_STACK, was \"+TOTAL_MEMORY+\"! (TOTAL_STACK=\"+TOTAL_STACK+\")\");if(Module[\"buffer\"]){buffer=Module[\"buffer\"]}else{{buffer=new ArrayBuffer(TOTAL_MEMORY)}}updateGlobalBufferViews();function getTotalMemory(){return TOTAL_MEMORY}HEAP32[0]=1668509029;HEAP16[1]=25459;if(HEAPU8[2]!==115||HEAPU8[3]!==99)throw\"Runtime error: expected the system to be little-endian!\";Module[\"HEAP\"]=HEAP;Module[\"buffer\"]=buffer;Module[\"HEAP8\"]=HEAP8;Module[\"HEAP16\"]=HEAP16;Module[\"HEAP32\"]=HEAP32;Module[\"HEAPU8\"]=HEAPU8;Module[\"HEAPU16\"]=HEAPU16;Module[\"HEAPU32\"]=HEAPU32;Module[\"HEAPF32\"]=HEAPF32;Module[\"HEAPF64\"]=HEAPF64;function callRuntimeCallbacks(callbacks){while(callbacks.length>0){var callback=callbacks.shift();if(typeof callback==\"function\"){callback();continue}var func=callback.func;if(typeof func===\"number\"){if(callback.arg===undefined){Module[\"dynCall_v\"](func)}else{Module[\"dynCall_vi\"](func,callback.arg)}}else{func(callback.arg===undefined?null:callback.arg)}}}var __ATPRERUN__=[];var __ATINIT__=[];var __ATMAIN__=[];var __ATEXIT__=[];var __ATPOSTRUN__=[];var runtimeInitialized=false;var runtimeExited=false;function preRun(){if(Module[\"preRun\"]){if(typeof Module[\"preRun\"]==\"function\")Module[\"preRun\"]=[Module[\"preRun\"]];while(Module[\"preRun\"].length){addOnPreRun(Module[\"preRun\"].shift())}}callRuntimeCallbacks(__ATPRERUN__)}function ensureInitRuntime(){if(runtimeInitialized)return;runtimeInitialized=true;callRuntimeCallbacks(__ATINIT__)}function preMain(){callRuntimeCallbacks(__ATMAIN__)}function exitRuntime(){callRuntimeCallbacks(__ATEXIT__);runtimeExited=true}function postRun(){if(Module[\"postRun\"]){if(typeof Module[\"postRun\"]==\"function\")Module[\"postRun\"]=[Module[\"postRun\"]];while(Module[\"postRun\"].length){addOnPostRun(Module[\"postRun\"].shift())}}callRuntimeCallbacks(__ATPOSTRUN__)}function addOnPreRun(cb){__ATPRERUN__.unshift(cb)}Module[\"addOnPreRun\"]=addOnPreRun;function addOnInit(cb){__ATINIT__.unshift(cb)}Module[\"addOnInit\"]=addOnInit;function addOnPreMain(cb){__ATMAIN__.unshift(cb)}Module[\"addOnPreMain\"]=addOnPreMain;function addOnExit(cb){__ATEXIT__.unshift(cb)}Module[\"addOnExit\"]=addOnExit;function addOnPostRun(cb){__ATPOSTRUN__.unshift(cb)}Module[\"addOnPostRun\"]=addOnPostRun;function intArrayFromString(stringy,dontAddNull,length){var len=length>0?length:lengthBytesUTF8(stringy)+1;var u8array=new Array(len);var numBytesWritten=stringToUTF8Array(stringy,u8array,0,u8array.length);if(dontAddNull)u8array.length=numBytesWritten;return u8array}Module[\"intArrayFromString\"]=intArrayFromString;function intArrayToString(array){var ret=[];for(var i=0;i<array.length;i++){var chr=array[i];if(chr>255){chr&=255}ret.push(String.fromCharCode(chr))}return ret.join(\"\")}Module[\"intArrayToString\"]=intArrayToString;function writeStringToMemory(string,buffer,dontAddNull){Runtime.warnOnce(\"writeStringToMemory is deprecated and should not be called! Use stringToUTF8() instead!\");var lastChar,end;if(dontAddNull){end=buffer+lengthBytesUTF8(string);lastChar=HEAP8[end]}stringToUTF8(string,buffer,Infinity);if(dontAddNull)HEAP8[end]=lastChar}Module[\"writeStringToMemory\"]=writeStringToMemory;function writeArrayToMemory(array,buffer){HEAP8.set(array,buffer)}Module[\"writeArrayToMemory\"]=writeArrayToMemory;function writeAsciiToMemory(str,buffer,dontAddNull){for(var i=0;i<str.length;++i){HEAP8[buffer++>>0]=str.charCodeAt(i)}if(!dontAddNull)HEAP8[buffer>>0]=0}Module[\"writeAsciiToMemory\"]=writeAsciiToMemory;if(!Math[\"imul\"]||Math[\"imul\"](4294967295,5)!==-5)Math[\"imul\"]=function imul(a,b){var ah=a>>>16;var al=a&65535;var bh=b>>>16;var bl=b&65535;return al*bl+(ah*bl+al*bh<<16)|0};Math.imul=Math[\"imul\"];if(!Math[\"clz32\"])Math[\"clz32\"]=(function(x){x=x>>>0;for(var i=0;i<32;i++){if(x&1<<31-i)return i}return 32});Math.clz32=Math[\"clz32\"];if(!Math[\"trunc\"])Math[\"trunc\"]=(function(x){return x<0?Math.ceil(x):Math.floor(x)});Math.trunc=Math[\"trunc\"];var Math_abs=Math.abs;var Math_cos=Math.cos;var Math_sin=Math.sin;var Math_tan=Math.tan;var Math_acos=Math.acos;var Math_asin=Math.asin;var Math_atan=Math.atan;var Math_atan2=Math.atan2;var Math_exp=Math.exp;var Math_log=Math.log;var Math_sqrt=Math.sqrt;var Math_ceil=Math.ceil;var Math_floor=Math.floor;var Math_pow=Math.pow;var Math_imul=Math.imul;var Math_fround=Math.fround;var Math_round=Math.round;var Math_min=Math.min;var Math_clz32=Math.clz32;var Math_trunc=Math.trunc;var runDependencies=0;var runDependencyWatcher=null;var dependenciesFulfilled=null;function addRunDependency(id){runDependencies++;if(Module[\"monitorRunDependencies\"]){Module[\"monitorRunDependencies\"](runDependencies)}}Module[\"addRunDependency\"]=addRunDependency;function removeRunDependency(id){runDependencies--;if(Module[\"monitorRunDependencies\"]){Module[\"monitorRunDependencies\"](runDependencies)}if(runDependencies==0){if(runDependencyWatcher!==null){clearInterval(runDependencyWatcher);runDependencyWatcher=null}if(dependenciesFulfilled){var callback=dependenciesFulfilled;dependenciesFulfilled=null;callback()}}}Module[\"removeRunDependency\"]=removeRunDependency;Module[\"preloadedImages\"]={};Module[\"preloadedAudios\"]={};var ASM_CONSTS=[(function($0){return Module.trapOnInstructionFetch($0)}),(function($0){return Module.busRead32($0)}),(function($0,$1){Module.busWrite32($0,$1)}),(function($0){return Module.busRead16($0)}),(function($0,$1){return Module.trapOnBx32($0,$1)}),(function($0,$1){Module.busWrite16($0,$1)})];function _emscripten_asm_const_ii(code,a0){return ASM_CONSTS[code](a0)}function _emscripten_asm_const_iii(code,a0,a1){return ASM_CONSTS[code](a0,a1)}STATIC_BASE=Runtime.GLOBAL_BASE;STATICTOP=STATIC_BASE+5312;__ATINIT__.push();allocate([12,0,0,0,5,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,2,0,0,0,189,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,156,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,116,104,117,109,98,117,108,97,116,111,114,0,123,32,114,101,116,117,114,110,32,77,111,100,117,108,101,46,98,117,115,82,101,97,100,49,54,40,36,48,41,59,32,125,0,123,32,114,101,116,117,114,110,32,77,111,100,117,108,101,46,98,117,115,82,101,97,100,51,50,40,36,48,41,59,32,125,0,123,32,77,111,100,117,108,101,46,98,117,115,87,114,105,116,101,49,54,40,36,48,44,32,36,49,41,59,32,125,0,123,32,77,111,100,117,108,101,46,98,117,115,87,114,105,116,101,51,50,40,36,48,44,32,36,49,41,59,32,125,0,112,99,32,104,97,115,32,108,115,98,105,116,32,115,101,116,32,48,120,37,48,56,88,10,0,123,32,114,101,116,117,114,110,32,77,111,100,117,108,101,46,116,114,97,112,79,110,73,110,115,116,114,117,99,116,105,111,110,70,101,116,99,104,40,36,48,41,59,32,125,0,45,45,45,32,48,120,37,48,56,88,58,32,48,120,37,48,52,88,32,0,97,100,99,32,114,37,117,44,114,37,117,10,0,97,100,100,115,32,114,37,117,44,114,37,117,44,35,48,120,37,88,10,0,97,100,100,115,32,114,37,117,44,35,48,120,37,48,50,88,10,0,97,100,100,115,32,114,37,117,44,114,37,117,44,114,37,117,10,0,97,100,100,32,114,37,117,44,114,37,117,10,0,97,100,100,32,112,99,44,46,46,46,32,112,114,111,100,117,99,101,100,32,97,110,32,97,114,109,32,97,100,100,114,101,115,115,32,48,120,37,48,56,88,32,48,120,37,48,56,88,10,0,97,100,100,32,114,37,117,44,80,67,44,35,48,120,37,48,50,88,10,0,97,100,100,32,114,37,117,44,83,80,44,35,48,120,37,48,50,88,10,0,97,100,100,32,83,80,44,35,48,120,37,48,50,88,10,0,97,110,100,115,32,114,37,117,44,114,37,117,10,0,97,115,114,115,32,114,37,117,44,114,37,117,44,35,48,120,37,88,10,0,97,115,114,115,32,114,37,117,44,114,37,117,10,0,98,101,113,32,48,120,37,48,56,88,10,0,98,110,101,32,48,120,37,48,56,88,10,0,98,99,115,32,48,120,37,48,56,88,10,0,98,99,99,32,48,120,37,48,56,88,10,0,98,109,105,32,48,120,37,48,56,88,10,0,98,112,108,32,48,120,37,48,56,88,10,0,98,118,115,32,48,120,37,48,56,88,10,0,98,118,99,32,48,120,37,48,56,88,10,0,98,104,105,32,48,120,37,48,56,88,10,0,98,108,115,32,48,120,37,48,56,88,10,0,98,103,101,32,48,120,37,48,56,88,10,0,98,108,116,32,48,120,37,48,56,88,10,0,98,103,116,32,48,120,37,48,56,88,10,0,98,108,101,32,48,120,37,48,56,88,10,0,66,32,48,120,37,48,56,88,10,0,98,105,99,115,32,114,37,117,44,114,37,117,10,0,98,107,112,116,32,48,120,37,48,50,88,10,0,98,108,32,48,120,37,48,56,88,10,0,98,108,120,32,114,37,117,10,0,99,97,110,110,111,116,32,98,114,97,110,99,104,32,116,111,32,97,114,109,32,48,120,37,48,56,88,32,48,120,37,48,52,88,10,0,98,120,32,114,37,117,10,0,123,32,114,101,116,117,114,110,32,77,111,100,117,108,101,46,116,114,97,112,79,110,66,120,51,50,40,36,48,44,32,36,49,41,59,32,125,0,99,109,110,115,32,114,37,117,44,114,37,117,10,0,99,109,112,32,114,37,117,44,35,48,120,37,48,50,88,10,0,99,109,112,115,32,114,37,117,44,114,37,117,10,0,99,112,115,32,84,79,68,79,10,0,99,112,121,32,114,37,117,44,114,37,117,10,0,101,111,114,115,32,114,37,117,44,114,37,117,10,0,108,100,109,105,97,32,114,37,117,33,44,123,0,114,37,117,0,125,10,0,108,100,114,32,114,37,117,44,91,114,37,117,44,35,48,120,37,88,93,10,0,108,100,114,32,114,37,117,44,91,114,37,117,44,114,37,117,93,10,0,108,100,114,32,114,37,117,44,91,80,67,43,35,48,120,37,88,93,32,0,59,64,32,48,120,37,88,10,0,108,100,114,32,114,37,117,44,91,83,80,43,35,48,120,37,88,93,10,0,108,100,114,98,32,114,37,117,44,91,114,37,117,44,35,48,120,37,88,93,10,0,108,100,114,98,32,114,37,117,44,91,114,37,117,44,114,37,117,93,10,0,108,100,114,104,32,114,37,117,44,91,114,37,117,44,35,48,120,37,88,93,10,0,108,100,114,104,32,114,37,117,44,91,114,37,117,44,114,37,117,93,10,0,108,100,114,115,98,32,114,37,117,44,91,114,37,117,44,114,37,117,93,10,0,108,100,114,115,104,32,114,37,117,44,91,114,37,117,44,114,37,117,93,10,0,108,115,108,115,32,114,37,117,44,114,37,117,44,35,48,120,37,88,10,0,108,115,108,115,32,114,37,117,44,114,37,117,10,0,108,115,114,115,32,114,37,117,44,114,37,117,44,35,48,120,37,88,10,0,108,115,114,115,32,114,37,117,44,114,37,117,10,0,109,111,118,115,32,114,37,117,44,35,48,120,37,48,50,88,10,0,109,111,118,115,32,114,37,117,44,114,37,117,10,0,109,111,118,32,114,37,117,44,114,37,117,10,0,109,117,108,115,32,114,37,117,44,114,37,117,10,0,109,118,110,115,32,114,37,117,44,114,37,117,10,0,110,101,103,115,32,114,37,117,44,114,37,117,10,0,111,114,114,115,32,114,37,117,44,114,37,117,10,0,112,111,112,32,123,0,112,99,0,112,111,112,32,123,114,99,125,32,119,105,116,104,32,97,110,32,65,82,77,32,97,100,100,114,101,115,115,32,112,99,32,48,120,37,48,56,88,32,112,111,112,112,101,100,32,48,120,37,48,56,88,10,0,112,117,115,104,32,123,0,108,114,0,112,117,115,104,32,123,108,114,125,32,119,105,116,104,32,97,110,32,65,82,77,32,97,100,100,114,101,115,115,32,112,99,32,48,120,37,48,56,88,32,112,111,112,112,101,100,32,48,120,37,48,56,88,10,0,114,101,118,32,114,37,117,44,114,37,117,10,0,114,101,118,49,54,32,114,37,117,44,114,37,117,10,0,114,101,118,115,104,32,114,37,117,44,114,37,117,10,0,114,111,114,115,32,114,37,117,44,114,37,117,10,0,115,98,99,32,114,37,117,44,114,37,117,10,0,115,101,116,101,110,100,32,110,111,116,32,105,109,112,108,101,109,101,110,116,101,100,10,0,115,116,109,105,97,32,114,37,117,33,44,123,0,115,116,114,32,114,37,117,44,91,114,37,117,44,35,48,120,37,88,93,10,0,115,116,114,32,114,37,117,44,91,114,37,117,44,114,37,117,93,10,0,115,116,114,32,114,37,117,44,91,83,80,44,35,48,120,37,88,93,10,0,115,116,114,98,32,114,37,117,44,91,114,37,117,44,35,48,120,37,88,93,10,0,115,116,114,98,32,114,37,117,44,91,114,37,117,44,114,37,117,93,10,0,115,116,114,104,32,114,37,117,44,91,114,37,117,44,35,48,120,37,88,93,10,0,115,116,114,104,32,114,37,117,44,91,114,37,117,44,114,37,117,93,10,0,115,117,98,115,32,114,37,117,44,114,37,117,44,35,48,120,37,88,10,0,115,117,98,115,32,114,37,117,44,35,48,120,37,48,50,88,10,0,115,117,98,115,32,114,37,117,44,114,37,117,44,114,37,117,10,0,115,117,98,32,83,80,44,35,48,120,37,48,50,88,10,0,115,119,105,32,48,120,37,48,50,88,10,0,10,10,115,119,105,32,48,120,37,48,50,88,10,0,115,120,116,98,32,114,37,117,44,114,37,117,10,0,115,120,116,104,32,114,37,117,44,114,37,117,10,0,116,115,116,32,114,37,117,44,114,37,117,10,0,117,120,116,98,32,114,37,117,44,114,37,117,10,0,117,120,116,104,32,114,37,117,44,114,37,117,10,0,105,110,118,97,108,105,100,32,105,110,115,116,114,117,99,116,105,111,110,32,48,120,37,48,56,88,32,48,120,37,48,52,88,10,0,17,0,10,0,17,17,17,0,0,0,0,5,0,0,0,0,0,0,9,0,0,0,0,11,0,0,0,0,0,0,0,0,17,0,15,10,17,17,17,3,10,7,0,1,19,9,11,11,0,0,9,6,11,0,0,11,0,6,17,0,0,0,17,17,17,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,11,0,0,0,0,0,0,0,0,17,0,10,10,17,17,17,0,10,0,0,2,0,9,11,0,0,0,9,0,11,0,0,11,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,12,0,0,0,0,9,12,0,0,0,0,0,12,0,0,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14,0,0,0,0,0,0,0,0,0,0,0,13,0,0,0,4,13,0,0,0,0,9,14,0,0,0,0,0,14,0,0,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16,0,0,0,0,0,0,0,0,0,0,0,15,0,0,0,0,15,0,0,0,0,9,16,0,0,0,0,0,16,0,0,16,0,0,18,0,0,0,18,18,18,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,18,0,0,0,18,18,18,0,0,0,0,0,0,9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,11,0,0,0,0,0,0,0,0,0,0,0,10,0,0,0,0,10,0,0,0,0,9,11,0,0,0,0,0,11,0,0,11,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,12,0,0,0,0,9,12,0,0,0,0,0,12,0,0,12,0,0,45,43,32,32,32,48,88,48,120,0,40,110,117,108,108,41,0,45,48,88,43,48,88,32,48,88,45,48,120,43,48,120,32,48,120,0,105,110,102,0,73,78,70,0,110,97,110,0,78,65,78,0,48,49,50,51,52,53,54,55,56,57,65,66,67,68,69,70,46,0,84,33,34,25,13,1,2,3,17,75,28,12,16,4,11,29,18,30,39,104,110,111,112,113,98,32,5,6,15,19,20,21,26,8,22,7,40,36,23,24,9,10,14,27,31,37,35,131,130,125,38,42,43,60,61,62,63,67,71,74,77,88,89,90,91,92,93,94,95,96,97,99,100,101,102,103,105,106,107,108,114,115,116,121,122,123,124,0,73,108,108,101,103,97,108,32,98,121,116,101,32,115,101,113,117,101,110,99,101,0,68,111,109,97,105,110,32,101,114,114,111,114,0,82,101,115,117,108,116,32,110,111,116,32,114,101,112,114,101,115,101,110,116,97,98,108,101,0,78,111,116,32,97,32,116,116,121,0,80,101,114,109,105,115,115,105,111,110,32,100,101,110,105,101,100,0,79,112,101,114,97,116,105,111,110,32,110,111,116,32,112,101,114,109,105,116,116,101,100,0,78,111,32,115,117,99,104,32,102,105,108,101,32,111,114,32,100,105,114,101,99,116,111,114,121,0,78,111,32,115,117,99,104,32,112,114,111,99,101,115,115,0,70,105,108,101,32,101,120,105,115,116,115,0,86,97,108,117,101,32,116,111,111,32,108,97,114,103,101,32,102,111,114,32,100,97,116,97,32,116,121,112,101,0,78,111,32,115,112,97,99,101,32,108,101,102,116,32,111,110,32,100,101,118,105,99,101,0,79,117,116,32,111,102,32,109,101,109,111,114,121,0,82,101,115,111,117,114,99,101,32,98,117,115,121,0,73,110,116,101,114,114,117,112,116,101,100,32,115,121,115,116,101,109,32,99,97,108,108,0,82,101,115,111,117,114,99,101,32,116,101,109,112,111,114,97,114,105,108,121,32,117,110,97,118,97,105,108,97,98,108,101,0,73,110,118,97,108,105,100,32,115,101,101,107,0,67,114,111,115,115,45,100,101,118,105,99,101,32,108,105,110,107,0,82,101,97,100,45,111,110,108,121,32,102,105,108,101,32,115,121,115,116,101,109,0,68,105,114,101,99,116,111,114,121,32,110,111,116,32,101,109,112,116,121,0,67,111,110,110,101,99,116,105,111,110,32,114,101,115,101,116,32,98,121,32,112,101,101,114,0,79,112,101,114,97,116,105,111,110,32,116,105,109,101,100,32,111,117,116,0,67,111,110,110,101,99,116,105,111,110,32,114,101,102,117,115,101,100,0,72,111,115,116,32,105,115,32,100,111,119,110,0,72,111,115,116,32,105,115,32,117,110,114,101,97,99,104,97,98,108,101,0,65,100,100,114,101,115,115,32,105,110,32,117,115,101,0,66,114,111,107,101,110,32,112,105,112,101,0,73,47,79,32,101,114,114,111,114,0,78,111,32,115,117,99,104,32,100,101,118,105,99,101,32,111,114,32,97,100,100,114,101,115,115,0,66,108,111,99,107,32,100,101,118,105,99,101,32,114,101,113,117,105,114,101,100,0,78,111,32,115,117,99,104,32,100,101,118,105,99,101,0,78,111,116,32,97,32,100,105,114,101,99,116,111,114,121,0,73,115,32,97,32,100,105,114,101,99,116,111,114,121,0,84,101,120,116,32,102,105,108,101,32,98,117,115,121,0,69,120,101,99,32,102,111,114,109,97,116,32,101,114,114,111,114,0,73,110,118,97,108,105,100,32,97,114,103,117,109,101,110,116,0,65,114,103,117,109,101,110,116,32,108,105,115,116,32,116,111,111,32,108,111,110,103,0,83,121,109,98,111,108,105,99,32,108,105,110,107,32,108,111,111,112,0,70,105,108,101,110,97,109,101,32,116,111,111,32,108,111,110,103,0,84,111,111,32,109,97,110,121,32,111,112,101,110,32,102,105,108,101,115,32,105,110,32,115,121,115,116,101,109,0,78,111,32,102,105,108,101,32,100,101,115,99,114,105,112,116,111,114,115,32,97,118,97,105,108,97,98,108,101,0,66,97,100,32,102,105,108,101,32,100,101,115,99,114,105,112,116,111,114,0,78,111,32,99,104,105,108,100,32,112,114,111,99,101,115,115,0,66,97,100,32,97,100,100,114,101,115,115,0,70,105,108,101,32,116,111,111,32,108,97,114,103,101,0,84,111,111,32,109,97,110,121,32,108,105,110,107,115,0,78,111,32,108,111,99,107,115,32,97,118,97,105,108,97,98,108,101,0,82,101,115,111,117,114,99,101,32,100,101,97,100,108,111,99,107,32,119,111,117,108,100,32,111,99,99,117,114,0,83,116,97,116,101,32,110,111,116,32,114,101,99,111,118,101,114,97,98,108,101,0,80,114,101,118,105,111,117,115,32,111,119,110,101,114,32,100,105,101,100,0,79,112,101,114,97,116,105,111,110,32,99,97,110,99,101,108,101,100,0,70,117,110,99,116,105,111,110,32,110,111,116,32,105,109,112,108,101,109,101,110,116,101,100,0,78,111,32,109,101,115,115,97,103,101,32,111,102,32,100,101,115,105,114,101,100,32,116,121,112,101,0,73,100,101,110,116,105,102,105,101,114,32,114,101,109,111,118,101,100,0,68,101,118,105,99,101,32,110,111,116,32,97,32,115,116,114,101,97,109,0,78,111,32,100,97,116,97,32,97,118,97,105,108,97,98,108,101,0,68,101,118,105,99,101,32,116,105,109,101,111,117,116,0,79,117,116,32,111,102,32,115,116,114,101,97,109,115,32,114,101,115,111,117,114,99,101,115,0,76,105,110,107,32,104,97,115,32,98,101,101,110,32,115,101,118,101,114,101,100,0,80,114,111,116,111,99,111,108,32,101,114,114,111,114,0,66,97,100,32,109,101,115,115,97,103,101,0,70,105,108,101,32,100,101,115,99,114,105,112,116,111,114,32,105,110,32,98,97,100,32,115,116,97,116,101,0,78,111,116,32,97,32,115,111,99,107,101,116,0,68,101,115,116,105,110,97,116,105,111,110,32,97,100,100,114,101,115,115,32,114,101,113,117,105,114,101,100,0,77,101,115,115,97,103,101,32,116,111,111,32,108,97,114,103,101,0,80,114,111,116,111,99,111,108,32,119,114,111,110,103,32,116,121,112,101,32,102,111,114,32,115,111,99,107,101,116,0,80,114,111,116,111,99,111,108,32,110,111,116,32,97,118,97,105,108,97,98,108,101,0,80,114,111,116,111,99,111,108,32,110,111,116,32,115,117,112,112,111,114,116,101,100,0,83,111,99,107,101,116,32,116,121,112,101,32,110,111,116,32,115,117,112,112,111,114,116,101,100,0,78,111,116,32,115,117,112,112,111,114,116,101,100,0,80,114,111,116,111,99,111,108,32,102,97,109,105,108,121,32,110,111,116,32,115,117,112,112,111,114,116,101,100,0,65,100,100,114,101,115,115,32,102,97,109,105,108,121,32,110,111,116,32,115,117,112,112,111,114,116,101,100,32,98,121,32,112,114,111,116,111,99,111,108,0,65,100,100,114,101,115,115,32,110,111,116,32,97,118,97,105,108,97,98,108,101,0,78,101,116,119,111,114,107,32,105,115,32,100,111,119,110,0,78,101,116,119,111,114,107,32,117,110,114,101,97,99,104,97,98,108,101,0,67,111,110,110,101,99,116,105,111,110,32,114,101,115,101,116,32,98,121,32,110,101,116,119,111,114,107,0,67,111,110,110,101,99,116,105,111,110,32,97,98,111,114,116,101,100,0,78,111,32,98,117,102,102,101,114,32,115,112,97,99,101,32,97,118,97,105,108,97,98,108,101,0,83,111,99,107,101,116,32,105,115,32,99,111,110,110,101,99,116,101,100,0,83,111,99,107,101,116,32,110,111,116,32,99,111,110,110,101,99,116,101,100,0,67,97,110,110,111,116,32,115,101,110,100,32,97,102,116,101,114,32,115,111,99,107,101,116,32,115,104,117,116,100,111,119,110,0,79,112,101,114,97,116,105,111,110,32,97,108,114,101,97,100,121,32,105,110,32,112,114,111,103,114,101,115,115,0,79,112,101,114,97,116,105,111,110,32,105,110,32,112,114,111,103,114,101,115,115,0,83,116,97,108,101,32,102,105,108,101,32,104,97,110,100,108,101,0,82,101,109,111,116,101,32,73,47,79,32,101,114,114,111,114,0,81,117,111,116,97,32,101,120,99,101,101,100,101,100,0,78,111,32,109,101,100,105,117,109,32,102,111,117,110,100,0,87,114,111,110,103,32,109,101,100,105,117,109,32,116,121,112,101,0,78,111,32,101,114,114,111,114,32,105,110,102,111,114,109,97,116,105,111,110,0,0],\"i8\",ALLOC_NONE,Runtime.GLOBAL_BASE);var tempDoublePtr=STATICTOP;STATICTOP+=16;function _emscripten_memcpy_big(dest,src,num){HEAPU8.set(HEAPU8.subarray(src,src+num),dest);return dest}var SYSCALLS={varargs:0,get:(function(varargs){SYSCALLS.varargs+=4;var ret=HEAP32[SYSCALLS.varargs-4>>2];return ret}),getStr:(function(){var ret=Pointer_stringify(SYSCALLS.get());return ret}),get64:(function(){var low=SYSCALLS.get(),high=SYSCALLS.get();if(low>=0)assert(high===0);else assert(high===-1);return low}),getZero:(function(){assert(SYSCALLS.get()===0)})};function ___syscall6(which,varargs){SYSCALLS.varargs=varargs;try{var stream=SYSCALLS.getStreamFromFD();FS.close(stream);return 0}catch(e){if(typeof FS===\"undefined\"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}var cttz_i8=allocate([8,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,6,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,7,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,6,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0],\"i8\",ALLOC_STATIC);function ___setErrNo(value){if(Module[\"___errno_location\"])HEAP32[Module[\"___errno_location\"]()>>2]=value;return value}function __exit(status){Module[\"exit\"](status)}function _exit(status){__exit(status)}function ___syscall140(which,varargs){SYSCALLS.varargs=varargs;try{var stream=SYSCALLS.getStreamFromFD(),offset_high=SYSCALLS.get(),offset_low=SYSCALLS.get(),result=SYSCALLS.get(),whence=SYSCALLS.get();var offset=offset_low;FS.llseek(stream,offset,whence);HEAP32[result>>2]=stream.position;if(stream.getdents&&offset===0&&whence===0)stream.getdents=null;return 0}catch(e){if(typeof FS===\"undefined\"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}function ___syscall146(which,varargs){SYSCALLS.varargs=varargs;try{var stream=SYSCALLS.get(),iov=SYSCALLS.get(),iovcnt=SYSCALLS.get();var ret=0;if(!___syscall146.buffer){___syscall146.buffers=[null,[],[]];___syscall146.printChar=(function(stream,curr){var buffer=___syscall146.buffers[stream];assert(buffer);if(curr===0||curr===10){(stream===1?Module[\"print\"]:Module[\"printErr\"])(UTF8ArrayToString(buffer,0));buffer.length=0}else{buffer.push(curr)}})}for(var i=0;i<iovcnt;i++){var ptr=HEAP32[iov+i*8>>2];var len=HEAP32[iov+(i*8+4)>>2];for(var j=0;j<len;j++){___syscall146.printChar(stream,HEAPU8[ptr+j])}ret+=len}return ret}catch(e){if(typeof FS===\"undefined\"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}__ATEXIT__.push((function(){var fflush=Module[\"_fflush\"];if(fflush)fflush(0);var printChar=___syscall146.printChar;if(!printChar)return;var buffers=___syscall146.buffers;if(buffers[1].length)printChar(1,10);if(buffers[2].length)printChar(2,10)}));DYNAMICTOP_PTR=allocate(1,\"i32\",ALLOC_STATIC);STACK_BASE=STACKTOP=Runtime.alignMemory(STATICTOP);STACK_MAX=STACK_BASE+TOTAL_STACK;DYNAMIC_BASE=Runtime.alignMemory(STACK_MAX);HEAP32[DYNAMICTOP_PTR>>2]=DYNAMIC_BASE;staticSealed=true;function invoke_ii(index,a1){try{return Module[\"dynCall_ii\"](index,a1)}catch(e){if(typeof e!==\"number\"&&e!==\"longjmp\")throw e;Module[\"setThrew\"](1,0)}}function invoke_iiii(index,a1,a2,a3){try{return Module[\"dynCall_iiii\"](index,a1,a2,a3)}catch(e){if(typeof e!==\"number\"&&e!==\"longjmp\")throw e;Module[\"setThrew\"](1,0)}}Module.asmGlobalArg={\"Math\":Math,\"Int8Array\":Int8Array,\"Int16Array\":Int16Array,\"Int32Array\":Int32Array,\"Uint8Array\":Uint8Array,\"Uint16Array\":Uint16Array,\"Uint32Array\":Uint32Array,\"Float32Array\":Float32Array,\"Float64Array\":Float64Array,\"NaN\":NaN,\"Infinity\":Infinity};Module.asmLibraryArg={\"abort\":abort,\"assert\":assert,\"enlargeMemory\":enlargeMemory,\"getTotalMemory\":getTotalMemory,\"abortOnCannotGrowMemory\":abortOnCannotGrowMemory,\"invoke_ii\":invoke_ii,\"invoke_iiii\":invoke_iiii,\"_emscripten_asm_const_ii\":_emscripten_asm_const_ii,\"___syscall6\":___syscall6,\"___setErrNo\":___setErrNo,\"___syscall146\":___syscall146,\"_emscripten_memcpy_big\":_emscripten_memcpy_big,\"___syscall140\":___syscall140,\"_exit\":_exit,\"__exit\":__exit,\"_emscripten_asm_const_iii\":_emscripten_asm_const_iii,\"DYNAMICTOP_PTR\":DYNAMICTOP_PTR,\"tempDoublePtr\":tempDoublePtr,\"ABORT\":ABORT,\"STACKTOP\":STACKTOP,\"STACK_MAX\":STACK_MAX,\"cttz_i8\":cttz_i8};// EMSCRIPTEN_START_ASM\nvar asm=(function(global,env,buffer) {\n\"use asm\";var a=new global.Int8Array(buffer);var b=new global.Int16Array(buffer);var c=new global.Int32Array(buffer);var d=new global.Uint8Array(buffer);var e=new global.Uint16Array(buffer);var f=new global.Uint32Array(buffer);var g=new global.Float32Array(buffer);var h=new global.Float64Array(buffer);var i=env.DYNAMICTOP_PTR|0;var j=env.tempDoublePtr|0;var k=env.ABORT|0;var l=env.STACKTOP|0;var m=env.STACK_MAX|0;var n=env.cttz_i8|0;var o=0;var p=0;var q=0;var r=0;var s=global.NaN,t=global.Infinity;var u=0,v=0,w=0,x=0,y=0.0;var z=0;var A=global.Math.floor;var B=global.Math.abs;var C=global.Math.sqrt;var D=global.Math.pow;var E=global.Math.cos;var F=global.Math.sin;var G=global.Math.tan;var H=global.Math.acos;var I=global.Math.asin;var J=global.Math.atan;var K=global.Math.atan2;var L=global.Math.exp;var M=global.Math.log;var N=global.Math.ceil;var O=global.Math.imul;var P=global.Math.min;var Q=global.Math.max;var R=global.Math.clz32;var S=env.abort;var T=env.assert;var U=env.enlargeMemory;var V=env.getTotalMemory;var W=env.abortOnCannotGrowMemory;var X=env.invoke_ii;var Y=env.invoke_iiii;var Z=env._emscripten_asm_const_ii;var _=env.___syscall6;var $=env.___setErrNo;var aa=env.___syscall146;var ba=env._emscripten_memcpy_big;var ca=env.___syscall140;var da=env._exit;var ea=env.__exit;var fa=env._emscripten_asm_const_iii;var ga=0.0;\n// EMSCRIPTEN_START_FUNCS\nfunction ja(a){a=a|0;var b=0;b=l;l=l+a|0;l=l+15&-16;return b|0}function ka(){return l|0}function la(a){a=a|0;l=a}function ma(a,b){a=a|0;b=b|0;l=a;m=b}function na(a,b){a=a|0;b=b|0;if(!o){o=a;p=b}}function oa(a){a=a|0;z=a}function pa(){return z|0}function qa(a){a=a|0;c[1162]=a;return}function ra(){return 380}function sa(a){a=a|0;var b=0,d=0,e=0,f=0,g=0;c[1163]=0;if(!a){f=0;return f|0}else{b=0;d=0}while(1){g=ya()|0;d=(g|0)==0?d:g;e=(c[1163]|0)!=0;b=b+1|0;if(e|(g|0)==0^1)break;if(b>>>0>=a>>>0){b=0;f=5;break}}if((f|0)==5)return b|0;g=e?10:d;return g|0}function ta(){c[1163]=1;return}function ua(b){b=b|0;a[5300]=b;return}function va(a){a=a|0;var b=0,d=0;d=l;l=l+16|0;b=c[4668+((a&15)<<2)>>2]|0;if((a&15|0)!=15){l=d;return b|0}if(b&1|0){a=c[2]|0;c[d>>2]=b;Va(a,520,d)|0}b=b&-2;l=d;return b|0}function wa(a,b){a=a|0;b=b|0;c[4668+((a&15)<<2)>>2]=(a&15|0)==15?b&-2:b;return}function xa(){c[1164]=4;c[1165]=0;c[1166]=0;c[1183]=0;c[1184]=0;return 0}function ya(){var b=0,d=0,e=0,f=0,h=0,i=0,j=0,k=0,m=0,n=0;n=l;l=l+4848|0;d=c[1182]|0;if(d&1|0){m=c[2]|0;c[n>>2]=d;Va(m,520,n)|0}b=c[1162]|0;if(!b){b=Z(0,(d&-2)+-2|0)|0;if(b|0){m=b;l=n;return m|0}}else if(((d&-2)+-2|0)==(b|0)){m=20;l=n;return m|0}if((d&-2)>>>0>4026531839&(c[1183]|0)!=0){c[1183]=0;m=c[1180]|0;c[1167]=Z(1,m|0)|0;c[1168]=Z(1,m+4|0)|0;c[1169]=Z(1,m+8|0)|0;c[1170]=Z(1,m+12|0)|0;c[1179]=Z(1,m+16|0)|0;c[1181]=Z(1,m+20|0)|0;e=Z(1,m+24|0)|0;c[1184]=Z(1,m+28|0)|0;c[1180]=m+32}else e=d&-2;b=c[1164]|0;do if(b&1){d=c[1166]|0;if(!d){c[1166]=c[1165];c[1164]=b|65536;b=b|65536;break}else{c[1166]=d+-1;break}}while(0);if((b&3|0)==3)if((b&65536|0)!=0&(c[1183]|0)==0){f=c[1180]|0;d=c[1184]|0;a:do if((f+-4&-268435456|0)==-536870912)switch((f+536813548|0)>>>2|f+536813548<<30|0){case 0:{c[1164]=d&65543;if((b&1|0)!=0|(d&1|0)==0)break a;c[1166]=c[1165];break a}case 1:{c[1165]=d&16777215;break a}case 2:{c[1166]=d&16777215;break a}case 3:break a;default:break a}else fa(2,f+-4|0,d|0)|0;while(0);b:do if((f+-8&-268435456|0)==-536870912)switch((f+536813544|0)>>>2|f+536813544<<30|0){case 0:{m=c[1164]|0;c[1164]=e&65543;if((e&1|0)==0|(m&1|0)!=0)break b;c[1166]=c[1165];break b}case 1:{c[1165]=e&16777215;break b}case 2:{c[1166]=e&16777215;break b}case 3:break b;default:break b}else fa(2,f+-8|0,e|0)|0;while(0);b=c[1181]|0;c:do if((f+-12&-268435456|0)==-536870912)switch((f+536813540|0)>>>2|f+536813540<<30|0){case 0:{m=c[1164]|0;c[1164]=b&65543;if((b&1|0)==0|(m&1|0)!=0)break c;c[1166]=c[1165];break c}case 1:{c[1165]=b&16777215;break c}case 2:{c[1166]=b&16777215;break c}case 3:break c;default:break c}else fa(2,f+-12|0,b|0)|0;while(0);b=c[1179]|0;d:do if((f+-16&-268435456|0)==-536870912)switch((f+536813536|0)>>>2|f+536813536<<30|0){case 0:{m=c[1164]|0;c[1164]=b&65543;if((b&1|0)==0|(m&1|0)!=0)break d;c[1166]=c[1165];break d}case 1:{c[1165]=b&16777215;break d}case 2:{c[1166]=b&16777215;break d}case 3:break d;default:break d}else fa(2,f+-16|0,b|0)|0;while(0);b=c[1170]|0;e:do if((f+-20&-268435456|0)==-536870912)switch((f+536813532|0)>>>2|f+536813532<<30|0){case 0:{m=c[1164]|0;c[1164]=b&65543;if((b&1|0)==0|(m&1|0)!=0)break e;c[1166]=c[1165];break e}case 1:{c[1165]=b&16777215;break e}case 2:{c[1166]=b&16777215;break e}case 3:break e;default:break e}else fa(2,f+-20|0,b|0)|0;while(0);b=c[1169]|0;f:do if((f+-24&-268435456|0)==-536870912)switch((f+536813528|0)>>>2|f+536813528<<30|0){case 0:{m=c[1164]|0;c[1164]=b&65543;if((b&1|0)==0|(m&1|0)!=0)break f;c[1166]=c[1165];break f}case 1:{c[1165]=b&16777215;break f}case 2:{c[1166]=b&16777215;break f}case 3:break f;default:break f}else fa(2,f+-24|0,b|0)|0;while(0);b=c[1168]|0;g:do if((f+-28&-268435456|0)==-536870912)switch((f+536813524|0)>>>2|f+536813524<<30|0){case 0:{m=c[1164]|0;c[1164]=b&65543;if((b&1|0)==0|(m&1|0)!=0)break g;c[1166]=c[1165];break g}case 1:{c[1165]=b&16777215;break g}case 2:{c[1166]=b&16777215;break g}case 3:break g;default:break g}else fa(2,f+-28|0,b|0)|0;while(0);b=c[1167]|0;h:do if((f+-32&-268435456|0)==-536870912)switch((f+536813520|0)>>>2|f+536813520<<30|0){case 0:{m=c[1164]|0;c[1164]=b&65543;if((b&1|0)==0|(m&1|0)!=0)break h;c[1166]=c[1165];break h}case 1:{c[1165]=b&16777215;break h}case 2:{c[1166]=b&16777215;break h}case 3:break h;default:break h}else fa(2,f+-32|0,b|0)|0;while(0);c[1180]=f+-32;e=(Z(1,60)|0)+2|0;c[1181]=-7;c[1183]=1}h=e+-2|0;m=Z(3,h|0)|0;i=e+2|0;c[1182]=i&-2;if(a[5300]|0){f=c[2]|0;c[n+8>>2]=h;c[n+8+4>>2]=m;Va(f,591,n+8|0)|0}if((m&65472|0)==16704){if(a[5300]|0){k=c[2]|0;c[n+16>>2]=m&7;c[n+16+4>>2]=m>>>3&7;Va(k,611,n+16|0)|0}d=c[4668+((m&7)<<2)>>2]|0;e=c[4668+((m>>>3&7)<<2)>>2]|0;k=c[1184]|0;c[4668+((m&7)<<2)>>2]=e+d+(k>>>29&1);b=(e+d+(k>>>29&1)|0)<0?k|-2147483648:k&2147483647;b=(e+d+(k>>>29&1)|0)==0?b|1073741824:b&-1073741825;c[1184]=b;if(!(b&536870912)){m=((e>>>31)+(d>>>31)+(((e&2147483647)+(d&2147483647)|0)>>>31)&2|0)==0?b&-536870913:b|536870912;c[1184]=(((e&2147483647)+(d&2147483647)|0)>>>31|0)==(((e>>>31)+(d>>>31)+(((e&2147483647)+(d&2147483647)|0)>>>31)|0)>>>1&1|0)?m&-268435457:m|268435456;m=0;l=n;return m|0}else{m=(((e>>>31)+(d>>>31)+(((e&2147483647)+(d&2147483647)+1|0)>>>31)|0)&2|0)==0?b&-536870913:b|536870912;c[1184]=(((e&2147483647)+(d&2147483647)+1|0)>>>31|0)==(((e>>>31)+(d>>>31)+(((e&2147483647)+(d&2147483647)+1|0)>>>31)|0)>>>1&1|0)?m&-268435457:m|268435456;m=0;l=n;return m|0}}if((m&65024|0)==7168)if(m>>>6&7|0){if(a[5300]|0){k=c[2]|0;c[n+24>>2]=m&7;c[n+24+4>>2]=m>>>3&7;c[n+24+8>>2]=m>>>6&7;Va(k,624,n+24|0)|0}j=c[4668+((m>>>3&7)<<2)>>2]|0;c[4668+((m&7)<<2)>>2]=j+(m>>>6&7);k=c[1184]|0;k=(j+(m>>>6&7)|0)<0?k|-2147483648:k&2147483647;k=(j+(m>>>6&7)|0)==0?k|1073741824:k&-1073741825;k=((((j&2147483647)+(m>>>6&7)|0)>>>31)+(j>>>31)&2|0)==0?k&-536870913:k|536870912;c[1184]=(((j&2147483647)+(m>>>6&7)|0)>>>31|0)==(((((j&2147483647)+(m>>>6&7)|0)>>>31)+(j>>>31)|0)>>>1|0)?k&-268435457:k|268435456;m=0;l=n;return m|0}if((m&63488|0)==12288){if(a[5300]|0){k=c[2]|0;c[n+40>>2]=m>>>8&7;c[n+40+4>>2]=m&255;Va(k,644,n+40|0)|0}j=c[4668+((m>>>8&7)<<2)>>2]|0;c[4668+((m>>>8&7)<<2)>>2]=j+(m&255);k=c[1184]|0;k=(j+(m&255)|0)<0?k|-2147483648:k&2147483647;k=(j+(m&255)|0)==0?k|1073741824:k&-1073741825;k=((((j&2147483647)+(m&255)|0)>>>31)+(j>>>31)&2|0)==0?k&-536870913:k|536870912;c[1184]=(((j&2147483647)+(m&255)|0)>>>31|0)==(((((j&2147483647)+(m&255)|0)>>>31)+(j>>>31)|0)>>>1|0)?k&-268435457:k|268435456;m=0;l=n;return m|0}if((m&65024|0)==6144){if(a[5300]|0){k=c[2]|0;c[n+48>>2]=m&7;c[n+48+4>>2]=m>>>3&7;c[n+48+8>>2]=m>>>6&7;Va(k,662,n+48|0)|0}k=c[4668+((m>>>3&7)<<2)>>2]|0;j=c[4668+((m>>>6&7)<<2)>>2]|0;c[4668+((m&7)<<2)>>2]=j+k;m=c[1184]|0;m=(j+k|0)<0?m|-2147483648:m&2147483647;m=(j+k|0)==0?m|1073741824:m&-1073741825;m=((j>>>31)+(k>>>31)+(((j&2147483647)+(k&2147483647)|0)>>>31)&2|0)==0?m&-536870913:m|536870912;c[1184]=(((j&2147483647)+(k&2147483647)|0)>>>31|0)==(((j>>>31)+(k>>>31)+(((j&2147483647)+(k&2147483647)|0)>>>31)|0)>>>1&1|0)?m&-268435457:m|268435456;m=0;l=n;return m|0}if((m&65280|0)==17408){if(a[5300]|0){k=c[2]|0;c[n+64>>2]=m>>>4&8|m&7;c[n+64+4>>2]=m>>>3&15;Va(k,680,n+64|0)|0}b=c[4668+((m>>>4&8|m&7)<<2)>>2]|0;if((m>>>4&8|m&7|0)==15){if(b&1|0){k=c[2]|0;c[n+72>>2]=b;Va(k,520,n+72|0)|0}b=b&-2}d=c[4668+((m>>>3&15)<<2)>>2]|0;if((m>>>3&15|0)==15){if(d&1|0){k=c[2]|0;c[n+80>>2]=d;Va(k,520,n+80|0)|0}d=d&-2}b=d+b|0;do if((m>>>4&8|m&7|0)==15)if(!(b&1)){k=c[2]|0;c[n+88>>2]=i;c[n+88+4>>2]=b;Va(k,693,n+88|0)|0;da(1)}else{j=b+2&-2;break}else j=b;while(0);c[4668+((m>>>4&8|m&7)<<2)>>2]=(m>>>4&8|m&7|0)==15?j&-2:j;m=0;l=n;return m|0}b=1;d=(m&63488)<<16>>16;if(b)switch(d|0){case -24576:{if(a[5300]|0){k=c[2]|0;c[n+96>>2]=m>>>8&7;c[n+96+4>>2]=m<<2&1020;Va(k,743,n+96|0)|0}b=c[1182]|0;if(b&1|0){k=c[2]|0;c[n+104>>2]=b;Va(k,520,n+104|0)|0}c[4668+((m>>>8&7)<<2)>>2]=(b&-4)+(m<<2&1020);m=0;l=n;return m|0}case -22528:{if(a[5300]|0){k=c[2]|0;c[n+112>>2]=m>>>8&7;c[n+112+4>>2]=m<<2&1020;Va(k,763,n+112|0)|0}c[4668+((m>>>8&7)<<2)>>2]=(c[1180]|0)+(m<<2&1020);m=0;l=n;return m|0}default:b=1}if(b)switch(d|0){default:{if((m&65408|0)==45056){if(a[5300]|0){k=c[2]|0;c[n+120>>2]=m<<2&508;Va(k,783,n+120|0)|0}c[1180]=(c[1180]|0)+(m<<2&508);m=0;l=n;return m|0}if((m&65472|0)==16384){if(a[5300]|0){k=c[2]|0;c[n+128>>2]=m&7;c[n+128+4>>2]=m>>>3&7;Va(k,799,n+128|0)|0}k=c[4668+((m>>>3&7)<<2)>>2]&c[4668+((m&7)<<2)>>2];c[4668+((m&7)<<2)>>2]=k;m=c[1184]|0;m=(k|0)<0?m|-2147483648:m&2147483647;c[1184]=(k|0)==0?m|1073741824:m&-1073741825;m=0;l=n;return m|0}if((m&63488|0)==4096){if(a[5300]|0){k=c[2]|0;c[n+136>>2]=m&7;c[n+136+4>>2]=m>>>3&7;c[n+136+8>>2]=m>>>6&31;Va(k,813,n+136|0)|0}b=c[4668+((m>>>3&7)<<2)>>2]|0;do if(!(m>>>6&31)){e=c[1184]|0;if((b|0)<0){c[1184]=e|536870912;d=-1;b=e|536870912;break}else{c[1184]=e&-536870913;d=0;b=e&-536870913;break}}else{k=c[1184]|0;k=b&1<<(m>>>6&31)+-1|0?k|536870912:k&-536870913;c[1184]=k;d=((b|0)<0?-1<<32-(m>>>6&31):0)|b>>>(m>>>6&31);b=k}while(0);c[4668+((m&7)<<2)>>2]=d;m=(d|0)<0?b|-2147483648:b&2147483647;c[1184]=(d|0)==0?m|1073741824:m&-1073741825;m=0;l=n;return m|0}if((m&65472|0)==16640){if(a[5300]|0){k=c[2]|0;c[n+152>>2]=m&7;c[n+152+4>>2]=m>>>3&7;Va(k,833,n+152|0)|0}d=c[4668+((m&7)<<2)>>2]|0;b=c[4668+((m>>>3&7)<<2)>>2]&255;do if(!b)b=c[1184]|0;else{if(b>>>0<32){k=c[1184]|0;k=1<<b+-1&d|0?k|536870912:k&-536870913;c[1184]=k;d=((d|0)<0?-1<<32-b:0)|d>>>b;b=k;break}b=c[1184]|0;if((d|0)<0){c[1184]=b|536870912;d=-1;b=b|536870912;break}else{c[1184]=b&-536870913;d=0;b=b&-536870913;break}}while(0);c[4668+((m&7)<<2)>>2]=d;m=(d|0)<0?b|-2147483648:b&2147483647;c[1184]=(d|0)==0?m|1073741824:m&-1073741825;m=0;l=n;return m|0}i:do if((m&61440|0)==53248){d=(((m&128|0)==0?m&255:m|-256)<<1)+i|0;do switch(m>>>8&15){case 0:{if(a[5300]|0){m=c[2]|0;c[n+160>>2]=d+-1;Va(m,847,n+160|0)|0}if(!(c[1184]&1073741824)){m=0;l=n;return m|0}c[1182]=d+2&-2;m=0;l=n;return m|0}case 1:{if(a[5300]|0){m=c[2]|0;c[n+168>>2]=d+-1;Va(m,859,n+168|0)|0}if(c[1184]&1073741824|0){m=0;l=n;return m|0}c[1182]=d+2&-2;m=0;l=n;return m|0}case 2:{if(a[5300]|0){m=c[2]|0;c[n+176>>2]=d+-1;Va(m,871,n+176|0)|0}if(!(c[1184]&536870912)){m=0;l=n;return m|0}c[1182]=d+2&-2;m=0;l=n;return m|0}case 3:{if(a[5300]|0){m=c[2]|0;c[n+184>>2]=d+-1;Va(m,883,n+184|0)|0}if(c[1184]&536870912|0){m=0;l=n;return m|0}c[1182]=d+2&-2;m=0;l=n;return m|0}case 4:{if(a[5300]|0){m=c[2]|0;c[n+192>>2]=d+-1;Va(m,895,n+192|0)|0}if((c[1184]|0)>=0){m=0;l=n;return m|0}c[1182]=d+2&-2;m=0;l=n;return m|0}case 5:{if(a[5300]|0){m=c[2]|0;c[n+200>>2]=d+-1;Va(m,907,n+200|0)|0}if((c[1184]|0)<0){m=0;l=n;return m|0}c[1182]=d+2&-2;m=0;l=n;return m|0}case 6:{if(a[5300]|0){m=c[2]|0;c[n+208>>2]=d+-1;Va(m,919,n+208|0)|0}if(!(c[1184]&268435456)){m=0;l=n;return m|0}c[1182]=d+2&-2;m=0;l=n;return m|0}case 7:{if(a[5300]|0){m=c[2]|0;c[n+216>>2]=d+-1;Va(m,931,n+216|0)|0}if(c[1184]&268435456|0){m=0;l=n;return m|0}c[1182]=d+2&-2;m=0;l=n;return m|0}case 8:{if(a[5300]|0){m=c[2]|0;c[n+224>>2]=d+-1;Va(m,943,n+224|0)|0}if((c[1184]&1610612736|0)!=536870912){m=0;l=n;return m|0}c[1182]=d+2&-2;m=0;l=n;return m|0}case 9:{if(a[5300]|0){m=c[2]|0;c[n+232>>2]=d+-1;Va(m,955,n+232|0)|0}if((c[1184]&1610612736|0)==536870912){m=0;l=n;return m|0}c[1182]=d+2&-2;m=0;l=n;return m|0}case 10:{if(a[5300]|0){m=c[2]|0;c[n+240>>2]=d+-1;Va(m,967,n+240|0)|0}b=c[1184]&-1879048192;j:do if((b|0)<0){switch(b|0){case -1879048192:break j;default:k=0}l=n;return k|0}else{switch(b|0){case 0:break j;default:k=0}l=n;return k|0}while(0);c[1182]=d+2&-2;m=0;l=n;return m|0}case 11:{if(a[5300]|0){m=c[2]|0;c[n+248>>2]=d+-1;Va(m,979,n+248|0)|0}m=c[1184]|0;if(!((m&268435456|0?((m|0)<0?0:(m&268435456)>>>28):(m|0)<0?1:(m&268435456)>>>28)|0)){m=0;l=n;return m|0}c[1182]=d+2&-2;m=0;l=n;return m|0}case 12:{if(a[5300]|0){m=c[2]|0;c[n+256>>2]=d+-1;Va(m,991,n+256|0)|0}m=c[1184]|0;if(m&1073741824|0?1:(((m&-1879048192|0)==0?((m&-1879048192|0)==-1879048192?2:1):(m&-1879048192|0)==-1879048192&1)|0)==0){m=0;l=n;return m|0}c[1182]=d+2&-2;m=0;l=n;return m|0}case 13:{if(a[5300]|0){m=c[2]|0;c[n+264>>2]=d+-1;Va(m,1003,n+264|0)|0}m=c[1184]|0;if(((m&268435456|0?((m|0)<0?0:(m&268435456)>>>28):(m|0)<0?1:(m&268435456)>>>28)|0)==(0-(m>>>30&1)|0)){m=0;l=n;return m|0}c[1182]=d+2&-2;m=0;l=n;return m|0}default:break i}while(0)}while(0);if((m&63488|0)==57344){b=(((m&1024|0)==0?m&2047:m|-2048)<<1)+i|0;if(a[5300]|0){m=c[2]|0;c[n+272>>2]=b+-1;Va(m,1015,n+272|0)|0}c[1182]=b+2&-2;m=0;l=n;return m|0}if((m&65472|0)==17280){if(a[5300]|0){k=c[2]|0;c[n+280>>2]=m&7;c[n+280+4>>2]=m>>>3&7;Va(k,1025,n+280|0)|0}k=c[4668+((m&7)<<2)>>2]&~c[4668+((m>>>3&7)<<2)>>2];c[4668+((m&7)<<2)>>2]=k;m=c[1184]|0;m=(k|0)<0?m|-2147483648:m&2147483647;c[1184]=(k|0)==0?m|1073741824:m&-1073741825;m=0;l=n;return m|0}if((m&65280|0)==48640){k=c[2]|0;c[n+288>>2]=m&255;Va(k,1039,n+288|0)|0;m=1;l=n;return m|0}k:do if((m&57344|0)==57344){if((m&6144)<4096){switch(m&6144){case 2048:break;default:break k}b=(c[1181]|0)+(m<<1&4094)&-4|2;if(a[5300]|0){m=c[2]|0;c[n+304>>2]=b+-3;Va(m,1052,n+304|0)|0}c[1181]=e|1;c[1182]=b;m=0;l=n;return m|0}switch(m&6144){case 4096:{if(a[5300]|0)ob(10,c[2]|0)|0;c[1181]=(((m&1024|0)==0?m&2047:m|1046528)<<12)+i;m=0;l=n;return m|0}case 6144:{b=(c[1181]|0)+(m<<1&4094)|0;if(a[5300]|0){m=c[2]|0;c[n+296>>2]=b+-1;Va(m,1052,n+296|0)|0}c[1181]=e|1;c[1182]=b+2&-2;m=0;l=n;return m|0}default:break k}}while(0);b=(a[5300]|0)!=0;d=1;f=(m&65415)<<16>>16;if(d)switch(f|0){case 18304:{if(b){k=c[2]|0;c[n+312>>2]=m>>>3&15;Va(k,1063,n+312|0)|0}b=c[4668+((m>>>3&15)<<2)>>2]|0;if((m>>>3&15|0)==15){if(b&1|0){k=c[2]|0;c[n+320>>2]=b;Va(k,520,n+320|0)|0}b=b&-2}b=b+2|0;if(!(b&1)){k=c[2]|0;c[n+328>>2]=i;c[n+328+4>>2]=m;Va(k,1072,n+328|0)|0;m=2;l=n;return m|0}else{c[1181]=e|1;c[1182]=b&-2;m=0;l=n;return m|0}}case 18176:{if(b){k=c[2]|0;c[n+336>>2]=m>>>3&15;Va(k,1108,n+336|0)|0}b=c[4668+((m>>>3&15)<<2)>>2]|0;if((m>>>3&15|0)==15){if(b&1|0){m=c[2]|0;c[n+344>>2]=b;Va(m,520,n+344|0)|0}b=b&-2}b=b+2|0;if(b&1|0){c[1182]=b&-2;m=0;l=n;return m|0}b=fa(4,h|0,b|0)|0;if(b|0){m=b;l=n;return m|0}c[1182]=(c[1181]|0)+2&-2;m=0;l=n;return m|0}default:d=1}if(d)switch(f|0){default:{if((m&65472|0)==17088){if(b){k=c[2]|0;c[n+352>>2]=m&7;c[n+352+4>>2]=m>>>3&7;Va(k,1154,n+352|0)|0}k=c[4668+((m&7)<<2)>>2]|0;j=c[4668+((m>>>3&7)<<2)>>2]|0;m=c[1184]|0;m=(j+k|0)<0?m|-2147483648:m&2147483647;m=(j+k|0)==0?m|1073741824:m&-1073741825;m=((j>>>31)+(k>>>31)+(((j&2147483647)+(k&2147483647)|0)>>>31)&2|0)==0?m&-536870913:m|536870912;c[1184]=(((j&2147483647)+(k&2147483647)|0)>>>31|0)==(((j>>>31)+(k>>>31)+(((j&2147483647)+(k&2147483647)|0)>>>31)|0)>>>1&1|0)?m&-268435457:m|268435456;m=0;l=n;return m|0}if((m&63488|0)==10240){if(b){k=c[2]|0;c[n+360>>2]=m>>>8&7;c[n+360+4>>2]=m&255;Va(k,1168,n+360|0)|0}j=c[4668+((m>>>8&7)<<2)>>2]|0;k=c[1184]|0;k=(j-(m&255)|0)<0?k|-2147483648:k&2147483647;k=(j-(m&255)|0)==0?k|1073741824:k&-1073741825;k=(((j>>>31)+1+((-2147483648-(m&255)+(j&2147483647)|0)>>>31)|0)&2|0)==0?k&-536870913:k|536870912;c[1184]=((-2147483648-(m&255)+(j&2147483647)|0)>>>31|0)==(((j>>>31)+1+((-2147483648-(m&255)+(j&2147483647)|0)>>>31)|0)>>>1&1|0)?k&-268435457:k|268435456;m=0;l=n;return m|0}if((m&65472|0)==17024){if(b){k=c[2]|0;c[n+368>>2]=m&7;c[n+368+4>>2]=m>>>3&7;Va(k,1185,n+368|0)|0}j=c[4668+((m&7)<<2)>>2]|0;k=c[4668+((m>>>3&7)<<2)>>2]|0;m=c[1184]|0;m=(j-k|0)<0?m|-2147483648:m&2147483647;m=(j-k|0)==0?m|1073741824:m&-1073741825;m=(((~k>>>31)+(j>>>31)+(((j&2147483647)+1+(~k&2147483647)|0)>>>31)|0)&2|0)==0?m&-536870913:m|536870912;c[1184]=(((j&2147483647)+1+(~k&2147483647)|0)>>>31|0)==(((~k>>>31)+(j>>>31)+(((j&2147483647)+1+(~k&2147483647)|0)>>>31)|0)>>>1&1|0)?m&-268435457:m|268435456;m=0;l=n;return m|0}if((m&65280|0)==17664){if(b){k=c[2]|0;c[n+376>>2]=m>>>4&8|m&7;c[n+376+4>>2]=m>>>3&15;Va(k,1185,n+376|0)|0}b=c[4668+((m>>>4&8|m&7)<<2)>>2]|0;if((m>>>4&8|m&7|0)==15){if(b&1|0){k=c[2]|0;c[n+384>>2]=b;Va(k,520,n+384|0)|0}d=b&-2}else d=b;b=c[4668+((m>>>3&15)<<2)>>2]|0;if((m>>>3&15|0)==15){if(b&1|0){m=c[2]|0;c[n+392>>2]=b;Va(m,520,n+392|0)|0}b=b&-2}k=d-b|0;m=c[1184]|0;m=(k|0)<0?m|-2147483648:m&2147483647;m=(k|0)==0?m|1073741824:m&-1073741825;k=~b;j=((d&2147483647)+1+(k&2147483647)|0)>>>31;k=(k>>>31)+(d>>>31)+j|0;m=(k&2|0)==0?m&-536870913:m|536870912;c[1184]=(j|0)==(k>>>1&1|0)?m&-268435457:m|268435456;m=0;l=n;return m|0}if((m&65512|0)==46688&b)La(1199,9,1,c[2]|0)|0;b=1;d=(m&65472)<<16>>16;if(b)switch(d|0){case 17920:{if(a[5300]|0){k=c[2]|0;c[n+400>>2]=m&7;c[n+400+4>>2]=m>>>3&7;Va(k,1209,n+400|0)|0}c[4668+((m&7)<<2)>>2]=c[4668+((m>>>3&7)<<2)>>2];m=0;l=n;return m|0}case 16448:{if(a[5300]|0){k=c[2]|0;c[n+408>>2]=m&7;c[n+408+4>>2]=m>>>3&7;Va(k,1222,n+408|0)|0}k=c[4668+((m>>>3&7)<<2)>>2]^c[4668+((m&7)<<2)>>2];c[4668+((m&7)<<2)>>2]=k;m=c[1184]|0;m=(k|0)<0?m|-2147483648:m&2147483647;c[1184]=(k|0)==0?m|1073741824:m&-1073741825;m=0;l=n;return m|0}default:b=1}if(b)switch(d|0){default:{l:do if((m&63488)<<16>>16<26624){switch((m&63488)<<16>>16){case -14336:break;default:break l}if(!(a[5300]|0))d=m&1;else{d=c[2]|0;c[n+416>>2]=m>>>8&7;Va(d,1236,n+416|0)|0;if(!(m&1))b=0;else{c[n+424>>2]=0;Va(d,1249,n+424|0)|0;b=1}if(m&2){if(b|0)ob(44,d)|0;c[n+1176>>2]=1;Va(d,1249,n+1176|0)|0;b=b+1|0}if(m&4){if(b|0)ob(44,d)|0;c[n+1184>>2]=2;Va(d,1249,n+1184|0)|0;b=b+1|0}if(m&8){if(b|0)ob(44,d)|0;c[n+1192>>2]=3;Va(d,1249,n+1192|0)|0;b=b+1|0}if(m&16){if(b|0)ob(44,d)|0;c[n+1200>>2]=4;Va(d,1249,n+1200|0)|0;b=b+1|0}if(m&32){if(b|0)ob(44,d)|0;c[n+1208>>2]=5;Va(d,1249,n+1208|0)|0;b=b+1|0}if(m&64){if(b|0)ob(44,d)|0;c[n+1216>>2]=6;Va(d,1249,n+1216|0)|0;b=b+1|0}if(m&128|0){if(b|0)ob(44,d)|0;c[n+1224>>2]=7;Va(d,1249,n+1224|0)|0}La(1253,2,1,d)|0;d=m&1}b=c[4668+((m>>>8&7)<<2)>>2]|0;if(d){c[1167]=Z(1,b|0)|0;b=b+4|0}if(m&2){c[1168]=Z(1,b|0)|0;b=b+4|0}if(m&4){c[1169]=Z(1,b|0)|0;b=b+4|0}if(m&8){c[1170]=Z(1,b|0)|0;b=b+4|0}if(m&16){c[1171]=Z(1,b|0)|0;b=b+4|0}if(m&32){c[1172]=Z(1,b|0)|0;b=b+4|0}if(m&64){c[1173]=Z(1,b|0)|0;b=b+4|0}if(m&128){c[1174]=Z(1,b|0)|0;b=b+4|0}if(1<<(m>>>8&7)&m|0){m=0;l=n;return m|0}c[4668+((m>>>8&7)<<2)>>2]=b;m=0;l=n;return m|0}else{switch((m&63488)<<16>>16){case 26624:break;default:break l}if(a[5300]|0){k=c[2]|0;c[n+432>>2]=m&7;c[n+432+4>>2]=m>>>3&7;c[n+432+8>>2]=m>>>4&124;Va(k,1256,n+432|0)|0}c[4668+((m&7)<<2)>>2]=Z(1,(c[4668+((m>>>3&7)<<2)>>2]|0)+(m>>>4&124)|0)|0;m=0;l=n;return m|0}while(0);if((m&65024|0)==22528){if(a[5300]|0){k=c[2]|0;c[n+448>>2]=m&7;c[n+448+4>>2]=m>>>3&7;c[n+448+8>>2]=m>>>6&7;Va(k,1277,n+448|0)|0}c[4668+((m&7)<<2)>>2]=Z(1,(c[4668+((m>>>6&7)<<2)>>2]|0)+(c[4668+((m>>>3&7)<<2)>>2]|0)|0)|0;m=0;l=n;return m|0}m:do if((m&63488)<<16>>16<18432){switch((m&63488)<<16>>16){case -26624:break;default:break m}if(a[5300]|0){k=c[2]|0;c[n+488>>2]=m>>>8&7;c[n+488+4>>2]=m<<2&1020;Va(k,1325,n+488|0)|0}c[4668+((m>>>8&7)<<2)>>2]=Z(1,(c[1180]|0)+(m<<2&1020)|0)|0;m=0;l=n;return m|0}else{if((m&63488)<<16>>16>=30720){switch((m&63488)<<16>>16){case 30720:break;default:break m}if(a[5300]|0){k=c[2]|0;c[n+496>>2]=m&7;c[n+496+4>>2]=m>>>3&7;c[n+496+8>>2]=m>>>6&31;Va(k,1345,n+496|0)|0}j=c[4668+((m>>>3&7)<<2)>>2]|0;k=Z(3,j+(m>>>6&31)&-2|0)|0;c[4668+((m&7)<<2)>>2]=((j+(m>>>6)&1|0)==0?k:k>>>8)&255;m=0;l=n;return m|0}switch((m&63488)<<16>>16){case 18432:break;default:break m}if(a[5300]|0){k=c[2]|0;c[n+464>>2]=m>>>8&7;c[n+464+4>>2]=m<<2&1020;Va(k,1296,n+464|0)|0}b=c[1182]|0;if(b&1|0){k=c[2]|0;c[n+472>>2]=b;Va(k,520,n+472|0)|0}if(a[5300]|0){k=c[2]|0;c[n+480>>2]=(b&-4)+(m<<2&1020);Va(k,1316,n+480|0)|0}c[4668+((m>>>8&7)<<2)>>2]=Z(1,(b&-4)+(m<<2&1020)|0)|0;m=0;l=n;return m|0}while(0);c[n+1368>>2]=k;c[n+3472>>2]=h;c[n+3496>>2]=m;c[n+3504>>2]=i;c[n+4792>>2]=0;c[n+4796>>2]=0;Gb(n);x=c[n+4792>>2]|0;u=c[n+4796>>2]|0;y=+g[n+4796>>2];c[n+4792>>2]=0;c[n+4796>>2]=0;if((x|0)==6)return u|0}}}}}}return 0}function za(a){a=a|0;var b=0,d=0,e=0,f=0,g=0,h=0,i=0,j=0,k=0,m=0,n=0,o=0,p=0;p=l;l=l+16|0;do if(a>>>0<245){n=a>>>0<11?16:a+11&-8;k=c[1185]|0;if(k>>>(n>>>3)&3|0){a=4780+((k>>>(n>>>3)&1^1)+(n>>>3)<<1<<2)|0;b=c[a+8>>2]|0;d=c[b+8>>2]|0;if((a|0)==(d|0))c[1185]=k&~(1<<(k>>>(n>>>3)&1^1)+(n>>>3));else{c[d+12>>2]=a;c[a+8>>2]=d}o=(k>>>(n>>>3)&1^1)+(n>>>3)<<3;c[b+4>>2]=o|3;c[b+o+4>>2]=c[b+o+4>>2]|1;o=b+8|0;l=p;return o|0}m=c[1187]|0;if(n>>>0>m>>>0){if(k>>>(n>>>3)|0){a=k>>>(n>>>3)<<(n>>>3)&(2<<(n>>>3)|0-(2<<(n>>>3)));f=((a&0-a)+-1|0)>>>(((a&0-a)+-1|0)>>>12&16);e=f>>>(f>>>5&8)>>>(f>>>(f>>>5&8)>>>2&4);e=(f>>>5&8|((a&0-a)+-1|0)>>>12&16|f>>>(f>>>5&8)>>>2&4|e>>>1&2|e>>>(e>>>1&2)>>>1&1)+(e>>>(e>>>1&2)>>>(e>>>(e>>>1&2)>>>1&1))|0;f=c[4780+(e<<1<<2)+8>>2]|0;a=c[f+8>>2]|0;if((4780+(e<<1<<2)|0)==(a|0)){c[1185]=k&~(1<<e);a=k&~(1<<e)}else{c[a+12>>2]=4780+(e<<1<<2);c[4780+(e<<1<<2)+8>>2]=a;a=k}c[f+4>>2]=n|3;c[f+n+4>>2]=(e<<3)-n|1;c[f+n+((e<<3)-n)>>2]=(e<<3)-n;if(m|0){d=c[1190]|0;if(!(a&1<<(m>>>3))){c[1185]=a|1<<(m>>>3);a=4780+(m>>>3<<1<<2)|0;b=4780+(m>>>3<<1<<2)+8|0}else{a=c[4780+(m>>>3<<1<<2)+8>>2]|0;b=4780+(m>>>3<<1<<2)+8|0}c[b>>2]=d;c[a+12>>2]=d;c[d+8>>2]=a;c[d+12>>2]=4780+(m>>>3<<1<<2)}c[1187]=(e<<3)-n;c[1190]=f+n;o=f+8|0;l=p;return o|0}j=c[1186]|0;if(j){b=((j&0-j)+-1|0)>>>(((j&0-j)+-1|0)>>>12&16);a=b>>>(b>>>5&8)>>>(b>>>(b>>>5&8)>>>2&4);a=c[5044+((b>>>5&8|((j&0-j)+-1|0)>>>12&16|b>>>(b>>>5&8)>>>2&4|a>>>1&2|a>>>(a>>>1&2)>>>1&1)+(a>>>(a>>>1&2)>>>(a>>>(a>>>1&2)>>>1&1))<<2)>>2]|0;b=(c[a+4>>2]&-8)-n|0;d=c[a+16+(((c[a+16>>2]|0)==0&1)<<2)>>2]|0;if(!d){i=a;g=b}else{do{h=(c[d+4>>2]&-8)-n|0;i=h>>>0<b>>>0;b=i?h:b;a=i?d:a;d=c[d+16+(((c[d+16>>2]|0)==0&1)<<2)>>2]|0}while((d|0)!=0);i=a;g=b}h=i+n|0;if(i>>>0<h>>>0){f=c[i+24>>2]|0;a=c[i+12>>2]|0;do if((a|0)==(i|0)){b=i+20|0;a=c[b>>2]|0;if(!a){b=i+16|0;a=c[b>>2]|0;if(!a){b=0;break}}while(1){d=a+20|0;e=c[d>>2]|0;if(e|0){a=e;b=d;continue}d=a+16|0;e=c[d>>2]|0;if(!e)break;else{a=e;b=d}}c[b>>2]=0;b=a}else{b=c[i+8>>2]|0;c[b+12>>2]=a;c[a+8>>2]=b;b=a}while(0);do if(f|0){a=c[i+28>>2]|0;if((i|0)==(c[5044+(a<<2)>>2]|0)){c[5044+(a<<2)>>2]=b;if(!b){c[1186]=j&~(1<<a);break}}else{c[f+16+(((c[f+16>>2]|0)!=(i|0)&1)<<2)>>2]=b;if(!b)break}c[b+24>>2]=f;a=c[i+16>>2]|0;if(a|0){c[b+16>>2]=a;c[a+24>>2]=b}a=c[i+20>>2]|0;if(a|0){c[b+20>>2]=a;c[a+24>>2]=b}}while(0);if(g>>>0<16){o=g+n|0;c[i+4>>2]=o|3;o=i+o+4|0;c[o>>2]=c[o>>2]|1}else{c[i+4>>2]=n|3;c[h+4>>2]=g|1;c[h+g>>2]=g;if(m|0){d=c[1190]|0;if(!(k&1<<(m>>>3))){c[1185]=k|1<<(m>>>3);a=4780+(m>>>3<<1<<2)|0;b=4780+(m>>>3<<1<<2)+8|0}else{a=c[4780+(m>>>3<<1<<2)+8>>2]|0;b=4780+(m>>>3<<1<<2)+8|0}c[b>>2]=d;c[a+12>>2]=d;c[d+8>>2]=a;c[d+12>>2]=4780+(m>>>3<<1<<2)}c[1187]=g;c[1190]=h}o=i+8|0;l=p;return o|0}}}}else if(a>>>0>4294967231)n=-1;else{n=a+11&-8;j=c[1186]|0;if(j){if(!((a+11|0)>>>8))h=0;else if(n>>>0>16777215)h=31;else{h=(a+11|0)>>>8<<((((a+11|0)>>>8)+1048320|0)>>>16&8);h=14-((h+520192|0)>>>16&4|(((a+11|0)>>>8)+1048320|0)>>>16&8|((h<<((h+520192|0)>>>16&4))+245760|0)>>>16&2)+(h<<((h+520192|0)>>>16&4)<<(((h<<((h+520192|0)>>>16&4))+245760|0)>>>16&2)>>>15)|0;h=n>>>(h+7|0)&1|h<<1}b=c[5044+(h<<2)>>2]|0;a:do if(!b){b=0;a=0;d=0-n|0;o=57}else{a=0;d=0-n|0;g=n<<((h|0)==31?0:25-(h>>>1)|0);f=0;while(1){e=(c[b+4>>2]&-8)-n|0;if(e>>>0<d>>>0)if(!e){a=b;d=0;e=b;o=61;break a}else{a=b;d=e}e=c[b+20>>2]|0;b=c[b+16+(g>>>31<<2)>>2]|0;f=(e|0)==0|(e|0)==(b|0)?f:e;e=(b|0)==0;if(e){b=f;o=57;break}else g=g<<((e^1)&1)}}while(0);if((o|0)==57){if((b|0)==0&(a|0)==0){a=2<<h;if(!(j&(a|0-a)))break;k=(j&(a|0-a)&0-(j&(a|0-a)))+-1|0;m=k>>>(k>>>12&16)>>>(k>>>(k>>>12&16)>>>5&8);b=m>>>(m>>>2&4)>>>(m>>>(m>>>2&4)>>>1&2);a=0;b=c[5044+((k>>>(k>>>12&16)>>>5&8|k>>>12&16|m>>>2&4|m>>>(m>>>2&4)>>>1&2|b>>>1&1)+(b>>>(b>>>1&1))<<2)>>2]|0}if(!b){i=a;g=d}else{e=b;o=61}}if((o|0)==61)while(1){o=0;b=(c[e+4>>2]&-8)-n|0;m=b>>>0<d>>>0;b=m?b:d;a=m?e:a;e=c[e+16+(((c[e+16>>2]|0)==0&1)<<2)>>2]|0;if(!e){i=a;g=b;break}else{d=b;o=61}}if(i)if(g>>>0<((c[1187]|0)-n|0)>>>0){h=i+n|0;if(i>>>0>=h>>>0){o=0;l=p;return o|0}f=c[i+24>>2]|0;a=c[i+12>>2]|0;do if((a|0)==(i|0)){b=i+20|0;a=c[b>>2]|0;if(!a){b=i+16|0;a=c[b>>2]|0;if(!a){a=0;break}}while(1){d=a+20|0;e=c[d>>2]|0;if(e|0){a=e;b=d;continue}d=a+16|0;e=c[d>>2]|0;if(!e)break;else{a=e;b=d}}c[b>>2]=0}else{o=c[i+8>>2]|0;c[o+12>>2]=a;c[a+8>>2]=o}while(0);do if(!f)e=j;else{b=c[i+28>>2]|0;if((i|0)==(c[5044+(b<<2)>>2]|0)){c[5044+(b<<2)>>2]=a;if(!a){c[1186]=j&~(1<<b);e=j&~(1<<b);break}}else{c[f+16+(((c[f+16>>2]|0)!=(i|0)&1)<<2)>>2]=a;if(!a){e=j;break}}c[a+24>>2]=f;b=c[i+16>>2]|0;if(b|0){c[a+16>>2]=b;c[b+24>>2]=a}b=c[i+20>>2]|0;if(!b)e=j;else{c[a+20>>2]=b;c[b+24>>2]=a;e=j}}while(0);do if(g>>>0<16){o=g+n|0;c[i+4>>2]=o|3;o=i+o+4|0;c[o>>2]=c[o>>2]|1}else{c[i+4>>2]=n|3;c[h+4>>2]=g|1;c[h+g>>2]=g;d=g>>>3;if(g>>>0<256){a=c[1185]|0;if(!(a&1<<d)){c[1185]=a|1<<d;a=4780+(d<<1<<2)|0;b=4780+(d<<1<<2)+8|0}else{a=c[4780+(d<<1<<2)+8>>2]|0;b=4780+(d<<1<<2)+8|0}c[b>>2]=h;c[a+12>>2]=h;c[h+8>>2]=a;c[h+12>>2]=4780+(d<<1<<2);break}a=g>>>8;if(!a)a=0;else if(g>>>0>16777215)a=31;else{o=a<<((a+1048320|0)>>>16&8)<<(((a<<((a+1048320|0)>>>16&8))+520192|0)>>>16&4);a=14-(((a<<((a+1048320|0)>>>16&8))+520192|0)>>>16&4|(a+1048320|0)>>>16&8|(o+245760|0)>>>16&2)+(o<<((o+245760|0)>>>16&2)>>>15)|0;a=g>>>(a+7|0)&1|a<<1}d=5044+(a<<2)|0;c[h+28>>2]=a;c[h+16+4>>2]=0;c[h+16>>2]=0;b=1<<a;if(!(e&b)){c[1186]=e|b;c[d>>2]=h;c[h+24>>2]=d;c[h+12>>2]=h;c[h+8>>2]=h;break}b=g<<((a|0)==31?0:25-(a>>>1)|0);d=c[d>>2]|0;while(1){if((c[d+4>>2]&-8|0)==(g|0)){o=97;break}e=d+16+(b>>>31<<2)|0;a=c[e>>2]|0;if(!a){o=96;break}else{b=b<<1;d=a}}if((o|0)==96){c[e>>2]=h;c[h+24>>2]=d;c[h+12>>2]=h;c[h+8>>2]=h;break}else if((o|0)==97){n=d+8|0;o=c[n>>2]|0;c[o+12>>2]=h;c[n>>2]=h;c[h+8>>2]=o;c[h+12>>2]=d;c[h+24>>2]=0;break}}while(0);o=i+8|0;l=p;return o|0}}}while(0);d=c[1187]|0;if(d>>>0>=n>>>0){a=d-n|0;b=c[1190]|0;if(a>>>0>15){o=b+n|0;c[1190]=o;c[1187]=a;c[o+4>>2]=a|1;c[o+a>>2]=a;c[b+4>>2]=n|3}else{c[1187]=0;c[1190]=0;c[b+4>>2]=d|3;c[b+d+4>>2]=c[b+d+4>>2]|1}o=b+8|0;l=p;return o|0}g=c[1188]|0;if(g>>>0>n>>>0){k=g-n|0;c[1188]=k;o=c[1191]|0;m=o+n|0;c[1191]=m;c[m+4>>2]=k|1;c[o+4>>2]=n|3;o=o+8|0;l=p;return o|0}if(!(c[1303]|0)){c[1305]=4096;c[1304]=4096;c[1306]=-1;c[1307]=-1;c[1308]=0;c[1296]=0;c[p>>2]=p&-16^1431655768;c[1303]=p&-16^1431655768;a=4096}else a=c[1305]|0;h=n+48|0;i=n+47|0;k=a+i|0;j=0-a|0;if((k&j)>>>0<=n>>>0){o=0;l=p;return o|0}a=c[1295]|0;if(a|0){m=c[1293]|0;if((m+(k&j)|0)>>>0<=m>>>0?1:(m+(k&j)|0)>>>0>a>>>0){o=0;l=p;return o|0}}b:do if(!(c[1296]&4)){d=c[1191]|0;c:do if(!d)o=118;else{a=5188;while(1){b=c[a>>2]|0;if(b>>>0<=d>>>0){f=a+4|0;if((b+(c[f>>2]|0)|0)>>>0>d>>>0)break}a=c[a+8>>2]|0;if(!a){o=118;break c}}if((k-g&j)>>>0<2147483647){e=zb(k-g&j|0)|0;if((e|0)==((c[a>>2]|0)+(c[f>>2]|0)|0))if((e|0)==(-1|0))a=k-g&j;else{g=k-g&j;o=135;break b}else{d=k-g&j;o=126}}else a=0}while(0);do if((o|0)==118){f=zb(0)|0;if((f|0)==(-1|0))a=0;else{d=c[1304]|0;d=((d+-1&f|0)==0?0:(d+-1+f&0-d)-f|0)+(k&j)|0;a=c[1293]|0;if(d>>>0>n>>>0&d>>>0<2147483647){b=c[1295]|0;if(b|0)if((d+a|0)>>>0<=a>>>0|(d+a|0)>>>0>b>>>0){a=0;break}e=zb(d|0)|0;if((e|0)==(f|0)){g=d;e=f;o=135;break b}else o=126}else a=0}}while(0);do if((o|0)==126){b=0-d|0;if(!(h>>>0>d>>>0&(d>>>0<2147483647&(e|0)!=(-1|0))))if((e|0)==(-1|0)){a=0;break}else{g=d;o=135;break b}a=c[1305]|0;a=i-d+a&0-a;if(a>>>0>=2147483647){g=d;o=135;break b}if((zb(a|0)|0)==(-1|0)){zb(b|0)|0;a=0;break}else{g=a+d|0;o=135;break b}}while(0);c[1296]=c[1296]|4;o=133}else{a=0;o=133}while(0);if((o|0)==133)if((k&j)>>>0<2147483647){e=zb(k&j|0)|0;b=zb(0)|0;d=(b-e|0)>>>0>(n+40|0)>>>0;if(!((e|0)==(-1|0)|d^1|e>>>0<b>>>0&((e|0)!=(-1|0)&(b|0)!=(-1|0))^1)){g=d?b-e|0:a;o=135}}if((o|0)==135){a=(c[1293]|0)+g|0;c[1293]=a;if(a>>>0>(c[1294]|0)>>>0)c[1294]=a;h=c[1191]|0;do if(!h){o=c[1189]|0;if((o|0)==0|e>>>0<o>>>0)c[1189]=e;c[1297]=e;c[1298]=g;c[1300]=0;c[1194]=c[1303];c[1193]=-1;a=0;do{o=4780+(a<<1<<2)|0;c[o+12>>2]=o;c[o+8>>2]=o;a=a+1|0}while((a|0)!=32);o=e+8|0;o=(o&7|0)==0?0:0-o&7;m=e+o|0;o=g+-40-o|0;c[1191]=m;c[1188]=o;c[m+4>>2]=o|1;c[m+o+4>>2]=40;c[1192]=c[1307]}else{a=5188;do{b=c[a>>2]|0;d=a+4|0;f=c[d>>2]|0;if((e|0)==(b+f|0)){o=145;break}a=c[a+8>>2]|0}while((a|0)!=0);if((o|0)==145)if(!(c[a+12>>2]&8))if(h>>>0<e>>>0&h>>>0>=b>>>0){c[d>>2]=f+g;m=(h+8&7|0)==0?0:0-(h+8)&7;o=(c[1188]|0)+(g-m)|0;c[1191]=h+m;c[1188]=o;c[h+m+4>>2]=o|1;c[h+m+o+4>>2]=40;c[1192]=c[1307];break}if(e>>>0<(c[1189]|0)>>>0)c[1189]=e;b=e+g|0;a=5188;do{if((c[a>>2]|0)==(b|0)){o=153;break}a=c[a+8>>2]|0}while((a|0)!=0);if((o|0)==153)if(!(c[a+12>>2]&8)){c[a>>2]=e;k=a+4|0;c[k>>2]=(c[k>>2]|0)+g;k=e+8|0;k=e+((k&7|0)==0?0:0-k&7)|0;a=b+((b+8&7|0)==0?0:0-(b+8)&7)|0;j=k+n|0;i=a-k-n|0;c[k+4>>2]=n|3;do if((a|0)==(h|0)){o=(c[1188]|0)+i|0;c[1188]=o;c[1191]=j;c[j+4>>2]=o|1}else{if((a|0)==(c[1190]|0)){o=(c[1187]|0)+i|0;c[1187]=o;c[1190]=j;c[j+4>>2]=o|1;c[j+o>>2]=o;break}h=c[a+4>>2]|0;if((h&3|0)==1){d:do if(h>>>0<256){b=c[a+8>>2]|0;d=c[a+12>>2]|0;if((d|0)==(b|0)){c[1185]=c[1185]&~(1<<(h>>>3));break}else{c[b+12>>2]=d;c[d+8>>2]=b;break}}else{g=c[a+24>>2]|0;b=c[a+12>>2]|0;do if((b|0)==(a|0)){b=c[a+16+4>>2]|0;if(!b){b=c[a+16>>2]|0;if(!b){b=0;break}else f=a+16|0}else f=a+16+4|0;while(1){d=b+20|0;e=c[d>>2]|0;if(e|0){b=e;f=d;continue}d=b+16|0;e=c[d>>2]|0;if(!e)break;else{b=e;f=d}}c[f>>2]=0}else{o=c[a+8>>2]|0;c[o+12>>2]=b;c[b+8>>2]=o}while(0);if(!g)break;d=c[a+28>>2]|0;do if((a|0)==(c[5044+(d<<2)>>2]|0)){c[5044+(d<<2)>>2]=b;if(b|0)break;c[1186]=c[1186]&~(1<<d);break d}else{c[g+16+(((c[g+16>>2]|0)!=(a|0)&1)<<2)>>2]=b;if(!b)break d}while(0);c[b+24>>2]=g;d=c[a+16>>2]|0;if(d|0){c[b+16>>2]=d;c[d+24>>2]=b}d=c[a+16+4>>2]|0;if(!d)break;c[b+20>>2]=d;c[d+24>>2]=b}while(0);a=a+(h&-8)|0;f=(h&-8)+i|0}else f=i;d=a+4|0;c[d>>2]=c[d>>2]&-2;c[j+4>>2]=f|1;c[j+f>>2]=f;d=f>>>3;if(f>>>0<256){a=c[1185]|0;if(!(a&1<<d)){c[1185]=a|1<<d;a=4780+(d<<1<<2)|0;b=4780+(d<<1<<2)+8|0}else{a=c[4780+(d<<1<<2)+8>>2]|0;b=4780+(d<<1<<2)+8|0}c[b>>2]=j;c[a+12>>2]=j;c[j+8>>2]=a;c[j+12>>2]=4780+(d<<1<<2);break}a=f>>>8;do if(!a)a=0;else{if(f>>>0>16777215){a=31;break}o=a<<((a+1048320|0)>>>16&8)<<(((a<<((a+1048320|0)>>>16&8))+520192|0)>>>16&4);a=14-(((a<<((a+1048320|0)>>>16&8))+520192|0)>>>16&4|(a+1048320|0)>>>16&8|(o+245760|0)>>>16&2)+(o<<((o+245760|0)>>>16&2)>>>15)|0;a=f>>>(a+7|0)&1|a<<1}while(0);e=5044+(a<<2)|0;c[j+28>>2]=a;c[j+16+4>>2]=0;c[j+16>>2]=0;b=c[1186]|0;d=1<<a;if(!(b&d)){c[1186]=b|d;c[e>>2]=j;c[j+24>>2]=e;c[j+12>>2]=j;c[j+8>>2]=j;break}b=f<<((a|0)==31?0:25-(a>>>1)|0);d=c[e>>2]|0;while(1){if((c[d+4>>2]&-8|0)==(f|0)){o=194;break}e=d+16+(b>>>31<<2)|0;a=c[e>>2]|0;if(!a){o=193;break}else{b=b<<1;d=a}}if((o|0)==193){c[e>>2]=j;c[j+24>>2]=d;c[j+12>>2]=j;c[j+8>>2]=j;break}else if((o|0)==194){n=d+8|0;o=c[n>>2]|0;c[o+12>>2]=j;c[n>>2]=j;c[j+8>>2]=o;c[j+12>>2]=d;c[j+24>>2]=0;break}}while(0);o=k+8|0;l=p;return o|0}b=5188;while(1){a=c[b>>2]|0;if(a>>>0<=h>>>0){d=a+(c[b+4>>2]|0)|0;if(d>>>0>h>>>0)break}b=c[b+8>>2]|0}f=d+-47+((d+-47+8&7|0)==0?0:0-(d+-47+8)&7)|0;f=f>>>0<(h+16|0)>>>0?h:f;a=e+8|0;a=(a&7|0)==0?0:0-a&7;o=e+a|0;a=g+-40-a|0;c[1191]=o;c[1188]=a;c[o+4>>2]=a|1;c[o+a+4>>2]=40;c[1192]=c[1307];c[f+4>>2]=27;c[f+8>>2]=c[1297];c[f+8+4>>2]=c[1298];c[f+8+8>>2]=c[1299];c[f+8+12>>2]=c[1300];c[1297]=e;c[1298]=g;c[1300]=0;c[1299]=f+8;a=f+24|0;do{o=a;a=a+4|0;c[a>>2]=7}while((o+8|0)>>>0<d>>>0);if((f|0)!=(h|0)){c[f+4>>2]=c[f+4>>2]&-2;c[h+4>>2]=f-h|1;c[f>>2]=f-h;if((f-h|0)>>>0<256){d=4780+((f-h|0)>>>3<<1<<2)|0;a=c[1185]|0;if(!(a&1<<((f-h|0)>>>3))){c[1185]=a|1<<((f-h|0)>>>3);a=d;b=d+8|0}else{a=c[d+8>>2]|0;b=d+8|0}c[b>>2]=h;c[a+12>>2]=h;c[h+8>>2]=a;c[h+12>>2]=d;break}if(!((f-h|0)>>>8))a=0;else if((f-h|0)>>>0>16777215)a=31;else{a=(f-h|0)>>>8<<((((f-h|0)>>>8)+1048320|0)>>>16&8);a=14-((a+520192|0)>>>16&4|(((f-h|0)>>>8)+1048320|0)>>>16&8|((a<<((a+520192|0)>>>16&4))+245760|0)>>>16&2)+(a<<((a+520192|0)>>>16&4)<<(((a<<((a+520192|0)>>>16&4))+245760|0)>>>16&2)>>>15)|0;a=(f-h|0)>>>(a+7|0)&1|a<<1}e=5044+(a<<2)|0;c[h+28>>2]=a;c[h+20>>2]=0;c[h+16>>2]=0;b=c[1186]|0;d=1<<a;if(!(b&d)){c[1186]=b|d;c[e>>2]=h;c[h+24>>2]=e;c[h+12>>2]=h;c[h+8>>2]=h;break}b=f-h<<((a|0)==31?0:25-(a>>>1)|0);d=c[e>>2]|0;while(1){if((c[d+4>>2]&-8|0)==(f-h|0)){o=216;break}e=d+16+(b>>>31<<2)|0;a=c[e>>2]|0;if(!a){o=215;break}else{b=b<<1;d=a}}if((o|0)==215){c[e>>2]=h;c[h+24>>2]=d;c[h+12>>2]=h;c[h+8>>2]=h;break}else if((o|0)==216){m=d+8|0;o=c[m>>2]|0;c[o+12>>2]=h;c[m>>2]=h;c[h+8>>2]=o;c[h+12>>2]=d;c[h+24>>2]=0;break}}}while(0);a=c[1188]|0;if(a>>>0>n>>>0){k=a-n|0;c[1188]=k;o=c[1191]|0;m=o+n|0;c[1191]=m;c[m+4>>2]=k|1;c[o+4>>2]=n|3;o=o+8|0;l=p;return o|0}}c[(Ga()|0)>>2]=12;o=0;l=p;return o|0}function Aa(a){a=a|0;var b=0,d=0,e=0,f=0,g=0,h=0,i=0,j=0;if(!a)return;b=c[1189]|0;d=c[a+-4>>2]|0;j=a+-8+(d&-8)|0;do if(!(d&1)){e=c[a+-8>>2]|0;if(!(d&3))return;h=a+-8+(0-e)|0;g=e+(d&-8)|0;if(h>>>0<b>>>0)return;if((h|0)==(c[1190]|0)){a=c[j+4>>2]|0;if((a&3|0)!=3){i=h;b=g;break}c[1187]=g;c[j+4>>2]=a&-2;c[h+4>>2]=g|1;c[h+g>>2]=g;return}if(e>>>0<256){a=c[h+8>>2]|0;b=c[h+12>>2]|0;if((b|0)==(a|0)){c[1185]=c[1185]&~(1<<(e>>>3));i=h;b=g;break}else{c[a+12>>2]=b;c[b+8>>2]=a;i=h;b=g;break}}f=c[h+24>>2]|0;a=c[h+12>>2]|0;do if((a|0)==(h|0)){a=c[h+16+4>>2]|0;if(!a){a=c[h+16>>2]|0;if(!a){a=0;break}else e=h+16|0}else e=h+16+4|0;while(1){b=a+20|0;d=c[b>>2]|0;if(d|0){a=d;e=b;continue}b=a+16|0;d=c[b>>2]|0;if(!d)break;else{a=d;e=b}}c[e>>2]=0}else{i=c[h+8>>2]|0;c[i+12>>2]=a;c[a+8>>2]=i}while(0);if(!f){i=h;b=g}else{b=c[h+28>>2]|0;if((h|0)==(c[5044+(b<<2)>>2]|0)){c[5044+(b<<2)>>2]=a;if(!a){c[1186]=c[1186]&~(1<<b);i=h;b=g;break}}else{c[f+16+(((c[f+16>>2]|0)!=(h|0)&1)<<2)>>2]=a;if(!a){i=h;b=g;break}}c[a+24>>2]=f;b=c[h+16>>2]|0;if(b|0){c[a+16>>2]=b;c[b+24>>2]=a}b=c[h+16+4>>2]|0;if(!b){i=h;b=g}else{c[a+20>>2]=b;c[b+24>>2]=a;i=h;b=g}}}else{i=a+-8|0;b=d&-8;h=a+-8|0}while(0);if(h>>>0>=j>>>0)return;d=c[j+4>>2]|0;if(!(d&1))return;if(!(d&2)){a=c[1190]|0;if((j|0)==(c[1191]|0)){j=(c[1188]|0)+b|0;c[1188]=j;c[1191]=i;c[i+4>>2]=j|1;if((i|0)!=(a|0))return;c[1190]=0;c[1187]=0;return}if((j|0)==(a|0)){j=(c[1187]|0)+b|0;c[1187]=j;c[1190]=h;c[i+4>>2]=j|1;c[h+j>>2]=j;return}f=(d&-8)+b|0;do if(d>>>0<256){b=c[j+8>>2]|0;a=c[j+12>>2]|0;if((a|0)==(b|0)){c[1185]=c[1185]&~(1<<(d>>>3));break}else{c[b+12>>2]=a;c[a+8>>2]=b;break}}else{g=c[j+24>>2]|0;a=c[j+12>>2]|0;do if((a|0)==(j|0)){a=c[j+16+4>>2]|0;if(!a){a=c[j+16>>2]|0;if(!a){b=0;break}else e=j+16|0}else e=j+16+4|0;while(1){b=a+20|0;d=c[b>>2]|0;if(d|0){a=d;e=b;continue}b=a+16|0;d=c[b>>2]|0;if(!d)break;else{a=d;e=b}}c[e>>2]=0;b=a}else{b=c[j+8>>2]|0;c[b+12>>2]=a;c[a+8>>2]=b;b=a}while(0);if(g|0){a=c[j+28>>2]|0;if((j|0)==(c[5044+(a<<2)>>2]|0)){c[5044+(a<<2)>>2]=b;if(!b){c[1186]=c[1186]&~(1<<a);break}}else{c[g+16+(((c[g+16>>2]|0)!=(j|0)&1)<<2)>>2]=b;if(!b)break}c[b+24>>2]=g;a=c[j+16>>2]|0;if(a|0){c[b+16>>2]=a;c[a+24>>2]=b}a=c[j+16+4>>2]|0;if(a|0){c[b+20>>2]=a;c[a+24>>2]=b}}}while(0);c[i+4>>2]=f|1;c[h+f>>2]=f;if((i|0)==(c[1190]|0)){c[1187]=f;return}}else{c[j+4>>2]=d&-2;c[i+4>>2]=b|1;c[h+b>>2]=b;f=b}d=f>>>3;if(f>>>0<256){a=c[1185]|0;if(!(a&1<<d)){c[1185]=a|1<<d;a=4780+(d<<1<<2)|0;b=4780+(d<<1<<2)+8|0}else{a=c[4780+(d<<1<<2)+8>>2]|0;b=4780+(d<<1<<2)+8|0}c[b>>2]=i;c[a+12>>2]=i;c[i+8>>2]=a;c[i+12>>2]=4780+(d<<1<<2);return}a=f>>>8;if(!a)a=0;else if(f>>>0>16777215)a=31;else{j=a<<((a+1048320|0)>>>16&8)<<(((a<<((a+1048320|0)>>>16&8))+520192|0)>>>16&4);a=14-(((a<<((a+1048320|0)>>>16&8))+520192|0)>>>16&4|(a+1048320|0)>>>16&8|(j+245760|0)>>>16&2)+(j<<((j+245760|0)>>>16&2)>>>15)|0;a=f>>>(a+7|0)&1|a<<1}e=5044+(a<<2)|0;c[i+28>>2]=a;c[i+20>>2]=0;c[i+16>>2]=0;b=c[1186]|0;d=1<<a;do if(!(b&d)){c[1186]=b|d;c[e>>2]=i;c[i+24>>2]=e;c[i+12>>2]=i;c[i+8>>2]=i}else{b=f<<((a|0)==31?0:25-(a>>>1)|0);d=c[e>>2]|0;while(1){if((c[d+4>>2]&-8|0)==(f|0)){a=73;break}e=d+16+(b>>>31<<2)|0;a=c[e>>2]|0;if(!a){a=72;break}else{b=b<<1;d=a}}if((a|0)==72){c[e>>2]=i;c[i+24>>2]=d;c[i+12>>2]=i;c[i+8>>2]=i;break}else if((a|0)==73){h=d+8|0;j=c[h>>2]|0;c[j+12>>2]=i;c[h>>2]=i;c[i+8>>2]=j;c[i+12>>2]=d;c[i+24>>2]=0;break}}while(0);j=(c[1193]|0)+-1|0;c[1193]=j;if(!j)a=5196;else return;while(1){a=c[a>>2]|0;if(!a)break;else a=a+8|0}c[1193]=-1;return}function Ba(){return 5236}function Ca(a){a=a|0;var b=0;b=l;l=l+16|0;c[b>>2]=Ja(c[a+60>>2]|0)|0;a=Fa(_(6,b|0)|0)|0;l=b;return a|0}function Da(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0,g=0,h=0,i=0,j=0,k=0;i=l;l=l+48|0;e=c[a+28>>2]|0;c[i+32>>2]=e;e=(c[a+20>>2]|0)-e|0;c[i+32+4>>2]=e;c[i+32+8>>2]=b;c[i+32+12>>2]=d;c[i>>2]=c[a+60>>2];c[i+4>>2]=i+32;c[i+8>>2]=2;f=Fa(aa(146,i|0)|0)|0;a:do if((e+d|0)==(f|0))h=3;else{b=2;g=e+d|0;e=i+32|0;while(1){if((f|0)<0)break;g=g-f|0;j=c[e+4>>2]|0;k=f>>>0>j>>>0;e=k?e+8|0:e;b=(k<<31>>31)+b|0;j=f-(k?j:0)|0;c[e>>2]=(c[e>>2]|0)+j;c[e+4>>2]=(c[e+4>>2]|0)-j;c[i+16>>2]=c[a+60>>2];c[i+16+4>>2]=e;c[i+16+8>>2]=b;f=Fa(aa(146,i+16|0)|0)|0;if((g|0)==(f|0)){h=3;break a}}c[a+16>>2]=0;c[a+28>>2]=0;c[a+20>>2]=0;c[a>>2]=c[a>>2]|32;if((b|0)==2)d=0;else d=d-(c[e+4>>2]|0)|0}while(0);if((h|0)==3){k=c[a+44>>2]|0;c[a+16>>2]=k+(c[a+48>>2]|0);c[a+28>>2]=k;c[a+20>>2]=k}l=i;return d|0}function Ea(a,b,d){a=a|0;b=b|0;d=d|0;var e=0;e=l;l=l+32|0;c[e>>2]=c[a+60>>2];c[e+4>>2]=0;c[e+8>>2]=b;c[e+12>>2]=e+20;c[e+16>>2]=d;if((Fa(ca(140,e|0)|0)|0)<0){c[e+20>>2]=-1;a=-1}else a=c[e+20>>2]|0;l=e;return a|0}function Fa(a){a=a|0;if(a>>>0>4294963200){c[(Ga()|0)>>2]=0-a;a=-1}return a|0}function Ga(){return (Ha()|0)+64|0}function Ha(){return Ia()|0}function Ia(){return 136}function Ja(a){a=a|0;return a|0}function Ka(b,c){b=b|0;c=c|0;var d=0,e=0;d=a[b>>0]|0;e=a[c>>0]|0;if(d<<24>>24==0?1:d<<24>>24!=e<<24>>24)b=e;else{do{b=b+1|0;c=c+1|0;d=a[b>>0]|0;e=a[c>>0]|0}while(!(d<<24>>24==0?1:d<<24>>24!=e<<24>>24));b=e}return (d&255)-(b&255)|0}function La(a,b,d,e){a=a|0;b=b|0;d=d|0;e=e|0;var f=0,g=0;f=O(d,b)|0;d=(b|0)==0?0:d;if((c[e+76>>2]|0)>-1){g=(Na(e)|0)==0;a=Qa(a,f,e)|0;if(!g)Ma(e)}else a=Qa(a,f,e)|0;if((a|0)!=(f|0))d=(a>>>0)/(b>>>0)|0;return d|0}function Ma(a){a=a|0;return}function Na(a){a=a|0;return 0}function Oa(b,e){b=b|0;e=e|0;var f=0,g=0,h=0,i=0;i=l;l=l+16|0;a[i>>0]=e;f=c[b+16>>2]|0;if(!f)if(!(Pa(b)|0)){g=c[b+16>>2]|0;h=4}else f=-1;else{g=f;h=4}do if((h|0)==4){f=c[b+20>>2]|0;if(f>>>0<g>>>0)if((e&255|0)!=(a[b+75>>0]|0)){c[b+20>>2]=f+1;a[f>>0]=e;f=e&255;break}if((ia[c[b+36>>2]&3](b,i,1)|0)==1)f=d[i>>0]|0;else f=-1}while(0);l=i;return f|0}function Pa(b){b=b|0;var d=0;d=a[b+74>>0]|0;a[b+74>>0]=d+255|d;d=c[b>>2]|0;if(!(d&8)){c[b+8>>2]=0;c[b+4>>2]=0;d=c[b+44>>2]|0;c[b+28>>2]=d;c[b+20>>2]=d;c[b+16>>2]=d+(c[b+48>>2]|0);b=0}else{c[b>>2]=d|32;b=-1}return b|0}function Qa(b,d,e){b=b|0;d=d|0;e=e|0;var f=0,g=0,h=0,i=0;f=c[e+16>>2]|0;if(!f)if(!(Pa(e)|0)){g=c[e+16>>2]|0;h=5}else f=0;else{g=f;h=5}a:do if((h|0)==5){f=c[e+20>>2]|0;if((g-f|0)>>>0<d>>>0){f=ia[c[e+36>>2]&3](e,b,d)|0;break}b:do if((a[e+75>>0]|0)>-1){h=d;while(1){if(!h){i=0;g=b;break b}g=h+-1|0;if((a[b+g>>0]|0)==10)break;else h=g}f=ia[c[e+36>>2]&3](e,b,h)|0;if(f>>>0<h>>>0)break a;i=h;g=b+h|0;d=d-h|0;f=c[e+20>>2]|0}else{i=0;g=b}while(0);vb(f|0,g|0,d|0)|0;c[e+20>>2]=(c[e+20>>2]|0)+d;f=i+d|0}while(0);return f|0}function Ra(a,b){a=a|0;b=b|0;if(!b)b=0;else b=Sa(c[b>>2]|0,c[b+4>>2]|0,a)|0;return (b|0?b:a)|0}function Sa(b,d,e){b=b|0;d=d|0;e=e|0;var f=0,g=0,h=0,i=0,j=0,k=0,l=0,m=0,n=0;n=(c[b>>2]|0)+1794895138|0;f=Ta(c[b+8>>2]|0,n)|0;k=Ta(c[b+12>>2]|0,n)|0;m=Ta(c[b+16>>2]|0,n)|0;a:do if(f>>>0<d>>>2>>>0)if(k>>>0<(d-(f<<2)|0)>>>0&m>>>0<(d-(f<<2)|0)>>>0)if(!((m|k)&3)){j=0;while(1){i=f>>>1;l=j+i|0;g=Ta(c[b+((l<<1)+(k>>>2)<<2)>>2]|0,n)|0;h=Ta(c[b+((l<<1)+(k>>>2)+1<<2)>>2]|0,n)|0;if(!(h>>>0<d>>>0&g>>>0<(d-h|0)>>>0)){f=0;break a}if(a[b+(h+g)>>0]|0){f=0;break a}g=Ka(e,b+h|0)|0;if(!g)break;if((f|0)==1){f=0;break a}else{j=(g|0)<0?j:l;f=(g|0)<0?i:f-i|0}}g=Ta(c[b+((l<<1)+(m>>>2)<<2)>>2]|0,n)|0;f=Ta(c[b+((l<<1)+(m>>>2)+1<<2)>>2]|0,n)|0;if(f>>>0<d>>>0&g>>>0<(d-f|0)>>>0)f=(a[b+(f+g)>>0]|0)==0?b+f|0:0;else f=0}else f=0;else f=0;else f=0;while(0);return f|0}function Ta(a,b){a=a|0;b=b|0;var c=0;c=Bb(a|0)|0;return ((b|0)==0?a:c)|0}function Ua(b,d,e){b=b|0;d=d|0;e=e|0;var f=0,g=0,h=0;a:do if((e|0)!=0&(b&3|0)!=0){f=b;b=e;while(1){if((a[f>>0]|0)==(d&255)<<24>>24){g=6;break a}f=f+1|0;e=b+-1|0;if((e|0)!=0&(f&3|0)!=0)b=e;else{b=e;e=(e|0)!=0;g=5;break}}}else{f=b;b=e;e=(e|0)!=0;g=5}while(0);if((g|0)==5)if(e)g=6;else b=0;b:do if((g|0)==6)if((a[f>>0]|0)!=(d&255)<<24>>24){e=O(d&255,16843009)|0;c:do if(b>>>0>3)while(1){h=c[f>>2]^e;if((h&-2139062144^-2139062144)&h+-16843009|0)break;f=f+4|0;b=b+-4|0;if(b>>>0<=3){g=11;break c}}else g=11;while(0);if((g|0)==11)if(!b){b=0;break}while(1){if((a[f>>0]|0)==(d&255)<<24>>24)break b;f=f+1|0;b=b+-1|0;if(!b){b=0;break}}}while(0);return (b|0?f:0)|0}function Va(a,b,d){a=a|0;b=b|0;d=d|0;var e=0;e=l;l=l+16|0;c[e>>2]=d;d=Wa(a,b,e)|0;l=e;return d|0}function Wa(b,d,e){b=b|0;d=d|0;e=e|0;var f=0,g=0,h=0,i=0;i=l;l=l+224|0;f=i+80|0;g=f+40|0;do{c[f>>2]=0;f=f+4|0}while((f|0)<(g|0));c[i+120>>2]=c[e>>2];if((Xa(0,d,i+120|0,i,i+80|0)|0)<0)e=-1;else{if((c[b+76>>2]|0)>-1)h=Na(b)|0;else h=0;g=c[b>>2]|0;if((a[b+74>>0]|0)<1)c[b>>2]=g&-33;if(!(c[b+48>>2]|0)){f=c[b+44>>2]|0;c[b+44>>2]=i+136;c[b+28>>2]=i+136;c[b+20>>2]=i+136;c[b+48>>2]=80;c[b+16>>2]=i+136+80;e=Xa(b,d,i+120|0,i,i+80|0)|0;if(f){ia[c[b+36>>2]&3](b,0,0)|0;e=(c[b+20>>2]|0)==0?-1:e;c[b+44>>2]=f;c[b+48>>2]=0;c[b+16>>2]=0;c[b+28>>2]=0;c[b+20>>2]=0}}else e=Xa(b,d,i+120|0,i,i+80|0)|0;f=c[b>>2]|0;c[b>>2]=f|g&32;if(h|0)Ma(b);e=(f&32|0)==0?e:-1}l=i;return e|0}function Xa(d,e,f,g,i){d=d|0;e=e|0;f=f|0;g=g|0;i=i|0;var j=0,k=0,m=0,n=0,o=0,p=0,q=0,r=0,s=0,t=0,u=0,v=0,w=0,x=0,y=0;x=l;l=l+64|0;c[x+16>>2]=e;w=x+24+40|0;k=0;j=0;p=0;a:while(1){do if((j|0)>-1)if((k|0)>(2147483647-j|0)){c[(Ga()|0)>>2]=75;j=-1;break}else{j=k+j|0;break}while(0);k=a[e>>0]|0;if(!(k<<24>>24)){v=87;break}else m=e;b:while(1){switch(k<<24>>24){case 37:{k=m;v=9;break b}case 0:{k=m;break b}default:{}}u=m+1|0;c[x+16>>2]=u;k=a[u>>0]|0;m=u}c:do if((v|0)==9)while(1){v=0;if((a[m+1>>0]|0)!=37)break c;k=k+1|0;m=m+2|0;c[x+16>>2]=m;if((a[m>>0]|0)==37)v=9;else break}while(0);k=k-e|0;if(d|0)Ya(d,e,k);if(k|0){e=m;continue}n=m+1|0;k=(a[n>>0]|0)+-48|0;if(k>>>0<10){u=(a[m+2>>0]|0)==36;s=u?k:-1;p=u?1:p;n=u?m+3|0:n}else s=-1;c[x+16>>2]=n;k=a[n>>0]|0;d:do if(((k<<24>>24)+-32|0)>>>0<32){m=0;q=k;o=(k<<24>>24)+-32|0;while(1){k=1<<o;if(!(k&75913)){k=q;break d}m=k|m;n=n+1|0;c[x+16>>2]=n;k=a[n>>0]|0;o=(k<<24>>24)+-32|0;if(o>>>0>=32)break;else q=k}}else m=0;while(0);if(k<<24>>24==42){o=n+1|0;k=(a[o>>0]|0)+-48|0;if(k>>>0<10)if((a[n+2>>0]|0)==36){c[i+(k<<2)>>2]=10;k=c[g+((a[o>>0]|0)+-48<<3)>>2]|0;p=1;n=n+3|0}else v=23;else v=23;if((v|0)==23){v=0;if(p|0){j=-1;break}if(d|0){p=(c[f>>2]|0)+(4-1)&~(4-1);k=c[p>>2]|0;c[f>>2]=p+4;p=0;n=o}else{k=0;p=0;n=o}}c[x+16>>2]=n;t=(k|0)<0;k=t?0-k|0:k;t=t?m|8192:m}else{k=Za(x+16|0)|0;if((k|0)<0){j=-1;break}t=m;n=c[x+16>>2]|0}do if((a[n>>0]|0)==46){if((a[n+1>>0]|0)!=42){c[x+16>>2]=n+1;m=Za(x+16|0)|0;n=c[x+16>>2]|0;break}o=n+2|0;m=(a[o>>0]|0)+-48|0;if(m>>>0<10)if((a[n+3>>0]|0)==36){c[i+(m<<2)>>2]=10;m=c[g+((a[o>>0]|0)+-48<<3)>>2]|0;n=n+4|0;c[x+16>>2]=n;break}if(p|0){j=-1;break a}if(d|0){u=(c[f>>2]|0)+(4-1)&~(4-1);m=c[u>>2]|0;c[f>>2]=u+4}else m=0;c[x+16>>2]=o;n=o}else m=-1;while(0);r=0;while(1){if(((a[n>>0]|0)+-65|0)>>>0>57){j=-1;break a}u=n+1|0;c[x+16>>2]=u;o=a[(a[n>>0]|0)+-65+(2221+(r*58|0))>>0]|0;if(((o&255)+-1|0)>>>0<8){r=o&255;n=u}else break}if(!(o<<24>>24)){j=-1;break}q=(s|0)>-1;do if(o<<24>>24==19)if(q){j=-1;break a}else v=49;else{if(q){c[i+(s<<2)>>2]=o&255;s=g+(s<<3)|0;v=c[s+4>>2]|0;c[x>>2]=c[s>>2];c[x+4>>2]=v;v=49;break}if(!d){j=0;break a}_a(x,o&255,f)}while(0);if((v|0)==49){v=0;if(!d){k=0;e=u;continue}}n=a[n>>0]|0;n=(r|0)!=0&(n&15|0)==3?n&-33:n;s=t&-65537;t=(t&8192|0)==0?t:s;e:do switch(n|0){case 110:switch((r&255)<<24>>24){case 0:{c[c[x>>2]>>2]=j;k=0;e=u;continue a}case 1:{c[c[x>>2]>>2]=j;k=0;e=u;continue a}case 2:{k=c[x>>2]|0;c[k>>2]=j;c[k+4>>2]=((j|0)<0)<<31>>31;k=0;e=u;continue a}case 3:{b[c[x>>2]>>1]=j;k=0;e=u;continue a}case 4:{a[c[x>>2]>>0]=j;k=0;e=u;continue a}case 6:{c[c[x>>2]>>2]=j;k=0;e=u;continue a}case 7:{k=c[x>>2]|0;c[k>>2]=j;c[k+4>>2]=((j|0)<0)<<31>>31;k=0;e=u;continue a}default:{k=0;e=u;continue a}}case 112:{n=120;m=m>>>0>8?m:8;e=t|8;v=61;break}case 88:case 120:{e=t;v=61;break}case 111:{e=c[x>>2]|0;n=c[x+4>>2]|0;s=ab(e,n,w)|0;r=s;o=0;q=2685;m=(t&8|0)==0|(m|0)>(w-s|0)?m:w-s+1|0;s=t;v=67;break}case 105:case 100:{e=c[x>>2]|0;n=c[x+4>>2]|0;if((n|0)<0){e=qb(0,0,e|0,n|0)|0;n=z;c[x>>2]=e;c[x+4>>2]=n;o=1;q=2685;v=66;break e}else{o=(t&2049|0)!=0&1;q=(t&2048|0)==0?((t&1|0)==0?2685:2687):2686;v=66;break e}}case 117:{o=0;q=2685;e=c[x>>2]|0;n=c[x+4>>2]|0;v=66;break}case 99:{a[x+24+39>>0]=c[x>>2];e=x+24+39|0;o=0;q=2685;r=w;n=1;m=s;break}case 109:{n=cb(c[(Ga()|0)>>2]|0)|0;v=71;break}case 115:{n=c[x>>2]|0;n=n|0?n:2695;v=71;break}case 67:{c[x+8>>2]=c[x>>2];c[x+8+4>>2]=0;c[x>>2]=x+8;r=-1;n=x+8|0;v=75;break}case 83:{e=c[x>>2]|0;if(!m){db(d,32,k,0,t);e=0;v=84}else{r=m;n=e;v=75}break}case 65:case 71:case 70:case 69:case 97:case 103:case 102:case 101:{k=fb(d,+h[x>>3],k,m,t,n)|0;e=u;continue a}default:{o=0;q=2685;r=w;n=m;m=t}}while(0);f:do if((v|0)==61){y=c[x>>2]|0;t=c[x+4>>2]|0;r=$a(y,t,w,n&32)|0;q=(e&8|0)==0|(y|0)==0&(t|0)==0;o=q?0:2;q=q?2685:2685+(n>>4)|0;s=e;e=y;n=t;v=67}else if((v|0)==66){r=bb(e,n,w)|0;s=t;v=67}else if((v|0)==71){v=0;y=Ua(n,0,m)|0;e=n;o=0;q=2685;r=(y|0)==0?n+m|0:y;n=(y|0)==0?m:y-n|0;m=s}else if((v|0)==75){v=0;q=n;e=0;m=0;while(1){o=c[q>>2]|0;if(!o)break;m=eb(x+20|0,o)|0;if((m|0)<0|m>>>0>(r-e|0)>>>0)break;e=m+e|0;if(r>>>0>e>>>0)q=q+4|0;else break}if((m|0)<0){j=-1;break a}db(d,32,k,e,t);if(!e){e=0;v=84}else{o=0;while(1){m=c[n>>2]|0;if(!m){v=84;break f}m=eb(x+20|0,m)|0;o=m+o|0;if((o|0)>(e|0)){v=84;break f}Ya(d,x+20|0,m);if(o>>>0>=e>>>0){v=84;break}else n=n+4|0}}}while(0);if((v|0)==67){v=0;n=(e|0)!=0|(n|0)!=0;y=(m|0)!=0|n;n=((n^1)&1)+(w-r)|0;e=y?r:w;r=w;n=y?((m|0)>(n|0)?m:n):m;m=(m|0)>-1?s&-65537:s}else if((v|0)==84){v=0;db(d,32,k,e,t^8192);k=(k|0)>(e|0)?k:e;e=u;continue}t=r-e|0;s=(n|0)<(t|0)?t:n;y=s+o|0;k=(k|0)<(y|0)?y:k;db(d,32,k,y,m);Ya(d,q,o);db(d,48,k,y,m^65536);db(d,48,s,t,0);Ya(d,e,t);db(d,32,k,y,m^8192);e=u}g:do if((v|0)==87)if(!d)if(!p)j=0;else{j=1;while(1){e=c[i+(j<<2)>>2]|0;if(!e)break;_a(g+(j<<3)|0,e,f);j=j+1|0;if((j|0)>=10){j=1;break g}}while(1){if(c[i+(j<<2)>>2]|0){j=-1;break g}j=j+1|0;if((j|0)>=10){j=1;break}}}while(0);l=x;return j|0}function Ya(a,b,d){a=a|0;b=b|0;d=d|0;if(!(c[a>>2]&32))Qa(b,d,a)|0;return}function Za(b){b=b|0;var d=0,e=0,f=0;e=c[b>>2]|0;f=(a[e>>0]|0)+-48|0;if(f>>>0<10){d=0;do{d=f+(d*10|0)|0;e=e+1|0;c[b>>2]=e;f=(a[e>>0]|0)+-48|0}while(f>>>0<10)}else d=0;return d|0}function _a(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0,g=0.0;a:do if(b>>>0<=20)do switch(b|0){case 9:{e=(c[d>>2]|0)+(4-1)&~(4-1);b=c[e>>2]|0;c[d>>2]=e+4;c[a>>2]=b;break a}case 10:{b=(c[d>>2]|0)+(4-1)&~(4-1);e=c[b>>2]|0;c[d>>2]=b+4;c[a>>2]=e;c[a+4>>2]=((e|0)<0)<<31>>31;break a}case 11:{b=(c[d>>2]|0)+(4-1)&~(4-1);e=c[b>>2]|0;c[d>>2]=b+4;c[a>>2]=e;c[a+4>>2]=0;break a}case 12:{f=(c[d>>2]|0)+(8-1)&~(8-1);b=c[f>>2]|0;e=c[f+4>>2]|0;c[d>>2]=f+8;c[a>>2]=b;c[a+4>>2]=e;break a}case 13:{e=(c[d>>2]|0)+(4-1)&~(4-1);f=c[e>>2]|0;c[d>>2]=e+4;c[a>>2]=(f&65535)<<16>>16;c[a+4>>2]=(((f&65535)<<16>>16|0)<0)<<31>>31;break a}case 14:{e=(c[d>>2]|0)+(4-1)&~(4-1);f=c[e>>2]|0;c[d>>2]=e+4;c[a>>2]=f&65535;c[a+4>>2]=0;break a}case 15:{e=(c[d>>2]|0)+(4-1)&~(4-1);f=c[e>>2]|0;c[d>>2]=e+4;c[a>>2]=(f&255)<<24>>24;c[a+4>>2]=(((f&255)<<24>>24|0)<0)<<31>>31;break a}case 16:{e=(c[d>>2]|0)+(4-1)&~(4-1);f=c[e>>2]|0;c[d>>2]=e+4;c[a>>2]=f&255;c[a+4>>2]=0;break a}case 17:{f=(c[d>>2]|0)+(8-1)&~(8-1);g=+h[f>>3];c[d>>2]=f+8;h[a>>3]=g;break a}case 18:{f=(c[d>>2]|0)+(8-1)&~(8-1);g=+h[f>>3];c[d>>2]=f+8;h[a>>3]=g;break a}default:break a}while(0);while(0);return}function $a(b,c,e,f){b=b|0;c=c|0;e=e|0;f=f|0;if(!((b|0)==0&(c|0)==0))do{e=e+-1|0;a[e>>0]=d[2737+(b&15)>>0]|0|f;b=tb(b|0,c|0,4)|0;c=z}while(!((b|0)==0&(c|0)==0));return e|0}function ab(b,c,d){b=b|0;c=c|0;d=d|0;if(!((b|0)==0&(c|0)==0))do{d=d+-1|0;a[d>>0]=b&7|48;b=tb(b|0,c|0,3)|0;c=z}while(!((b|0)==0&(c|0)==0));return d|0}function bb(b,c,d){b=b|0;c=c|0;d=d|0;var e=0;if(c>>>0>0|(c|0)==0&b>>>0>4294967295){while(1){e=Ab(b|0,c|0,10,0)|0;d=d+-1|0;a[d>>0]=e&255|48;e=b;b=yb(b|0,c|0,10,0)|0;if(!(c>>>0>9|(c|0)==9&e>>>0>4294967295))break;else c=z}c=b}else c=b;if(c)while(1){d=d+-1|0;a[d>>0]=(c>>>0)%10|0|48;if(c>>>0<10)break;else c=(c>>>0)/10|0}return d|0}function cb(a){a=a|0;return mb(a,c[(lb()|0)+188>>2]|0)|0}function db(a,b,c,d,e){a=a|0;b=b|0;c=c|0;d=d|0;e=e|0;var f=0;f=l;l=l+256|0;if((c|0)>(d|0)&(e&73728|0)==0){sb(f|0,b|0,((c-d|0)>>>0<256?c-d|0:256)|0)|0;if((c-d|0)>>>0>255){b=c-d|0;do{Ya(a,f,256);b=b+-256|0}while(b>>>0>255);b=c-d&255}else b=c-d|0;Ya(a,f,b)}l=f;return}function eb(a,b){a=a|0;b=b|0;if(!a)a=0;else a=jb(a,b,0)|0;return a|0}function fb(b,e,f,g,h,i){b=b|0;e=+e;f=f|0;g=g|0;h=h|0;i=i|0;var j=0,k=0,m=0,n=0,o=0,p=0.0,q=0,r=0,s=0,t=0,u=0,v=0,w=0,x=0,y=0,A=0,B=0,C=0;C=l;l=l+560|0;B=C+524|0;c[C>>2]=0;A=C+512+12|0;gb(e)|0;if((z|0)<0){e=-e;x=1;w=2702}else{x=(h&2049|0)!=0&1;w=(h&2048|0)==0?((h&1|0)==0?2703:2708):2705}gb(e)|0;y=z&2146435072;do if(y>>>0<2146435072|(y|0)==2146435072&0<0){p=+hb(e,C)*2.0;if(p!=0.0)c[C>>2]=(c[C>>2]|0)+-1;if((i|32|0)==97){o=(i&32|0)==0?w:w+9|0;n=x|2;do if(g>>>0>11|(12-g|0)==0)e=p;else{e=8.0;j=12-g|0;do{j=j+-1|0;e=e*16.0}while((j|0)!=0);if((a[o>>0]|0)==45){e=-(e+(-p-e));break}else{e=p+e-e;break}}while(0);k=c[C>>2]|0;j=(k|0)<0?0-k|0:k;j=bb(j,((j|0)<0)<<31>>31,A)|0;if((j|0)==(A|0)){a[C+512+11>>0]=48;j=C+512+11|0}a[j+-1>>0]=(k>>31&2)+43;m=j+-2|0;a[m>>0]=i+15;j=C+524|0;do{y=~~e;k=j+1|0;a[j>>0]=d[2737+y>>0]|i&32;e=(e-+(y|0))*16.0;if((k-B|0)==1)if((h&8|0)==0&((g|0)<1&e==0.0))j=k;else{a[k>>0]=46;j=j+2|0}else j=k}while(e!=0.0);B=j-B|0;j=(g|0)!=0&(B+-2|0)<(g|0)?g+2|0:B;db(b,32,f,A-m+n+j|0,h);Ya(b,o,n);db(b,48,f,A-m+n+j|0,h^65536);Ya(b,C+524|0,B);db(b,48,j-B|0,0,0);Ya(b,m,A-m|0);db(b,32,f,A-m+n+j|0,h^8192);j=A-m+n+j|0;break}k=(g|0)<0?6:g;if(p!=0.0){n=(c[C>>2]|0)+-28|0;c[C>>2]=n;e=p*268435456.0}else{e=p;n=c[C>>2]|0}y=(n|0)<0?C+8|0:C+8+288|0;j=y;do{v=~~e>>>0;c[j>>2]=v;j=j+4|0;e=(e-+(v>>>0))*1.0e9}while(e!=0.0);if((n|0)>0){m=y;do{g=(n|0)<29?n:29;n=j+-4|0;if(n>>>0>=m>>>0){o=0;do{u=ub(c[n>>2]|0,0,g|0)|0;u=rb(u|0,z|0,o|0,0)|0;v=z;t=Ab(u|0,v|0,1e9,0)|0;c[n>>2]=t;o=yb(u|0,v|0,1e9,0)|0;n=n+-4|0}while(n>>>0>=m>>>0);if(o){m=m+-4|0;c[m>>2]=o}}while(1){if(j>>>0<=m>>>0)break;n=j+-4|0;if(!(c[n>>2]|0))j=n;else break}n=(c[C>>2]|0)-g|0;c[C>>2]=n}while((n|0)>0)}else m=y;if((n|0)<0)do{g=0-n|0;g=(g|0)<9?g:9;if(m>>>0<j>>>0){o=0;n=m;do{v=c[n>>2]|0;c[n>>2]=(v>>>g)+o;o=O(v&(1<<g)+-1,1e9>>>g)|0;n=n+4|0}while(n>>>0<j>>>0);m=(c[m>>2]|0)==0?m+4|0:m;if(o){c[j>>2]=o;j=j+4|0}}else m=(c[m>>2]|0)==0?m+4|0:m;n=(i|32|0)==102?y:m;j=(j-n>>2|0)>(((k+25|0)/9|0)+1|0)?n+(((k+25|0)/9|0)+1<<2)|0:j;n=(c[C>>2]|0)+g|0;c[C>>2]=n}while((n|0)<0);if(m>>>0<j>>>0){n=(y-m>>2)*9|0;g=c[m>>2]|0;if(g>>>0<10)s=n;else{o=10;do{o=o*10|0;n=n+1|0}while(g>>>0>=o>>>0);s=n}}else s=0;o=k-((i|32|0)!=102?s:0)+(((k|0)!=0&(i|32|0)==103)<<31>>31)|0;if((o|0)<(((j-y>>2)*9|0)+-9|0)){n=y+4+(((o+9216|0)/9|0)+-1024<<2)|0;if((((o+9216|0)%9|0)+1|0)<9){g=((o+9216|0)%9|0)+1|0;o=10;do{o=o*10|0;g=g+1|0}while((g|0)!=9)}else o=10;q=c[n>>2]|0;r=(q>>>0)%(o>>>0)|0;g=(n+4|0)==(j|0);if(g&(r|0)==0)o=s;else{p=(((q>>>0)/(o>>>0)|0)&1|0)==0?9007199254740992.0:9007199254740994.0;v=(o|0)/2|0;e=r>>>0<v>>>0?.5:g&(r|0)==(v|0)?1.0:1.5;if(x){v=(a[w>>0]|0)==45;e=v?-e:e;p=v?-p:p}c[n>>2]=q-r;if(p+e!=p){v=q-r+o|0;c[n>>2]=v;if(v>>>0>999999999)while(1){o=n+-4|0;c[n>>2]=0;if(o>>>0<m>>>0){m=m+-4|0;c[m>>2]=0}v=(c[o>>2]|0)+1|0;c[o>>2]=v;if(v>>>0>999999999)n=o;else{n=o;break}}o=(y-m>>2)*9|0;q=c[m>>2]|0;if(q>>>0>=10){g=10;do{g=g*10|0;o=o+1|0}while(q>>>0>=g>>>0)}}else o=s}u=n+4|0;j=j>>>0>u>>>0?u:j;u=m}else{o=s;u=m}v=j;while(1){if(v>>>0<=u>>>0){t=0;break}j=v+-4|0;if(!(c[j>>2]|0))v=j;else{t=1;break}}q=0-o|0;do if((i|32|0)==103){if((o|0)>-5?((((k|0)!=0^1)&1)+k|0)>(o|0):0){g=i+-1|0;k=(((k|0)!=0^1)&1)+k+-1-o|0}else{g=i+-2|0;k=(((k|0)!=0^1)&1)+k+-1|0}if(!(h&8)){if(t){n=c[v+-4>>2]|0;if(!n)j=9;else if(!((n>>>0)%10|0)){j=0;m=10;do{m=m*10|0;j=j+1|0}while(!((n>>>0)%(m>>>0)|0|0))}else j=0}else j=9;m=((v-y>>2)*9|0)+-9|0;if((g|32|0)==102){n=m-j|0;n=(n|0)>0?n:0;k=(k|0)<(n|0)?k:n;n=0;break}else{n=m+o-j|0;n=(n|0)>0?n:0;k=(k|0)<(n|0)?k:n;n=0;break}}else n=h&8}else{g=i;n=h&8}while(0);s=k|n;m=(g|32|0)==102;if(m){r=0;j=(o|0)>0?o:0}else{j=(o|0)<0?q:o;j=bb(j,((j|0)<0)<<31>>31,A)|0;if((A-j|0)<2)do{j=j+-1|0;a[j>>0]=48}while((A-j|0)<2);a[j+-1>>0]=(o>>31&2)+43;j=j+-2|0;a[j>>0]=g;r=j;j=A-j|0}j=x+1+k+((s|0)!=0&1)+j|0;db(b,32,f,j,h);Ya(b,w,x);db(b,48,f,j,h^65536);if(m){o=u>>>0>y>>>0?y:u;n=o;do{m=bb(c[n>>2]|0,0,C+524+9|0)|0;if((n|0)==(o|0)){if((m|0)==(C+524+9|0)){a[C+524+8>>0]=48;m=C+524+8|0}}else if(m>>>0>(C+524|0)>>>0){sb(C+524|0,48,m-B|0)|0;do m=m+-1|0;while(m>>>0>(C+524|0)>>>0)}Ya(b,m,C+524+9-m|0);n=n+4|0}while(n>>>0<=y>>>0);if(s|0)Ya(b,2753,1);if(n>>>0<v>>>0&(k|0)>0)while(1){m=bb(c[n>>2]|0,0,C+524+9|0)|0;if(m>>>0>(C+524|0)>>>0){sb(C+524|0,48,m-B|0)|0;do m=m+-1|0;while(m>>>0>(C+524|0)>>>0)}Ya(b,m,(k|0)<9?k:9);n=n+4|0;m=k+-9|0;if(!(n>>>0<v>>>0&(k|0)>9)){k=m;break}else k=m}db(b,48,k+9|0,9,0)}else{q=t?v:u+4|0;if((k|0)>-1){g=(n|0)==0;o=u;do{m=bb(c[o>>2]|0,0,C+524+9|0)|0;if((m|0)==(C+524+9|0)){a[C+524+8>>0]=48;m=C+524+8|0}do if((o|0)==(u|0)){n=m+1|0;Ya(b,m,1);if(g&(k|0)<1){m=n;break}Ya(b,2753,1);m=n}else{if(m>>>0<=(C+524|0)>>>0)break;sb(C+524|0,48,m+(0-B)|0)|0;do m=m+-1|0;while(m>>>0>(C+524|0)>>>0)}while(0);y=C+524+9-m|0;Ya(b,m,(k|0)>(y|0)?y:k);k=k-y|0;o=o+4|0}while(o>>>0<q>>>0&(k|0)>-1)}db(b,48,k+18|0,18,0);Ya(b,r,A-r|0)}db(b,32,f,j,h^8192)}else{j=x+3|0;db(b,32,f,j,h&-65537);Ya(b,w,x);Ya(b,e!=e|0.0!=0.0?(i&32|0?2729:2733):i&32|0?2721:2725,3);db(b,32,f,j,h^8192)}while(0);l=C;return ((j|0)<(f|0)?f:j)|0}function gb(a){a=+a;var b=0;h[j>>3]=a;b=c[j>>2]|0;z=c[j+4>>2]|0;return b|0}function hb(a,b){a=+a;b=b|0;return +(+ib(a,b))}function ib(a,b){a=+a;b=b|0;var d=0,e=0,f=0;h[j>>3]=a;d=c[j>>2]|0;e=c[j+4>>2]|0;f=tb(d|0,e|0,52)|0;switch(f&2047){case 0:{if(a!=0.0){a=+ib(a*18446744073709551616.0,b);d=(c[b>>2]|0)+-64|0}else d=0;c[b>>2]=d;break}case 2047:break;default:{c[b>>2]=(f&2047)+-1022;c[j>>2]=d;c[j+4>>2]=e&-2146435073|1071644672;a=+h[j>>3]}}return +a}function jb(b,d,e){b=b|0;d=d|0;e=e|0;do if(!b)b=1;else{if(d>>>0<128){a[b>>0]=d;b=1;break}if(!(c[c[(kb()|0)+188>>2]>>2]|0))if((d&-128|0)==57216){a[b>>0]=d;b=1;break}else{c[(Ga()|0)>>2]=84;b=-1;break}if(d>>>0<2048){a[b>>0]=d>>>6|192;a[b+1>>0]=d&63|128;b=2;break}if(d>>>0<55296|(d&-8192|0)==57344){a[b>>0]=d>>>12|224;a[b+1>>0]=d>>>6&63|128;a[b+2>>0]=d&63|128;b=3;break}if((d+-65536|0)>>>0<1048576){a[b>>0]=d>>>18|240;a[b+1>>0]=d>>>12&63|128;a[b+2>>0]=d>>>6&63|128;a[b+3>>0]=d&63|128;b=4;break}else{c[(Ga()|0)>>2]=84;b=-1;break}}while(0);return b|0}function kb(){return Ia()|0}function lb(){return Ia()|0}function mb(b,e){b=b|0;e=e|0;var f=0,g=0;g=0;while(1){if((d[2755+g>>0]|0)==(b|0)){b=2;break}f=g+1|0;if((f|0)==87){f=2843;g=87;b=5;break}else g=f}if((b|0)==2)if(!g)f=2843;else{f=2843;b=5}if((b|0)==5)while(1){do{b=f;f=f+1|0}while((a[b>>0]|0)!=0);g=g+-1|0;if(!g)break;else b=5}return nb(f,c[e+20>>2]|0)|0}function nb(a,b){a=a|0;b=b|0;return Ra(a,b)|0}function ob(b,d){b=b|0;d=d|0;var e=0,f=0;if((c[d+76>>2]|0)<0)f=3;else if(!(Na(d)|0))f=3;else{if((b&255|0)==(a[d+75>>0]|0))f=10;else{e=c[d+20>>2]|0;if(e>>>0<(c[d+16>>2]|0)>>>0){c[d+20>>2]=e+1;a[e>>0]=b;e=b&255}else f=10}if((f|0)==10)e=Oa(d,b)|0;Ma(d)}do if((f|0)==3){if((b&255|0)!=(a[d+75>>0]|0)){e=c[d+20>>2]|0;if(e>>>0<(c[d+16>>2]|0)>>>0){c[d+20>>2]=e+1;a[e>>0]=b;e=b&255;break}}e=Oa(d,b)|0}while(0);return e|0}function pb(){}function qb(a,b,c,d){a=a|0;b=b|0;c=c|0;d=d|0;d=b-d-(c>>>0>a>>>0|0)>>>0;return (z=d,a-c>>>0|0)|0}function rb(a,b,c,d){a=a|0;b=b|0;c=c|0;d=d|0;return (z=b+d+(a+c>>>0>>>0<a>>>0|0)>>>0,a+c>>>0|0)|0}function sb(b,d,e){b=b|0;d=d|0;e=e|0;var f=0,g=0;f=b+e|0;d=d&255;if((e|0)>=67){while(b&3){a[b>>0]=d;b=b+1|0}g=d|d<<8|d<<16|d<<24;while((b|0)<=((f&-4)-64|0)){c[b>>2]=g;c[b+4>>2]=g;c[b+8>>2]=g;c[b+12>>2]=g;c[b+16>>2]=g;c[b+20>>2]=g;c[b+24>>2]=g;c[b+28>>2]=g;c[b+32>>2]=g;c[b+36>>2]=g;c[b+40>>2]=g;c[b+44>>2]=g;c[b+48>>2]=g;c[b+52>>2]=g;c[b+56>>2]=g;c[b+60>>2]=g;b=b+64|0}while((b|0)<(f&-4|0)){c[b>>2]=g;b=b+4|0}}while((b|0)<(f|0)){a[b>>0]=d;b=b+1|0}return f-e|0}function tb(a,b,c){a=a|0;b=b|0;c=c|0;if((c|0)<32){z=b>>>c;return a>>>c|(b&(1<<c)-1)<<32-c}z=0;return b>>>c-32|0}function ub(a,b,c){a=a|0;b=b|0;c=c|0;if((c|0)<32){z=b<<c|(a&(1<<c)-1<<32-c)>>>32-c;return a<<c}z=a<<c-32;return 0}function vb(b,d,e){b=b|0;d=d|0;e=e|0;var f=0,g=0,h=0;if((e|0)>=8192)return ba(b|0,d|0,e|0)|0;h=b|0;g=b+e|0;if((b&3)==(d&3)){while(b&3){if(!e)return h|0;a[b>>0]=a[d>>0]|0;b=b+1|0;d=d+1|0;e=e-1|0}e=g&-4|0;f=e-64|0;while((b|0)<=(f|0)){c[b>>2]=c[d>>2];c[b+4>>2]=c[d+4>>2];c[b+8>>2]=c[d+8>>2];c[b+12>>2]=c[d+12>>2];c[b+16>>2]=c[d+16>>2];c[b+20>>2]=c[d+20>>2];c[b+24>>2]=c[d+24>>2];c[b+28>>2]=c[d+28>>2];c[b+32>>2]=c[d+32>>2];c[b+36>>2]=c[d+36>>2];c[b+40>>2]=c[d+40>>2];c[b+44>>2]=c[d+44>>2];c[b+48>>2]=c[d+48>>2];c[b+52>>2]=c[d+52>>2];c[b+56>>2]=c[d+56>>2];c[b+60>>2]=c[d+60>>2];b=b+64|0;d=d+64|0}while((b|0)<(e|0)){c[b>>2]=c[d>>2];b=b+4|0;d=d+4|0}}else{e=g-4|0;while((b|0)<(e|0)){a[b>>0]=a[d>>0]|0;a[b+1>>0]=a[d+1>>0]|0;a[b+2>>0]=a[d+2>>0]|0;a[b+3>>0]=a[d+3>>0]|0;b=b+4|0;d=d+4|0}}while((b|0)<(g|0)){a[b>>0]=a[d>>0]|0;b=b+1|0;d=d+1|0}return h|0}function wb(b){b=b|0;var c=0;c=a[n+(b&255)>>0]|0;if((c|0)<8)return c|0;c=a[n+(b>>8&255)>>0]|0;if((c|0)<8)return c+8|0;c=a[n+(b>>16&255)>>0]|0;if((c|0)<8)return c+16|0;return (a[n+(b>>>24)>>0]|0)+24|0}function xb(a,b,d,e,f){a=a|0;b=b|0;d=d|0;e=e|0;f=f|0;var g=0,h=0,i=0,j=0,k=0,l=0,m=0,n=0,o=0,p=0;if(!b)if(!e){if(f|0){c[f>>2]=(a>>>0)%(d>>>0);c[f+4>>2]=0}e=0;f=(a>>>0)/(d>>>0)>>>0;return (z=e,f)|0}else{if(!f){e=0;f=0;return (z=e,f)|0}c[f>>2]=a|0;c[f+4>>2]=b&0;e=0;f=0;return (z=e,f)|0}do if(!d){if(!e){if(f|0){c[f>>2]=(b>>>0)%(d>>>0);c[f+4>>2]=0}e=0;f=(b>>>0)/(d>>>0)>>>0;return (z=e,f)|0}if(!a){if(f|0){c[f>>2]=0;c[f+4>>2]=(b>>>0)%(e>>>0)}d=0;f=(b>>>0)/(e>>>0)>>>0;return (z=d,f)|0}if(!(e-1&e)){if(f|0){c[f>>2]=a|0;c[f+4>>2]=e-1&b|b&0}d=0;f=b>>>((wb(e|0)|0)>>>0);return (z=d,f)|0}h=(R(e|0)|0)-(R(b|0)|0)|0;if(h>>>0<=30){n=h+1|0;i=b<<31-h|a>>>((h+1|0)>>>0);m=b>>>((h+1|0)>>>0);g=0;h=a<<31-h;break}if(!f){e=0;f=0;return (z=e,f)|0}c[f>>2]=a|0;c[f+4>>2]=b|b&0;e=0;f=0;return (z=e,f)|0}else{if(e|0){h=(R(e|0)|0)-(R(b|0)|0)|0;if(h>>>0<=31){n=h+1|0;i=a>>>((h+1|0)>>>0)&h-31>>31|b<<31-h;m=b>>>((h+1|0)>>>0)&h-31>>31;g=0;h=a<<31-h;break}if(!f){e=0;f=0;return (z=e,f)|0}c[f>>2]=a|0;c[f+4>>2]=b|b&0;e=0;f=0;return (z=e,f)|0}if(d-1&d|0){h=(R(d|0)|0)+33-(R(b|0)|0)|0;n=h;i=32-h-1>>31&b>>>((h-32|0)>>>0)|(b<<32-h|a>>>(h>>>0))&h-32>>31;m=h-32>>31&b>>>(h>>>0);g=a<<64-h&32-h>>31;h=(b<<64-h|a>>>((h-32|0)>>>0))&32-h>>31|a<<32-h&h-33>>31;break}if(f|0){c[f>>2]=d-1&a;c[f+4>>2]=0}if((d|0)==1){e=b|b&0;f=a|0|0;return (z=e,f)|0}else{f=wb(d|0)|0;e=b>>>(f>>>0)|0;f=b<<32-f|a>>>(f>>>0)|0;return (z=e,f)|0}}while(0);if(!n){j=h;b=m;a=0;h=0}else{k=rb(d|0|0,e|e&0|0,-1,-1)|0;l=z;j=h;b=m;a=n;h=0;do{p=j;j=g>>>31|j<<1;g=h|g<<1;p=i<<1|p>>>31|0;o=i>>>31|b<<1|0;qb(k|0,l|0,p|0,o|0)|0;n=z;m=n>>31|((n|0)<0?-1:0)<<1;h=m&1;i=qb(p|0,o|0,m&(d|0)|0,(((n|0)<0?-1:0)>>31|((n|0)<0?-1:0)<<1)&(e|e&0)|0)|0;b=z;a=a-1|0}while((a|0)!=0);a=0}if(f|0){c[f>>2]=i;c[f+4>>2]=b}o=(g|0)>>>31|j<<1|(0<<1|g>>>31)&0|a;p=(g<<1|0>>>31)&-2|h;return (z=o,p)|0}function yb(a,b,c,d){a=a|0;b=b|0;c=c|0;d=d|0;return xb(a,b,c,d,0)|0}function zb(a){a=a|0;var b=0,d=0;d=a+15&-16|0;b=c[i>>2]|0;a=b+d|0;if((d|0)>0&(a|0)<(b|0)|(a|0)<0){W()|0;$(12);return -1}c[i>>2]=a;if((a|0)>(V()|0))if(!(U()|0)){c[i>>2]=b;$(12);return -1}return b|0}function Ab(a,b,d,e){a=a|0;b=b|0;d=d|0;e=e|0;var f=0;f=l;l=l+16|0;xb(a,b,d,e,f|0)|0;l=f;return (z=c[f+4>>2]|0,c[f>>2]|0)|0}function Bb(a){a=a|0;return (a&255)<<24|(a>>8&255)<<16|(a>>16&255)<<8|a>>>24|0}function Cb(a,b){a=a|0;b=b|0;return ha[a&1](b|0)|0}function Db(a,b,c,d){a=a|0;b=b|0;c=c|0;d=d|0;return ia[a&3](b|0,c|0,d|0)|0}function Eb(a){a=a|0;S(0);return 0}function Fb(a,b,c){a=a|0;b=b|0;c=c|0;S(1);return 0}function Gb(b){b=b|0;var d=0,e=0,f=0,g=0,h=0,i=0,j=0,k=0,m=0,n=0,o=0,p=0;f=c[b+1368>>2]|0;g=c[b+3472>>2]|0;p=c[b+3496>>2]|0;o=c[b+3504>>2]|0;a:{if((p&65024|0)==23552){if(a[5300]|0){o=c[2]|0;c[b+512>>2]=p&7;c[b+512+4>>2]=p>>>3&7;c[b+512+8>>2]=p>>>6&7;Va(o,1367,b+512|0)|0}o=(c[4668+((p>>>6&7)<<2)>>2]|0)+(c[4668+((p>>>3&7)<<2)>>2]|0)|0;f=Z(3,o&-2|0)|0;c[4668+((p&7)<<2)>>2]=((o&1|0)==0?f:f>>>8)&255;f=0;l=b;c[b+4792>>2]=6;c[b+4796>>2]=f|0;break a}if((p&63488|0)==34816){if(a[5300]|0){o=c[2]|0;c[b+528>>2]=p&7;c[b+528+4>>2]=p>>>3&7;c[b+528+8>>2]=p>>>5&62;Va(o,1387,b+528|0)|0}c[4668+((p&7)<<2)>>2]=(Z(3,(c[4668+((p>>>3&7)<<2)>>2]|0)+(p>>>5&62)|0)|0)&65535;f=0;l=b;c[b+4792>>2]=6;c[b+4796>>2]=f|0;break a}d=1;e=(p&65024)<<16>>16;if(d)switch(e|0){case 23040:{if(a[5300]|0){o=c[2]|0;c[b+544>>2]=p&7;c[b+544+4>>2]=p>>>3&7;c[b+544+8>>2]=p>>>6&7;Va(o,1409,b+544|0)|0}c[4668+((p&7)<<2)>>2]=(Z(3,(c[4668+((p>>>6&7)<<2)>>2]|0)+(c[4668+((p>>>3&7)<<2)>>2]|0)|0)|0)&65535;f=0;l=b;c[b+4792>>2]=6;c[b+4796>>2]=f|0;break a}case 22016:{if(a[5300]|0){o=c[2]|0;c[b+560>>2]=p&7;c[b+560+4>>2]=p>>>3&7;c[b+560+8>>2]=p>>>6&7;Va(o,1429,b+560|0)|0}o=(c[4668+((p>>>6&7)<<2)>>2]|0)+(c[4668+((p>>>3&7)<<2)>>2]|0)|0;f=Z(3,o&-2|0)|0;f=(o&1|0)==0?f:f>>>8;c[4668+((p&7)<<2)>>2]=(f&128|0)==0?f&255:f|-256;f=0;l=b;c[b+4792>>2]=6;c[b+4796>>2]=f|0;break a}case 24064:{if(a[5300]|0){o=c[2]|0;c[b+576>>2]=p&7;c[b+576+4>>2]=p>>>3&7;c[b+576+8>>2]=p>>>6&7;Va(o,1450,b+576|0)|0}f=Z(3,(c[4668+((p>>>6&7)<<2)>>2]|0)+(c[4668+((p>>>3&7)<<2)>>2]|0)|0)|0;c[4668+((p&7)<<2)>>2]=(f&32768|0)==0?f&65535:f|-65536;f=0;l=b;c[b+4792>>2]=6;c[b+4796>>2]=f|0;break a}default:d=1}if(d)switch(e|0){default:{if(!(p&63488)){if(a[5300]|0){o=c[2]|0;c[b+592>>2]=p&7;c[b+592+4>>2]=p>>>3&7;c[b+592+8>>2]=p>>>6&31;Va(o,1471,b+592|0)|0}d=c[4668+((p>>>3&7)<<2)>>2]|0;if(!(p>>>6&31))e=c[1184]|0;else{e=c[1184]|0;e=d&1<<32-(p>>>6&31)|0?e|536870912:e&-536870913;c[1184]=e;d=d<<(p>>>6&31)}c[4668+((p&7)<<2)>>2]=d;f=(d|0)<0?e|-2147483648:e&2147483647;c[1184]=(d|0)==0?f|1073741824:f&-1073741825;f=0;l=b;c[b+4792>>2]=6;c[b+4796>>2]=f|0;break a}if((p&65472|0)==16512){if(a[5300]|0){o=c[2]|0;c[b+608>>2]=p&7;c[b+608+4>>2]=p>>>3&7;Va(o,1491,b+608|0)|0}d=c[4668+((p&7)<<2)>>2]|0;e=c[4668+((p>>>3&7)<<2)>>2]&255;do if(!e)e=c[1184]|0;else{if(e>>>0<32){o=c[1184]|0;o=1<<32-e&d|0?o|536870912:o&-536870913;c[1184]=o;d=d<<e;e=o;break}if((e|0)==32){e=c[1184]|0;e=d&1|0?e|536870912:e&-536870913;c[1184]=e;d=0;break}else{e=c[1184]&-536870913;c[1184]=e;d=0;break}}while(0);c[4668+((p&7)<<2)>>2]=d;f=(d|0)<0?e|-2147483648:e&2147483647;c[1184]=(d|0)==0?f|1073741824:f&-1073741825;f=0;l=b;c[b+4792>>2]=6;c[b+4796>>2]=f|0;break a}if((p&63488|0)==2048){if(a[5300]|0){o=c[2]|0;c[b+616>>2]=p&7;c[b+616+4>>2]=p>>>3&7;c[b+616+8>>2]=p>>>6&31;Va(o,1505,b+616|0)|0}d=c[4668+((p>>>3&7)<<2)>>2]|0;if(!(p>>>6&31)){e=c[1184]|0;e=(d|0)<0?e|536870912:e&-536870913;c[1184]=e;d=0}else{e=c[1184]|0;e=d&1<<(p>>>6&31)+-1|0?e|536870912:e&-536870913;c[1184]=e;d=d>>>(p>>>6&31)}c[4668+((p&7)<<2)>>2]=d;f=(d|0)<0?e|-2147483648:e&2147483647;c[1184]=(d|0)==0?f|1073741824:f&-1073741825;f=0;l=b;c[b+4792>>2]=6;c[b+4796>>2]=f|0;break a}if((p&65472|0)==16576){if(a[5300]|0){o=c[2]|0;c[b+632>>2]=p&7;c[b+632+4>>2]=p>>>3&7;Va(o,1525,b+632|0)|0}d=c[4668+((p&7)<<2)>>2]|0;e=c[4668+((p>>>3&7)<<2)>>2]&255;do if(!e)e=c[1184]|0;else{if(e>>>0<32){o=c[1184]|0;o=1<<e+-1&d|0?o|536870912:o&-536870913;c[1184]=o;d=d>>>e;e=o;break}if((e|0)==32){e=c[1184]|0;e=(d|0)<0?e|536870912:e&-536870913;c[1184]=e;d=0;break}else{e=c[1184]&-536870913;c[1184]=e;d=0;break}}while(0);c[4668+((p&7)<<2)>>2]=d;f=(d|0)<0?e|-2147483648:e&2147483647;c[1184]=(d|0)==0?f|1073741824:f&-1073741825;f=0;l=b;c[b+4792>>2]=6;c[b+4796>>2]=f|0;break a}if((p&63488|0)==8192){if(a[5300]|0){o=c[2]|0;c[b+640>>2]=p>>>8&7;c[b+640+4>>2]=p&255;Va(o,1539,b+640|0)|0}c[4668+((p>>>8&7)<<2)>>2]=p&255;f=c[1184]&1073741823;c[1184]=(p&255|0)==0?f|1073741824:f;f=0;l=b;c[b+4792>>2]=6;c[b+4796>>2]=f|0;break a}if((p&65472|0)==7168){if(a[5300]|0){o=c[2]|0;c[b+648>>2]=p&7;c[b+648+4>>2]=p>>>3&7;Va(o,1557,b+648|0)|0}o=c[4668+((p>>>3&7)<<2)>>2]|0;c[4668+((p&7)<<2)>>2]=o;f=c[1184]|0;f=(o|0)<0?f|-2147483648:f&2147483647;c[1184]=((o|0)==0?f|1073741824:f&-1879048193)&-805306369;f=0;l=b;c[b+4792>>2]=6;c[b+4796>>2]=f|0;break a}if((p&65280|0)==17920){if(a[5300]|0){o=c[2]|0;c[b+656>>2]=p>>>4&8|p&7;c[b+656+4>>2]=p>>>3&15;Va(o,1571,b+656|0)|0}d=c[4668+((p>>>3&15)<<2)>>2]|0;if((p>>>3&15|0)==15){if(d&1|0){o=c[2]|0;c[b+664>>2]=d;Va(o,520,b+664|0)|0}d=d&-2}c[4668+((p>>>4&8|p&7)<<2)>>2]=(p>>>4&8|p&7|0)==15?((p>>>4&8|p&7|0)==15?d+2|0:d)&-2:d;f=0;l=b;c[b+4792>>2]=6;c[b+4796>>2]=f|0;break a}d=1;e=((p&65472)+-16960|0)>>>6&67108863|0;if(d)switch(e|0){case 4:{if(a[5300]|0){o=c[2]|0;c[b+672>>2]=p&7;c[b+672+4>>2]=p>>>3&7;Va(o,1584,b+672|0)|0}o=O(c[4668+((p>>>3&7)<<2)>>2]|0,c[4668+((p&7)<<2)>>2]|0)|0;c[4668+((p&7)<<2)>>2]=o;f=c[1184]|0;f=(o|0)<0?f|-2147483648:f&2147483647;c[1184]=(o|0)==0?f|1073741824:f&-1073741825;f=0;l=b;c[b+4792>>2]=6;c[b+4796>>2]=f|0;break a}case 6:{if(a[5300]|0){o=c[2]|0;c[b+680>>2]=p&7;c[b+680+4>>2]=p>>>3&7;Va(o,1598,b+680|0)|0}o=c[4668+((p>>>3&7)<<2)>>2]|0;c[4668+((p&7)<<2)>>2]=~o;f=c[1184]|0;f=(o|0)>-1?f|-2147483648:f&2147483647;c[1184]=(o|0)==-1?f|1073741824:f&-1073741825;f=0;l=b;c[b+4792>>2]=6;c[b+4796>>2]=f|0;break a}case 0:{if(a[5300]|0){o=c[2]|0;c[b+688>>2]=p&7;c[b+688+4>>2]=p>>>3&7;Va(o,1612,b+688|0)|0}o=c[4668+((p>>>3&7)<<2)>>2]|0;c[4668+((p&7)<<2)>>2]=0-o;f=c[1184]|0;f=(0-o|0)<0?f|-2147483648:f&2147483647;f=(o|0)==0?f|1073741824:f&-1073741825;f=(((((~o&2147483647)+1|0)>>>31)+(~o>>>31)|0)&2|0)==0?f&-536870913:f|536870912;c[1184]=(((~o&2147483647)+1|0)>>>31|0)==(((((~o&2147483647)+1|0)>>>31)+(~o>>>31)|0)>>>1|0)?f&-268435457:f|268435456;f=0;l=b;c[b+4792>>2]=6;c[b+4796>>2]=f|0;break a}case 3:{if(a[5300]|0){o=c[2]|0;c[b+696>>2]=p&7;c[b+696+4>>2]=p>>>3&7;Va(o,1626,b+696|0)|0}o=c[4668+((p>>>3&7)<<2)>>2]|c[4668+((p&7)<<2)>>2];c[4668+((p&7)<<2)>>2]=o;f=c[1184]|0;f=(o|0)<0?f|-2147483648:f&2147483647;c[1184]=(o|0)==0?f|1073741824:f&-1073741825;f=0;l=b;c[b+4792>>2]=6;c[b+4796>>2]=f|0;break a}default:d=1}if(d)switch(e|0){default:{d=1;e=(p&65024)<<16>>16;if(d)switch(e|0){case -17408:{if(!(a[5300]|0))e=p&1;else{e=c[2]|0;La(1640,5,1,e)|0;if(!(p&1))d=0;else{c[b+704>>2]=0;Va(e,1249,b+704|0)|0;d=1}if(p&2){if(d|0)ob(44,e)|0;c[b+1064>>2]=1;Va(e,1249,b+1064|0)|0;d=d+1|0}if(p&4){if(d|0)ob(44,e)|0;c[b+1072>>2]=2;Va(e,1249,b+1072|0)|0;d=d+1|0}if(p&8){if(d|0)ob(44,e)|0;c[b+1080>>2]=3;Va(e,1249,b+1080|0)|0;d=d+1|0}if(p&16){if(d|0)ob(44,e)|0;c[b+1088>>2]=4;Va(e,1249,b+1088|0)|0;d=d+1|0}if(p&32){if(d|0)ob(44,e)|0;c[b+1096>>2]=5;Va(e,1249,b+1096|0)|0;d=d+1|0}if(p&64){if(d|0)ob(44,e)|0;c[b+1104>>2]=6;Va(e,1249,b+1104|0)|0;d=d+1|0}if(p&128){if(d|0)ob(44,e)|0;c[b+1112>>2]=7;Va(e,1249,b+1112|0)|0;d=d+1|0}if(p&256|0){if(d|0)ob(44,e)|0;La(1646,2,1,e)|0}La(1253,2,1,e)|0;e=p&1}d=c[1180]|0;if(e){c[1167]=Z(1,d|0)|0;d=d+4|0}if(p&2){c[1168]=Z(1,d|0)|0;d=d+4|0}if(p&4){c[1169]=Z(1,d|0)|0;d=d+4|0}if(p&8){c[1170]=Z(1,d|0)|0;d=d+4|0}if(p&16){c[1171]=Z(1,d|0)|0;d=d+4|0}if(p&32){c[1172]=Z(1,d|0)|0;d=d+4|0}if(p&64){c[1173]=Z(1,d|0)|0;d=d+4|0}if(p&128){c[1174]=Z(1,d|0)|0;d=d+4|0}if(p&256){e=Z(1,d|0)|0;if(!(e&1)){p=c[2]|0;c[b+712>>2]=o;c[b+712+4>>2]=e;Va(p,1649,b+712|0)|0;e=e&-2}c[1182]=e+2&-2;d=d+4|0}c[1180]=d;f=0;l=b;c[b+4792>>2]=6;c[b+4796>>2]=f|0;break a}case -19456:{n=c[2]|0;if(!(a[5300]|0)){d=p&2;e=p&4;f=p&8;g=p&16;h=p&32;i=p&64;j=p&128;m=p&256;k=p&1}else{La(1703,6,1,n)|0;if(!(p&1))d=0;else{c[b+720>>2]=0;Va(n,1249,b+720|0)|0;d=1}if(p&2){if(d|0)ob(44,n)|0;c[b+1120>>2]=1;Va(n,1249,b+1120|0)|0;d=d+1|0}if(p&4){if(d|0)ob(44,n)|0;c[b+1128>>2]=2;Va(n,1249,b+1128|0)|0;d=d+1|0}if(p&8){if(d|0)ob(44,n)|0;c[b+1136>>2]=3;Va(n,1249,b+1136|0)|0;d=d+1|0}if(p&16){if(d|0)ob(44,n)|0;c[b+1144>>2]=4;Va(n,1249,b+1144|0)|0;d=d+1|0}if(p&32){if(d|0)ob(44,n)|0;c[b+1152>>2]=5;Va(n,1249,b+1152|0)|0;d=d+1|0}if(p&64){if(d|0)ob(44,n)|0;c[b+1160>>2]=6;Va(n,1249,b+1160|0)|0;d=d+1|0}if(p&128){if(d|0)ob(44,n)|0;c[b+1168>>2]=7;Va(n,1249,b+1168|0)|0;d=d+1|0}if(p&256|0){if(d|0)ob(44,n)|0;La(1710,2,1,n)|0}La(1253,2,1,n)|0;d=p&2;e=p&4;f=p&8;g=p&16;h=p&32;i=p&64;j=p&128;m=p&256;k=p&1}h=(c[1180]|0)-((j>>>7)+((i>>>6)+((h>>>5)+((g>>>4)+((f>>>3)+((e>>>2)+((d>>>1)+k))))))+(m>>>8)<<2)|0;d=h;f=0;g=1;while(1){if(!(g&p))e=d;else{e=c[4668+(f<<2)>>2]|0;b:do if((d&-268435456|0)==-536870912){k=d+536813552|0;switch(k>>>2|k<<30|0){case 0:{k=c[1164]|0;c[1164]=e&65543;if((e&1|0)==0|(k&1|0)!=0)break b;c[1166]=c[1165];break b}case 1:{c[1165]=e&16777215;break b}case 2:{c[1166]=e&16777215;break b}case 3:break b;default:break b}}else fa(2,d|0,e|0)|0;while(0);e=d+4|0}f=f+1|0;if((f|0)==8)break;else{d=e;g=g<<1&254}}do if(m|0){d=c[1181]|0;c:do if((e&-268435456|0)==-536870912){p=e+536813552|0;switch(p>>>2|p<<30|0){case 0:{p=c[1164]|0;c[1164]=d&65543;if((d&1|0)==0|(p&1|0)!=0)break c;c[1166]=c[1165];break c}case 1:{c[1165]=d&16777215;break c}case 2:{c[1166]=d&16777215;break c}case 3:break c;default:break c}}else fa(2,e|0,d|0)|0;while(0);if(d&1|0)break;c[b+728>>2]=o;c[b+728+4>>2]=d;Va(n,1713,b+728|0)|0}while(0);c[1180]=h;f=0;l=b;c[b+4792>>2]=6;c[b+4796>>2]=f|0;break a}default:d=1}if(d)switch(e|0){default:{d:do if((p&65472)<<16>>16<-17728)switch((p&65472)<<16>>16){case -17920:{if(a[5300]|0){o=c[2]|0;c[b+736>>2]=p&7;c[b+736+4>>2]=p>>>3&7;Va(o,1768,b+736|0)|0}c[4668+((p&7)<<2)>>2]=Bb(c[4668+((p>>>3&7)<<2)>>2]|0)|0;f=0;l=b;c[b+4792>>2]=6;c[b+4796>>2]=f|0;break a}case -17856:{if(a[5300]|0){o=c[2]|0;c[b+744>>2]=p&7;c[b+744+4>>2]=p>>>3&7;Va(o,1781,b+744|0)|0}f=c[4668+((p>>>3&7)<<2)>>2]|0;c[4668+((p&7)<<2)>>2]=f<<8&65280|f>>>8&255|f>>>16<<24|f>>>24<<16;f=0;l=b;c[b+4792>>2]=6;c[b+4796>>2]=f|0;break a}default:break d}else{if((p&65472)<<16>>16<16768){switch((p&65472)<<16>>16){case -17728:break;default:break d}if(a[5300]|0){o=c[2]|0;c[b+752>>2]=p&7;c[b+752+4>>2]=p>>>3&7;Va(o,1796,b+752|0)|0}f=c[4668+((p>>>3&7)<<2)>>2]|0;c[4668+((p&7)<<2)>>2]=(f<<8&32768|0)==0?f<<8&65280|f>>>8&255:f<<8&65280|f>>>8&255|-65536;f=0;l=b;c[b+4792>>2]=6;c[b+4796>>2]=f|0;break a}switch((p&65472)<<16>>16){case 16832:break;case 16768:{if(a[5300]|0){o=c[2]|0;c[b+768>>2]=p&7;c[b+768+4>>2]=p>>>3&7;Va(o,1825,b+768|0)|0}e=c[4668+((p&7)<<2)>>2]|0;f=c[4668+((p>>>3&7)<<2)>>2]|0;o=c[1184]|0;c[4668+((p&7)<<2)>>2]=e-f+-1+(o>>>29&1);d=(e-f+-1+(o>>>29&1)|0)<0?o|-2147483648:o&2147483647;d=(e-f+-1+(o>>>29&1)|0)==0?d|1073741824:d&-1073741825;c[1184]=d;if(!(d&536870912)){p=(((~f>>>31)+(e>>>31)+(((~f&2147483647)+(e&2147483647)|0)>>>31)|0)&2|0)==0?d&-536870913:d|536870912;c[1184]=(((~f&2147483647)+(e&2147483647)|0)>>>31|0)==(((~f>>>31)+(e>>>31)+(((~f&2147483647)+(e&2147483647)|0)>>>31)|0)>>>1&1|0)?p&-268435457:p|268435456;f=0;l=b;c[b+4792>>2]=6;c[b+4796>>2]=f|0;break a}else{p=(((~f>>>31)+(e>>>31)+(((~f&2147483647)+(e&2147483647)+1|0)>>>31)|0)&2|0)==0?d&-536870913:d|536870912;c[1184]=(((~f&2147483647)+(e&2147483647)+1|0)>>>31|0)==(((~f>>>31)+(e>>>31)+(((~f&2147483647)+(e&2147483647)+1|0)>>>31)|0)>>>1&1|0)?p&-268435457:p|268435456;f=0;l=b;c[b+4792>>2]=6;c[b+4796>>2]=f|0;break a}}default:break d}if(a[5300]|0){o=c[2]|0;c[b+760>>2]=p&7;c[b+760+4>>2]=p>>>3&7;Va(o,1811,b+760|0)|0}d=c[4668+((p&7)<<2)>>2]|0;e=c[4668+((p>>>3&7)<<2)>>2]|0;do if(!(e&255))e=c[1184]|0;else if(!(e&31)){e=c[1184]|0;e=(d|0)<0?e|536870912:e&-536870913;c[1184]=e;break}else{o=c[1184]|0;o=1<<(e&31)+-1&d|0?o|536870912:o&-536870913;c[1184]=o;d=d<<32-(e&31)|d>>>(e&31);e=o;break}while(0);c[4668+((p&7)<<2)>>2]=d;f=(d|0)<0?e|-2147483648:e&2147483647;c[1184]=(d|0)==0?f|1073741824:f&-1073741825;f=0;l=b;c[b+4792>>2]=6;c[b+4796>>2]=f|0;break a}while(0);if((p&65527|0)==46672){La(1838,23,1,c[2]|0)|0;f=1;l=b;c[b+4792>>2]=6;c[b+4796>>2]=f|0;break a}e:do if((p&63488)<<16>>16<24576){switch((p&63488)<<16>>16){case -16384:break;default:break e}if(a[5300]|0){e=c[2]|0;c[b+776>>2]=p>>>8&7;Va(e,1862,b+776|0)|0;if(!(p&1))d=0;else{c[b+784>>2]=0;Va(e,1249,b+784|0)|0;d=1}if(p&2){if(d|0)ob(44,e)|0;c[b+1008>>2]=1;Va(e,1249,b+1008|0)|0;d=d+1|0}if(p&4){if(d|0)ob(44,e)|0;c[b+1016>>2]=2;Va(e,1249,b+1016|0)|0;d=d+1|0}if(p&8){if(d|0)ob(44,e)|0;c[b+1024>>2]=3;Va(e,1249,b+1024|0)|0;d=d+1|0}if(p&16){if(d|0)ob(44,e)|0;c[b+1032>>2]=4;Va(e,1249,b+1032|0)|0;d=d+1|0}if(p&32){if(d|0)ob(44,e)|0;c[b+1040>>2]=5;Va(e,1249,b+1040|0)|0;d=d+1|0}if(p&64){if(d|0)ob(44,e)|0;c[b+1048>>2]=6;Va(e,1249,b+1048|0)|0;d=d+1|0}if(p&128|0){if(d|0)ob(44,e)|0;c[b+1056>>2]=7;Va(e,1249,b+1056|0)|0}La(1253,2,1,e)|0}f=1;g=0;d=c[4668+((p>>>8&7)<<2)>>2]|0;while(1){if(f&p){e=c[4668+(g<<2)>>2]|0;f:do if((d&-268435456|0)==-536870912){o=d+536813552|0;switch(o>>>2|o<<30|0){case 0:{o=c[1164]|0;c[1164]=e&65543;if((e&1|0)==0|(o&1|0)!=0)break f;c[1166]=c[1165];break f}case 1:{c[1165]=e&16777215;break f}case 2:{c[1166]=e&16777215;break f}case 3:break f;default:break f}}else fa(2,d|0,e|0)|0;while(0);d=d+4|0}g=g+1|0;if((g|0)==8)break;else f=f<<1&254}c[4668+((p>>>8&7)<<2)>>2]=d;f=0;l=b;c[b+4792>>2]=6;c[b+4796>>2]=f|0;break a}else{switch((p&63488)<<16>>16){case 24576:break;default:break e}if(a[5300]|0){o=c[2]|0;c[b+792>>2]=p&7;c[b+792+4>>2]=p>>>3&7;c[b+792+8>>2]=p>>>4&124;Va(o,1875,b+792|0)|0}e=(c[4668+((p>>>3&7)<<2)>>2]|0)+(p>>>4&124)|0;d=c[4668+((p&7)<<2)>>2]|0;if((e&-268435456|0)!=-536870912){fa(2,e|0,d|0)|0;f=0;l=b;c[b+4792>>2]=6;c[b+4796>>2]=f|0;break a}switch((e+536813552|0)>>>2|e+536813552<<30|0){case 0:{p=c[1164]|0;c[1164]=d&65543;if((d&1|0)==0|(p&1|0)!=0){f=0;l=b;c[b+4792>>2]=6;c[b+4796>>2]=f|0;break a}c[1166]=c[1165];f=0;l=b;c[b+4792>>2]=6;c[b+4796>>2]=f|0;break a}case 1:{c[1165]=d&16777215;f=0;l=b;c[b+4792>>2]=6;c[b+4796>>2]=f|0;break a}case 2:{c[1166]=d&16777215;f=0;l=b;c[b+4792>>2]=6;c[b+4796>>2]=f|0;break a}case 3:{f=0;l=b;c[b+4792>>2]=6;c[b+4796>>2]=f|0;break a}default:{f=0;l=b;c[b+4792>>2]=6;c[b+4796>>2]=f|0;break a}}}while(0);if((p&65024|0)==20480){if(a[5300]|0){o=c[2]|0;c[b+808>>2]=p&7;c[b+808+4>>2]=p>>>3&7;c[b+808+8>>2]=p>>>6&7;Va(o,1896,b+808|0)|0}e=(c[4668+((p>>>6&7)<<2)>>2]|0)+(c[4668+((p>>>3&7)<<2)>>2]|0)|0;d=c[4668+((p&7)<<2)>>2]|0;if((e&-268435456|0)!=-536870912){fa(2,e|0,d|0)|0;f=0;l=b;c[b+4792>>2]=6;c[b+4796>>2]=f|0;break a}switch((e+536813552|0)>>>2|e+536813552<<30|0){case 0:{p=c[1164]|0;c[1164]=d&65543;if((d&1|0)==0|(p&1|0)!=0){f=0;l=b;c[b+4792>>2]=6;c[b+4796>>2]=f|0;break a}c[1166]=c[1165];f=0;l=b;c[b+4792>>2]=6;c[b+4796>>2]=f|0;break a}case 1:{c[1165]=d&16777215;f=0;l=b;c[b+4792>>2]=6;c[b+4796>>2]=f|0;break a}case 2:{c[1166]=d&16777215;f=0;l=b;c[b+4792>>2]=6;c[b+4796>>2]=f|0;break a}case 3:{f=0;l=b;c[b+4792>>2]=6;c[b+4796>>2]=f|0;break a}default:{f=0;l=b;c[b+4792>>2]=6;c[b+4796>>2]=f|0;break a}}}g:do if((p&63488)<<16>>16<28672){switch((p&63488)<<16>>16){case -28672:break;default:break g}if(a[5300]|0){o=c[2]|0;c[b+824>>2]=p>>>8&7;c[b+824+4>>2]=p<<2&1020;Va(o,1915,b+824|0)|0}e=(c[1180]|0)+(p<<2&1020)|0;d=c[4668+((p>>>8&7)<<2)>>2]|0;if((e&-268435456|0)!=-536870912){fa(2,e|0,d|0)|0;f=0;l=b;c[b+4792>>2]=6;c[b+4796>>2]=f|0;break a}switch((e+536813552|0)>>>2|e+536813552<<30|0){case 0:{p=c[1164]|0;c[1164]=d&65543;if((d&1|0)==0|(p&1|0)!=0){f=0;l=b;c[b+4792>>2]=6;c[b+4796>>2]=f|0;break a}c[1166]=c[1165];f=0;l=b;c[b+4792>>2]=6;c[b+4796>>2]=f|0;break a}case 1:{c[1165]=d&16777215;f=0;l=b;c[b+4792>>2]=6;c[b+4796>>2]=f|0;break a}case 2:{c[1166]=d&16777215;f=0;l=b;c[b+4792>>2]=6;c[b+4796>>2]=f|0;break a}case 3:{f=0;l=b;c[b+4792>>2]=6;c[b+4796>>2]=f|0;break a}default:{f=0;l=b;c[b+4792>>2]=6;c[b+4796>>2]=f|0;break a}}}else{switch((p&63488)<<16>>16){case 28672:break;default:break g}if(a[5300]|0){o=c[2]|0;c[b+832>>2]=p&7;c[b+832+4>>2]=p>>>3&7;c[b+832+8>>2]=p>>>6&31;Va(o,1935,b+832|0)|0}f=c[4668+((p>>>3&7)<<2)>>2]|0;d=c[4668+((p&7)<<2)>>2]|0;e=Z(3,f+(p>>>6&31)&-2|0)|0;if(!(f+(p>>>6)&1))d=e&65280|d&255;else d=e&255|d<<8;fa(5,f+(p>>>6&31)&-2|0,d&65535|0)|0;f=0;l=b;c[b+4792>>2]=6;c[b+4796>>2]=f|0;break a}while(0);if((p&65024|0)==21504){if(a[5300]|0){o=c[2]|0;c[b+848>>2]=p&7;c[b+848+4>>2]=p>>>3&7;c[b+848+8>>2]=p>>>6&7;Va(o,1957,b+848|0)|0}f=(c[4668+((p>>>6&7)<<2)>>2]|0)+(c[4668+((p>>>3&7)<<2)>>2]|0)|0;d=c[4668+((p&7)<<2)>>2]|0;e=Z(3,f&-2|0)|0;if(!(f&1))d=e&65280|d&255;else d=e&255|d<<8;fa(5,f&-2|0,d&65535|0)|0;f=0;l=b;c[b+4792>>2]=6;c[b+4796>>2]=f|0;break a}if((p&63488|0)==32768){if(a[5300]|0){o=c[2]|0;c[b+864>>2]=p&7;c[b+864+4>>2]=p>>>3&7;c[b+864+8>>2]=p>>>5&62;Va(o,1977,b+864|0)|0}fa(5,(c[4668+((p>>>3&7)<<2)>>2]|0)+(p>>>5&62)|0,c[4668+((p&7)<<2)>>2]&65535|0)|0;f=0;l=b;c[b+4792>>2]=6;c[b+4796>>2]=f|0;break a}h:do if((p&65024)<<16>>16<20992){switch((p&65024)<<16>>16){case 7680:break;default:break h}if(a[5300]|0){o=c[2]|0;c[b+896>>2]=p&7;c[b+896+4>>2]=p>>>3&7;c[b+896+8>>2]=p>>>6&7;Va(o,2019,b+896|0)|0}o=c[4668+((p>>>3&7)<<2)>>2]|0;c[4668+((p&7)<<2)>>2]=o-(p>>>6&7);f=c[1184]|0;f=(o-(p>>>6&7)|0)<0?f|-2147483648:f&2147483647;f=(o-(p>>>6&7)|0)==0?f|1073741824:f&-1073741825;f=(((o>>>31)+1+((((p>>>6|2147483640)^7)+1+(o&2147483647)|0)>>>31)|0)&2|0)==0?f&-536870913:f|536870912;c[1184]=((((p>>>6|2147483640)^7)+1+(o&2147483647)|0)>>>31|0)==(((o>>>31)+1+((((p>>>6|2147483640)^7)+1+(o&2147483647)|0)>>>31)|0)>>>1&1|0)?f&-268435457:f|268435456;f=0;l=b;c[b+4792>>2]=6;c[b+4796>>2]=f|0;break a}else{switch((p&65024)<<16>>16){case 20992:break;default:break h}if(a[5300]|0){o=c[2]|0;c[b+880>>2]=p&7;c[b+880+4>>2]=p>>>3&7;c[b+880+8>>2]=p>>>6&7;Va(o,1999,b+880|0)|0}fa(5,(c[4668+((p>>>6&7)<<2)>>2]|0)+(c[4668+((p>>>3&7)<<2)>>2]|0)|0,c[4668+((p&7)<<2)>>2]&65535|0)|0;f=0;l=b;c[b+4792>>2]=6;c[b+4796>>2]=f|0;break a}while(0);if((p&63488|0)==14336){if(a[5300]|0){o=c[2]|0;c[b+912>>2]=p>>>8&7;c[b+912+4>>2]=p&255;Va(o,2039,b+912|0)|0}o=c[4668+((p>>>8&7)<<2)>>2]|0;c[4668+((p>>>8&7)<<2)>>2]=o-(p&255);f=c[1184]|0;f=(o-(p&255)|0)<0?f|-2147483648:f&2147483647;f=(o-(p&255)|0)==0?f|1073741824:f&-1073741825;f=(((o>>>31)+1+((-2147483648-(p&255)+(o&2147483647)|0)>>>31)|0)&2|0)==0?f&-536870913:f|536870912;c[1184]=((-2147483648-(p&255)+(o&2147483647)|0)>>>31|0)==(((o>>>31)+1+((-2147483648-(p&255)+(o&2147483647)|0)>>>31)|0)>>>1&1|0)?f&-268435457:f|268435456;f=0;l=b;c[b+4792>>2]=6;c[b+4796>>2]=f|0;break a}if((p&65024|0)==6656){if(a[5300]|0){o=c[2]|0;c[b+920>>2]=p&7;c[b+920+4>>2]=p>>>3&7;c[b+920+8>>2]=p>>>6&7;Va(o,2057,b+920|0)|0}n=c[4668+((p>>>3&7)<<2)>>2]|0;o=c[4668+((p>>>6&7)<<2)>>2]|0;c[4668+((p&7)<<2)>>2]=n-o;f=c[1184]|0;f=(n-o|0)<0?f|-2147483648:f&2147483647;f=(n-o|0)==0?f|1073741824:f&-1073741825;f=(((~o>>>31)+(n>>>31)+(((n&2147483647)+1+(~o&2147483647)|0)>>>31)|0)&2|0)==0?f&-536870913:f|536870912;c[1184]=(((n&2147483647)+1+(~o&2147483647)|0)>>>31|0)==(((~o>>>31)+(n>>>31)+(((n&2147483647)+1+(~o&2147483647)|0)>>>31)|0)>>>1&1|0)?f&-268435457:f|268435456;f=0;l=b;c[b+4792>>2]=6;c[b+4796>>2]=f|0;break a}if((p&65408|0)==45184){if(a[5300]|0){o=c[2]|0;c[b+936>>2]=p<<2&508;Va(o,2075,b+936|0)|0}c[1180]=(c[1180]|0)-(p<<2&508);f=0;l=b;c[b+4792>>2]=6;c[b+4796>>2]=f|0;break a}if((p&65280|0)==57088){if(a[5300]|0){o=c[2]|0;c[b+944>>2]=p&255;Va(o,2091,b+944|0)|0}if((p&255|0)==204){c[1167]=c[1184];f=0;l=b;c[b+4792>>2]=6;c[b+4796>>2]=f|0;break a}else{f=c[2]|0;c[b+952>>2]=p&255;Va(f,2103,b+952|0)|0;f=1;l=b;c[b+4792>>2]=6;c[b+4796>>2]=f|0;break a}}i:do if((p&65472)<<16>>16<-19840)switch((p&65472)<<16>>16){case -19904:{if(a[5300]|0){o=c[2]|0;c[b+960>>2]=p&7;c[b+960+4>>2]=p>>>3&7;Va(o,2117,b+960|0)|0}f=c[4668+((p>>>3&7)<<2)>>2]|0;c[4668+((p&7)<<2)>>2]=(f&128|0)==0?f&255:f|-256;f=0;l=b;c[b+4792>>2]=6;c[b+4796>>2]=f|0;break a}case -19968:{if(a[5300]|0){o=c[2]|0;c[b+968>>2]=p&7;c[b+968+4>>2]=p>>>3&7;Va(o,2131,b+968|0)|0}f=c[4668+((p>>>3&7)<<2)>>2]|0;c[4668+((p&7)<<2)>>2]=(f&32768|0)==0?f&65535:f|-65536;f=0;l=b;c[b+4792>>2]=6;c[b+4796>>2]=f|0;break a}default:break i}else{if((p&65472)<<16>>16<-19776){switch((p&65472)<<16>>16){case -19840:break;default:break i}if(a[5300]|0){o=c[2]|0;c[b+992>>2]=p&7;c[b+992+4>>2]=p>>>3&7;Va(o,2172,b+992|0)|0}c[4668+((p&7)<<2)>>2]=c[4668+((p>>>3&7)<<2)>>2]&65535;f=0;l=b;c[b+4792>>2]=6;c[b+4796>>2]=f|0;break a}if((p&65472)<<16>>16<16896){switch((p&65472)<<16>>16){case -19776:break;default:break i}if(a[5300]|0){o=c[2]|0;c[b+984>>2]=p&7;c[b+984+4>>2]=p>>>3&7;Va(o,2158,b+984|0)|0}c[4668+((p&7)<<2)>>2]=c[4668+((p>>>3&7)<<2)>>2]&255;f=0;l=b;c[b+4792>>2]=6;c[b+4796>>2]=f|0;break a}else{switch((p&65472)<<16>>16){case 16896:break;default:break i}if(a[5300]|0){o=c[2]|0;c[b+976>>2]=p&7;c[b+976+4>>2]=p>>>3&7;Va(o,2145,b+976|0)|0}p=c[4668+((p>>>3&7)<<2)>>2]&c[4668+((p&7)<<2)>>2];f=c[1184]|0;f=(p|0)<0?f|-2147483648:f&2147483647;c[1184]=(p|0)==0?f|1073741824:f&-1073741825;f=0;l=b;c[b+4792>>2]=6;c[b+4796>>2]=f|0;break a}}while(0);f=c[2]|0;c[b+1e3>>2]=g;c[b+1e3+4>>2]=p;Va(f,2186,b+1e3|0)|0;f=1;l=b;c[b+4792>>2]=6;c[b+4796>>2]=f|0;break a}}}}}}}c[b+1368>>2]=f}\n\n// EMSCRIPTEN_END_FUNCS\nvar ha=[Eb,Ca];var ia=[Fb,Da,Ea,Fb];return{_llvm_bswap_i32:Bb,_enable_debug:ua,stackSave:ka,_i64Subtract:qb,___udivdi3:yb,setThrew:na,_bitshift64Lshr:tb,_read_register:va,_bitshift64Shl:ub,_memset:sb,_sbrk:zb,_memcpy:vb,stackAlloc:ja,___uremdi3:Ab,_run:sa,_abort_run:ta,setTempRet0:oa,_i64Add:rb,dynCall_iiii:Db,dynCall_ii:Cb,_ping:ra,_emscripten_get_global_libc:Ba,_free:Aa,___errno_location:Ga,_set_stop_address:qa,runPostSets:pb,getTempRet0:pa,_write_register:wa,stackRestore:la,_malloc:za,establishStackSpace:ma,_reset:xa}})\n\n\n// EMSCRIPTEN_END_ASM\n(Module.asmGlobalArg,Module.asmLibraryArg,buffer);var _enable_debug=Module[\"_enable_debug\"]=asm[\"_enable_debug\"];var stackSave=Module[\"stackSave\"]=asm[\"stackSave\"];var _i64Subtract=Module[\"_i64Subtract\"]=asm[\"_i64Subtract\"];var ___udivdi3=Module[\"___udivdi3\"]=asm[\"___udivdi3\"];var getTempRet0=Module[\"getTempRet0\"]=asm[\"getTempRet0\"];var _bitshift64Lshr=Module[\"_bitshift64Lshr\"]=asm[\"_bitshift64Lshr\"];var _read_register=Module[\"_read_register\"]=asm[\"_read_register\"];var _bitshift64Shl=Module[\"_bitshift64Shl\"]=asm[\"_bitshift64Shl\"];var _memset=Module[\"_memset\"]=asm[\"_memset\"];var _sbrk=Module[\"_sbrk\"]=asm[\"_sbrk\"];var _memcpy=Module[\"_memcpy\"]=asm[\"_memcpy\"];var ___errno_location=Module[\"___errno_location\"]=asm[\"___errno_location\"];var ___uremdi3=Module[\"___uremdi3\"]=asm[\"___uremdi3\"];var stackAlloc=Module[\"stackAlloc\"]=asm[\"stackAlloc\"];var _run=Module[\"_run\"]=asm[\"_run\"];var _abort_run=Module[\"_abort_run\"]=asm[\"_abort_run\"];var setTempRet0=Module[\"setTempRet0\"]=asm[\"setTempRet0\"];var _i64Add=Module[\"_i64Add\"]=asm[\"_i64Add\"];var _ping=Module[\"_ping\"]=asm[\"_ping\"];var _emscripten_get_global_libc=Module[\"_emscripten_get_global_libc\"]=asm[\"_emscripten_get_global_libc\"];var _set_stop_address=Module[\"_set_stop_address\"]=asm[\"_set_stop_address\"];var _llvm_bswap_i32=Module[\"_llvm_bswap_i32\"]=asm[\"_llvm_bswap_i32\"];var _free=Module[\"_free\"]=asm[\"_free\"];var runPostSets=Module[\"runPostSets\"]=asm[\"runPostSets\"];var setThrew=Module[\"setThrew\"]=asm[\"setThrew\"];var establishStackSpace=Module[\"establishStackSpace\"]=asm[\"establishStackSpace\"];var _write_register=Module[\"_write_register\"]=asm[\"_write_register\"];var stackRestore=Module[\"stackRestore\"]=asm[\"stackRestore\"];var _malloc=Module[\"_malloc\"]=asm[\"_malloc\"];var _reset=Module[\"_reset\"]=asm[\"_reset\"];var dynCall_ii=Module[\"dynCall_ii\"]=asm[\"dynCall_ii\"];var dynCall_iiii=Module[\"dynCall_iiii\"]=asm[\"dynCall_iiii\"];Runtime.stackAlloc=Module[\"stackAlloc\"];Runtime.stackSave=Module[\"stackSave\"];Runtime.stackRestore=Module[\"stackRestore\"];Runtime.establishStackSpace=Module[\"establishStackSpace\"];Runtime.setTempRet0=Module[\"setTempRet0\"];Runtime.getTempRet0=Module[\"getTempRet0\"];Module[\"asm\"]=asm;Module[\"then\"]=(function(func){if(Module[\"calledRun\"]){func(Module)}else{var old=Module[\"onRuntimeInitialized\"];Module[\"onRuntimeInitialized\"]=(function(){if(old)old();func(Module)})}return Module});function ExitStatus(status){this.name=\"ExitStatus\";this.message=\"Program terminated with exit(\"+status+\")\";this.status=status}ExitStatus.prototype=new Error;ExitStatus.prototype.constructor=ExitStatus;var initialStackTop;var preloadStartTime=null;var calledMain=false;dependenciesFulfilled=function runCaller(){if(!Module[\"calledRun\"])run();if(!Module[\"calledRun\"])dependenciesFulfilled=runCaller};Module[\"callMain\"]=Module.callMain=function callMain(args){args=args||[];ensureInitRuntime();var argc=args.length+1;function pad(){for(var i=0;i<4-1;i++){argv.push(0)}}var argv=[allocate(intArrayFromString(Module[\"thisProgram\"]),\"i8\",ALLOC_NORMAL)];pad();for(var i=0;i<argc-1;i=i+1){argv.push(allocate(intArrayFromString(args[i]),\"i8\",ALLOC_NORMAL));pad()}argv.push(0);argv=allocate(argv,\"i32\",ALLOC_NORMAL);try{var ret=Module[\"_main\"](argc,argv,0);exit(ret,true)}catch(e){if(e instanceof ExitStatus){return}else if(e==\"SimulateInfiniteLoop\"){Module[\"noExitRuntime\"]=true;return}else{var toLog=e;if(e&&typeof e===\"object\"&&e.stack){toLog=[e,e.stack]}Module.printErr(\"exception thrown: \"+toLog);Module[\"quit\"](1,e)}}finally{calledMain=true}};function run(args){args=args||Module[\"arguments\"];if(preloadStartTime===null)preloadStartTime=Date.now();if(runDependencies>0){return}preRun();if(runDependencies>0)return;if(Module[\"calledRun\"])return;function doRun(){if(Module[\"calledRun\"])return;Module[\"calledRun\"]=true;if(ABORT)return;ensureInitRuntime();preMain();if(Module[\"onRuntimeInitialized\"])Module[\"onRuntimeInitialized\"]();if(Module[\"_main\"]&&shouldRunNow)Module[\"callMain\"](args);postRun()}if(Module[\"setStatus\"]){Module[\"setStatus\"](\"Running...\");setTimeout((function(){setTimeout((function(){Module[\"setStatus\"](\"\")}),1);doRun()}),1)}else{doRun()}}Module[\"run\"]=Module.run=run;function exit(status,implicit){if(implicit&&Module[\"noExitRuntime\"]){return}if(Module[\"noExitRuntime\"]){}else{ABORT=true;EXITSTATUS=status;STACKTOP=initialStackTop;exitRuntime();if(Module[\"onExit\"])Module[\"onExit\"](status)}if(ENVIRONMENT_IS_NODE){process[\"exit\"](status)}Module[\"quit\"](status,new ExitStatus(status))}Module[\"exit\"]=Module.exit=exit;var abortDecorators=[];function abort(what){if(Module[\"onAbort\"]){Module[\"onAbort\"](what)}if(what!==undefined){Module.print(what);Module.printErr(what);what=JSON.stringify(what)}else{what=\"\"}ABORT=true;EXITSTATUS=1;var extra=\"\\nIf this abort() is unexpected, build with -s ASSERTIONS=1 which can give more information.\";var output=\"abort(\"+what+\") at \"+stackTrace()+extra;if(abortDecorators){abortDecorators.forEach((function(decorator){output=decorator(output,what)}))}throw output}Module[\"abort\"]=Module.abort=abort;if(Module[\"preInit\"]){if(typeof Module[\"preInit\"]==\"function\")Module[\"preInit\"]=[Module[\"preInit\"]];while(Module[\"preInit\"].length>0){Module[\"preInit\"].pop()()}}var shouldRunNow=false;if(Module[\"noInitialRun\"]){shouldRunNow=false}Module[\"noExitRuntime\"]=true;run()\n\n\n\n\n\n  return Module;\n};\nif (typeof module === \"object\" && module.exports) {\n  module['exports'] = Module;\n};\nmodule.exports = Module;\n",
    "/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global global, define, System, Reflect, Promise */\r\nvar __extends;\r\nvar __assign;\r\nvar __rest;\r\nvar __decorate;\r\nvar __param;\r\nvar __metadata;\r\nvar __awaiter;\r\nvar __generator;\r\nvar __exportStar;\r\nvar __values;\r\nvar __read;\r\nvar __spread;\r\nvar __await;\r\nvar __asyncGenerator;\r\nvar __asyncDelegator;\r\nvar __asyncValues;\r\nvar __makeTemplateObject;\r\n(function (factory) {\r\n    var root = typeof global === \"object\" ? global : typeof self === \"object\" ? self : typeof this === \"object\" ? this : {};\r\n    if (typeof define === \"function\" && define.amd) {\r\n        define(\"tslib\", [\"exports\"], function (exports) { factory(createExporter(root, createExporter(exports))); });\r\n    }\r\n    else if (typeof module === \"object\" && typeof module.exports === \"object\") {\r\n        factory(createExporter(root, createExporter(module.exports)));\r\n    }\r\n    else {\r\n        factory(createExporter(root));\r\n    }\r\n    function createExporter(exports, previous) {\r\n        if (typeof Object.create === \"function\") {\r\n            Object.defineProperty(exports, \"__esModule\", { value: true });\r\n        }\r\n        else {\r\n            exports.__esModule = true;\r\n        }\r\n        return function (id, v) { return exports[id] = previous ? previous(id, v) : v; };\r\n    }\r\n})\r\n(function (exporter) {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n\r\n    __extends = function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n\r\n    __assign = Object.assign || function (t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n\r\n    __rest = function (s, e) {\r\n        var t = {};\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n            t[p] = s[p];\r\n        if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n            for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n                t[p[i]] = s[p[i]];\r\n        return t;\r\n    };\r\n\r\n    __decorate = function (decorators, target, key, desc) {\r\n        var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n        if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n        else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n        return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n    };\r\n\r\n    __param = function (paramIndex, decorator) {\r\n        return function (target, key) { decorator(target, key, paramIndex); }\r\n    };\r\n\r\n    __metadata = function (metadataKey, metadataValue) {\r\n        if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n    };\r\n\r\n    __awaiter = function (thisArg, _arguments, P, generator) {\r\n        return new (P || (P = Promise))(function (resolve, reject) {\r\n            function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n            function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n            function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n            step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n        });\r\n    };\r\n\r\n    __generator = function (thisArg, body) {\r\n        var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n        return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n        function verb(n) { return function (v) { return step([n, v]); }; }\r\n        function step(op) {\r\n            if (f) throw new TypeError(\"Generator is already executing.\");\r\n            while (_) try {\r\n                if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\r\n                if (y = 0, t) op = [0, t.value];\r\n                switch (op[0]) {\r\n                    case 0: case 1: t = op; break;\r\n                    case 4: _.label++; return { value: op[1], done: false };\r\n                    case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                    case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                    default:\r\n                        if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                        if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                        if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                        if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                        if (t[2]) _.ops.pop();\r\n                        _.trys.pop(); continue;\r\n                }\r\n                op = body.call(thisArg, _);\r\n            } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n            if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n        }\r\n    };\r\n\r\n    __exportStar = function (m, exports) {\r\n        for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n    };\r\n\r\n    __values = function (o) {\r\n        var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n        if (m) return m.call(o);\r\n        return {\r\n            next: function () {\r\n                if (o && i >= o.length) o = void 0;\r\n                return { value: o && o[i++], done: !o };\r\n            }\r\n        };\r\n    };\r\n\r\n    __read = function (o, n) {\r\n        var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n        if (!m) return o;\r\n        var i = m.call(o), r, ar = [], e;\r\n        try {\r\n            while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n        }\r\n        catch (error) { e = { error: error }; }\r\n        finally {\r\n            try {\r\n                if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n            }\r\n            finally { if (e) throw e.error; }\r\n        }\r\n        return ar;\r\n    };\r\n\r\n    __spread = function () {\r\n        for (var ar = [], i = 0; i < arguments.length; i++)\r\n            ar = ar.concat(__read(arguments[i]));\r\n        return ar;\r\n    };\r\n\r\n    __await = function (v) {\r\n        return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n    };\r\n\r\n    __asyncGenerator = function (thisArg, _arguments, generator) {\r\n        if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n        var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n        return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n        function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n        function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n        function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r);  }\r\n        function fulfill(value) { resume(\"next\", value); }\r\n        function reject(value) { resume(\"throw\", value); }\r\n        function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n    };\r\n\r\n    __asyncDelegator = function (o) {\r\n        var i, p;\r\n        return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n        function verb(n, f) { if (o[n]) i[n] = function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; }; }\r\n    };\r\n\r\n    __asyncValues = function (o) {\r\n        if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n        var m = o[Symbol.asyncIterator];\r\n        return m ? m.call(o) : typeof __values === \"function\" ? __values(o) : o[Symbol.iterator]();\r\n    };\r\n\r\n    __makeTemplateObject = function (cooked, raw) {\r\n        if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n        return cooked;\r\n    };\r\n\r\n    exporter(\"__extends\", __extends);\r\n    exporter(\"__assign\", __assign);\r\n    exporter(\"__rest\", __rest);\r\n    exporter(\"__decorate\", __decorate);\r\n    exporter(\"__param\", __param);\r\n    exporter(\"__metadata\", __metadata);\r\n    exporter(\"__awaiter\", __awaiter);\r\n    exporter(\"__generator\", __generator);\r\n    exporter(\"__exportStar\", __exportStar);\r\n    exporter(\"__values\", __values);\r\n    exporter(\"__read\", __read);\r\n    exporter(\"__spread\", __spread);\r\n    exporter(\"__await\", __await);\r\n    exporter(\"__asyncGenerator\", __asyncGenerator);\r\n    exporter(\"__asyncDelegator\", __asyncDelegator);\r\n    exporter(\"__asyncValues\", __asyncValues);\r\n    exporter(\"__makeTemplateObject\", __makeTemplateObject);\r\n});\r\n",
    "if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    var TempCtor = function () {}\n    TempCtor.prototype = superCtor.prototype\n    ctor.prototype = new TempCtor()\n    ctor.prototype.constructor = ctor\n  }\n}\n",
    "module.exports = function isBuffer(arg) {\n  return arg && typeof arg === 'object'\n    && typeof arg.copy === 'function'\n    && typeof arg.fill === 'function'\n    && typeof arg.readUInt8 === 'function';\n}",
    "// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar formatRegExp = /%[sdj%]/g;\nexports.format = function(f) {\n  if (!isString(f)) {\n    var objects = [];\n    for (var i = 0; i < arguments.length; i++) {\n      objects.push(inspect(arguments[i]));\n    }\n    return objects.join(' ');\n  }\n\n  var i = 1;\n  var args = arguments;\n  var len = args.length;\n  var str = String(f).replace(formatRegExp, function(x) {\n    if (x === '%%') return '%';\n    if (i >= len) return x;\n    switch (x) {\n      case '%s': return String(args[i++]);\n      case '%d': return Number(args[i++]);\n      case '%j':\n        try {\n          return JSON.stringify(args[i++]);\n        } catch (_) {\n          return '[Circular]';\n        }\n      default:\n        return x;\n    }\n  });\n  for (var x = args[i]; i < len; x = args[++i]) {\n    if (isNull(x) || !isObject(x)) {\n      str += ' ' + x;\n    } else {\n      str += ' ' + inspect(x);\n    }\n  }\n  return str;\n};\n\n\n// Mark that a method should not be used.\n// Returns a modified function which warns once by default.\n// If --no-deprecation is set, then it is a no-op.\nexports.deprecate = function(fn, msg) {\n  // Allow for deprecating things in the process of starting up.\n  if (isUndefined(global.process)) {\n    return function() {\n      return exports.deprecate(fn, msg).apply(this, arguments);\n    };\n  }\n\n  if (process.noDeprecation === true) {\n    return fn;\n  }\n\n  var warned = false;\n  function deprecated() {\n    if (!warned) {\n      if (process.throwDeprecation) {\n        throw new Error(msg);\n      } else if (process.traceDeprecation) {\n        console.trace(msg);\n      } else {\n        console.error(msg);\n      }\n      warned = true;\n    }\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n};\n\n\nvar debugs = {};\nvar debugEnviron;\nexports.debuglog = function(set) {\n  if (isUndefined(debugEnviron))\n    debugEnviron = process.env.NODE_DEBUG || '';\n  set = set.toUpperCase();\n  if (!debugs[set]) {\n    if (new RegExp('\\\\b' + set + '\\\\b', 'i').test(debugEnviron)) {\n      var pid = process.pid;\n      debugs[set] = function() {\n        var msg = exports.format.apply(exports, arguments);\n        console.error('%s %d: %s', set, pid, msg);\n      };\n    } else {\n      debugs[set] = function() {};\n    }\n  }\n  return debugs[set];\n};\n\n\n/**\n * Echos the value of a value. Trys to print the value out\n * in the best way possible given the different types.\n *\n * @param {Object} obj The object to print out.\n * @param {Object} opts Optional options object that alters the output.\n */\n/* legacy: obj, showHidden, depth, colors*/\nfunction inspect(obj, opts) {\n  // default options\n  var ctx = {\n    seen: [],\n    stylize: stylizeNoColor\n  };\n  // legacy...\n  if (arguments.length >= 3) ctx.depth = arguments[2];\n  if (arguments.length >= 4) ctx.colors = arguments[3];\n  if (isBoolean(opts)) {\n    // legacy...\n    ctx.showHidden = opts;\n  } else if (opts) {\n    // got an \"options\" object\n    exports._extend(ctx, opts);\n  }\n  // set default options\n  if (isUndefined(ctx.showHidden)) ctx.showHidden = false;\n  if (isUndefined(ctx.depth)) ctx.depth = 2;\n  if (isUndefined(ctx.colors)) ctx.colors = false;\n  if (isUndefined(ctx.customInspect)) ctx.customInspect = true;\n  if (ctx.colors) ctx.stylize = stylizeWithColor;\n  return formatValue(ctx, obj, ctx.depth);\n}\nexports.inspect = inspect;\n\n\n// http://en.wikipedia.org/wiki/ANSI_escape_code#graphics\ninspect.colors = {\n  'bold' : [1, 22],\n  'italic' : [3, 23],\n  'underline' : [4, 24],\n  'inverse' : [7, 27],\n  'white' : [37, 39],\n  'grey' : [90, 39],\n  'black' : [30, 39],\n  'blue' : [34, 39],\n  'cyan' : [36, 39],\n  'green' : [32, 39],\n  'magenta' : [35, 39],\n  'red' : [31, 39],\n  'yellow' : [33, 39]\n};\n\n// Don't use 'blue' not visible on cmd.exe\ninspect.styles = {\n  'special': 'cyan',\n  'number': 'yellow',\n  'boolean': 'yellow',\n  'undefined': 'grey',\n  'null': 'bold',\n  'string': 'green',\n  'date': 'magenta',\n  // \"name\": intentionally not styling\n  'regexp': 'red'\n};\n\n\nfunction stylizeWithColor(str, styleType) {\n  var style = inspect.styles[styleType];\n\n  if (style) {\n    return '\\u001b[' + inspect.colors[style][0] + 'm' + str +\n           '\\u001b[' + inspect.colors[style][1] + 'm';\n  } else {\n    return str;\n  }\n}\n\n\nfunction stylizeNoColor(str, styleType) {\n  return str;\n}\n\n\nfunction arrayToHash(array) {\n  var hash = {};\n\n  array.forEach(function(val, idx) {\n    hash[val] = true;\n  });\n\n  return hash;\n}\n\n\nfunction formatValue(ctx, value, recurseTimes) {\n  // Provide a hook for user-specified inspect functions.\n  // Check that value is an object with an inspect function on it\n  if (ctx.customInspect &&\n      value &&\n      isFunction(value.inspect) &&\n      // Filter out the util module, it's inspect function is special\n      value.inspect !== exports.inspect &&\n      // Also filter out any prototype objects using the circular check.\n      !(value.constructor && value.constructor.prototype === value)) {\n    var ret = value.inspect(recurseTimes, ctx);\n    if (!isString(ret)) {\n      ret = formatValue(ctx, ret, recurseTimes);\n    }\n    return ret;\n  }\n\n  // Primitive types cannot have properties\n  var primitive = formatPrimitive(ctx, value);\n  if (primitive) {\n    return primitive;\n  }\n\n  // Look up the keys of the object.\n  var keys = Object.keys(value);\n  var visibleKeys = arrayToHash(keys);\n\n  if (ctx.showHidden) {\n    keys = Object.getOwnPropertyNames(value);\n  }\n\n  // IE doesn't make error fields non-enumerable\n  // http://msdn.microsoft.com/en-us/library/ie/dww52sbt(v=vs.94).aspx\n  if (isError(value)\n      && (keys.indexOf('message') >= 0 || keys.indexOf('description') >= 0)) {\n    return formatError(value);\n  }\n\n  // Some type of object without properties can be shortcutted.\n  if (keys.length === 0) {\n    if (isFunction(value)) {\n      var name = value.name ? ': ' + value.name : '';\n      return ctx.stylize('[Function' + name + ']', 'special');\n    }\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    }\n    if (isDate(value)) {\n      return ctx.stylize(Date.prototype.toString.call(value), 'date');\n    }\n    if (isError(value)) {\n      return formatError(value);\n    }\n  }\n\n  var base = '', array = false, braces = ['{', '}'];\n\n  // Make Array say that they are Array\n  if (isArray(value)) {\n    array = true;\n    braces = ['[', ']'];\n  }\n\n  // Make functions say that they are functions\n  if (isFunction(value)) {\n    var n = value.name ? ': ' + value.name : '';\n    base = ' [Function' + n + ']';\n  }\n\n  // Make RegExps say that they are RegExps\n  if (isRegExp(value)) {\n    base = ' ' + RegExp.prototype.toString.call(value);\n  }\n\n  // Make dates with properties first say the date\n  if (isDate(value)) {\n    base = ' ' + Date.prototype.toUTCString.call(value);\n  }\n\n  // Make error with message first say the error\n  if (isError(value)) {\n    base = ' ' + formatError(value);\n  }\n\n  if (keys.length === 0 && (!array || value.length == 0)) {\n    return braces[0] + base + braces[1];\n  }\n\n  if (recurseTimes < 0) {\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    } else {\n      return ctx.stylize('[Object]', 'special');\n    }\n  }\n\n  ctx.seen.push(value);\n\n  var output;\n  if (array) {\n    output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);\n  } else {\n    output = keys.map(function(key) {\n      return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);\n    });\n  }\n\n  ctx.seen.pop();\n\n  return reduceToSingleString(output, base, braces);\n}\n\n\nfunction formatPrimitive(ctx, value) {\n  if (isUndefined(value))\n    return ctx.stylize('undefined', 'undefined');\n  if (isString(value)) {\n    var simple = '\\'' + JSON.stringify(value).replace(/^\"|\"$/g, '')\n                                             .replace(/'/g, \"\\\\'\")\n                                             .replace(/\\\\\"/g, '\"') + '\\'';\n    return ctx.stylize(simple, 'string');\n  }\n  if (isNumber(value))\n    return ctx.stylize('' + value, 'number');\n  if (isBoolean(value))\n    return ctx.stylize('' + value, 'boolean');\n  // For some reason typeof null is \"object\", so special case here.\n  if (isNull(value))\n    return ctx.stylize('null', 'null');\n}\n\n\nfunction formatError(value) {\n  return '[' + Error.prototype.toString.call(value) + ']';\n}\n\n\nfunction formatArray(ctx, value, recurseTimes, visibleKeys, keys) {\n  var output = [];\n  for (var i = 0, l = value.length; i < l; ++i) {\n    if (hasOwnProperty(value, String(i))) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          String(i), true));\n    } else {\n      output.push('');\n    }\n  }\n  keys.forEach(function(key) {\n    if (!key.match(/^\\d+$/)) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          key, true));\n    }\n  });\n  return output;\n}\n\n\nfunction formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {\n  var name, str, desc;\n  desc = Object.getOwnPropertyDescriptor(value, key) || { value: value[key] };\n  if (desc.get) {\n    if (desc.set) {\n      str = ctx.stylize('[Getter/Setter]', 'special');\n    } else {\n      str = ctx.stylize('[Getter]', 'special');\n    }\n  } else {\n    if (desc.set) {\n      str = ctx.stylize('[Setter]', 'special');\n    }\n  }\n  if (!hasOwnProperty(visibleKeys, key)) {\n    name = '[' + key + ']';\n  }\n  if (!str) {\n    if (ctx.seen.indexOf(desc.value) < 0) {\n      if (isNull(recurseTimes)) {\n        str = formatValue(ctx, desc.value, null);\n      } else {\n        str = formatValue(ctx, desc.value, recurseTimes - 1);\n      }\n      if (str.indexOf('\\n') > -1) {\n        if (array) {\n          str = str.split('\\n').map(function(line) {\n            return '  ' + line;\n          }).join('\\n').substr(2);\n        } else {\n          str = '\\n' + str.split('\\n').map(function(line) {\n            return '   ' + line;\n          }).join('\\n');\n        }\n      }\n    } else {\n      str = ctx.stylize('[Circular]', 'special');\n    }\n  }\n  if (isUndefined(name)) {\n    if (array && key.match(/^\\d+$/)) {\n      return str;\n    }\n    name = JSON.stringify('' + key);\n    if (name.match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)) {\n      name = name.substr(1, name.length - 2);\n      name = ctx.stylize(name, 'name');\n    } else {\n      name = name.replace(/'/g, \"\\\\'\")\n                 .replace(/\\\\\"/g, '\"')\n                 .replace(/(^\"|\"$)/g, \"'\");\n      name = ctx.stylize(name, 'string');\n    }\n  }\n\n  return name + ': ' + str;\n}\n\n\nfunction reduceToSingleString(output, base, braces) {\n  var numLinesEst = 0;\n  var length = output.reduce(function(prev, cur) {\n    numLinesEst++;\n    if (cur.indexOf('\\n') >= 0) numLinesEst++;\n    return prev + cur.replace(/\\u001b\\[\\d\\d?m/g, '').length + 1;\n  }, 0);\n\n  if (length > 60) {\n    return braces[0] +\n           (base === '' ? '' : base + '\\n ') +\n           ' ' +\n           output.join(',\\n  ') +\n           ' ' +\n           braces[1];\n  }\n\n  return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];\n}\n\n\n// NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\nfunction isArray(ar) {\n  return Array.isArray(ar);\n}\nexports.isArray = isArray;\n\nfunction isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\nexports.isBoolean = isBoolean;\n\nfunction isNull(arg) {\n  return arg === null;\n}\nexports.isNull = isNull;\n\nfunction isNullOrUndefined(arg) {\n  return arg == null;\n}\nexports.isNullOrUndefined = isNullOrUndefined;\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\nexports.isNumber = isNumber;\n\nfunction isString(arg) {\n  return typeof arg === 'string';\n}\nexports.isString = isString;\n\nfunction isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\nexports.isSymbol = isSymbol;\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\nexports.isUndefined = isUndefined;\n\nfunction isRegExp(re) {\n  return isObject(re) && objectToString(re) === '[object RegExp]';\n}\nexports.isRegExp = isRegExp;\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\nexports.isObject = isObject;\n\nfunction isDate(d) {\n  return isObject(d) && objectToString(d) === '[object Date]';\n}\nexports.isDate = isDate;\n\nfunction isError(e) {\n  return isObject(e) &&\n      (objectToString(e) === '[object Error]' || e instanceof Error);\n}\nexports.isError = isError;\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\nexports.isFunction = isFunction;\n\nfunction isPrimitive(arg) {\n  return arg === null ||\n         typeof arg === 'boolean' ||\n         typeof arg === 'number' ||\n         typeof arg === 'string' ||\n         typeof arg === 'symbol' ||  // ES6 symbol\n         typeof arg === 'undefined';\n}\nexports.isPrimitive = isPrimitive;\n\nexports.isBuffer = require('./support/isBuffer');\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n\n\nfunction pad(n) {\n  return n < 10 ? '0' + n.toString(10) : n.toString(10);\n}\n\n\nvar months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep',\n              'Oct', 'Nov', 'Dec'];\n\n// 26 Feb 16:19:34\nfunction timestamp() {\n  var d = new Date();\n  var time = [pad(d.getHours()),\n              pad(d.getMinutes()),\n              pad(d.getSeconds())].join(':');\n  return [d.getDate(), months[d.getMonth()], time].join(' ');\n}\n\n\n// log is just a thin wrapper to console.log that prepends a timestamp\nexports.log = function() {\n  console.log('%s - %s', timestamp(), exports.format.apply(exports, arguments));\n};\n\n\n/**\n * Inherit the prototype methods from one constructor into another.\n *\n * The Function.prototype.inherits from lang.js rewritten as a standalone\n * function (not on Function.prototype). NOTE: If this file is to be loaded\n * during bootstrapping this function needs to be rewritten using some native\n * functions as prototype setup using normal JavaScript does not work as\n * expected during bootstrapping (see mirror.js in r114903).\n *\n * @param {function} ctor Constructor function which needs to inherit the\n *     prototype.\n * @param {function} superCtor Constructor function to inherit prototype from.\n */\nexports.inherits = require('inherits');\n\nexports._extend = function(origin, add) {\n  // Don't do anything if add isn't an object\n  if (!add || !isObject(add)) return origin;\n\n  var keys = Object.keys(add);\n  var i = keys.length;\n  while (i--) {\n    origin[keys[i]] = add[keys[i]];\n  }\n  return origin;\n};\n\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n",
    "/*\n *   This file is part of 6502.ts, an emulator for 6502 based systems built\n *   in Typescript.\n *\n *   Copyright (C) 2014 - 2017 Christian Speckner & contributors\n *\n *   This program is free software; you can redistribute it and/or modify\n *   it under the terms of the GNU General Public License as published by\n *   the Free Software Foundation; either version 2 of the License, or\n *   (at your option) any later version.\n *\n *   This program is distributed in the hope that it will be useful,\n *   but WITHOUT ANY WARRANTY; without even the implied warranty of\n *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *   GNU General Public License for more details.\n *\n *   You should have received a copy of the GNU General Public License along\n *   with this program; if not, write to the Free Software Foundation, Inc.,\n *   51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n */\n\nimport { Event } from 'microevent.ts';\n\nabstract class AbstractCLI {\n    events: AbstractCLI.Events = {\n        outputAvailable: new Event<void>(),\n        quit: new Event<void>(),\n        promptChanged: new Event<void>(),\n        prompt: new Event<void>(),\n        availableCommandsChanged: new Event<void>()\n    };\n}\n\nnamespace AbstractCLI {\n    export interface Events {\n        outputAvailable: Event<void>;\n\n        quit: Event<void>;\n\n        promptChanged: Event<void>;\n\n        prompt: Event<void>;\n\n        availableCommandsChanged: Event<void>;\n    }\n}\n\nexport default AbstractCLI;\n",
    "/*\n *   This file is part of 6502.ts, an emulator for 6502 based systems built\n *   in Typescript.\n *\n *   Copyright (C) 2014 - 2017 Christian Speckner & contributors\n *\n *   This program is free software; you can redistribute it and/or modify\n *   it under the terms of the GNU General Public License as published by\n *   the Free Software Foundation; either version 2 of the License, or\n *   (at your option) any later version.\n *\n *   This program is distributed in the hope that it will be useful,\n *   but WITHOUT ANY WARRANTY; without even the implied warranty of\n *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *   GNU General Public License for more details.\n *\n *   You should have received a copy of the GNU General Public License along\n *   with this program; if not, write to the Free Software Foundation, Inc.,\n *   51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n */\n\nclass CommandInterpreter {\n    constructor(commandTable?: CommandInterpreter.CommandTableInterface) {\n        if (typeof commandTable !== 'undefined') {\n            this.registerCommands(commandTable);\n        }\n    }\n\n    public registerCommands(commandTable: CommandInterpreter.CommandTableInterface) {\n        Object.keys(commandTable).forEach((command: string) => (this._commandTable[command] = commandTable[command]));\n    }\n\n    public async execute(cmd: string): Promise<string> {\n        cmd = cmd.replace(/;.*/, '');\n        if (cmd.match(/^\\s*$/)) {\n            return '';\n        }\n\n        const components = cmd.split(/\\s+/).filter((value: string): boolean => !!value),\n            commandName = components.shift();\n\n        return await this._locateCommand(commandName).call(this, components, cmd);\n    }\n\n    public getCommands(): Array<string> {\n        return Object.keys(this._commandTable);\n    }\n\n    private _locateCommand(name: string): CommandInterpreter.CommandInterface {\n        if (this._commandTable[name]) {\n            return this._commandTable[name];\n        }\n\n        if (this._aliasTable[name]) {\n            return this._aliasTable[name];\n        }\n\n        const candidates = Object.keys(this._commandTable).filter((candidate: string) => candidate.indexOf(name) === 0);\n        const nCandidates = candidates.length;\n\n        if (nCandidates > 1) {\n            throw new Error(\n                'ambiguous command ' + name + ', candidates are ' + candidates.join(', ').replace(/, $/, '')\n            );\n        }\n\n        if (nCandidates === 0) {\n            throw new Error('invalid command ' + name);\n        }\n\n        return (this._aliasTable[name] = this._commandTable[candidates[0]]);\n    }\n\n    private _commandTable: CommandInterpreter.CommandTableInterface = {};\n    private _aliasTable: CommandInterpreter.CommandTableInterface = {};\n}\n\nnamespace CommandInterpreter {\n    export interface CommandInterface {\n        (args?: Array<string>, cmdString?: string): string | Promise<string>;\n    }\n\n    export interface CommandTableInterface {\n        [command: string]: CommandInterface;\n    }\n}\n\nexport default CommandInterpreter;\n",
    "/*\n *   This file is part of 6502.ts, an emulator for 6502 based systems built\n *   in Typescript.\n *\n *   Copyright (C) 2014 - 2017 Christian Speckner & contributors\n *\n *   This program is free software; you can redistribute it and/or modify\n *   it under the terms of the GNU General Public License as published by\n *   the Free Software Foundation; either version 2 of the License, or\n *   (at your option) any later version.\n *\n *   This program is distributed in the hope that it will be useful,\n *   but WITHOUT ANY WARRANTY; without even the implied warranty of\n *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *   GNU General Public License for more details.\n *\n *   You should have received a copy of the GNU General Public License along\n *   with this program; if not, write to the Free Software Foundation, Inc.,\n *   51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n */\n\nimport FilesystemProviderInterface from '../fs/FilesystemProviderInterface';\nimport * as pathlib from 'path';\n\nclass Completer {\n    constructor(private _availableCommands: Array<string>, private _fsProvider: FilesystemProviderInterface) {}\n\n    complete(cmd: string): Completer.CompletionResult {\n        const chunks = cmd.split(/\\s+/);\n\n        if (chunks.length > 0 && chunks[0] === '') {\n            chunks.shift();\n        }\n\n        switch (chunks.length) {\n            case 0:\n                return new Completer.CompletionResult(this._availableCommands, cmd);\n\n            case 1:\n                return new Completer.CompletionResult(\n                    this._availableCommands.filter((candidate: string) => candidate.search(chunks[0]) === 0),\n                    chunks[0]\n                );\n\n            default:\n                const path = chunks[chunks.length - 1];\n\n                return new Completer.CompletionResult(this._completePath(path), path);\n        }\n    }\n\n    private _completePath(path: string): Array<string> {\n        let dirname = pathlib.dirname(path),\n            basename = pathlib.basename(path),\n            directory: Array<string>;\n\n        if (!this._fsProvider) {\n            return [];\n        }\n\n        if ((path && path[path.length - 1] === pathlib.sep) || path[path.length - 1] === '/') {\n            dirname = path;\n            basename = '';\n        }\n\n        try {\n            directory = this._fsProvider.readDirSync(dirname);\n\n            return this._appendSlashesToDirectories(\n                directory\n                    .filter((candidate: string) => candidate.search(basename) === 0)\n                    .map(entry => pathlib.join(dirname, entry))\n            );\n        } catch (e) {}\n\n        return [];\n    }\n\n    private _appendSlashesToDirectories(paths: Array<string>) {\n        return paths.map((path: string): string => {\n            try {\n                return this._fsProvider.getTypeSync(path) === FilesystemProviderInterface.FileType.DIRECTORY\n                    ? pathlib.join(path, pathlib.sep)\n                    : path;\n            } catch (e) {\n                return path;\n            }\n        });\n    }\n}\n\nnamespace Completer {\n    export class CompletionResult {\n        constructor(public candidates: Array<string>, public match: string) {}\n    }\n}\n\nexport default Completer;\n",
    "/*\n *   This file is part of 6502.ts, an emulator for 6502 based systems built\n *   in Typescript.\n *\n *   Copyright (C) 2014 - 2017 Christian Speckner & contributors\n *\n *   This program is free software; you can redistribute it and/or modify\n *   it under the terms of the GNU General Public License as published by\n *   the Free Software Foundation; either version 2 of the License, or\n *   (at your option) any later version.\n *\n *   This program is distributed in the hope that it will be useful,\n *   but WITHOUT ANY WARRANTY; without even the implied warranty of\n *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *   GNU General Public License for more details.\n *\n *   You should have received a copy of the GNU General Public License along\n *   with this program; if not, write to the Free Software Foundation, Inc.,\n *   51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n */\n\nimport * as path from 'path';\n\nimport Debugger from '../machine/Debugger';\nimport DebuggerFrontend from './DebuggerFrontend';\nimport CommandInterpreter from './CommandInterpreter';\nimport CLIInterface from './CLIInterface';\nimport AbstractCLI from './AbstractCLI';\nimport FilesystemProviderInterface from '../fs/FilesystemProviderInterface';\n\nimport Board from '../machine/vanilla/Board';\nimport BoardInterface from '../machine/board/BoardInterface';\n\nclass DebuggerCLI extends AbstractCLI implements CLIInterface {\n    constructor(protected _fsProvider: FilesystemProviderInterface) {\n        super();\n\n        const dbg = new Debugger(),\n            commandInterpreter = new CommandInterpreter(),\n            debuggerFrontend = new DebuggerFrontend(dbg, this._fsProvider, commandInterpreter);\n\n        this._debugger = dbg;\n        this._commandInterpreter = commandInterpreter;\n        this._extendCommandInterpreter();\n        this._debuggerFrontend = debuggerFrontend;\n    }\n\n    async runDebuggerScript(filename: string): Promise<void> {\n        this._fsProvider.pushd(path.dirname(filename));\n\n        try {\n            for (const line of this._fsProvider.readTextFileSync(path.basename(filename)).split('\\n')) {\n                await this.pushInput(line);\n            }\n        } catch (e) {\n            this._fsProvider.popd();\n            throw e;\n        }\n\n        this._fsProvider.popd();\n    }\n\n    startup(): void {\n        this._initialize();\n        this._prompt();\n    }\n\n    shutdown(): void {}\n\n    async pushInput(input: string): Promise<void> {\n        try {\n            this._outputLine(await this._getCommandInterpreter().execute(input));\n        } catch (e) {\n            this._outputLine('ERROR: ' + e.message);\n        }\n    }\n\n    interrupt(): void {\n        this._quit();\n    }\n\n    outputAvailable(): boolean {\n        return !!this._output;\n    }\n\n    readOutput(): string {\n        const output = this._output;\n\n        this._output = '';\n\n        return output;\n    }\n\n    availableCommands(): Array<string> {\n        return this._getCommandInterpreter().getCommands();\n    }\n\n    getPrompt(): string {\n        return '> ';\n    }\n\n    getFilesystemProvider(): FilesystemProviderInterface {\n        return this._fsProvider;\n    }\n\n    allowQuit(allowQuit: boolean): void {\n        this._allowQuit = allowQuit;\n    }\n\n    protected _initialize() {\n        this._initializeHardware();\n        this._debugger.attach(this._board);\n    }\n\n    protected _initializeHardware(): void {\n        this._board = new Board();\n    }\n\n    protected _extendCommandInterpreter(): void {\n        this._commandInterpreter.registerCommands({\n            quit: (): string => {\n                this._quit();\n                return 'bye';\n            },\n            'run-script': async (args: Array<string>): Promise<string> => {\n                if (!args.length) {\n                    throw new Error('filename required');\n                }\n\n                await this.runDebuggerScript(args[0]);\n                return 'script executed';\n            }\n        });\n    }\n\n    protected _prompt(): void {\n        this.events.prompt.dispatch(undefined);\n    }\n\n    protected _quit(): void {\n        if (this._allowQuit) {\n            this.events.quit.dispatch(undefined);\n        }\n    }\n\n    protected _outputLine(line: string): void {\n        this._output += line + '\\n';\n        this.events.outputAvailable.dispatch(undefined);\n    }\n\n    protected _getCommandInterpreter(): CommandInterpreter {\n        return this._commandInterpreter;\n    }\n\n    protected _board: BoardInterface;\n    protected _commandInterpreter: CommandInterpreter;\n    protected _debuggerFrontend: DebuggerFrontend;\n\n    protected _output = '';\n    protected _allowQuit = true;\n\n    protected _debugger: Debugger;\n}\n\nexport default DebuggerCLI;\n",
    "/*\n *   This file is part of 6502.ts, an emulator for 6502 based systems built\n *   in Typescript.\n *\n *   Copyright (C) 2014 - 2017 Christian Speckner & contributors\n *\n *   This program is free software; you can redistribute it and/or modify\n *   it under the terms of the GNU General Public License as published by\n *   the Free Software Foundation; either version 2 of the License, or\n *   (at your option) any later version.\n *\n *   This program is distributed in the hope that it will be useful,\n *   but WITHOUT ANY WARRANTY; without even the implied warranty of\n *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *   GNU General Public License for more details.\n *\n *   You should have received a copy of the GNU General Public License along\n *   with this program; if not, write to the Free Software Foundation, Inc.,\n *   51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n */\n\nimport Debugger from '../machine/Debugger';\nimport CommandInterpreter from './CommandInterpreter';\nimport FileSystemProviderInterface from '../fs/FilesystemProviderInterface';\nimport BoardInterface from '../machine/board/BoardInterface';\n\nimport * as hex from '../tools/hex';\nimport * as util from 'util';\n\nfunction decodeNumber(value: string): number {\n    try {\n        return hex.decode(value);\n    } catch (e) {\n        if (!value.match(/^-?\\d+$/)) {\n            throw new TypeError('number expected, got ' + value);\n        }\n\n        return Number(value);\n    }\n}\n\nclass DebuggerFrontend {\n    constructor(\n        private _debugger: Debugger,\n        private _fileSystemProvider: FileSystemProviderInterface,\n        private _commandInterpreter: CommandInterpreter\n    ) {\n        this._commandInterpreter.registerCommands({\n            disassemble: this._disassemble.bind(this),\n            dump: this._dump.bind(this),\n            load: this._load.bind(this),\n            hex2dec: this._hex2dec.bind(this),\n            dec2hex: this._dec2hex.bind(this),\n            state: this._state.bind(this),\n            boot: this._boot.bind(this),\n            stack: this._stack.bind(this),\n            step: this._step.bind(this),\n            'step-clock': this._stepClock.bind(this),\n            reset: () => this._reset(false),\n            'reset-hard': () => this._reset(true),\n            'break-on': this._enableBreakpoints.bind(this),\n            'break-off': this._disableBreakpoints.bind(this),\n            break: this._setBreakpoint.bind(this),\n            'break-clear': this._clearBreakpoint.bind(this),\n            'break-dump': this._showBreakpoints.bind(this),\n            'break-clear-all': this._clearAllBreakpoints.bind(this),\n            'trace-on': this._enableTrace.bind(this),\n            'trace-off': this._disableTrace.bind(this),\n            trace: this._trace.bind(this)\n        });\n    }\n\n    describeTrap(trap?: BoardInterface.TrapPayload): string {\n        if (typeof trap === 'undefined') {\n            trap = this._debugger.getLastTrap();\n        }\n\n        if (!trap) {\n            return '';\n        }\n\n        const message = trap.message ? trap.message : 'unknown';\n\n        switch (trap.reason) {\n            case BoardInterface.TrapReason.cpu:\n                return util.format('CPU TRAP: %s', message);\n\n            case BoardInterface.TrapReason.debug:\n                return util.format('DEBUGGER TRAP: %s', message);\n\n            default:\n                return util.format('UNKNOWN TRAP: %s', message);\n        }\n    }\n\n    private _disassemble(args: Array<string>): string {\n        switch (args.length) {\n            case 0:\n                return this._debugger.disassemble(1);\n\n            case 1:\n                return this._debugger.disassemble(decodeNumber(args[0]));\n\n            default:\n                return this._debugger.disassembleAt(decodeNumber(args[0]), decodeNumber(args[1]));\n        }\n    }\n\n    private _dump(args: Array<string>): string {\n        if (args.length < 1) {\n            throw new Error('at least one argument expected');\n        }\n\n        return this._debugger.dumpAt(\n            Math.abs(decodeNumber(args[0])),\n            Math.abs(args.length > 1 ? decodeNumber(args[1]) : 1)\n        );\n    }\n\n    private _load(args: Array<string>): string {\n        if (args.length < 2) {\n            throw new Error('at least two arguments. expected');\n        }\n\n        const file = args[0],\n            base = Math.abs(decodeNumber(args[1])) % 0x10000,\n            buffer = this._fileSystemProvider.readBinaryFileSync(file),\n            offset = args.length > 2 ? Math.min(Math.abs(decodeNumber(args[2])), buffer.length - 1) : 0,\n            count = args.length > 3 ? Math.min(Math.abs(decodeNumber(args[3])), buffer.length) : buffer.length;\n\n        this._debugger.loadBlock(buffer, base, offset, offset + count - 1);\n\n        return 'successfully loaded ' + count + ' bytes at ' + hex.encode(base, 4);\n    }\n\n    private _hex2dec(args: Array<string>): string {\n        return args.map((value: string) => hex.decode(value)).join(' ');\n    }\n\n    private _dec2hex(args: Array<string>): string {\n        return args.map((value: string) => String(hex.encode(Number(value)))).join(' ');\n    }\n\n    private _state(): string {\n        return this._debugger.dumpState();\n    }\n\n    private _boot(): string {\n        const board = this._debugger.getBoard();\n        let cycles = 0;\n\n        const clockHandler = (clock: number) => (cycles += clock);\n\n        board.cpuClock.addHandler(clockHandler);\n\n        let exception: Error;\n        try {\n            this._debugger.getBoard().boot();\n        } catch (e) {\n            exception = e || new Error('unknown exception during boot');\n        }\n\n        board.cpuClock.removeHandler(clockHandler);\n\n        if (exception) {\n            throw exception;\n        }\n\n        return util.format('Boot successful in %s cycles', cycles);\n    }\n\n    private _reset(hard: boolean): string {\n        this._debugger.getBoard().reset(hard);\n\n        return 'reset successful';\n    }\n\n    private _step(args: Array<string>): string {\n        const timestamp = Date.now(),\n            instructionCount = args.length > 0 ? decodeNumber(args[0]) : 1,\n            { cycles, cpuCycles } = this._debugger.step(instructionCount),\n            trap = this._debugger.getLastTrap();\n\n        return util.format(\n            'Used %s cycles (CPU: %s) in %s milliseconds, now at\\n%s\\n%s\\n',\n            cycles,\n            cpuCycles,\n            Date.now() - timestamp,\n            this._debugger.disassemble(1),\n            this.describeTrap(trap)\n        );\n    }\n\n    private _stack(): string {\n        return this._debugger.dumpStack();\n    }\n\n    private _enableBreakpoints(): string {\n        this._debugger.setBreakpointsEnabled(true);\n        return 'Breakpoints enabled';\n    }\n\n    private _disableBreakpoints(): string {\n        this._debugger.setBreakpointsEnabled(false);\n        return 'Breakpoints disabled';\n    }\n\n    private _setBreakpoint(args: Array<string>): string {\n        if (args.length < 1) {\n            throw new Error('at least one argument expected');\n        }\n\n        const name = args.length > 1 ? args[1] : '-',\n            address = decodeNumber(args[0]);\n\n        this._debugger.setBreakpoint(address, name);\n\n        return 'Breakpoint \"' + name + '\" at ' + hex.encode(address, 4);\n    }\n\n    private _clearBreakpoint(args: Array<string>): string {\n        if (args.length < 1) {\n            throw new Error('argument expected');\n        }\n\n        const address = decodeNumber(args[0]);\n\n        this._debugger.clearBreakpoint(address);\n\n        return 'Cleared breakpoint at ' + hex.encode(address, 4);\n    }\n\n    private _showBreakpoints(): string {\n        return this._debugger.dumpBreakpoints();\n    }\n\n    private _clearAllBreakpoints(): string {\n        this._debugger.clearAllBreakpoints();\n\n        return 'All breakpoints cleared';\n    }\n\n    private _enableTrace(): string {\n        this._debugger.setTraceEnabled(true);\n\n        return 'Tracing enabled';\n    }\n\n    private _disableTrace(): string {\n        this._debugger.setTraceEnabled(false);\n\n        return 'Tracing disabled';\n    }\n\n    private _trace(args: Array<string>): string {\n        return this._debugger.trace(args.length > 0 ? decodeNumber(args[0]) : 10);\n    }\n\n    private _stepClock(args: Array<string>): string {\n        const requestedCycles = args.length > 0 ? decodeNumber(args[0]) : 1,\n            timestamp = Date.now();\n\n        const cycles = this._debugger.stepClock(requestedCycles);\n\n        const time = Date.now() - timestamp,\n            trap = this._debugger.getLastTrap();\n\n        return (\n            `clock stepped ${cycles} cycles in ${time} msec; ` +\n            `now at ${this._debugger.disassemble(1)}\\n${trap ? this.describeTrap(trap) : ''}`\n        );\n    }\n}\n\nexport default DebuggerFrontend;\n",
    "/*\n *   This file is part of 6502.ts, an emulator for 6502 based systems built\n *   in Typescript.\n *\n *   Copyright (C) 2014 - 2017 Christian Speckner & contributors\n *\n *   This program is free software; you can redistribute it and/or modify\n *   it under the terms of the GNU General Public License as published by\n *   the Free Software Foundation; either version 2 of the License, or\n *   (at your option) any later version.\n *\n *   This program is distributed in the hope that it will be useful,\n *   but WITHOUT ANY WARRANTY; without even the implied warranty of\n *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *   GNU General Public License for more details.\n *\n *   You should have received a copy of the GNU General Public License along\n *   with this program; if not, write to the Free Software Foundation, Inc.,\n *   51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n */\n\nimport CLIInterface from './CLIInterface';\nimport Completer from './Completer';\n\nclass JqtermCLIRunner {\n    constructor(private _cli: CLIInterface, terminalElt: JQuery, options: JqtermCLIRunner.Options = {}) {\n        this._updateCompleter();\n\n        this._terminal = terminalElt.terminal(\n            (input: string, terminal: JQueryTerminal): void => this._cli.pushInput(input),\n            {\n                greetings: 'Ready.',\n                completion: this._getCompletionHandler(),\n                exit: false,\n                clear: false\n            }\n        );\n\n        this._cli.events.outputAvailable.addHandler(this._onCLIOutputAvailable, this);\n        this._cli.events.promptChanged.addHandler(this._onCLIPromptChanged, this);\n        this._cli.events.availableCommandsChanged.addHandler(this._updateCompleter.bind(this));\n\n        if (options.interruptButton) {\n            options.interruptButton.mousedown((): void => this._cli.interrupt());\n        }\n\n        if (options.clearButton) {\n            options.clearButton.mousedown((): void => this._terminal.clear());\n        }\n    }\n\n    startup() {\n        this._cli.startup();\n        this._terminal.set_prompt(this._cli.getPrompt());\n    }\n\n    private _updateCompleter() {\n        this._completer = new Completer(this._cli.availableCommands(), this._cli.getFilesystemProvider());\n    }\n\n    private _onCLIOutputAvailable(payload: void, ctx: JqtermCLIRunner): void {\n        ctx._terminal.echo(ctx._cli.readOutput());\n    }\n\n    private _onCLIPromptChanged(payload: void, ctx: JqtermCLIRunner): void {\n        ctx._terminal.set_prompt(ctx._cli.getPrompt());\n    }\n\n    private _getCompletionHandler() {\n        const me = this;\n\n        return function(this: JQueryTerminal, cmd: string, handler: (candidates: Array<string>) => void) {\n            handler(me._completer.complete(this.get_command()).candidates);\n        };\n    }\n\n    private _terminal: JQueryTerminal;\n    private _completer: Completer;\n}\n\nnamespace JqtermCLIRunner {\n    export interface Options {\n        interruptButton?: JQuery;\n        clearButton?: JQuery;\n    }\n}\n\nexport default JqtermCLIRunner;\n",
    "/*\n *   This file is part of 6502.ts, an emulator for 6502 based systems built\n *   in Typescript.\n *\n *   Copyright (C) 2014 - 2017 Christian Speckner & contributors\n *\n *   This program is free software; you can redistribute it and/or modify\n *   it under the terms of the GNU General Public License as published by\n *   the Free Software Foundation; either version 2 of the License, or\n *   (at your option) any later version.\n *\n *   This program is distributed in the hope that it will be useful,\n *   but WITHOUT ANY WARRANTY; without even the implied warranty of\n *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *   GNU General Public License for more details.\n *\n *   You should have received a copy of the GNU General Public License along\n *   with this program; if not, write to the Free Software Foundation, Inc.,\n *   51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n */\n\nimport ControlPanelInterface from '../../machine/stella/ControlPanelInterface';\nimport CommandInterpreter from '../CommandInterpreter';\nimport SwitchInterface from '../../machine/io/SwitchInterface';\n\nclass CotrolPanelManagementProvider {\n    constructor(protected _controlPanel: ControlPanelInterface) {}\n\n    getCommands(): CommandInterpreter.CommandTableInterface {\n        return this._commands;\n    }\n\n    protected _changeColorSwitch(args?: Array<string>) {\n        const swtch = this._controlPanel.getColorSwitch();\n\n        if (args && args.length > 0) {\n            switch (args[0].toLowerCase()) {\n                case '1':\n                case 'on':\n                case 'bw':\n                    swtch.toggle(true);\n                    break;\n\n                case '0':\n                case 'off':\n                case 'color':\n                    swtch.toggle(false);\n                    break;\n\n                default:\n                    throw new Error(`invalid switch state '${args[0]}'`);\n            }\n        }\n\n        return `color switch: ${swtch.read() ? 'BW' : 'color'}`;\n    }\n\n    protected _changeDifficultySwitch(swtch: SwitchInterface, playerId: number, args?: Array<string>) {\n        if (args && args.length > 0) {\n            switch (args[0].toLowerCase()) {\n                case '1':\n                case 'on':\n                case 'b':\n                case 'amateur':\n                    swtch.toggle(true);\n                    break;\n\n                case '0':\n                case 'off':\n                case 'a':\n                case 'pro':\n                    swtch.toggle(false);\n                    break;\n\n                default:\n                    throw new Error(`invalid switch state '${args[0]}'`);\n            }\n        }\n\n        return `player ${playerId} difficulty switch: ${swtch.read() ? 'amateur' : 'pro'}`;\n    }\n\n    protected _commands: CommandInterpreter.CommandTableInterface = {\n        'switch-color': this._changeColorSwitch.bind(this),\n        'switch-difficulty-player-0': (args?: Array<string>) =>\n            this._changeDifficultySwitch(this._controlPanel.getDifficultySwitchP0(), 0, args),\n        'switch-difficulty-player-1': (args?: Array<string>) =>\n            this._changeDifficultySwitch(this._controlPanel.getDifficultySwitchP1(), 1, args)\n    };\n}\n\nexport default CotrolPanelManagementProvider;\n",
    "/*\n *   This file is part of 6502.ts, an emulator for 6502 based systems built\n *   in Typescript.\n *\n *   Copyright (C) 2014 - 2017 Christian Speckner & contributors\n *\n *   This program is free software; you can redistribute it and/or modify\n *   it under the terms of the GNU General Public License as published by\n *   the Free Software Foundation; either version 2 of the License, or\n *   (at your option) any later version.\n *\n *   This program is distributed in the hope that it will be useful,\n *   but WITHOUT ANY WARRANTY; without even the implied warranty of\n *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *   GNU General Public License for more details.\n *\n *   You should have received a copy of the GNU General Public License along\n *   with this program; if not, write to the Free Software Foundation, Inc.,\n *   51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n */\n\nimport { Event } from 'microevent.ts';\n\nimport FilesystemProviderInterface from '../../fs/FilesystemProviderInterface';\nimport DebuggerCLI from '../DebuggerCLI';\nimport AbstractCLI from '../AbstractCLI';\n\nimport BoardInterface from '../../machine/board/BoardInterface';\nimport Board from '../../machine/stella/Board';\nimport StellaConfig from '../../machine/stella/Config';\n\nimport CartridgeInterface from '../../machine/stella/cartridge/CartridgeInterface';\nimport CartridgeFactory from '../../machine/stella/cartridge/CartridgeFactory';\nimport CartridgeInfo from '../../machine/stella/cartridge/CartridgeInfo';\n\nimport CommandInterpreter from '../CommandInterpreter';\nimport ImmedateScheduler from '../../tools/scheduler/ImmedateScheduler';\nimport ConstantTimesliceScheduler from '../../tools/scheduler/limiting/ConstantTimeslice';\nimport ConstantCyclesScheduler from '../../tools/scheduler/limiting/ConstantCycles';\nimport PeriodicScheduler from '../../tools/scheduler/PeriodicScheduler';\nimport SchedulerInterface from '../../tools/scheduler/SchedulerInterface';\nimport ClockProbe from '../../tools/ClockProbe';\n\nimport SystemConfigSetupProvider from './SystemConfigSetupProvider';\nimport ControlPanelManagementProvider from './ControlPanelManagementProvider';\n\nconst enum RunMode {\n    limited,\n    unlimited\n}\n\nconst CLOCK_PROBE_INTERVAL = 1000;\n\nclass StellaCLI extends DebuggerCLI {\n    constructor(fsProvider: FilesystemProviderInterface, protected _cartridgeFile?: string) {\n        super(fsProvider);\n\n        this.events.stateChanged = new Event<StellaCLI.State>();\n\n        const systemConfigSetupProvider = new SystemConfigSetupProvider(this._stellaConfig);\n\n        this._commandInterpreter.registerCommands({\n            run: () => (this._setState(StellaCLI.State.run), 'running...')\n        });\n\n        this._runModeCommandInterpreter = new CommandInterpreter({\n            stop: () => (this._setState(StellaCLI.State.debug), 'stopped, entered debugger')\n        });\n\n        this._setupModeCommandInterpreter = new CommandInterpreter({\n            'load-cartridge': this._executeLoadCartridge.bind(this)\n        });\n        this._setupModeCommandInterpreter.registerCommands(systemConfigSetupProvider.getCommands());\n\n        const runModeCommands: CommandInterpreter.CommandTableInterface = {\n            'set-speed-limited': () => (this._setRunMode(RunMode.limited), 'speed limiting on'),\n            'set-speed-unlimited': () => (this._setRunMode(RunMode.unlimited), 'speed limiting off')\n        };\n\n        this._commandInterpreter.registerCommands(runModeCommands);\n        this._runModeCommandInterpreter.registerCommands(runModeCommands);\n    }\n\n    getPrompt(): string {\n        const frequency = this._clockProbe ? this._clockProbe.getFrequency() : 0,\n            prefix = frequency > 0 ? `${(frequency / 1000000).toFixed(2)} MHz ` : '';\n\n        switch (this._state) {\n            case StellaCLI.State.setup:\n                return `[setup] > `;\n\n            case StellaCLI.State.debug:\n                return `${prefix}[debug] > `;\n\n            case StellaCLI.State.run:\n                return `${prefix}[run] > `;\n\n            default:\n                throw new Error('invalid run state');\n        }\n    }\n\n    interrupt(): void {\n        switch (this._state) {\n            case StellaCLI.State.debug:\n                return this._quit();\n\n            case StellaCLI.State.run:\n                return this._setState(StellaCLI.State.debug);\n        }\n    }\n\n    getBoard(): Board {\n        return this._board;\n    }\n\n    getState(): StellaCLI.State {\n        return this._state;\n    }\n\n    async loadCartridgeFromBuffer(buffer: { [idx: number]: number; length: number }, name: string): Promise<void> {\n        const factory = new CartridgeFactory();\n\n        try {\n            this._cartridge = await factory.createCartridge(buffer);\n            this._initializeHardware();\n            this._setState(StellaCLI.State.debug);\n            this._cartridgeFile = name;\n\n            this._outputLine(`successfully loaded ${name}`);\n            this._outputLine(`format: ${CartridgeInfo.describeCartridgeType(this._cartridge.getType())}`);\n        } catch (e) {\n            this._outputLine(e.message);\n        }\n    }\n\n    protected _getCommandInterpreter(): CommandInterpreter {\n        switch (this._state) {\n            case StellaCLI.State.setup:\n                return this._setupModeCommandInterpreter;\n\n            case StellaCLI.State.debug:\n                return super._getCommandInterpreter();\n\n            case StellaCLI.State.run:\n                return this._runModeCommandInterpreter;\n\n            default:\n                throw new Error('invalid run state');\n        }\n    }\n\n    protected async _executeLoadCartridge(args: Array<string>): Promise<string> {\n        if (args.length === 0) {\n            return 'ERROR: filename required';\n        }\n\n        const file = args[0];\n\n        try {\n            await this._loadCartridge(file);\n            this._cartridgeFile = file;\n            this._initializeHardware();\n            this._setState(StellaCLI.State.debug);\n        } catch (e) {\n            return e.message;\n        }\n\n        return `succesfully loaded ${file}\\nformat: ${CartridgeInfo.describeCartridgeType(this._cartridge.getType())}`;\n    }\n\n    protected async _loadCartridge(file: string): Promise<void> {\n        const fileBuffer = this._fsProvider.readBinaryFileSync(file),\n            factory = new CartridgeFactory();\n\n        this._cartridge = await factory.createCartridge(fileBuffer);\n    }\n\n    protected _initialize(): void {\n        if (this._cartridgeFile) {\n            try {\n                this._loadCartridge(this._cartridgeFile);\n                this._initializeHardware();\n                this._setState(StellaCLI.State.debug);\n            } catch (e) {\n                this._outputLine(e.message);\n            }\n        }\n\n        this._prompt();\n    }\n\n    protected _initializeHardware(): void {\n        const board = new Board(this._stellaConfig, this._cartridge);\n\n        this._board = board;\n\n        const clockProbe = new ClockProbe(new PeriodicScheduler(CLOCK_PROBE_INTERVAL));\n        clockProbe.attach(this._board.clock);\n        clockProbe.frequencyUpdate.addHandler(() => this.events.promptChanged.dispatch(undefined));\n\n        this._debugger.attach(this._board);\n        this._board.trap.addHandler(this._onTrap, this);\n\n        this._clockProbe = clockProbe;\n\n        const controlPanel = this._board.getControlPanel(),\n            controlPanelManagementProvider = new ControlPanelManagementProvider(controlPanel);\n\n        this._commandInterpreter.registerCommands(controlPanelManagementProvider.getCommands());\n        this._runModeCommandInterpreter.registerCommands(controlPanelManagementProvider.getCommands());\n\n        controlPanel.getDifficultySwitchP0().toggle(true);\n        controlPanel.getDifficultySwitchP0().toggle(true);\n\n        this._limitingScheduler = this._stellaConfig.pcmAudio\n            ? new ConstantTimesliceScheduler()\n            : new ConstantCyclesScheduler();\n\n        this.hardwareInitialized.dispatch(undefined);\n    }\n\n    protected _setState(state: StellaCLI.State) {\n        if (state === this._state) {\n            return;\n        }\n\n        this._state = state;\n        this.events.availableCommandsChanged.dispatch(undefined);\n        this.events.promptChanged.dispatch(undefined);\n\n        switch (state) {\n            case StellaCLI.State.debug:\n                this._board.suspend();\n                this._clockProbe.stop();\n                this._board.getTimer().stop();\n                break;\n\n            case StellaCLI.State.run:\n                this._board.resume();\n                this._clockProbe.start();\n                this._board.getTimer().start(this._getScheduler());\n                break;\n        }\n\n        this.events.stateChanged.dispatch(state);\n    }\n\n    protected _setRunMode(runMode: RunMode) {\n        if (runMode === this._runMode) {\n            return;\n        }\n\n        this._runMode = runMode;\n\n        if (this._state === StellaCLI.State.run) {\n            const timer = this._board.getTimer();\n\n            timer.stop();\n            timer.start(this._getScheduler());\n        }\n    }\n\n    protected _getScheduler(): SchedulerInterface {\n        switch (this._runMode) {\n            case RunMode.limited:\n                return this._limitingScheduler;\n\n            case RunMode.unlimited:\n                return this._nonLimitingScheduler;\n\n            default:\n                throw new Error('invalid run mode');\n        }\n    }\n\n    protected _onTrap(trap: BoardInterface.TrapPayload, ctx: this): void {\n        if (ctx._state === StellaCLI.State.run) {\n            ctx._setState(StellaCLI.State.debug);\n            ctx._outputLine(ctx._debuggerFrontend.describeTrap(trap));\n        }\n    }\n\n    hardwareInitialized = new Event<void>();\n    events: Events;\n\n    protected _stellaConfig = StellaConfig.create();\n    protected _board: Board;\n    protected _cartridge: CartridgeInterface;\n    protected _runModeCommandInterpreter: CommandInterpreter;\n    protected _setupModeCommandInterpreter: CommandInterpreter;\n\n    protected _limitingScheduler: SchedulerInterface = null;\n    protected _nonLimitingScheduler = new ImmedateScheduler();\n    protected _clockProbe: ClockProbe;\n\n    protected _state = StellaCLI.State.setup;\n    protected _runMode = RunMode.limited;\n}\n\ninterface Events extends AbstractCLI.Events {\n    stateChanged: Event<StellaCLI.State>;\n}\n\nnamespace StellaCLI {\n    export const enum State {\n        setup,\n        debug,\n        run\n    }\n}\n\nexport default StellaCLI;\n",
    "/*\n *   This file is part of 6502.ts, an emulator for 6502 based systems built\n *   in Typescript.\n *\n *   Copyright (C) 2014 - 2017 Christian Speckner & contributors\n *\n *   This program is free software; you can redistribute it and/or modify\n *   it under the terms of the GNU General Public License as published by\n *   the Free Software Foundation; either version 2 of the License, or\n *   (at your option) any later version.\n *\n *   This program is distributed in the hope that it will be useful,\n *   but WITHOUT ANY WARRANTY; without even the implied warranty of\n *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *   GNU General Public License for more details.\n *\n *   You should have received a copy of the GNU General Public License along\n *   with this program; if not, write to the Free Software Foundation, Inc.,\n *   51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n */\n\nimport Config from '../../machine/stella/Config';\nimport CommandInterpreter from '../CommandInterpreter';\n\nexport default class SystemConfigSetupProvider {\n    constructor(private _config: Config) {}\n\n    getCommands(): CommandInterpreter.CommandTableInterface {\n        return this._commands;\n    }\n\n    protected _setupVideo(args?: Array<string>) {\n        if (!args || args.length === 0) {\n            return `current TV mode: ${this._humanReadableTvMode(this._config.tvMode)}`;\n        }\n\n        switch (args[0].toLowerCase()) {\n            case 'ntsc':\n                this._config.tvMode = Config.TvMode.ntsc;\n                break;\n\n            case 'pal':\n                this._config.tvMode = Config.TvMode.pal;\n                break;\n\n            case 'secam':\n                this._config.tvMode = Config.TvMode.secam;\n                break;\n\n            default:\n                throw new Error(`invalid TV mode \"${args[0]}\"`);\n        }\n\n        return `switched TV mode to ${this._humanReadableTvMode(this._config.tvMode)}`;\n    }\n\n    protected _setupAudio(args?: Array<string>) {\n        if (args && args.length !== 0) {\n            this._config.enableAudio = this._isArgTruthy(args[0]);\n        }\n\n        return `audio ${this._config.enableAudio ? 'enabled' : 'disabled'}`;\n    }\n\n    protected _setupPaddles(args?: Array<string>) {\n        if (args && args.length !== 0) {\n            this._config.emulatePaddles = this._isArgTruthy(args[0]);\n        }\n\n        return `paddle emulation: ${this._config.emulatePaddles ? 'enabled' : 'disabled'}`;\n    }\n\n    protected _setRandomSeed(args?: Array<string>) {\n        if (args && args.length !== 0) {\n            this._config.randomSeed = parseInt(args[0], 10);\n        }\n\n        return `random seed: ${this._config.randomSeed}`;\n    }\n\n    protected _humanReadableTvMode(mode: Config.TvMode) {\n        switch (mode) {\n            case Config.TvMode.ntsc:\n                return 'NTSC';\n\n            case Config.TvMode.pal:\n                return 'PAL';\n\n            case Config.TvMode.secam:\n                return 'SECAM';\n\n            default:\n                throw new Error(`invalid TV mode ${mode}`);\n        }\n    }\n\n    protected _setupPcmAUdio(args?: Array<string>) {\n        if (args && args.length !== 0) {\n            this._config.pcmAudio = this._isArgTruthy(args[0]);\n        }\n\n        return `PCM audio emulation: ${this._config.emulatePaddles ? 'enabled' : 'disabled'}`;\n    }\n\n    protected _isArgTruthy(arg: string): boolean {\n        const normalizedArg = arg.toLocaleLowerCase();\n\n        return normalizedArg === 'yes' || normalizedArg === 'true' || normalizedArg === '1';\n    }\n\n    _commands: CommandInterpreter.CommandTableInterface = {\n        'tv-mode': this._setupVideo.bind(this),\n        audio: this._setupAudio.bind(this),\n        paddles: this._setupPaddles.bind(this),\n        seed: this._setRandomSeed.bind(this),\n        pcm: this._setupPcmAUdio.bind(this)\n    };\n}\n",
    "/*\n *   This file is part of 6502.ts, an emulator for 6502 based systems built\n *   in Typescript.\n *\n *   Copyright (C) 2014 - 2017 Christian Speckner & contributors\n *\n *   This program is free software; you can redistribute it and/or modify\n *   it under the terms of the GNU General Public License as published by\n *   the Free Software Foundation; either version 2 of the License, or\n *   (at your option) any later version.\n *\n *   This program is distributed in the hope that it will be useful,\n *   but WITHOUT ANY WARRANTY; without even the implied warranty of\n *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *   GNU General Public License for more details.\n *\n *   You should have received a copy of the GNU General Public License along\n *   with this program; if not, write to the Free Software Foundation, Inc.,\n *   51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n */\n\nimport * as pathlib from 'path';\n\nabstract class AbstractFileSystemProvider {\n    pushd(path?: string): void {\n        this._directoryStack.unshift(this._cwd);\n\n        if (typeof path !== 'undefined') {\n            this.chdir(path);\n        }\n    }\n\n    popd(): string {\n        if (this._directoryStack.length === 0) {\n            return undefined;\n        }\n\n        const targetDir = this._directoryStack.shift();\n\n        this.chdir(targetDir);\n\n        return targetDir;\n    }\n\n    cwd(): string {\n        return this._cwd;\n    }\n\n    chdir(path: string): void {\n        this._cwd = this._resolvePath(path);\n    }\n\n    protected _resolvePath(path: string): string {\n        return pathlib.resolve(this._cwd, path);\n    }\n\n    protected _directoryStack: Array<string> = [];\n    protected _cwd = '/';\n}\n\nexport default AbstractFileSystemProvider;\n",
    "/*\n *   This file is part of 6502.ts, an emulator for 6502 based systems built\n *   in Typescript.\n *\n *   Copyright (C) 2014 - 2017 Christian Speckner & contributors\n *\n *   This program is free software; you can redistribute it and/or modify\n *   it under the terms of the GNU General Public License as published by\n *   the Free Software Foundation; either version 2 of the License, or\n *   (at your option) any later version.\n *\n *   This program is distributed in the hope that it will be useful,\n *   but WITHOUT ANY WARRANTY; without even the implied warranty of\n *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *   GNU General Public License for more details.\n *\n *   You should have received a copy of the GNU General Public License along\n *   with this program; if not, write to the Free Software Foundation, Inc.,\n *   51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n */\n\nimport * as util from 'util';\nimport AbstractFileSystemProvider from './AbstractFileSystemProvider';\nimport FilesystemProviderInterface from './FilesystemProviderInterface';\n\nclass PrepackagedFilesystemProvider extends AbstractFileSystemProvider implements FilesystemProviderInterface {\n    constructor(private _blob: PrepackagedFilesystemProvider.BlobInterface) {\n        super();\n        this._cwd = '/';\n    }\n\n    readBinaryFileSync(name: string): Buffer {\n        name = this._resolvePath(name);\n\n        const content = this._lookup(name);\n\n        if (typeof content === 'undefined') {\n            throw new Error(util.format('%s not part of file bundle', name));\n        }\n\n        if (!Buffer.isBuffer(content)) {\n            throw new Error(util.format('%s is a directory, not a file', name));\n        }\n\n        return content;\n    }\n\n    readTextFileSync(name: string): string {\n        const buffer = this.readBinaryFileSync(name);\n\n        return buffer.toString();\n    }\n\n    readDirSync(name: string): Array<string> {\n        name = this._resolvePath(name);\n\n        const content = this._lookup(name);\n\n        if (typeof content === 'undefined') {\n            throw new Error(util.format('%s not part of file bundle', name));\n        }\n\n        if (typeof content === 'string' || Buffer.isBuffer(content)) {\n            throw new Error(util.format('%s is a file, not a directory', name));\n        }\n\n        return Object.keys(content);\n    }\n\n    getTypeSync(name: string): FilesystemProviderInterface.FileType {\n        name = this._resolvePath(name);\n\n        const content = this._lookup(name);\n\n        if (typeof content === 'undefined') {\n            throw new Error(util.format('%s not part of file bundle', name));\n        }\n\n        if (Buffer.isBuffer(content)) {\n            return FilesystemProviderInterface.FileType.FILE;\n        } else {\n            return FilesystemProviderInterface.FileType.DIRECTORY;\n        }\n    }\n\n    private _lookup(path: string): any {\n        const atoms: Array<string> = path.split('/'),\n            natoms = atoms.length;\n\n        let i: number,\n            scope = this._blob;\n\n        const name = atoms[natoms - 1];\n\n        for (i = 0; i < natoms - 1; i++) {\n            if (atoms[i] === '') {\n                continue;\n            } else if (scope.hasOwnProperty(atoms[i])) {\n                scope = scope[atoms[i]];\n            } else {\n                return undefined;\n            }\n        }\n\n        if (name && typeof scope[name] === 'string') {\n            scope[name] = new Buffer(scope[name], 'base64');\n        }\n\n        return name ? scope[name] : scope;\n    }\n}\n\nnamespace PrepackagedFilesystemProvider {\n    export interface BlobInterface {\n        [index: string]: any;\n    }\n}\n\nexport default PrepackagedFilesystemProvider;\n",
    "/*\n *   This file is part of 6502.ts, an emulator for 6502 based systems built\n *   in Typescript.\n *\n *   Copyright (C) 2014 - 2017 Christian Speckner & contributors\n *\n *   This program is free software; you can redistribute it and/or modify\n *   it under the terms of the GNU General Public License as published by\n *   the Free Software Foundation; either version 2 of the License, or\n *   (at your option) any later version.\n *\n *   This program is distributed in the hope that it will be useful,\n *   but WITHOUT ANY WARRANTY; without even the implied warranty of\n *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *   GNU General Public License for more details.\n *\n *   You should have received a copy of the GNU General Public License along\n *   with this program; if not, write to the Free Software Foundation, Inc.,\n *   51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n */\n\nimport Instruction from './cpu/Instruction';\nimport Disassembler from './cpu/Disassembler';\nimport CpuInterface from './cpu/CpuInterface';\nimport BoardInterface from './board/BoardInterface';\nimport BusInterface from './bus/BusInterface';\n\nimport * as hex from '../tools/hex';\nimport * as binary from '../tools/binary';\nimport * as util from 'util';\n\nclass Debugger {\n    constructor(private _traceSize: number = 2048, private _stepMaxCycles = 10000000) {}\n\n    attach(board: BoardInterface): Debugger {\n        this._board = board;\n        this._bus = this._board.getBus();\n        this._cpu = this._board.getCpu();\n        this._disassembler = new Disassembler(this._bus);\n\n        this._board.trap.addHandler(this._trapHandler, this);\n\n        this._traceLength = 0;\n        this._traceIndex = 0;\n\n        return this;\n    }\n\n    detach(): Debugger {\n        if (!this._board) {\n            return this;\n        }\n\n        this._board.cpuClock.removeHandler(this._cpuClockHandler);\n        this._board.trap.removeHandler(this._trapHandler);\n\n        return this;\n    }\n\n    clearAllBreakpoints(): Debugger {\n        for (let i = 0; i < 0x10000; i++) {\n            this._breakpoints[i] = 0;\n        }\n\n        return this;\n    }\n\n    setBreakpoint(address: number, description: string = '-'): Debugger {\n        address %= 0x10000;\n\n        this._breakpoints[address] = 1;\n        this._breakpointDescriptions[address] = description;\n\n        return this;\n    }\n\n    clearBreakpoint(address: number): Debugger {\n        this._breakpoints[address % 0x10000] = 0;\n\n        return this;\n    }\n\n    dumpBreakpoints(): string {\n        let result = '';\n\n        for (let address = 0; address < 0x10000; address++) {\n            if (this._breakpoints[address]) {\n                result += hex.encode(address, 4) + ': ' + this._breakpointDescriptions[address] + '\\n';\n            }\n        }\n\n        return result.replace(/\\n$/, '');\n    }\n\n    loadBlock(block: Debugger.MemoryBlockInterface, at: number, from: number = 0, to: number = block.length - 1) {\n        for (let i = 0; i <= to - from; i++) {\n            this._poke(at + i, block[i]);\n        }\n    }\n\n    disassembleAt(start: number, length: number): string {\n        let i = 0,\n            result = '',\n            instruction: Instruction,\n            address: number;\n\n        while (i < length) {\n            address = (start + i) % 0x10000;\n\n            instruction = Instruction.opcodes[this._peek(address)];\n            result +=\n                (this._breakpoints[address] ? '(B) ' : '    ') +\n                hex.encode(address, 4) +\n                ':   ' +\n                this._disassembler.disassembleAt(address) +\n                '\\n';\n\n            i += instruction.getSize();\n        }\n\n        return result.replace(/\\n$/, '');\n    }\n\n    disassemble(length: number): string {\n        return this.disassembleAt(this._cpu.state.p, length);\n    }\n\n    trace(length: number = this._traceSize): string {\n        let result = '';\n        length = Math.min(length, this._traceLength);\n\n        for (let i = 0; i < length; i++) {\n            result +=\n                this.disassembleAt(\n                    this._trace[(this._traceSize + this._traceIndex - length + i) % this._traceSize],\n                    1\n                ) + '\\n';\n        }\n\n        return result + this.disassemble(1);\n    }\n\n    dumpAt(start: number, length: number): string {\n        let result = '',\n            address: number;\n\n        for (let i = 0; i < length; i++) {\n            address = (start + i) % 0x10000;\n\n            result += hex.encode(address, 4) + ':   ' + hex.encode(this._peek(address), 2) + '\\n';\n        }\n\n        return result.replace(/\\n$/, '');\n    }\n\n    dumpState(): string {\n        const state = this._cpu.state;\n\n        switch (this._cpu.executionState) {\n            case CpuInterface.ExecutionState.boot:\n        }\n\n        let result =\n            '' +\n            'A = ' +\n            hex.encode(state.a, 2) +\n            '   ' +\n            'X = ' +\n            hex.encode(state.x, 2) +\n            '   ' +\n            'Y = ' +\n            hex.encode(state.y, 2) +\n            '   ' +\n            'S = ' +\n            hex.encode(state.s, 2) +\n            '   ' +\n            'P = ' +\n            hex.encode(state.p, 4) +\n            '\\n' +\n            'flags = ' +\n            binary.encode(state.flags, 8) +\n            '\\n' +\n            'state: ' +\n            this._humanReadableExecutionState();\n\n        const boardState = this._board.getBoardStateDebug();\n\n        if (boardState) {\n            result += '\\n' + '\\n' + boardState;\n        }\n\n        return result;\n    }\n\n    dumpStack(): string {\n        return this.dumpAt(0x0100 + this._cpu.state.s, 0x100 - this._cpu.state.s);\n    }\n\n    step(instructions: number): { cycles: number; cpuCycles: number } {\n        let instruction = 0,\n            cycles = 0,\n            lastExecutionState = this._cpu.executionState,\n            cpuCycles = 0;\n        const timer = this._board.getTimer();\n\n        const cpuClockHandler = (c: number) => (cpuCycles += c);\n        this._board.cpuClock.addHandler(cpuClockHandler);\n\n        this._lastTrap = undefined;\n\n        this._board.resume();\n\n        while (instruction < instructions && !this._lastTrap && cycles < this._stepMaxCycles) {\n            timer.tick(1);\n            cycles++;\n\n            if (lastExecutionState !== this._cpu.executionState) {\n                lastExecutionState = this._cpu.executionState;\n\n                if (lastExecutionState === CpuInterface.ExecutionState.fetch) {\n                    instruction++;\n                }\n            }\n        }\n\n        this._board.cpuClock.removeHandler(cpuClockHandler);\n        this._board.suspend();\n\n        return { cycles, cpuCycles };\n    }\n\n    stepClock(cycles: number): number {\n        this._lastTrap = undefined;\n\n        this._board.resume();\n\n        const usedCycles = this._board.getTimer().tick(cycles);\n\n        this._board.suspend();\n\n        return usedCycles;\n    }\n\n    setBreakpointsEnabled(breakpointsEnabled: boolean): Debugger {\n        this._breakpointsEnabled = breakpointsEnabled;\n\n        this._attachToCpuIfNecessary();\n\n        return this;\n    }\n\n    setTraceEnabled(traceEnabled: boolean): Debugger {\n        this._traceEnabled = traceEnabled;\n\n        this._attachToCpuIfNecessary();\n\n        return this;\n    }\n\n    getBoard(): BoardInterface {\n        return this._board;\n    }\n\n    getLastTrap(): BoardInterface.TrapPayload {\n        return this._lastTrap;\n    }\n\n    private _humanReadableExecutionState() {\n        if (this._cpu.isHalt()) {\n            return 'halted';\n        }\n\n        switch (this._cpu.executionState) {\n            case CpuInterface.ExecutionState.boot:\n                return 'boot';\n\n            case CpuInterface.ExecutionState.fetch:\n                return 'fetch';\n\n            case CpuInterface.ExecutionState.execute:\n                return 'execute';\n        }\n    }\n\n    private _attachToCpuIfNecessary(): void {\n        if (this._traceEnabled || this._breakpointsEnabled) {\n            this._lastInstructionPointer = this._cpu.getLastInstructionPointer() || 0;\n            this._board.cpuClock.addHandler(this._cpuClockHandler, this);\n            this._board.setClockMode(BoardInterface.ClockMode.instruction);\n        } else {\n            this._board.cpuClock.removeHandler(this._cpuClockHandler, this);\n            this._board.setClockMode(BoardInterface.ClockMode.lazy);\n        }\n    }\n\n    private _cpuClockHandler(clocks: number, ctx: Debugger): void {\n        const lastInstructionPointer = ctx._cpu.getLastInstructionPointer();\n\n        if (\n            ctx._cpu.executionState !== CpuInterface.ExecutionState.fetch ||\n            lastInstructionPointer === ctx._lastInstructionPointer\n        ) {\n            return;\n        }\n\n        ctx._lastInstructionPointer = lastInstructionPointer;\n\n        if (ctx._traceEnabled) {\n            ctx._trace[ctx._traceIndex] = lastInstructionPointer;\n            ctx._traceIndex = (ctx._traceIndex + 1) % ctx._traceSize;\n            if (ctx._traceLength < ctx._traceSize) {\n                ctx._traceLength++;\n            }\n        }\n\n        if (ctx._breakpointsEnabled && ctx._breakpoints[ctx._cpu.state.p]) {\n            ctx._board.triggerTrap(\n                BoardInterface.TrapReason.debug,\n                util.format(\n                    'breakpoint \"%s\" at %s',\n                    ctx._breakpointDescriptions[ctx._cpu.state.p] || '',\n                    hex.encode(ctx._cpu.state.p)\n                )\n            );\n        }\n    }\n\n    private _trapHandler(trap: BoardInterface.TrapPayload, dbg: Debugger): void {\n        dbg._lastTrap = trap;\n    }\n\n    private _peek(address: number): number {\n        return this._bus.peek(address % 0x10000);\n    }\n\n    private _poke(address: number, value: number) {\n        this._bus.poke(address % 0x10000, value & 0xff);\n    }\n\n    private _disassembler: Disassembler;\n    private _cpu: CpuInterface;\n    private _bus: BusInterface;\n    private _board: BoardInterface;\n\n    private _breakpoints = new Uint8Array(0x10000);\n    private _breakpointDescriptions: Array<string> = new Array(0x10000);\n    private _breakpointsEnabled = false;\n\n    private _traceEnabled = false;\n    private _trace = new Uint16Array(this._traceSize);\n    private _traceLength = 0;\n    private _traceIndex = 0;\n    private _lastInstructionPointer: number;\n\n    private _lastTrap: BoardInterface.TrapPayload;\n}\n\nnamespace Debugger {\n    export interface MemoryBlockInterface {\n        [index: number]: number;\n        length: number;\n    }\n}\n\nexport default Debugger;\n",
    "/*\n *   This file is part of 6502.ts, an emulator for 6502 based systems built\n *   in Typescript.\n *\n *   Copyright (C) 2014 - 2017 Christian Speckner & contributors\n *\n *   This program is free software; you can redistribute it and/or modify\n *   it under the terms of the GNU General Public License as published by\n *   the Free Software Foundation; either version 2 of the License, or\n *   (at your option) any later version.\n *\n *   This program is distributed in the hope that it will be useful,\n *   but WITHOUT ANY WARRANTY; without even the implied warranty of\n *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *   GNU General Public License for more details.\n *\n *   You should have received a copy of the GNU General Public License along\n *   with this program; if not, write to the Free Software Foundation, Inc.,\n *   51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n */\n\nimport { EventInterface } from 'microevent.ts';\n\nimport BusInterface from '../bus/BusInterface';\nimport CpuInterface from '../cpu/CpuInterface';\nimport TimerInterface from './TimerInterface';\n\ninterface BoardInterface {\n    getBus(): BusInterface;\n\n    getCpu(): CpuInterface;\n\n    getTimer(): TimerInterface;\n\n    reset(hard: boolean): BoardInterface;\n\n    boot(): BoardInterface;\n\n    suspend(): void;\n\n    resume(): void;\n\n    getClockMode(): BoardInterface.ClockMode;\n\n    setClockMode(clockMode: BoardInterface.ClockMode): BoardInterface;\n\n    triggerTrap(reason: BoardInterface.TrapReason, message?: string): BoardInterface;\n\n    getBoardStateDebug(): string;\n\n    trap: EventInterface<BoardInterface.TrapPayload>;\n\n    cpuClock: EventInterface<number>;\n\n    clock: EventInterface<number>;\n}\n\nnamespace BoardInterface {\n    export const enum TrapReason {\n        cpu,\n        bus,\n        debug,\n        board\n    }\n\n    export const enum ClockMode {\n        instruction,\n        lazy\n    }\n\n    export class TrapPayload {\n        constructor(public reason: TrapReason, public board: BoardInterface, public message?: string) {}\n    }\n}\n\nexport default BoardInterface;\n",
    "/*\n *   This file is part of 6502.ts, an emulator for 6502 based systems built\n *   in Typescript.\n *\n *   Copyright (C) 2014 - 2017 Christian Speckner & contributors\n *\n *   This program is free software; you can redistribute it and/or modify\n *   it under the terms of the GNU General Public License as published by\n *   the Free Software Foundation; either version 2 of the License, or\n *   (at your option) any later version.\n *\n *   This program is distributed in the hope that it will be useful,\n *   but WITHOUT ANY WARRANTY; without even the implied warranty of\n *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *   GNU General Public License for more details.\n *\n *   You should have received a copy of the GNU General Public License along\n *   with this program; if not, write to the Free Software Foundation, Inc.,\n *   51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n */\n\nimport Instruction from './Instruction';\nimport BusInterface from '../bus/BusInterface';\nimport CpuInterface from './CpuInterface';\n\nimport RngInterface from '../../tools/rng/GeneratorInterface';\n\nconst enum InterruptCheck {\n    endOfInstruction,\n    beforeOp\n}\n\nfunction restoreFlagsFromStack(state: CpuInterface.State, bus: BusInterface): void {\n    state.s = (state.s + 0x01) & 0xff;\n    state.flags = (bus.read(0x0100 + state.s) | CpuInterface.Flags.e) & ~CpuInterface.Flags.b;\n}\n\nfunction setFlagsNZ(state: CpuInterface.State, operand: number): void {\n    state.flags =\n        (state.flags & ~(CpuInterface.Flags.n | CpuInterface.Flags.z)) |\n        (operand & 0x80) |\n        (operand ? 0 : CpuInterface.Flags.z);\n}\n\nfunction dispatchInterrupt(state: CpuInterface.State, bus: BusInterface, vector: number): void {\n    const nextOpAddr = state.p;\n\n    if (state.nmi) {\n        vector = 0xfffa;\n    }\n\n    state.nmi = state.irq = false;\n\n    bus.write(state.s + 0x0100, (nextOpAddr >>> 8) & 0xff);\n    state.s = (state.s + 0xff) & 0xff;\n    bus.write(state.s + 0x0100, nextOpAddr & 0xff);\n    state.s = (state.s + 0xff) & 0xff;\n\n    bus.write(state.s + 0x0100, state.flags & ~CpuInterface.Flags.b);\n    state.s = (state.s + 0xff) & 0xff;\n\n    state.flags |= CpuInterface.Flags.i;\n\n    state.p = bus.readWord(vector);\n}\n\nfunction opIrq(state: CpuInterface.State, bus: BusInterface) {\n    dispatchInterrupt(state, bus, 0xfffe);\n}\n\nfunction opNmi(state: CpuInterface.State, bus: BusInterface) {\n    dispatchInterrupt(state, bus, 0xfffa);\n}\n\nfunction opBoot(state: CpuInterface.State, bus: BusInterface): void {\n    state.p = bus.readWord(0xfffc);\n}\n\nfunction opAdc(state: CpuInterface.State, bus: BusInterface, operand: number): void {\n    if (state.flags & CpuInterface.Flags.d) {\n        const d0 = (operand & 0x0f) + (state.a & 0x0f) + (state.flags & CpuInterface.Flags.c),\n            d1 = (operand >>> 4) + (state.a >>> 4) + (d0 > 9 ? 1 : 0);\n\n        state.a = (d0 % 10) | ((d1 % 10) << 4);\n\n        state.flags =\n            (state.flags & ~(CpuInterface.Flags.n | CpuInterface.Flags.z | CpuInterface.Flags.c)) |\n            (state.a & 0x80) | // negative\n            (state.a ? 0 : CpuInterface.Flags.z) | // zero\n            (d1 > 9 ? CpuInterface.Flags.c : 0); // carry\n    } else {\n        const sum = state.a + operand + (state.flags & CpuInterface.Flags.c),\n            result = sum & 0xff;\n\n        state.flags =\n            (state.flags &\n                ~(CpuInterface.Flags.n | CpuInterface.Flags.z | CpuInterface.Flags.c | CpuInterface.Flags.v)) |\n            (result & 0x80) | // negative\n            (result ? 0 : CpuInterface.Flags.z) | // zero\n            (sum >>> 8) | // carry\n            ((~(operand ^ state.a) & (result ^ operand) & 0x80) >>> 1); // overflow\n\n        state.a = result;\n    }\n}\n\nfunction opAnd(state: CpuInterface.State, bus: BusInterface, operand: number): void {\n    state.a &= operand;\n    setFlagsNZ(state, state.a);\n}\n\nfunction opAslAcc(state: CpuInterface.State): void {\n    const old = state.a;\n    state.a = (state.a << 1) & 0xff;\n\n    state.flags =\n        (state.flags & ~(CpuInterface.Flags.n | CpuInterface.Flags.z | CpuInterface.Flags.c)) |\n        (state.a & 0x80) |\n        (state.a ? 0 : CpuInterface.Flags.z) |\n        (old >>> 7);\n}\n\nfunction opAslMem(state: CpuInterface.State, bus: BusInterface, operand: number): void {\n    const old = bus.read(operand),\n        value = (old << 1) & 0xff;\n    bus.write(operand, value);\n\n    state.flags =\n        (state.flags & ~(CpuInterface.Flags.n | CpuInterface.Flags.z | CpuInterface.Flags.c)) |\n        (value & 0x80) |\n        (value ? 0 : CpuInterface.Flags.z) |\n        (old >>> 7);\n}\n\nfunction opBit(state: CpuInterface.State, bus: BusInterface, operand: number): void {\n    state.flags =\n        (state.flags & ~(CpuInterface.Flags.n | CpuInterface.Flags.v | CpuInterface.Flags.z)) |\n        (operand & (CpuInterface.Flags.n | CpuInterface.Flags.v)) |\n        (operand & state.a ? 0 : CpuInterface.Flags.z);\n}\n\nfunction opBrk(state: CpuInterface.State, bus: BusInterface): void {\n    const nextOpAddr = (state.p + 1) & 0xffff;\n    let vector = 0xfffe;\n\n    if (state.nmi) {\n        vector = 0xfffa;\n        state.nmi = false;\n    }\n\n    state.nmi = state.irq = false;\n\n    bus.write(state.s + 0x0100, (nextOpAddr >>> 8) & 0xff);\n    state.s = (state.s + 0xff) & 0xff;\n    bus.write(state.s + 0x0100, nextOpAddr & 0xff);\n    state.s = (state.s + 0xff) & 0xff;\n\n    bus.write(state.s + 0x0100, state.flags | CpuInterface.Flags.b);\n    state.s = (state.s + 0xff) & 0xff;\n\n    state.flags |= CpuInterface.Flags.i;\n\n    state.p = bus.readWord(vector);\n}\n\nfunction opClc(state: CpuInterface.State): void {\n    state.flags &= ~CpuInterface.Flags.c;\n}\n\nfunction opCld(state: CpuInterface.State): void {\n    state.flags &= ~CpuInterface.Flags.d;\n}\n\nfunction opCli(state: CpuInterface.State): void {\n    state.flags &= ~CpuInterface.Flags.i;\n}\n\nfunction opClv(state: CpuInterface.State): void {\n    state.flags &= ~CpuInterface.Flags.v;\n}\n\nfunction opCmp(state: CpuInterface.State, bus: BusInterface, operand: number): void {\n    const diff = state.a + (~operand & 0xff) + 1;\n\n    state.flags =\n        (state.flags & ~(CpuInterface.Flags.n | CpuInterface.Flags.z | CpuInterface.Flags.c)) |\n        (diff & 0x80) |\n        (diff & 0xff ? 0 : CpuInterface.Flags.z) |\n        (diff >>> 8);\n}\n\nfunction opCpx(state: CpuInterface.State, bus: BusInterface, operand: number): void {\n    const diff = state.x + (~operand & 0xff) + 1;\n\n    state.flags =\n        (state.flags & ~(CpuInterface.Flags.n | CpuInterface.Flags.z | CpuInterface.Flags.c)) |\n        (diff & 0x80) |\n        (diff & 0xff ? 0 : CpuInterface.Flags.z) |\n        (diff >>> 8);\n}\n\nfunction opCpy(state: CpuInterface.State, bus: BusInterface, operand: number): void {\n    const diff = state.y + (~operand & 0xff) + 1;\n\n    state.flags =\n        (state.flags & ~(CpuInterface.Flags.n | CpuInterface.Flags.z | CpuInterface.Flags.c)) |\n        (diff & 0x80) |\n        (diff & 0xff ? 0 : CpuInterface.Flags.z) |\n        (diff >>> 8);\n}\n\nfunction opDec(state: CpuInterface.State, bus: BusInterface, operand: number): void {\n    const value = (bus.read(operand) + 0xff) & 0xff;\n    bus.write(operand, value);\n    setFlagsNZ(state, value);\n}\n\nfunction opDex(state: CpuInterface.State): void {\n    state.x = (state.x + 0xff) & 0xff;\n    setFlagsNZ(state, state.x);\n}\n\nfunction opEor(state: CpuInterface.State, bus: BusInterface, operand: number): void {\n    state.a = state.a ^ operand;\n    setFlagsNZ(state, state.a);\n}\n\nfunction opDey(state: CpuInterface.State): void {\n    state.y = (state.y + 0xff) & 0xff;\n    setFlagsNZ(state, state.y);\n}\n\nfunction opInc(state: CpuInterface.State, bus: BusInterface, operand: number): void {\n    const value = (bus.read(operand) + 1) & 0xff;\n    bus.write(operand, value);\n    setFlagsNZ(state, value);\n}\n\nfunction opInx(state: CpuInterface.State): void {\n    state.x = (state.x + 0x01) & 0xff;\n    setFlagsNZ(state, state.x);\n}\n\nfunction opIny(state: CpuInterface.State): void {\n    state.y = (state.y + 0x01) & 0xff;\n    setFlagsNZ(state, state.y);\n}\n\nfunction opJmp(state: CpuInterface.State, bus: BusInterface, operand: number): void {\n    state.p = operand;\n}\n\nfunction opJsr(state: CpuInterface.State, bus: BusInterface, operand: number): void {\n    const returnPtr = (state.p + 1) & 0xffff,\n        addrLo = bus.read(state.p);\n\n    bus.read(0x0100 + state.s);\n    bus.write(0x0100 + state.s, returnPtr >>> 8);\n    state.s = (state.s + 0xff) & 0xff;\n    bus.write(0x0100 + state.s, returnPtr & 0xff);\n    state.s = (state.s + 0xff) & 0xff;\n\n    state.p = addrLo | (bus.read((state.p + 1) & 0xffff) << 8);\n}\n\nfunction opLda(\n    state: CpuInterface.State,\n    bus: BusInterface,\n    operand: number,\n    addressingMode: Instruction.AddressingMode\n): void {\n    state.a = addressingMode === Instruction.AddressingMode.immediate ? operand : bus.read(operand);\n    setFlagsNZ(state, state.a);\n}\n\nfunction opLdx(\n    state: CpuInterface.State,\n    bus: BusInterface,\n    operand: number,\n    addressingMode: Instruction.AddressingMode\n): void {\n    state.x = addressingMode === Instruction.AddressingMode.immediate ? operand : bus.read(operand);\n    setFlagsNZ(state, state.x);\n}\n\nfunction opLdy(\n    state: CpuInterface.State,\n    bus: BusInterface,\n    operand: number,\n    addressingMode: Instruction.AddressingMode\n): void {\n    state.y = addressingMode === Instruction.AddressingMode.immediate ? operand : bus.read(operand);\n    setFlagsNZ(state, state.y);\n}\n\nfunction opLsrAcc(state: CpuInterface.State): void {\n    const old = state.a;\n    state.a = state.a >>> 1;\n\n    state.flags =\n        (state.flags & ~(CpuInterface.Flags.n | CpuInterface.Flags.z | CpuInterface.Flags.c)) |\n        (state.a & 0x80) |\n        (state.a ? 0 : CpuInterface.Flags.z) |\n        (old & CpuInterface.Flags.c);\n}\n\nfunction opLsrMem(state: CpuInterface.State, bus: BusInterface, operand: number): void {\n    const old = bus.read(operand),\n        value = old >>> 1;\n    bus.write(operand, value);\n\n    state.flags =\n        (state.flags & ~(CpuInterface.Flags.n | CpuInterface.Flags.z | CpuInterface.Flags.c)) |\n        (value & 0x80) |\n        (value ? 0 : CpuInterface.Flags.z) |\n        (old & CpuInterface.Flags.c);\n}\n\nfunction opNop(): void {}\n\nfunction opOra(state: CpuInterface.State, bus: BusInterface, operand: number): void {\n    state.a |= operand;\n    setFlagsNZ(state, state.a);\n}\n\nfunction opPhp(state: CpuInterface.State, bus: BusInterface): void {\n    bus.write(0x0100 + state.s, state.flags | CpuInterface.Flags.b);\n    state.s = (state.s + 0xff) & 0xff;\n}\n\nfunction opPlp(state: CpuInterface.State, bus: BusInterface): void {\n    restoreFlagsFromStack(state, bus);\n}\n\nfunction opPha(state: CpuInterface.State, bus: BusInterface): void {\n    bus.write(0x0100 + state.s, state.a);\n    state.s = (state.s + 0xff) & 0xff;\n}\n\nfunction opPla(state: CpuInterface.State, bus: BusInterface): void {\n    state.s = (state.s + 0x01) & 0xff;\n    state.a = bus.read(0x0100 + state.s);\n    setFlagsNZ(state, state.a);\n}\n\nfunction opRolAcc(state: CpuInterface.State): void {\n    const old = state.a;\n    state.a = ((state.a << 1) & 0xff) | (state.flags & CpuInterface.Flags.c);\n\n    state.flags =\n        (state.flags & ~(CpuInterface.Flags.n | CpuInterface.Flags.z | CpuInterface.Flags.c)) |\n        (state.a & 0x80) |\n        (state.a ? 0 : CpuInterface.Flags.z) |\n        (old >>> 7);\n}\n\nfunction opRolMem(state: CpuInterface.State, bus: BusInterface, operand: number): void {\n    const old = bus.read(operand),\n        value = ((old << 1) & 0xff) | (state.flags & CpuInterface.Flags.c);\n    bus.write(operand, value);\n\n    state.flags =\n        (state.flags & ~(CpuInterface.Flags.n | CpuInterface.Flags.z | CpuInterface.Flags.c)) |\n        (value & 0x80) |\n        (value ? 0 : CpuInterface.Flags.z) |\n        (old >>> 7);\n}\n\nfunction opRorAcc(state: CpuInterface.State): void {\n    const old = state.a;\n    state.a = (state.a >>> 1) | ((state.flags & CpuInterface.Flags.c) << 7);\n\n    state.flags =\n        (state.flags & ~(CpuInterface.Flags.n | CpuInterface.Flags.z | CpuInterface.Flags.c)) |\n        (state.a & 0x80) |\n        (state.a ? 0 : CpuInterface.Flags.z) |\n        (old & CpuInterface.Flags.c);\n}\n\nfunction opRorMem(state: CpuInterface.State, bus: BusInterface, operand: number): void {\n    const old = bus.read(operand),\n        value = (old >>> 1) | ((state.flags & CpuInterface.Flags.c) << 7);\n    bus.write(operand, value);\n\n    state.flags =\n        (state.flags & ~(CpuInterface.Flags.n | CpuInterface.Flags.z | CpuInterface.Flags.c)) |\n        (value & 0x80) |\n        (value ? 0 : CpuInterface.Flags.z) |\n        (old & CpuInterface.Flags.c);\n}\n\nfunction opRti(state: CpuInterface.State, bus: BusInterface): void {\n    let returnPtr: number;\n\n    restoreFlagsFromStack(state, bus);\n\n    state.s = (state.s + 1) & 0xff;\n    returnPtr = bus.read(0x0100 + state.s);\n    state.s = (state.s + 1) & 0xff;\n    returnPtr |= bus.read(0x0100 + state.s) << 8;\n\n    state.p = returnPtr;\n}\n\nfunction opRts(state: CpuInterface.State, bus: BusInterface): void {\n    let returnPtr: number;\n\n    bus.read(0x0100 + state.s);\n    state.s = (state.s + 1) & 0xff;\n    returnPtr = bus.read(0x0100 + state.s);\n    state.s = (state.s + 1) & 0xff;\n    returnPtr += bus.read(0x0100 + state.s) << 8;\n\n    state.p = (returnPtr + 1) & 0xffff;\n}\n\nfunction opSbc(state: CpuInterface.State, bus: BusInterface, operand: number): void {\n    if (state.flags & CpuInterface.Flags.d) {\n        const d0 = (state.a & 0x0f) - (operand & 0x0f) - (~state.flags & CpuInterface.Flags.c),\n            d1 = (state.a >>> 4) - (operand >>> 4) - (d0 < 0 ? 1 : 0);\n\n        state.a = (d0 < 0 ? 10 + d0 : d0) | ((d1 < 0 ? 10 + d1 : d1) << 4);\n\n        state.flags =\n            (state.flags & ~(CpuInterface.Flags.n | CpuInterface.Flags.z | CpuInterface.Flags.c)) |\n            (state.a & 0x80) | // negative\n            (state.a ? 0 : CpuInterface.Flags.z) | // zero\n            (d1 < 0 ? 0 : CpuInterface.Flags.c); // carry / borrow\n    } else {\n        operand = ~operand & 0xff;\n\n        const sum = state.a + operand + (state.flags & CpuInterface.Flags.c),\n            result = sum & 0xff;\n\n        state.flags =\n            (state.flags &\n                ~(CpuInterface.Flags.n | CpuInterface.Flags.z | CpuInterface.Flags.c | CpuInterface.Flags.v)) |\n            (result & 0x80) | // negative\n            (result ? 0 : CpuInterface.Flags.z) | // zero\n            (sum >>> 8) | // carry / borrow\n            ((~(operand ^ state.a) & (result ^ operand) & 0x80) >>> 1); // overflow\n\n        state.a = result;\n    }\n}\n\nfunction opSec(state: CpuInterface.State): void {\n    state.flags |= CpuInterface.Flags.c;\n}\n\nfunction opSed(state: CpuInterface.State): void {\n    state.flags |= CpuInterface.Flags.d;\n}\n\nfunction opSei(state: CpuInterface.State): void {\n    state.flags |= CpuInterface.Flags.i;\n}\n\nfunction opSta(state: CpuInterface.State, bus: BusInterface, operand: number): void {\n    bus.write(operand, state.a);\n}\n\nfunction opStx(state: CpuInterface.State, bus: BusInterface, operand: number): void {\n    bus.write(operand, state.x);\n}\n\nfunction opSty(state: CpuInterface.State, bus: BusInterface, operand: number): void {\n    bus.write(operand, state.y);\n}\n\nfunction opTax(state: CpuInterface.State): void {\n    state.x = state.a;\n    setFlagsNZ(state, state.a);\n}\n\nfunction opTay(state: CpuInterface.State): void {\n    state.y = state.a;\n    setFlagsNZ(state, state.a);\n}\n\nfunction opTsx(state: CpuInterface.State): void {\n    state.x = state.s;\n    setFlagsNZ(state, state.x);\n}\n\nfunction opTxa(state: CpuInterface.State): void {\n    state.a = state.x;\n    setFlagsNZ(state, state.a);\n}\n\nfunction opTxs(state: CpuInterface.State): void {\n    state.s = state.x;\n}\n\nfunction opTya(state: CpuInterface.State): void {\n    state.a = state.y;\n    setFlagsNZ(state, state.a);\n}\n\nfunction opAlr(state: CpuInterface.State, bus: BusInterface, operand: number): void {\n    const i = state.a & operand;\n    state.a = i >>> 1;\n\n    state.flags =\n        (state.flags & ~(CpuInterface.Flags.n | CpuInterface.Flags.z | CpuInterface.Flags.c)) |\n        (state.a & 0x80) |\n        (state.a ? 0 : CpuInterface.Flags.z) |\n        (i & CpuInterface.Flags.c);\n}\n\nfunction opAxs(state: CpuInterface.State, bus: BusInterface, operand: number): void {\n    const value = (state.a & state.x) + (~operand & 0xff) + 1;\n\n    state.x = value & 0xff;\n\n    state.flags =\n        (state.flags & ~(CpuInterface.Flags.n | CpuInterface.Flags.z | CpuInterface.Flags.c)) |\n        (state.x & 0x80) |\n        (state.x & 0xff ? 0 : CpuInterface.Flags.z) |\n        (value >>> 8);\n}\n\nfunction opDcp(state: CpuInterface.State, bus: BusInterface, operand: number): void {\n    const value = (bus.read(operand) + 0xff) & 0xff;\n    bus.write(operand, value);\n\n    const diff = state.a + (~value & 0xff) + 1;\n\n    state.flags =\n        (state.flags & ~(CpuInterface.Flags.n | CpuInterface.Flags.z | CpuInterface.Flags.c)) |\n        (diff & 0x80) |\n        (diff & 0xff ? 0 : CpuInterface.Flags.z) |\n        (diff >>> 8);\n}\n\nfunction opLax(state: CpuInterface.State, bus: BusInterface, operand: number): void {\n    state.a = operand;\n    state.x = operand;\n    setFlagsNZ(state, operand);\n}\n\nfunction opArr(state: CpuInterface.State, bus: BusInterface, operand: number): void {\n    state.a = ((state.a & operand) >>> 1) | (state.flags & CpuInterface.Flags.c ? 0x80 : 0);\n\n    state.flags =\n        (state.flags & ~(CpuInterface.Flags.c | CpuInterface.Flags.n | CpuInterface.Flags.z | CpuInterface.Flags.v)) |\n        ((state.a & 0x40) >>> 6) |\n        (state.a ? 0 : CpuInterface.Flags.z) |\n        (state.a & 0x80) |\n        ((state.a & 0x40) ^ ((state.a & 0x20) << 1));\n}\n\nfunction opSlo(state: CpuInterface.State, bus: BusInterface, operand: number): void {\n    let value = bus.read(operand);\n    state.flags = (state.flags & ~CpuInterface.Flags.c) | (value >>> 7);\n    value = value << 1;\n\n    bus.write(operand, value);\n\n    state.a = state.a | value;\n    setFlagsNZ(state, state.a);\n}\n\nfunction opAax(state: CpuInterface.State, bus: BusInterface, operand: number): void {\n    const value = state.x & state.a;\n    bus.write(operand, value);\n    setFlagsNZ(state, value);\n}\n\nfunction opLar(state: CpuInterface.State, bus: BusInterface, operand: number): void {\n    state.s = state.a = state.x = state.s & operand;\n    setFlagsNZ(state, state.a);\n}\n\nfunction opIsc(state: CpuInterface.State, bus: BusInterface, operand: number): void {\n    const value = bus.read(operand) + 1;\n    bus.write(operand, value);\n\n    opSbc(state, bus, value);\n}\n\nfunction opAac(state: CpuInterface.State, bus: BusInterface, operand: number): void {\n    state.a &= operand;\n    setFlagsNZ(state, state.a);\n    state.flags = (state.flags & ~CpuInterface.Flags.c) | ((state.a & 0x80) >>> 7);\n}\n\nfunction opAtx(state: CpuInterface.State, bus: BusInterface, operand: number): void {\n    state.a &= operand;\n    state.x = state.a;\n    setFlagsNZ(state, state.a);\n}\n\nfunction opRra(state: CpuInterface.State, bus: BusInterface, operand: number): void {\n    const old = bus.read(operand),\n        value = (old >>> 1) | ((state.flags & CpuInterface.Flags.c) << 7);\n    bus.write(operand, value);\n\n    state.flags = (state.flags & ~CpuInterface.Flags.c) | (old & CpuInterface.Flags.c);\n\n    opAdc(state, bus, value);\n}\n\nfunction opRla(state: CpuInterface.State, bus: BusInterface, operand: number): void {\n    const old = bus.read(operand),\n        value = ((old << 1) & 0xff) | (state.flags & CpuInterface.Flags.c);\n    bus.write(operand, value);\n\n    state.flags = (state.flags & ~CpuInterface.Flags.c) | (old >>> 7);\n\n    opAnd(state, bus, value);\n}\n\nclass Cpu {\n    constructor(private _bus: BusInterface, private _rng?: RngInterface) {\n        this.reset();\n    }\n\n    setInterrupt(irq: boolean): Cpu {\n        this._interruptPending = irq;\n        return this;\n    }\n\n    isInterrupt(): boolean {\n        return this._interruptPending;\n    }\n\n    nmi(): Cpu {\n        this._nmiPending = true;\n        return this;\n    }\n\n    halt(): Cpu {\n        this._halted = true;\n        return this;\n    }\n\n    resume(): Cpu {\n        this._halted = false;\n        return this;\n    }\n\n    isHalt(): boolean {\n        return this._halted;\n    }\n\n    setInvalidInstructionCallback(callback: CpuInterface.InvalidInstructionCallbackInterface): Cpu {\n        this._invalidInstructionCallback = callback;\n        return this;\n    }\n\n    getInvalidInstructionCallback(): CpuInterface.InvalidInstructionCallbackInterface {\n        return this._invalidInstructionCallback;\n    }\n\n    getLastInstructionPointer(): number {\n        return this._lastInstructionPointer;\n    }\n\n    reset(): Cpu {\n        this.state.a = this._rng ? this._rng.int(0xff) : 0;\n        this.state.x = this._rng ? this._rng.int(0xff) : 0;\n        this.state.y = this._rng ? this._rng.int(0xff) : 0;\n        this.state.s = 0xfd;\n        this.state.p = this._rng ? this._rng.int(0xffff) : 0;\n        this.state.flags =\n            (this._rng ? this._rng.int(0xff) : 0) | CpuInterface.Flags.i | CpuInterface.Flags.e | CpuInterface.Flags.b;\n        this.state.irq = false;\n        this.state.nmi = false;\n\n        this.executionState = CpuInterface.ExecutionState.boot;\n        this._opCycles = 7;\n        this._interruptPending = false;\n        this._nmiPending = false;\n\n        this._instructionCallback = opBoot;\n\n        return this;\n    }\n\n    cycle(): Cpu {\n        if (this._halted) {\n            return this;\n        }\n\n        switch (this.executionState) {\n            case CpuInterface.ExecutionState.boot:\n            case CpuInterface.ExecutionState.execute:\n                if (--this._opCycles === 0) {\n                    if (this._interuptCheck === InterruptCheck.beforeOp) {\n                        this._checkForInterrupts();\n                    }\n\n                    this._instructionCallback(this.state, this._bus, this._operand, this._currentAddressingMode);\n                    this.executionState = CpuInterface.ExecutionState.fetch;\n\n                    if (this._interuptCheck === InterruptCheck.endOfInstruction) {\n                        this._checkForInterrupts();\n                    }\n                }\n\n                break;\n\n            case CpuInterface.ExecutionState.fetch:\n                if (this.state.nmi) {\n                    this._instructionCallback = opNmi;\n                    this._opCycles = 6;\n                    this.state.nmi = this.state.irq = false;\n                    this._interuptCheck = InterruptCheck.beforeOp;\n                    this.executionState = CpuInterface.ExecutionState.execute;\n\n                    return this;\n                }\n\n                if (this.state.irq) {\n                    this._instructionCallback = opIrq;\n                    this._opCycles = 6;\n                    this.state.nmi = this.state.irq = false;\n                    this._interuptCheck = InterruptCheck.beforeOp;\n                    this.executionState = CpuInterface.ExecutionState.execute;\n\n                    return this;\n                }\n\n                this._fetch();\n                break;\n        }\n\n        return this;\n    }\n\n    private _fetch() {\n        const instruction = Instruction.opcodes[this._bus.read(this.state.p)];\n\n        let addressingMode = instruction.addressingMode,\n            dereference = false,\n            slowIndexedAccess = false;\n\n        this._lastInstructionPointer = this.state.p;\n        this._currentAddressingMode = addressingMode;\n        this._interuptCheck = InterruptCheck.endOfInstruction;\n\n        switch (instruction.operation) {\n            case Instruction.Operation.adc:\n                this._opCycles = 0;\n                this._instructionCallback = opAdc;\n                dereference = true;\n                break;\n\n            case Instruction.Operation.and:\n                this._opCycles = 0;\n                this._instructionCallback = opAnd;\n                dereference = true;\n                break;\n\n            case Instruction.Operation.asl:\n                if (addressingMode === Instruction.AddressingMode.implied) {\n                    this._opCycles = 1;\n                    this._instructionCallback = opAslAcc;\n                } else {\n                    this._opCycles = 3;\n                    this._instructionCallback = opAslMem;\n                    slowIndexedAccess = true;\n                }\n                break;\n\n            case Instruction.Operation.bcc:\n                if (this.state.flags & CpuInterface.Flags.c) {\n                    addressingMode = Instruction.AddressingMode.implied;\n                    this._instructionCallback = opNop;\n                    this.state.p = (this.state.p + 1) & 0xffff;\n                    this._opCycles = 1;\n                } else {\n                    this._instructionCallback = opJmp;\n                    this._opCycles = 0;\n                }\n                break;\n\n            case Instruction.Operation.bcs:\n                if (this.state.flags & CpuInterface.Flags.c) {\n                    this._instructionCallback = opJmp;\n                    this._opCycles = 0;\n                } else {\n                    addressingMode = Instruction.AddressingMode.implied;\n                    this._instructionCallback = opNop;\n                    this.state.p = (this.state.p + 1) & 0xffff;\n                    this._opCycles = 1;\n                }\n                break;\n\n            case Instruction.Operation.beq:\n                if (this.state.flags & CpuInterface.Flags.z) {\n                    this._instructionCallback = opJmp;\n                    this._opCycles = 0;\n                } else {\n                    addressingMode = Instruction.AddressingMode.implied;\n                    this._instructionCallback = opNop;\n                    this.state.p = (this.state.p + 1) & 0xffff;\n                    this._opCycles = 1;\n                }\n                break;\n\n            case Instruction.Operation.bit:\n                this._opCycles = 0;\n                this._instructionCallback = opBit;\n                dereference = true;\n                break;\n\n            case Instruction.Operation.bmi:\n                if (this.state.flags & CpuInterface.Flags.n) {\n                    this._instructionCallback = opJmp;\n                    this._opCycles = 0;\n                } else {\n                    addressingMode = Instruction.AddressingMode.implied;\n                    this._instructionCallback = opNop;\n                    this.state.p = (this.state.p + 1) & 0xffff;\n                    this._opCycles = 1;\n                }\n                break;\n\n            case Instruction.Operation.bne:\n                if (this.state.flags & CpuInterface.Flags.z) {\n                    addressingMode = Instruction.AddressingMode.implied;\n                    this._instructionCallback = opNop;\n                    this.state.p = (this.state.p + 1) & 0xffff;\n                    this._opCycles = 1;\n                } else {\n                    this._instructionCallback = opJmp;\n                    this._opCycles = 0;\n                }\n                break;\n\n            case Instruction.Operation.bpl:\n                if (this.state.flags & CpuInterface.Flags.n) {\n                    addressingMode = Instruction.AddressingMode.implied;\n                    this._instructionCallback = opNop;\n                    this.state.p = (this.state.p + 1) & 0xffff;\n                    this._opCycles = 1;\n                } else {\n                    this._instructionCallback = opJmp;\n                    this._opCycles = 0;\n                }\n                break;\n\n            case Instruction.Operation.bvc:\n                if (this.state.flags & CpuInterface.Flags.v) {\n                    addressingMode = Instruction.AddressingMode.implied;\n                    this._instructionCallback = opNop;\n                    this.state.p = (this.state.p + 1) & 0xffff;\n                    this._opCycles = 1;\n                } else {\n                    this._instructionCallback = opJmp;\n                    this._opCycles = 0;\n                }\n                break;\n\n            case Instruction.Operation.bvs:\n                if (this.state.flags & CpuInterface.Flags.v) {\n                    this._instructionCallback = opJmp;\n                    this._opCycles = 0;\n                } else {\n                    addressingMode = Instruction.AddressingMode.implied;\n                    this._instructionCallback = opNop;\n                    this.state.p = (this.state.p + 1) & 0xffff;\n                    this._opCycles = 1;\n                }\n                break;\n\n            case Instruction.Operation.brk:\n                this._opCycles = 6;\n                this._instructionCallback = opBrk;\n                this._interuptCheck = InterruptCheck.beforeOp;\n                break;\n\n            case Instruction.Operation.clc:\n                this._opCycles = 1;\n                this._instructionCallback = opClc;\n                break;\n\n            case Instruction.Operation.cld:\n                this._opCycles = 1;\n                this._instructionCallback = opCld;\n                break;\n\n            case Instruction.Operation.cli:\n                this._opCycles = 1;\n                this._instructionCallback = opCli;\n                this._interuptCheck = InterruptCheck.beforeOp;\n                break;\n\n            case Instruction.Operation.clv:\n                this._opCycles = 1;\n                this._instructionCallback = opClv;\n                break;\n\n            case Instruction.Operation.cmp:\n                this._opCycles = 0;\n                this._instructionCallback = opCmp;\n                dereference = true;\n                break;\n\n            case Instruction.Operation.cpx:\n                this._opCycles = 0;\n                this._instructionCallback = opCpx;\n                dereference = true;\n                break;\n\n            case Instruction.Operation.cpy:\n                this._opCycles = 0;\n                this._instructionCallback = opCpy;\n                dereference = true;\n                break;\n\n            case Instruction.Operation.dec:\n                this._opCycles = 3;\n                this._instructionCallback = opDec;\n                slowIndexedAccess = true;\n                break;\n\n            case Instruction.Operation.dex:\n                this._opCycles = 1;\n                this._instructionCallback = opDex;\n                break;\n\n            case Instruction.Operation.dey:\n                this._opCycles = 1;\n                this._instructionCallback = opDey;\n                break;\n\n            case Instruction.Operation.eor:\n                this._opCycles = 0;\n                this._instructionCallback = opEor;\n                dereference = true;\n                break;\n\n            case Instruction.Operation.inc:\n                this._opCycles = 3;\n                this._instructionCallback = opInc;\n                slowIndexedAccess = true;\n                break;\n\n            case Instruction.Operation.inx:\n                this._opCycles = 1;\n                this._instructionCallback = opInx;\n                break;\n\n            case Instruction.Operation.iny:\n                this._opCycles = 1;\n                this._instructionCallback = opIny;\n                break;\n\n            case Instruction.Operation.jmp:\n                this._opCycles = 0;\n                this._instructionCallback = opJmp;\n                break;\n\n            case Instruction.Operation.jsr:\n                this._opCycles = 5;\n                this._instructionCallback = opJsr;\n                break;\n\n            case Instruction.Operation.lda:\n                this._opCycles = addressingMode === Instruction.AddressingMode.immediate ? 0 : 1;\n                this._instructionCallback = opLda;\n                break;\n\n            case Instruction.Operation.ldx:\n                this._opCycles = addressingMode === Instruction.AddressingMode.immediate ? 0 : 1;\n                this._instructionCallback = opLdx;\n                break;\n\n            case Instruction.Operation.ldy:\n                this._opCycles = addressingMode === Instruction.AddressingMode.immediate ? 0 : 1;\n                this._instructionCallback = opLdy;\n                break;\n\n            case Instruction.Operation.lsr:\n                if (addressingMode === Instruction.AddressingMode.implied) {\n                    this._opCycles = 1;\n                    this._instructionCallback = opLsrAcc;\n                } else {\n                    this._opCycles = 3;\n                    this._instructionCallback = opLsrMem;\n                    slowIndexedAccess = true;\n                }\n                break;\n\n            case Instruction.Operation.nop:\n                this._opCycles = 1;\n\n                this._instructionCallback = opNop;\n                break;\n\n            case Instruction.Operation.dop:\n            case Instruction.Operation.top:\n                this._opCycles = 0;\n                dereference = true;\n\n                this._instructionCallback = opNop;\n                break;\n\n            case Instruction.Operation.ora:\n                this._opCycles = 0;\n                this._instructionCallback = opOra;\n                dereference = true;\n                break;\n\n            case Instruction.Operation.php:\n                this._opCycles = 2;\n                this._instructionCallback = opPhp;\n                break;\n\n            case Instruction.Operation.pha:\n                this._opCycles = 2;\n                this._instructionCallback = opPha;\n                break;\n\n            case Instruction.Operation.pla:\n                this._opCycles = 3;\n                this._instructionCallback = opPla;\n                break;\n\n            case Instruction.Operation.plp:\n                this._opCycles = 3;\n                this._instructionCallback = opPlp;\n                this._interuptCheck = InterruptCheck.beforeOp;\n                break;\n\n            case Instruction.Operation.rol:\n                if (addressingMode === Instruction.AddressingMode.implied) {\n                    this._opCycles = 1;\n                    this._instructionCallback = opRolAcc;\n                } else {\n                    this._opCycles = 3;\n                    this._instructionCallback = opRolMem;\n                    slowIndexedAccess = true;\n                }\n                break;\n\n            case Instruction.Operation.ror:\n                if (addressingMode === Instruction.AddressingMode.implied) {\n                    this._opCycles = 1;\n                    this._instructionCallback = opRorAcc;\n                } else {\n                    this._opCycles = 3;\n                    this._instructionCallback = opRorMem;\n                    slowIndexedAccess = true;\n                }\n                break;\n\n            case Instruction.Operation.rti:\n                this._opCycles = 5;\n                this._instructionCallback = opRti;\n                break;\n\n            case Instruction.Operation.rts:\n                this._opCycles = 5;\n                this._instructionCallback = opRts;\n                break;\n\n            case Instruction.Operation.sbc:\n                this._opCycles = 0;\n                this._instructionCallback = opSbc;\n                dereference = true;\n                break;\n\n            case Instruction.Operation.sec:\n                this._opCycles = 1;\n                this._instructionCallback = opSec;\n                break;\n\n            case Instruction.Operation.sed:\n                this._opCycles = 1;\n                this._instructionCallback = opSed;\n                break;\n\n            case Instruction.Operation.sei:\n                this._opCycles = 1;\n                this._instructionCallback = opSei;\n                this._interuptCheck = InterruptCheck.beforeOp;\n                break;\n\n            case Instruction.Operation.sta:\n                this._opCycles = 1;\n                this._instructionCallback = opSta;\n                slowIndexedAccess = true;\n                break;\n\n            case Instruction.Operation.stx:\n                this._opCycles = 1;\n                this._instructionCallback = opStx;\n                slowIndexedAccess = true;\n                break;\n\n            case Instruction.Operation.sty:\n                this._opCycles = 1;\n                this._instructionCallback = opSty;\n                slowIndexedAccess = true;\n                break;\n\n            case Instruction.Operation.tax:\n                this._opCycles = 1;\n                this._instructionCallback = opTax;\n                break;\n\n            case Instruction.Operation.tay:\n                this._opCycles = 1;\n                this._instructionCallback = opTay;\n                break;\n\n            case Instruction.Operation.tsx:\n                this._opCycles = 1;\n                this._instructionCallback = opTsx;\n                break;\n\n            case Instruction.Operation.txa:\n                this._opCycles = 1;\n                this._instructionCallback = opTxa;\n                break;\n\n            case Instruction.Operation.txs:\n                this._opCycles = 1;\n                this._instructionCallback = opTxs;\n                break;\n\n            case Instruction.Operation.tya:\n                this._opCycles = 1;\n                this._instructionCallback = opTya;\n                break;\n\n            case Instruction.Operation.arr:\n                this._opCycles = 0;\n                this._instructionCallback = opArr;\n                break;\n\n            case Instruction.Operation.alr:\n                this._opCycles = 0;\n                this._instructionCallback = opAlr;\n                break;\n\n            case Instruction.Operation.axs:\n                this._opCycles = 0;\n                this._instructionCallback = opAxs;\n                break;\n\n            case Instruction.Operation.dcp:\n                this._opCycles = 3;\n                this._instructionCallback = opDcp;\n                slowIndexedAccess = true;\n                break;\n\n            case Instruction.Operation.lax:\n                this._opCycles = 0;\n                this._instructionCallback = opLax;\n                dereference = true;\n                break;\n\n            case Instruction.Operation.slo:\n                this._opCycles = 2;\n                this._instructionCallback = opSlo;\n                slowIndexedAccess = true;\n                break;\n\n            case Instruction.Operation.aax:\n                this._opCycles = 1;\n                this._instructionCallback = opAax;\n                break;\n\n            case Instruction.Operation.lar:\n                this._opCycles = 0;\n                this._instructionCallback = opLar;\n                dereference = true;\n                break;\n\n            case Instruction.Operation.isc:\n                this._opCycles = 3;\n                this._instructionCallback = opIsc;\n                break;\n\n            case Instruction.Operation.aac:\n                this._opCycles = 0;\n                this._instructionCallback = opAac;\n                break;\n\n            case Instruction.Operation.atx:\n                this._opCycles = 0;\n                this._instructionCallback = opAtx;\n                break;\n\n            case Instruction.Operation.rra:\n                this._opCycles = 3;\n                dereference = false;\n                slowIndexedAccess = true;\n                this._instructionCallback = opRra;\n                break;\n\n            case Instruction.Operation.rla:\n                this._opCycles = 3;\n                dereference = false;\n                slowIndexedAccess = true;\n                this._instructionCallback = opRla;\n                break;\n\n            default:\n                if (this._invalidInstructionCallback) {\n                    this._invalidInstructionCallback(this);\n                }\n                return;\n        }\n\n        this.state.p = (this.state.p + 1) & 0xffff;\n\n        let value: number, base: number;\n\n        switch (addressingMode) {\n            case Instruction.AddressingMode.immediate:\n                this._operand = this._bus.read(this.state.p);\n                dereference = false;\n                this.state.p = (this.state.p + 1) & 0xffff;\n                this._opCycles++;\n                break;\n\n            case Instruction.AddressingMode.zeroPage:\n                this._operand = this._bus.read(this.state.p);\n                this.state.p = (this.state.p + 1) & 0xffff;\n                this._opCycles++;\n                break;\n\n            case Instruction.AddressingMode.absolute:\n                this._operand = this._bus.readWord(this.state.p);\n                this.state.p = (this.state.p + 2) & 0xffff;\n                this._opCycles += 2;\n                break;\n\n            case Instruction.AddressingMode.indirect:\n                value = this._bus.readWord(this.state.p);\n                if ((value & 0xff) === 0xff) {\n                    this._operand = this._bus.read(value) + (this._bus.read(value & 0xff00) << 8);\n                } else {\n                    this._operand = this._bus.readWord(value);\n                }\n                this.state.p = (this.state.p + 2) & 0xffff;\n                this._opCycles += 4;\n                break;\n\n            case Instruction.AddressingMode.relative:\n                value = this._bus.read(this.state.p);\n                value = value & 0x80 ? -(~(value - 1) & 0xff) : value;\n                this._operand = (this.state.p + value + 0x10001) & 0xffff;\n                this.state.p = (this.state.p + 1) & 0xffff;\n                this._opCycles += (this._operand & 0xff00) !== (this.state.p & 0xff00) ? 3 : 2;\n                break;\n\n            case Instruction.AddressingMode.zeroPageX:\n                base = this._bus.read(this.state.p);\n                this._bus.read(base);\n\n                this._operand = (base + this.state.x) & 0xff;\n                this.state.p = (this.state.p + 1) & 0xffff;\n                this._opCycles += 2;\n                break;\n\n            case Instruction.AddressingMode.absoluteX:\n                value = this._bus.readWord(this.state.p);\n                this._operand = (value + this.state.x) & 0xffff;\n\n                if ((this._operand & 0xff00) !== (value & 0xff00)) {\n                    this._bus.read((value & 0xff00) | (this._operand & 0xff));\n                }\n\n                this._opCycles += slowIndexedAccess || (this._operand & 0xff00) !== (value & 0xff00) ? 3 : 2;\n                this.state.p = (this.state.p + 2) & 0xffff;\n                break;\n\n            case Instruction.AddressingMode.zeroPageY:\n                base = this._bus.read(this.state.p);\n                this._bus.read(base);\n\n                this._operand = (base + this.state.y) & 0xff;\n                this.state.p = (this.state.p + 1) & 0xffff;\n                this._opCycles += 2;\n                break;\n\n            case Instruction.AddressingMode.absoluteY:\n                value = this._bus.readWord(this.state.p);\n                this._operand = (value + this.state.y) & 0xffff;\n\n                if ((this._operand & 0xff00) !== (value & 0xff00)) {\n                    this._bus.read((value & 0xff00) | (this._operand & 0xff));\n                }\n\n                this._opCycles += slowIndexedAccess || (this._operand & 0xff00) !== (value & 0xff00) ? 3 : 2;\n                this.state.p = (this.state.p + 2) & 0xffff;\n                break;\n\n            case Instruction.AddressingMode.indexedIndirectX:\n                base = this._bus.read(this.state.p);\n                this._bus.read(base);\n\n                value = (base + this.state.x) & 0xff;\n\n                if (value === 0xff) {\n                    this._operand = this._bus.read(0xff) + (this._bus.read(0x00) << 8);\n                } else {\n                    this._operand = this._bus.readWord(value);\n                }\n\n                this._opCycles += 4;\n                this.state.p = (this.state.p + 1) & 0xffff;\n                break;\n\n            case Instruction.AddressingMode.indirectIndexedY:\n                value = this._bus.read(this.state.p);\n\n                if (value === 0xff) {\n                    value = this._bus.read(0xff) + (this._bus.read(0x00) << 8);\n                } else {\n                    value = this._bus.readWord(value);\n                }\n\n                this._operand = (value + this.state.y) & 0xffff;\n\n                if ((this._operand & 0xff00) !== (value & 0xff00)) {\n                    this._bus.read((value & 0xff00) | (this._operand & 0xff));\n                }\n\n                this._opCycles += slowIndexedAccess || (value & 0xff00) !== (this._operand & 0xff00) ? 4 : 3;\n                this.state.p = (this.state.p + 1) & 0xffff;\n                break;\n        }\n\n        if (dereference) {\n            this._operand = this._bus.read(this._operand);\n            this._opCycles++;\n        }\n\n        this.executionState = CpuInterface.ExecutionState.execute;\n    }\n\n    private _checkForInterrupts(): void {\n        if (this._nmiPending) {\n            this.state.irq = false;\n            this.state.nmi = true;\n            this._nmiPending = false;\n        }\n\n        if (this._interruptPending && !this.state.nmi && !(this.state.flags & CpuInterface.Flags.i)) {\n            this.state.irq = true;\n        }\n    }\n\n    executionState: CpuInterface.ExecutionState = CpuInterface.ExecutionState.boot;\n    state: CpuInterface.State = new CpuInterface.State();\n\n    private _opCycles: number = 0;\n    private _instructionCallback: InstructionCallbackInterface = null;\n    private _invalidInstructionCallback: CpuInterface.InvalidInstructionCallbackInterface = null;\n\n    private _interruptPending: boolean = false;\n    private _nmiPending: boolean = false;\n    private _interuptCheck = InterruptCheck.endOfInstruction;\n\n    private _halted: boolean = false;\n\n    private _operand: number = 0;\n    private _lastInstructionPointer: number = 0;\n    private _currentAddressingMode: Instruction.AddressingMode = Instruction.AddressingMode.invalid;\n}\n\ninterface InstructionCallbackInterface {\n    (\n        state?: CpuInterface.State,\n        bus?: BusInterface,\n        operand?: number,\n        addressingMode?: Instruction.AddressingMode\n    ): void;\n}\n\nexport default Cpu;\n",
    "/*\n *   This file is part of 6502.ts, an emulator for 6502 based systems built\n *   in Typescript.\n *\n *   Copyright (C) 2014 - 2017 Christian Speckner & contributors\n *\n *   This program is free software; you can redistribute it and/or modify\n *   it under the terms of the GNU General Public License as published by\n *   the Free Software Foundation; either version 2 of the License, or\n *   (at your option) any later version.\n *\n *   This program is distributed in the hope that it will be useful,\n *   but WITHOUT ANY WARRANTY; without even the implied warranty of\n *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *   GNU General Public License for more details.\n *\n *   You should have received a copy of the GNU General Public License along\n *   with this program; if not, write to the Free Software Foundation, Inc.,\n *   51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n */\n\ninterface CpuInterface {\n    setInterrupt(irq: boolean): CpuInterface;\n\n    isInterrupt(): boolean;\n\n    nmi(): CpuInterface;\n\n    halt(): CpuInterface;\n\n    resume(): CpuInterface;\n\n    isHalt(): boolean;\n\n    setInvalidInstructionCallback(callback: CpuInterface.InvalidInstructionCallbackInterface): CpuInterface;\n\n    getInvalidInstructionCallback(): CpuInterface.InvalidInstructionCallbackInterface;\n\n    getLastInstructionPointer(): number;\n\n    reset(): CpuInterface;\n\n    cycle(): CpuInterface;\n\n    executionState: CpuInterface.ExecutionState;\n    state: CpuInterface.State;\n}\n\nnamespace CpuInterface {\n    export const enum ExecutionState {\n        boot,\n        fetch,\n        execute\n    }\n\n    export class State {\n        a: number = 0;\n        x: number = 0;\n        y: number = 0;\n        s: number = 0;\n        p: number = 0;\n        flags: number = 0;\n\n        irq = false;\n        nmi = false;\n    }\n\n    export const enum Flags {\n        c = 0x01, // carry\n        z = 0x02, // zero\n        i = 0x04, // interrupt\n        d = 0x08, // decimal mode\n        b = 0x10, // break\n        e = 0x20, // reserved\n        v = 0x40, // overflow\n        n = 0x80 // sign\n    }\n\n    export interface InvalidInstructionCallbackInterface {\n        (cpu?: CpuInterface): void;\n    }\n}\n\nexport default CpuInterface;\n",
    "/*\n *   This file is part of 6502.ts, an emulator for 6502 based systems built\n *   in Typescript.\n *\n *   Copyright (C) 2014 - 2017 Christian Speckner & contributors\n *\n *   This program is free software; you can redistribute it and/or modify\n *   it under the terms of the GNU General Public License as published by\n *   the Free Software Foundation; either version 2 of the License, or\n *   (at your option) any later version.\n *\n *   This program is distributed in the hope that it will be useful,\n *   but WITHOUT ANY WARRANTY; without even the implied warranty of\n *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *   GNU General Public License for more details.\n *\n *   You should have received a copy of the GNU General Public License along\n *   with this program; if not, write to the Free Software Foundation, Inc.,\n *   51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n */\n\nimport Instruction from './Instruction';\nimport BusInterface from '../bus/BusInterface';\n\nimport * as hex from '../../tools/hex';\n\nclass Disassembler {\n    constructor(private _bus?: BusInterface) {}\n\n    setBus(bus: BusInterface): Disassembler {\n        this._bus = bus;\n        return this;\n    }\n\n    getBus(): BusInterface {\n        return this._bus;\n    }\n\n    disassembleAt(address: number): string {\n        const instruction = Instruction.opcodes[this._peek(address)],\n            operation = Instruction.OperationMap[instruction.operation].toUpperCase();\n\n        const read8 = (a: number = address + 1) => hex.encode(this._peek(a), 2);\n\n        const read16 = (a: number = address + 1) => hex.encode(this._peek(a) + (this._peek(a + 1) << 8), 4);\n\n        const decodeSint8 = (value: number) => (value & 0x80 ? -(~(value - 1) & 0xff) : value);\n\n        switch (instruction.addressingMode) {\n            case Instruction.AddressingMode.implied:\n                return operation;\n\n            case Instruction.AddressingMode.immediate:\n                return operation + ' #' + read8();\n\n            case Instruction.AddressingMode.zeroPage:\n                return operation + ' ' + read8();\n\n            case Instruction.AddressingMode.absolute:\n                return operation + ' ' + read16();\n\n            case Instruction.AddressingMode.indirect:\n                return operation + ' (' + read16() + ')';\n\n            case Instruction.AddressingMode.relative:\n                const distance = decodeSint8(this._peek(address + 1));\n\n                return (\n                    operation +\n                    ' ' +\n                    hex.encode(distance, 2) +\n                    ' ; -> ' +\n                    hex.encode((0x10002 + address + distance) % 0x10000, 4)\n                );\n\n            case Instruction.AddressingMode.zeroPageX:\n                return operation + ' ' + read8() + ',X';\n\n            case Instruction.AddressingMode.absoluteX:\n                return operation + ' ' + read16() + ',X';\n\n            case Instruction.AddressingMode.indexedIndirectX:\n                return operation + ' (' + read8() + ',X)';\n\n            case Instruction.AddressingMode.zeroPageY:\n                return operation + ' ' + read8() + ',Y';\n\n            case Instruction.AddressingMode.absoluteY:\n                return operation + ' ' + read16() + ',Y';\n\n            case Instruction.AddressingMode.indirectIndexedY:\n                return operation + ' (' + read8() + '),Y';\n\n            default:\n                return 'INVALID';\n        }\n    }\n\n    private _peek(address: number) {\n        return this._bus.peek(address % 0x10000);\n    }\n}\n\nexport default Disassembler;\n",
    "/*\n *   This file is part of 6502.ts, an emulator for 6502 based systems built\n *   in Typescript.\n *\n *   Copyright (C) 2014 - 2017 Christian Speckner & contributors\n *\n *   This program is free software; you can redistribute it and/or modify\n *   it under the terms of the GNU General Public License as published by\n *   the Free Software Foundation; either version 2 of the License, or\n *   (at your option) any later version.\n *\n *   This program is distributed in the hope that it will be useful,\n *   but WITHOUT ANY WARRANTY; without even the implied warranty of\n *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *   GNU General Public License for more details.\n *\n *   You should have received a copy of the GNU General Public License along\n *   with this program; if not, write to the Free Software Foundation, Inc.,\n *   51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n */\n\nclass Instruction {\n    constructor(public operation: Instruction.Operation, public addressingMode: Instruction.AddressingMode) {}\n\n    getSize(): number {\n        switch (this.addressingMode) {\n            case Instruction.AddressingMode.immediate:\n            case Instruction.AddressingMode.zeroPage:\n            case Instruction.AddressingMode.zeroPageX:\n            case Instruction.AddressingMode.zeroPageY:\n            case Instruction.AddressingMode.indexedIndirectX:\n            case Instruction.AddressingMode.indirectIndexedY:\n            case Instruction.AddressingMode.relative:\n                return 2;\n\n            case Instruction.AddressingMode.absolute:\n            case Instruction.AddressingMode.absoluteX:\n            case Instruction.AddressingMode.absoluteY:\n            case Instruction.AddressingMode.indirect:\n                return 3;\n\n            default:\n                return 1;\n        }\n    }\n}\n\nnamespace Instruction {\n    export const enum Operation {\n        adc,\n        and,\n        asl,\n        bcc,\n        bcs,\n        beq,\n        bit,\n        bmi,\n        bne,\n        bpl,\n        brk,\n        bvc,\n        bvs,\n        clc,\n        cld,\n        cli,\n        clv,\n        cmp,\n        cpx,\n        cpy,\n        dec,\n        dex,\n        dey,\n        eor,\n        inc,\n        inx,\n        iny,\n        jmp,\n        jsr,\n        lda,\n        ldx,\n        ldy,\n        lsr,\n        nop,\n        ora,\n        pha,\n        php,\n        pla,\n        plp,\n        rol,\n        ror,\n        rti,\n        rts,\n        sbc,\n        sec,\n        sed,\n        sei,\n        sta,\n        stx,\n        sty,\n        tax,\n        tay,\n        tsx,\n        txa,\n        txs,\n        tya,\n        // undocumented operations\n        dop,\n        top,\n        alr,\n        axs,\n        dcp,\n        lax,\n        arr,\n        slo,\n        aax,\n        lar,\n        isc,\n        aac,\n        atx,\n        rra,\n        rla,\n        invalid\n    }\n\n    export enum OperationMap {\n        adc,\n        and,\n        asl,\n        bcc,\n        bcs,\n        beq,\n        bit,\n        bmi,\n        bne,\n        bpl,\n        brk,\n        bvc,\n        bvs,\n        clc,\n        cld,\n        cli,\n        clv,\n        cmp,\n        cpx,\n        cpy,\n        dec,\n        dex,\n        dey,\n        eor,\n        inc,\n        inx,\n        iny,\n        jmp,\n        jsr,\n        lda,\n        ldx,\n        ldy,\n        lsr,\n        nop,\n        ora,\n        pha,\n        php,\n        pla,\n        plp,\n        rol,\n        ror,\n        rti,\n        rts,\n        sbc,\n        sec,\n        sed,\n        sei,\n        sta,\n        stx,\n        sty,\n        tax,\n        tay,\n        tsx,\n        txa,\n        txs,\n        tya,\n        // undocumented operations\n        dop,\n        top,\n        alr,\n        axs,\n        dcp,\n        lax,\n        arr,\n        slo,\n        aax,\n        lar,\n        isc,\n        aac,\n        atx,\n        rra,\n        rla,\n        invalid\n    }\n\n    export const enum AddressingMode {\n        implied,\n        immediate,\n        zeroPage,\n        absolute,\n        indirect,\n        relative,\n        zeroPageX,\n        absoluteX,\n        indexedIndirectX,\n        zeroPageY,\n        absoluteY,\n        indirectIndexedY,\n        invalid\n    }\n\n    export const opcodes = new Array<Instruction>(256);\n}\n\nexport default Instruction;\n\n// Opcodes init\n\nnamespace Instruction {\n    export namespace __init {\n        for (let i = 0; i < 256; i++) {\n            opcodes[i] = new Instruction(Operation.invalid, AddressingMode.invalid);\n        }\n\n        let operation: Operation, addressingMode: AddressingMode, opcode: number;\n\n        for (let i = 0; i < 8; i++) {\n            switch (i) {\n                case 0:\n                    operation = Operation.ora;\n                    break;\n                case 1:\n                    operation = Operation.and;\n                    break;\n                case 2:\n                    operation = Operation.eor;\n                    break;\n                case 3:\n                    operation = Operation.adc;\n                    break;\n                case 4:\n                    operation = Operation.sta;\n                    break;\n                case 5:\n                    operation = Operation.lda;\n                    break;\n                case 6:\n                    operation = Operation.cmp;\n                    break;\n                case 7:\n                    operation = Operation.sbc;\n                    break;\n            }\n            for (let j = 0; j < 8; j++) {\n                switch (j) {\n                    case 0:\n                        addressingMode = AddressingMode.indexedIndirectX;\n                        break;\n                    case 1:\n                        addressingMode = AddressingMode.zeroPage;\n                        break;\n                    case 2:\n                        addressingMode = AddressingMode.immediate;\n                        break;\n                    case 3:\n                        addressingMode = AddressingMode.absolute;\n                        break;\n                    case 4:\n                        addressingMode = AddressingMode.indirectIndexedY;\n                        break;\n                    case 5:\n                        addressingMode = AddressingMode.zeroPageX;\n                        break;\n                    case 6:\n                        addressingMode = AddressingMode.absoluteY;\n                        break;\n                    case 7:\n                        addressingMode = AddressingMode.absoluteX;\n                        break;\n                }\n\n                if (operation === Operation.sta && addressingMode === AddressingMode.immediate) {\n                    addressingMode = AddressingMode.invalid;\n                }\n\n                if (operation !== Operation.invalid && addressingMode !== AddressingMode.invalid) {\n                    opcode = (i << 5) | (j << 2) | 1;\n                    opcodes[opcode].operation = operation;\n                    opcodes[opcode].addressingMode = addressingMode;\n                }\n            }\n        }\n\n        function set(_opcode: number, _operation: Operation, _addressingMode: AddressingMode): void {\n            if (opcodes[_opcode].operation !== Operation.invalid) {\n                throw new Error('entry for opcode ' + _opcode + ' already exists');\n            }\n\n            opcodes[_opcode].operation = _operation;\n            opcodes[_opcode].addressingMode = _addressingMode;\n        }\n\n        set(0x06, Operation.asl, AddressingMode.zeroPage);\n        set(0x0a, Operation.asl, AddressingMode.implied);\n        set(0x0e, Operation.asl, AddressingMode.absolute);\n        set(0x16, Operation.asl, AddressingMode.zeroPageX);\n        set(0x1e, Operation.asl, AddressingMode.absoluteX);\n\n        set(0x26, Operation.rol, AddressingMode.zeroPage);\n        set(0x2a, Operation.rol, AddressingMode.implied);\n        set(0x2e, Operation.rol, AddressingMode.absolute);\n        set(0x36, Operation.rol, AddressingMode.zeroPageX);\n        set(0x3e, Operation.rol, AddressingMode.absoluteX);\n\n        set(0x46, Operation.lsr, AddressingMode.zeroPage);\n        set(0x4a, Operation.lsr, AddressingMode.implied);\n        set(0x4e, Operation.lsr, AddressingMode.absolute);\n        set(0x56, Operation.lsr, AddressingMode.zeroPageX);\n        set(0x5e, Operation.lsr, AddressingMode.absoluteX);\n\n        set(0x66, Operation.ror, AddressingMode.zeroPage);\n        set(0x6a, Operation.ror, AddressingMode.implied);\n        set(0x6e, Operation.ror, AddressingMode.absolute);\n        set(0x76, Operation.ror, AddressingMode.zeroPageX);\n        set(0x7e, Operation.ror, AddressingMode.absoluteX);\n\n        set(0x86, Operation.stx, AddressingMode.zeroPage);\n        set(0x8e, Operation.stx, AddressingMode.absolute);\n        set(0x96, Operation.stx, AddressingMode.zeroPageY);\n\n        set(0xa2, Operation.ldx, AddressingMode.immediate);\n        set(0xa6, Operation.ldx, AddressingMode.zeroPage);\n        set(0xae, Operation.ldx, AddressingMode.absolute);\n        set(0xb6, Operation.ldx, AddressingMode.zeroPageY);\n        set(0xbe, Operation.ldx, AddressingMode.absoluteY);\n\n        set(0xc6, Operation.dec, AddressingMode.zeroPage);\n        set(0xce, Operation.dec, AddressingMode.absolute);\n        set(0xd6, Operation.dec, AddressingMode.zeroPageX);\n        set(0xde, Operation.dec, AddressingMode.absoluteX);\n\n        set(0xe6, Operation.inc, AddressingMode.zeroPage);\n        set(0xee, Operation.inc, AddressingMode.absolute);\n        set(0xf6, Operation.inc, AddressingMode.zeroPageX);\n        set(0xfe, Operation.inc, AddressingMode.absoluteX);\n\n        set(0x24, Operation.bit, AddressingMode.zeroPage);\n        set(0x2c, Operation.bit, AddressingMode.absolute);\n\n        set(0x4c, Operation.jmp, AddressingMode.absolute);\n        set(0x6c, Operation.jmp, AddressingMode.indirect);\n\n        set(0x84, Operation.sty, AddressingMode.zeroPage);\n        set(0x8c, Operation.sty, AddressingMode.absolute);\n        set(0x94, Operation.sty, AddressingMode.zeroPageX);\n\n        set(0xa0, Operation.ldy, AddressingMode.immediate);\n        set(0xa4, Operation.ldy, AddressingMode.zeroPage);\n        set(0xac, Operation.ldy, AddressingMode.absolute);\n        set(0xb4, Operation.ldy, AddressingMode.zeroPageX);\n        set(0xbc, Operation.ldy, AddressingMode.absoluteX);\n\n        set(0xc0, Operation.cpy, AddressingMode.immediate);\n        set(0xc4, Operation.cpy, AddressingMode.zeroPage);\n        set(0xcc, Operation.cpy, AddressingMode.absolute);\n\n        set(0xe0, Operation.cpx, AddressingMode.immediate);\n        set(0xe4, Operation.cpx, AddressingMode.zeroPage);\n        set(0xec, Operation.cpx, AddressingMode.absolute);\n\n        set(0x10, Operation.bpl, AddressingMode.relative);\n        set(0x30, Operation.bmi, AddressingMode.relative);\n        set(0x50, Operation.bvc, AddressingMode.relative);\n        set(0x70, Operation.bvs, AddressingMode.relative);\n        set(0x90, Operation.bcc, AddressingMode.relative);\n        set(0xb0, Operation.bcs, AddressingMode.relative);\n        set(0xd0, Operation.bne, AddressingMode.relative);\n        set(0xf0, Operation.beq, AddressingMode.relative);\n\n        set(0x00, Operation.brk, AddressingMode.implied);\n        set(0x20, Operation.jsr, AddressingMode.implied);\n        set(0x40, Operation.rti, AddressingMode.implied);\n        set(0x60, Operation.rts, AddressingMode.implied);\n        set(0x08, Operation.php, AddressingMode.implied);\n        set(0x28, Operation.plp, AddressingMode.implied);\n        set(0x48, Operation.pha, AddressingMode.implied);\n        set(0x68, Operation.pla, AddressingMode.implied);\n        set(0x88, Operation.dey, AddressingMode.implied);\n        set(0xa8, Operation.tay, AddressingMode.implied);\n        set(0xc8, Operation.iny, AddressingMode.implied);\n        set(0xe8, Operation.inx, AddressingMode.implied);\n        set(0x18, Operation.clc, AddressingMode.implied);\n        set(0x38, Operation.sec, AddressingMode.implied);\n        set(0x58, Operation.cli, AddressingMode.implied);\n        set(0x78, Operation.sei, AddressingMode.implied);\n        set(0x98, Operation.tya, AddressingMode.implied);\n        set(0xb8, Operation.clv, AddressingMode.implied);\n        set(0xd8, Operation.cld, AddressingMode.implied);\n        set(0xf8, Operation.sed, AddressingMode.implied);\n        set(0x8a, Operation.txa, AddressingMode.implied);\n        set(0x9a, Operation.txs, AddressingMode.implied);\n        set(0xaa, Operation.tax, AddressingMode.implied);\n        set(0xba, Operation.tsx, AddressingMode.implied);\n        set(0xca, Operation.dex, AddressingMode.implied);\n        set(0xea, Operation.nop, AddressingMode.implied);\n\n        // instructions for undocumented opcodes\n        set(0x1a, Operation.nop, AddressingMode.implied);\n        set(0x3a, Operation.nop, AddressingMode.implied);\n        set(0x5a, Operation.nop, AddressingMode.implied);\n        set(0x7a, Operation.nop, AddressingMode.implied);\n        set(0xda, Operation.nop, AddressingMode.implied);\n        set(0xfa, Operation.nop, AddressingMode.implied);\n\n        set(0x04, Operation.dop, AddressingMode.zeroPage);\n        set(0x14, Operation.dop, AddressingMode.zeroPageX);\n        set(0x34, Operation.dop, AddressingMode.zeroPageX);\n        set(0x44, Operation.dop, AddressingMode.zeroPage);\n        set(0x54, Operation.dop, AddressingMode.zeroPageX);\n        set(0x64, Operation.dop, AddressingMode.zeroPage);\n        set(0x74, Operation.dop, AddressingMode.zeroPageX);\n        set(0x80, Operation.dop, AddressingMode.immediate);\n        set(0x82, Operation.dop, AddressingMode.immediate);\n        set(0x89, Operation.dop, AddressingMode.immediate);\n        set(0xc2, Operation.dop, AddressingMode.immediate);\n        set(0xd4, Operation.dop, AddressingMode.zeroPageX);\n        set(0xe2, Operation.dop, AddressingMode.immediate);\n        set(0xf4, Operation.dop, AddressingMode.zeroPageX);\n\n        set(0x0c, Operation.top, AddressingMode.absolute);\n        set(0x1c, Operation.top, AddressingMode.absoluteX);\n        set(0x3c, Operation.top, AddressingMode.absoluteX);\n        set(0x5c, Operation.top, AddressingMode.absoluteX);\n        set(0x7c, Operation.top, AddressingMode.absoluteX);\n        set(0xdc, Operation.top, AddressingMode.absoluteX);\n        set(0xfc, Operation.top, AddressingMode.absoluteX);\n\n        set(0xeb, Operation.sbc, AddressingMode.immediate);\n\n        set(0x4b, Operation.alr, AddressingMode.immediate);\n\n        set(0xcb, Operation.axs, AddressingMode.immediate);\n\n        set(0xc7, Operation.dcp, AddressingMode.zeroPage);\n        set(0xd7, Operation.dcp, AddressingMode.zeroPageX);\n        set(0xcf, Operation.dcp, AddressingMode.absolute);\n        set(0xdf, Operation.dcp, AddressingMode.absoluteX);\n        set(0xdb, Operation.dcp, AddressingMode.absoluteY);\n        set(0xc3, Operation.dcp, AddressingMode.indexedIndirectX);\n        set(0xd3, Operation.dcp, AddressingMode.indirectIndexedY);\n\n        set(0xa7, Operation.lax, AddressingMode.zeroPage);\n        set(0xb7, Operation.lax, AddressingMode.zeroPageY);\n        set(0xaf, Operation.lax, AddressingMode.absolute);\n        set(0xbf, Operation.lax, AddressingMode.absoluteY);\n        set(0xa3, Operation.lax, AddressingMode.indexedIndirectX);\n        set(0xb3, Operation.lax, AddressingMode.indirectIndexedY);\n\n        set(0x6b, Operation.arr, AddressingMode.immediate);\n\n        set(0x07, Operation.slo, AddressingMode.zeroPage);\n        set(0x17, Operation.slo, AddressingMode.zeroPageX);\n        set(0x0f, Operation.slo, AddressingMode.absolute);\n        set(0x1f, Operation.slo, AddressingMode.absoluteX);\n        set(0x1b, Operation.slo, AddressingMode.absoluteY);\n        set(0x03, Operation.slo, AddressingMode.indexedIndirectX);\n        set(0x13, Operation.slo, AddressingMode.indirectIndexedY);\n\n        set(0x87, Operation.aax, AddressingMode.zeroPage);\n        set(0x97, Operation.aax, AddressingMode.zeroPageY);\n        set(0x83, Operation.aax, AddressingMode.indexedIndirectX);\n        set(0x8f, Operation.aax, AddressingMode.absolute);\n\n        set(0xbb, Operation.lar, AddressingMode.absoluteY);\n\n        set(0xe7, Operation.isc, AddressingMode.zeroPage);\n        set(0xf7, Operation.isc, AddressingMode.zeroPageX);\n        set(0xef, Operation.isc, AddressingMode.absolute);\n        set(0xff, Operation.isc, AddressingMode.absoluteX);\n        set(0xfb, Operation.isc, AddressingMode.absoluteY);\n        set(0xe3, Operation.isc, AddressingMode.indexedIndirectX);\n        set(0xf3, Operation.isc, AddressingMode.indirectIndexedY);\n\n        set(0x0b, Operation.aac, AddressingMode.immediate);\n        set(0x2b, Operation.aac, AddressingMode.immediate);\n\n        set(0xab, Operation.atx, AddressingMode.immediate);\n\n        set(0x67, Operation.rra, AddressingMode.zeroPage);\n        set(0x77, Operation.rra, AddressingMode.zeroPageX);\n        set(0x6f, Operation.rra, AddressingMode.absolute);\n        set(0x7f, Operation.rra, AddressingMode.absoluteX);\n        set(0x7b, Operation.rra, AddressingMode.absoluteY);\n        set(0x63, Operation.rra, AddressingMode.indexedIndirectX);\n        set(0x73, Operation.rra, AddressingMode.indirectIndexedY);\n\n        set(0x27, Operation.rla, AddressingMode.zeroPage);\n        set(0x37, Operation.rla, AddressingMode.zeroPageX);\n        set(0x2f, Operation.rla, AddressingMode.absolute);\n        set(0x3f, Operation.rla, AddressingMode.absoluteX);\n        set(0x3b, Operation.rla, AddressingMode.absoluteY);\n        set(0x23, Operation.rla, AddressingMode.indexedIndirectX);\n        set(0x33, Operation.rla, AddressingMode.indirectIndexedY);\n    }\n}\n",
    "/*\n *   This file is part of 6502.ts, an emulator for 6502 based systems built\n *   in Typescript.\n *\n *   Copyright (C) 2014 - 2017 Christian Speckner & contributors\n *\n *   This program is free software; you can redistribute it and/or modify\n *   it under the terms of the GNU General Public License as published by\n *   the Free Software Foundation; either version 2 of the License, or\n *   (at your option) any later version.\n *\n *   This program is distributed in the hope that it will be useful,\n *   but WITHOUT ANY WARRANTY; without even the implied warranty of\n *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *   GNU General Public License for more details.\n *\n *   You should have received a copy of the GNU General Public License along\n *   with this program; if not, write to the Free Software Foundation, Inc.,\n *   51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n */\n\nimport DigitalJoystickInterface from './DigitalJoystickInterface';\nimport Switch from './Switch';\nimport SwitchInterface from './SwitchInterface';\n\nexport default class DigitalJoystick implements DigitalJoystickInterface {\n    getLeft(): SwitchInterface {\n        return this._left;\n    }\n\n    getRight(): SwitchInterface {\n        return this._right;\n    }\n\n    getUp(): SwitchInterface {\n        return this._up;\n    }\n\n    getDown(): SwitchInterface {\n        return this._down;\n    }\n\n    getFire(): SwitchInterface {\n        return this._fire;\n    }\n\n    private _left = new Switch();\n    private _right = new Switch();\n    private _up = new Switch();\n    private _down = new Switch();\n\n    private _fire = new Switch();\n}\n",
    "/*\n *   This file is part of 6502.ts, an emulator for 6502 based systems built\n *   in Typescript.\n *\n *   Copyright (C) 2014 - 2017 Christian Speckner & contributors\n *\n *   This program is free software; you can redistribute it and/or modify\n *   it under the terms of the GNU General Public License as published by\n *   the Free Software Foundation; either version 2 of the License, or\n *   (at your option) any later version.\n *\n *   This program is distributed in the hope that it will be useful,\n *   but WITHOUT ANY WARRANTY; without even the implied warranty of\n *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *   GNU General Public License for more details.\n *\n *   You should have received a copy of the GNU General Public License along\n *   with this program; if not, write to the Free Software Foundation, Inc.,\n *   51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n */\n\nimport { Event } from 'microevent.ts';\n\nimport Switch from './Switch';\nimport PaddleInterface from './PaddleInterface';\n\nexport default class Paddle implements PaddleInterface {\n    setValue(value: number): void {\n        this._value = value;\n        this.valueChanged.dispatch(value);\n    }\n\n    getValue(): number {\n        return this._value;\n    }\n\n    getFire(): Switch {\n        return this._fireSwitch;\n    }\n\n    valueChanged = new Event<number>();\n\n    protected _fireSwitch = new Switch();\n    protected _value = 0.5;\n}\n",
    "/*\n *   This file is part of 6502.ts, an emulator for 6502 based systems built\n *   in Typescript.\n *\n *   Copyright (C) 2014 - 2017 Christian Speckner & contributors\n *\n *   This program is free software; you can redistribute it and/or modify\n *   it under the terms of the GNU General Public License as published by\n *   the Free Software Foundation; either version 2 of the License, or\n *   (at your option) any later version.\n *\n *   This program is distributed in the hope that it will be useful,\n *   but WITHOUT ANY WARRANTY; without even the implied warranty of\n *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *   GNU General Public License for more details.\n *\n *   You should have received a copy of the GNU General Public License along\n *   with this program; if not, write to the Free Software Foundation, Inc.,\n *   51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n */\n\nimport { Event } from 'microevent.ts';\n\nimport SwitchInterface from './SwitchInterface';\n\nexport default class Switch implements SwitchInterface {\n    constructor(private _state: boolean = false) {}\n\n    read(): boolean {\n        this.beforeRead.dispatch(this);\n        return this._state;\n    }\n\n    peek(): boolean {\n        return this._state;\n    }\n\n    toggle(state: boolean): void {\n        if (this._state === state) {\n            return;\n        }\n\n        this._state = state;\n        this.stateChanged.dispatch(state);\n    }\n\n    stateChanged = new Event<boolean>();\n    beforeRead = new Event<this>();\n}\n",
    "/*\n *   This file is part of 6502.ts, an emulator for 6502 based systems built\n *   in Typescript.\n *\n *   Copyright (C) 2014 - 2017 Christian Speckner & contributors\n *\n *   This program is free software; you can redistribute it and/or modify\n *   it under the terms of the GNU General Public License as published by\n *   the Free Software Foundation; either version 2 of the License, or\n *   (at your option) any later version.\n *\n *   This program is distributed in the hope that it will be useful,\n *   but WITHOUT ANY WARRANTY; without even the implied warranty of\n *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *   GNU General Public License for more details.\n *\n *   You should have received a copy of the GNU General Public License along\n *   with this program; if not, write to the Free Software Foundation, Inc.,\n *   51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n */\n\nimport { Event } from 'microevent.ts';\n\nimport BoardInterface from '../board/BoardInterface';\nimport CpuInterface from '../cpu/CpuInterface';\nimport Cpu from '../cpu/Cpu';\nimport Bus from './Bus';\nimport BusInterface from '../bus/BusInterface';\nimport Pia from './Pia';\nimport Tia from './tia/Tia';\nimport CartridgeInterface from './cartridge/CartridgeInterface';\nimport Config from './Config';\n\nimport VideoOutputInterface from '../io/VideoOutputInterface';\nimport WaveformAudioOutputInterface from '../io/WaveformAudioOutputInterface';\nimport PCMAudioOutputInterface from '../io/PCMAudioOutputInterface';\nimport ControlPanel from './ControlPanel';\nimport ControlPanelInterface from './ControlPanelInterface';\nimport DigitalJoystickInterface from '../io/DigitalJoystickInterface';\nimport DigitalJoystick from '../io/DigitalJoystick';\nimport PaddleInterface from '../io/PaddleInterface';\nimport Paddle from '../io/Paddle';\n\nimport TimerInterface from '../board/TimerInterface';\nimport SchedulerInterface from '../../tools/scheduler/SchedulerInterface';\nimport TaskInterface from '../../tools/scheduler/TaskInterface';\nimport RngInterface from '../../tools/rng/GeneratorInterface';\nimport { createRng } from '../../tools/rng/factory';\n\nclass Board implements BoardInterface {\n    constructor(\n        private _config: Config,\n        cartridge: CartridgeInterface,\n        cpuFactory?: (bus: BusInterface, rng?: RngInterface) => CpuInterface\n    ) {\n        this._rng = createRng(_config.randomSeed < 0 ? Math.random() : _config.randomSeed);\n        cartridge.randomize(this._rng);\n\n        const bus = new Bus();\n\n        if (typeof cpuFactory === 'undefined') {\n            cpuFactory = (_bus, rng) => new Cpu(_bus, rng);\n        }\n\n        const controlPanel = new ControlPanel(),\n            joystick0 = new DigitalJoystick(),\n            joystick1 = new DigitalJoystick(),\n            paddles = new Array(4);\n\n        for (let i = 0; i < 4; i++) {\n            paddles[i] = new Paddle();\n        }\n\n        const cpu = cpuFactory(bus, this._rng);\n        const pia = new Pia(controlPanel, joystick0, joystick1, this._rng);\n        const tia = new Tia(_config, joystick0, joystick1, paddles);\n\n        cpu.setInvalidInstructionCallback(() => this._onInvalidInstruction());\n\n        tia\n            .setCpu(cpu)\n            .setBus(bus)\n            .setCpuTimeProvider(() => this.getCpuTime());\n\n        cartridge\n            .setCpu(cpu)\n            .setBus(bus)\n            .setCpuTimeProvider(() => this.getCpuTime());\n\n        pia.setBus(bus);\n\n        bus\n            .setTia(tia)\n            .setPia(pia)\n            .setCartridge(cartridge);\n\n        this._bus = bus;\n        this._cpu = cpu;\n        this._tia = tia;\n        this._pia = pia;\n        this._cartridge = cartridge;\n        this._controlPanel = controlPanel;\n        this._joystick0 = joystick0;\n        this._joystick1 = joystick1;\n        this._paddles = paddles;\n\n        this._bus.event.trap.addHandler((payload: Bus.TrapPayload) =>\n            this.triggerTrap(BoardInterface.TrapReason.bus, payload.message)\n        );\n\n        this._clockHz = Config.getClockHz(_config);\n        this._sliceSize = 228 * (_config.tvMode === Config.TvMode.ntsc ? 262 : 312);\n\n        this.reset();\n    }\n\n    getCpu(): CpuInterface {\n        return this._cpu;\n    }\n\n    getBus(): BusInterface {\n        return this._bus;\n    }\n\n    getVideoOutput(): VideoOutputInterface {\n        return this._tia;\n    }\n\n    getWaveformChannels(): Array<WaveformAudioOutputInterface> {\n        return [0, 1].map(i => this._tia.getWaveformChannel(i));\n    }\n\n    getPCMChannel(): PCMAudioOutputInterface {\n        return this._tia.getPCMChannel();\n    }\n\n    getTimer(): TimerInterface {\n        return this._timer;\n    }\n\n    getConfig(): Config {\n        return this._config;\n    }\n\n    reset(): Board {\n        this._cpu.reset();\n        this._tia.reset();\n        this._pia.reset();\n        this._cartridge.reset();\n\n        this._controlPanel.getResetButton().toggle(false);\n        this._controlPanel.getSelectSwitch().toggle(false);\n        this._controlPanel.getColorSwitch().toggle(false);\n        this._controlPanel.getDifficultySwitchP0().toggle(true);\n        this._controlPanel.getDifficultySwitchP1().toggle(true);\n\n        this._subClock = 0;\n        this._cpuCycles = 0;\n\n        return this;\n    }\n\n    boot(): Board {\n        let cycles = 0,\n            cpuCycles = 0;\n\n        this.reset();\n\n        if (this._cpu.executionState !== CpuInterface.ExecutionState.boot) {\n            throw new Error('Already booted!');\n        }\n\n        while ((this._cpu.executionState as CpuInterface.ExecutionState) !== CpuInterface.ExecutionState.fetch) {\n            this._cycle();\n\n            cycles++;\n            if (this._subClock === 0) {\n                cpuCycles++;\n            }\n        }\n\n        this.cpuClock.dispatch(cpuCycles);\n        this.clock.dispatch(cycles);\n        return this;\n    }\n\n    suspend(): void {\n        this._suspended = true;\n        this._updateAudioState();\n    }\n\n    resume(): void {\n        this._suspended = false;\n        this._updateAudioState();\n    }\n\n    setAudioEnabled(state: boolean) {\n        this._audioEnabled = state;\n        this._updateAudioState();\n    }\n\n    triggerTrap(reason: BoardInterface.TrapReason, message?: string): Board {\n        this._stop();\n\n        this._trap = true;\n\n        if (this.trap.hasHandlers) {\n            this.trap.dispatch(new BoardInterface.TrapPayload(reason, this, message));\n        } else {\n            throw new Error(message);\n        }\n\n        return this;\n    }\n\n    getControlPanel(): ControlPanelInterface {\n        return this._controlPanel;\n    }\n\n    getJoystick0(): DigitalJoystickInterface {\n        return this._joystick0;\n    }\n\n    getJoystick1(): DigitalJoystickInterface {\n        return this._joystick1;\n    }\n\n    getBoardStateDebug(): string {\n        const sep = '============';\n\n        return (\n            'TIA:\\n' +\n            sep +\n            '\\n' +\n            this._tia.getDebugState() +\n            '\\n' +\n            `\\n` +\n            `PIA:\\n` +\n            `${sep}\\n` +\n            `${this._pia.getDebugState()}\\n`\n        );\n    }\n\n    setClockMode(clockMode: BoardInterface.ClockMode): Board {\n        this._clockMode = clockMode;\n\n        return this;\n    }\n\n    getClockMode(): BoardInterface.ClockMode {\n        return this._clockMode;\n    }\n\n    getPaddle(idx: number): PaddleInterface {\n        return this._paddles[idx];\n    }\n\n    getCpuTime(): number {\n        return this._cpuCycles / Config.getClockHz(this._config) * 3;\n    }\n\n    private static _executeSlice(board: Board, _timeSlice?: number) {\n        const slice = _timeSlice ? Math.round(_timeSlice * board._clockHz / 1000) : board._sliceSize;\n\n        return board._tick(slice) / board._clockHz * 1000;\n    }\n\n    private _updateAudioState(): void {\n        this._tia.setAudioEnabled(this._audioEnabled && !this._suspended);\n    }\n\n    private _cycle(): void {\n        this._tia.cycle();\n\n        if (this._subClock++ >= 2) {\n            this._pia.cycle();\n            this._cpu.cycle();\n            this._subClock = 0;\n        }\n    }\n\n    private _tick(requestedCycles: number): number {\n        let i = 0,\n            cycles = 0,\n            cpuCycles = 0,\n            lastExecutionState = this._cpu.executionState;\n\n        this._trap = false;\n\n        while (i++ < requestedCycles && !this._trap) {\n            this._cycle();\n            cycles++;\n\n            if (this._subClock === 0) {\n                cpuCycles++;\n                this._cpuCycles++;\n            }\n\n            if (lastExecutionState !== this._cpu.executionState) {\n                lastExecutionState = this._cpu.executionState;\n\n                if (this._cpu.executionState === CpuInterface.ExecutionState.fetch) {\n                    this._cartridge.notifyCpuCycleComplete();\n\n                    if (\n                        this._clockMode === BoardInterface.ClockMode.instruction &&\n                        cpuCycles > 0 &&\n                        this.cpuClock.hasHandlers\n                    ) {\n                        this.cpuClock.dispatch(cpuCycles);\n                        cpuCycles = 0;\n                    }\n                }\n            }\n        }\n\n        if (cpuCycles > 0 && this.cpuClock.hasHandlers) {\n            this.cpuClock.dispatch(cpuCycles);\n        }\n\n        if (cycles > 0 && this.clock.hasHandlers) {\n            this.clock.dispatch(cycles);\n        }\n\n        return cycles;\n    }\n\n    private _start(scheduler: SchedulerInterface) {\n        if (this._runTask) {\n            return;\n        }\n\n        this._runTask = scheduler.start(\n            Board._executeSlice,\n            this,\n            1000 / (this._config.tvMode === Config.TvMode.ntsc ? 60 : 50)\n        );\n    }\n\n    private _stop() {\n        if (!this._runTask) {\n            return;\n        }\n\n        this._runTask.stop();\n\n        this._runTask = undefined;\n    }\n\n    private _onInvalidInstruction() {\n        this.triggerTrap(BoardInterface.TrapReason.cpu, 'invalid instruction');\n    }\n\n    trap = new Event<BoardInterface.TrapPayload>();\n\n    clock = new Event<number>();\n\n    cpuClock = new Event<number>();\n\n    private _cpu: CpuInterface;\n    private _bus: Bus;\n    private _tia: Tia;\n    private _pia: Pia;\n    private _cartridge: CartridgeInterface;\n    private _controlPanel: ControlPanel;\n    private _joystick0: DigitalJoystick;\n    private _joystick1: DigitalJoystick;\n    private _paddles: Array<Paddle>;\n\n    private _runTask: TaskInterface;\n    private _clockMode = BoardInterface.ClockMode.lazy;\n    private _cpuCycles = 0;\n    private _trap = false;\n\n    private _audioEnabled = true;\n    private _suspended = true;\n\n    private _subClock = 0;\n\n    private _clockHz = 0;\n    private _sliceSize = 0;\n\n    private _timer = {\n        tick: (clocks: number): number => this._tick(clocks),\n        start: (scheduler: SchedulerInterface): void => this._start(scheduler),\n        stop: (): void => this._stop(),\n        isRunning: (): boolean => !!this._runTask\n    };\n\n    private _rng: RngInterface;\n}\n\nexport default Board;\n",
    "/*\n *   This file is part of 6502.ts, an emulator for 6502 based systems built\n *   in Typescript.\n *\n *   Copyright (C) 2014 - 2017 Christian Speckner & contributors\n *\n *   This program is free software; you can redistribute it and/or modify\n *   it under the terms of the GNU General Public License as published by\n *   the Free Software Foundation; either version 2 of the License, or\n *   (at your option) any later version.\n *\n *   This program is distributed in the hope that it will be useful,\n *   but WITHOUT ANY WARRANTY; without even the implied warranty of\n *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *   GNU General Public License for more details.\n *\n *   You should have received a copy of the GNU General Public License along\n *   with this program; if not, write to the Free Software Foundation, Inc.,\n *   51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n */\n\nimport { Event } from 'microevent.ts';\n\nimport BusInterface from '../bus/BusInterface';\nimport Tia from './tia/Tia';\nimport Pia from './Pia';\nimport CartridgeInterface from './cartridge/CartridgeInterface';\n\nclass Bus implements BusInterface {\n    setTia(tia: Tia): Bus {\n        tia.trap.addHandler((payload: Tia.TrapPayload) =>\n            this.triggerTrap(Bus.TrapReason.tia, 'TIA: ' + (payload.message || ''))\n        );\n\n        this._tia = tia;\n\n        return this;\n    }\n\n    setPia(pia: Pia): Bus {\n        pia.trap.addHandler((payload: Pia.TrapPayload) =>\n            this.triggerTrap(Bus.TrapReason.pia, 'PIA: ' + (payload.message || ''))\n        );\n\n        this._pia = pia;\n\n        return this;\n    }\n\n    setCartridge(cartridge: CartridgeInterface): Bus {\n        cartridge.trap.addHandler((payload: CartridgeInterface.TrapPayload) =>\n            this.triggerTrap(Bus.TrapReason.cartridge, 'CARTRIDGE: ' + (payload.message || ''))\n        );\n\n        this._cartridge = cartridge;\n\n        return this;\n    }\n\n    readWord(address: number): number {\n        return this.read(address) | (this.read((address + 1) & 0xffff) << 8);\n    }\n\n    read(address: number): number {\n        // Mask out bits 13-15\n        this._lastAddressBusValue = address;\n        address &= 0x1fff;\n\n        // Chip select A12 -> cartridge\n        if (address & 0x1000) {\n            this._lastDataBusValue = this._cartridge.read(address);\n            this.event.read.dispatch(Bus.AccessType.cartridge);\n        } else if (address & 0x80) {\n            // Chip select A7 -> PIA\n            this._lastDataBusValue = this._pia.read(address);\n            this.event.read.dispatch(Bus.AccessType.pia);\n        } else {\n            this._lastDataBusValue = this._tia.read(address);\n            this.event.read.dispatch(Bus.AccessType.tia);\n        }\n\n        return this._lastDataBusValue;\n    }\n\n    write(address: number, value: number): void {\n        this._lastDataBusValue = value;\n        this._lastAddressBusValue = address;\n\n        // Mask out bits 12-15\n        address &= 0x1fff;\n\n        // Chip select A12 -> cartridge\n        if (address & 0x1000) {\n            this._cartridge.write(address, value);\n            this.event.write.dispatch(Bus.AccessType.cartridge);\n        } else if (address & 0x80) {\n            // Chip select A7 -> PIA\n            this._pia.write(address, value);\n            this.event.write.dispatch(Bus.AccessType.pia);\n        } else {\n            this._tia.write(address, value);\n            this.event.write.dispatch(Bus.AccessType.tia);\n        }\n    }\n\n    peek(address: number): number {\n        address &= 0x1fff;\n\n        // Chip select A12 -> cartridge\n        if (address & 0x1000) {\n            return this._cartridge.peek(address);\n        } else if (address & 0x80) {\n            // Chip select A7 -> PIA\n            return this._pia.peek(address);\n        } else {\n            return this._tia.peek(address);\n        }\n    }\n\n    // Stub\n    poke(address: number, value: number) {}\n\n    getLastDataBusValue(): number {\n        return this._lastDataBusValue;\n    }\n\n    getLastAddresBusValue(): number {\n        return this._lastAddressBusValue;\n    }\n\n    private triggerTrap(reason: Bus.TrapReason, message?: string): void {\n        if (this.event.trap.hasHandlers) {\n            this.event.trap.dispatch(new Bus.TrapPayload(reason, this, message));\n        } else {\n            throw new Error(message);\n        }\n    }\n\n    event = {\n        trap: new Event<Bus.TrapPayload>(),\n        read: new Event<Bus.AccessType>(),\n        write: new Event<Bus.AccessType>()\n    };\n\n    private _tia: Tia = null;\n    private _pia: Pia = null;\n    private _cartridge: CartridgeInterface = null;\n\n    private _lastDataBusValue = 0;\n    private _lastAddressBusValue = 0;\n}\n\nnamespace Bus {\n    export const enum TrapReason {\n        tia,\n        pia,\n        cartridge\n    }\n\n    export const enum AccessType {\n        tia,\n        pia,\n        cartridge\n    }\n\n    export class TrapPayload {\n        constructor(public reason: TrapReason, public bus: Bus, public message?: string) {}\n    }\n}\n\nexport default Bus;\n",
    "/*\n *   This file is part of 6502.ts, an emulator for 6502 based systems built\n *   in Typescript.\n *\n *   Copyright (C) 2014 - 2017 Christian Speckner & contributors\n *\n *   This program is free software; you can redistribute it and/or modify\n *   it under the terms of the GNU General Public License as published by\n *   the Free Software Foundation; either version 2 of the License, or\n *   (at your option) any later version.\n *\n *   This program is distributed in the hope that it will be useful,\n *   but WITHOUT ANY WARRANTY; without even the implied warranty of\n *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *   GNU General Public License for more details.\n *\n *   You should have received a copy of the GNU General Public License along\n *   with this program; if not, write to the Free Software Foundation, Inc.,\n *   51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n */\n\ninterface Config {\n    tvMode: Config.TvMode;\n    enableAudio: boolean;\n    randomSeed: number;\n    emulatePaddles: boolean;\n    frameStart: number;\n    pcmAudio: boolean;\n}\n\nnamespace Config {\n    export const enum TvMode {\n        ntsc,\n        pal,\n        secam\n    }\n\n    export function create(config: Partial<Config> = {}): Config {\n        return {\n            tvMode: TvMode.ntsc,\n            enableAudio: true,\n            randomSeed: -1,\n            emulatePaddles: true,\n            frameStart: -1,\n            pcmAudio: false,\n\n            ...config\n        };\n    }\n\n    export function getClockHz(config: Config): number {\n        switch (config.tvMode) {\n            case Config.TvMode.ntsc:\n                return 262 * 228 * 60;\n\n            case Config.TvMode.pal:\n            case Config.TvMode.secam:\n                return 312 * 228 * 50;\n        }\n    }\n}\n\nexport default Config;\n",
    "/*\n *   This file is part of 6502.ts, an emulator for 6502 based systems built\n *   in Typescript.\n *\n *   Copyright (C) 2014 - 2017 Christian Speckner & contributors\n *\n *   This program is free software; you can redistribute it and/or modify\n *   it under the terms of the GNU General Public License as published by\n *   the Free Software Foundation; either version 2 of the License, or\n *   (at your option) any later version.\n *\n *   This program is distributed in the hope that it will be useful,\n *   but WITHOUT ANY WARRANTY; without even the implied warranty of\n *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *   GNU General Public License for more details.\n *\n *   You should have received a copy of the GNU General Public License along\n *   with this program; if not, write to the Free Software Foundation, Inc.,\n *   51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n */\n\nimport Switch from '../io/Switch';\nimport SwitchInterface from '../io/SwitchInterface';\nimport ControlPanelInterface from './ControlPanelInterface';\n\nexport default class ControlPanel implements ControlPanelInterface {\n    getSelectSwitch(): SwitchInterface {\n        return this._selectSwitch;\n    }\n\n    getResetButton(): SwitchInterface {\n        return this._resetButton;\n    }\n\n    getColorSwitch(): SwitchInterface {\n        return this._colorSwitch;\n    }\n\n    getDifficultySwitchP0(): SwitchInterface {\n        return this._difficutlyP0;\n    }\n\n    getDifficultySwitchP1(): SwitchInterface {\n        return this._difficutlyP1;\n    }\n\n    private _selectSwitch = new Switch();\n    private _resetButton = new Switch();\n    private _colorSwitch = new Switch();\n    private _difficutlyP0 = new Switch();\n    private _difficutlyP1 = new Switch();\n}\n",
    "/*\n *   This file is part of 6502.ts, an emulator for 6502 based systems built\n *   in Typescript.\n *\n *   Copyright (C) 2014 - 2017 Christian Speckner & contributors\n *\n *   This program is free software; you can redistribute it and/or modify\n *   it under the terms of the GNU General Public License as published by\n *   the Free Software Foundation; either version 2 of the License, or\n *   (at your option) any later version.\n *\n *   This program is distributed in the hope that it will be useful,\n *   but WITHOUT ANY WARRANTY; without even the implied warranty of\n *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *   GNU General Public License for more details.\n *\n *   You should have received a copy of the GNU General Public License along\n *   with this program; if not, write to the Free Software Foundation, Inc.,\n *   51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n */\n\nimport { Event } from 'microevent.ts';\n\nimport ControlPanelInterface from './ControlPanelInterface';\nimport DigitalJoystickInterface from '../io/DigitalJoystickInterface';\nimport Bus from './Bus';\n\nimport RngInterface from '../../tools/rng/GeneratorInterface';\n\nclass Pia {\n    constructor(\n        private _controlPanel: ControlPanelInterface,\n        private _joystick0: DigitalJoystickInterface,\n        private _joystick1: DigitalJoystickInterface,\n        private _rng?: RngInterface\n    ) {\n        this.reset();\n    }\n\n    reset(): void {\n        for (let i = 0; i < 128; i++) {\n            this.ram[i] = this._rng ? this._rng.int(0xff) : 0;\n        }\n\n        this._interruptFlag = 0;\n        this._flagSetDuringThisCycle = false;\n\n        this._timerDivide = 1024;\n        this._subTimer = 0;\n        this._rng.int(0xff);\n        this._timerValue = 0;\n        this._timerWrapped = false;\n    }\n\n    read(address: number): number {\n        // RAM select = A9 low?\n        if (address & 0x0200) {\n            if (address & 0x0004) {\n                return this._readTimer(address);\n            } else {\n                return this._readIo(address);\n            }\n        } else {\n            // Mask out A7 - A15\n            return this.ram[address & 0x7f];\n        }\n    }\n\n    peek(address: number): number {\n        // RAM select = A9 low?\n        if (address & 0x0200) {\n            if (address & 0x0004) {\n                return this._peekTimer(address);\n            } else {\n                return this._readIo(address);\n            }\n        } else {\n            // Mask out A7 - A15\n            return this.ram[address & 0x7f];\n        }\n    }\n\n    write(address: number, value: number) {\n        // RAM select = A9 low?\n        if (address & 0x0200) {\n            if (address & 0x0004) {\n                return this._writeTimer(address, value);\n            } else {\n                return this._writeIo(address, value);\n            }\n        } else {\n            // Mask out A7 - A15\n            this.ram[address & 0x7f] = value;\n        }\n    }\n\n    cycle(): void {\n        this._cycleTimer();\n    }\n\n    getDebugState(): string {\n        return `divider: ${this._timerDivide} raw timer: INTIM: ${this._timerValue}`;\n    }\n\n    setBus(bus: Bus): this {\n        this._bus = bus;\n\n        return this;\n    }\n\n    private _writeIo(address: number, value: number): void {}\n\n    private _writeTimer(address: number, value: number): void {\n        this._interruptFlag = 0;\n\n        // clear bit 3 <-> interrupt enable/disable\n        switch (address & 0x0297) {\n            case Pia.Registers.t1024t:\n                return this._setTimer(1024, value);\n\n            case Pia.Registers.tim64t:\n                return this._setTimer(64, value);\n\n            case Pia.Registers.tim8t:\n                return this._setTimer(8, value);\n\n            case Pia.Registers.tim1t:\n                return this._setTimer(1, value);\n        }\n    }\n\n    private _setTimer(divide: number, value: number): void {\n        this._timerDivide = divide;\n        this._timerValue = value;\n        this._subTimer = 0;\n        this._timerWrapped = false;\n    }\n\n    private _readIo(address: number): number {\n        switch (address & 0x0283) {\n            case Pia.Registers.swcha:\n                return (\n                    (this._joystick1.getUp().read() ? 0 : 0x01) |\n                    (this._joystick1.getDown().read() ? 0 : 0x02) |\n                    (this._joystick1.getLeft().read() ? 0 : 0x04) |\n                    (this._joystick1.getRight().read() ? 0 : 0x08) |\n                    (this._joystick0.getUp().read() ? 0 : 0x10) |\n                    (this._joystick0.getDown().read() ? 0 : 0x20) |\n                    (this._joystick0.getLeft().read() ? 0 : 0x40) |\n                    (this._joystick0.getRight().read() ? 0 : 0x80)\n                );\n\n            case Pia.Registers.swchb:\n                return (\n                    (this._controlPanel.getResetButton().read() ? 0 : 0x01) |\n                    (this._controlPanel.getSelectSwitch().read() ? 0 : 0x02) |\n                    (this._controlPanel.getColorSwitch().read() ? 0 : 0x08) |\n                    (this._controlPanel.getDifficultySwitchP0().read() ? 0 : 0x40) |\n                    (this._controlPanel.getDifficultySwitchP1().read() ? 0 : 0x80)\n                );\n        }\n\n        return this._bus.getLastDataBusValue();\n    }\n\n    private _readTimer(address: number): number {\n        if (address & 0x01) {\n            const flag = this._interruptFlag;\n\n            return flag & 0x80;\n        } else {\n            if (!this._flagSetDuringThisCycle) {\n                this._interruptFlag = 0;\n                this._timerWrapped = false;\n            }\n\n            return this._timerValue;\n        }\n    }\n\n    private _peekTimer(address: number): number {\n        return address & 0x01 ? this._interruptFlag & 0x80 : this._timerValue;\n    }\n\n    private _cycleTimer(): void {\n        this._flagSetDuringThisCycle = false;\n\n        if (this._timerWrapped) {\n            this._timerValue = (this._timerValue + 0xff) & 0xff;\n        } else if (this._subTimer === 0 && --this._timerValue < 0) {\n            this._timerValue = 0xff;\n            this._flagSetDuringThisCycle = true;\n            this._interruptFlag = 0xff;\n            this._timerWrapped = true;\n        }\n\n        if (++this._subTimer === this._timerDivide) {\n            this._subTimer = 0;\n        }\n    }\n\n    trap = new Event<Pia.TrapPayload>();\n\n    ram = new Uint8Array(128);\n\n    private _bus: Bus = null;\n\n    private _timerValue = 255;\n    private _subTimer = 0;\n    private _timerDivide = 1024;\n    private _interruptFlag = 0;\n    private _timerWrapped = false;\n    private _flagSetDuringThisCycle = false;\n}\n\nnamespace Pia {\n    export const enum Registers {\n        swcha = 0x280,\n        swacnt = 0x281,\n        swchb = 0x282,\n        swncnt = 0x283,\n        intim = 0x284,\n        instat = 0x285,\n        tim1t = 0x294,\n        tim8t = 0x295,\n        tim64t = 0x296,\n        t1024t = 0x297\n    }\n\n    export const enum TrapReason {\n        invalidRead,\n        invalidWrite\n    }\n\n    export class TrapPayload {\n        constructor(public reason: TrapReason, public pia: Pia, public message?: string) {}\n    }\n}\n\nexport default Pia;\n",
    "/*\n *   This file is part of 6502.ts, an emulator for 6502 based systems built\n *   in Typescript.\n *\n *   Copyright (C) 2014 - 2017 Christian Speckner & contributors\n *\n *   This program is free software; you can redistribute it and/or modify\n *   it under the terms of the GNU General Public License as published by\n *   the Free Software Foundation; either version 2 of the License, or\n *   (at your option) any later version.\n *\n *   This program is distributed in the hope that it will be useful,\n *   but WITHOUT ANY WARRANTY; without even the implied warranty of\n *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *   GNU General Public License for more details.\n *\n *   You should have received a copy of the GNU General Public License along\n *   with this program; if not, write to the Free Software Foundation, Inc.,\n *   51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n */\n\nimport { Event } from 'microevent.ts';\n\nimport CartridgeInterface from './CartridgeInterface';\nimport CartridgeInfo from './CartridgeInfo';\nimport CpuInterface from '../../cpu/CpuInterface';\nimport Bus from '../Bus';\n\nimport RngInterface from '../../../tools/rng/GeneratorInterface';\n\nclass AbstractCartridge implements CartridgeInterface {\n    async init(): Promise<void> {}\n\n    reset(): void {}\n\n    read(address: number): number {\n        return 0;\n    }\n\n    peek(address: number): number {\n        return this.read(address);\n    }\n\n    write(address: number, value: number) {}\n\n    getType(): CartridgeInfo.CartridgeType {\n        return CartridgeInfo.CartridgeType.unknown;\n    }\n\n    setCpu(cpu: CpuInterface): this {\n        return this;\n    }\n\n    setBus(bus: Bus): this {\n        return this;\n    }\n\n    setCpuTimeProvider(provider: () => number) {}\n\n    notifyCpuCycleComplete(): void {}\n\n    randomize(rng: RngInterface): void {}\n\n    protected triggerTrap(reason: CartridgeInterface.TrapReason, message: string) {\n        if (this.trap.hasHandlers) {\n            this.trap.dispatch(new CartridgeInterface.TrapPayload(reason, this, message));\n        } else {\n            throw new Error(message);\n        }\n    }\n\n    trap = new Event<CartridgeInterface.TrapPayload>();\n}\n\nexport default AbstractCartridge;\n",
    "/*\n *   This file is part of 6502.ts, an emulator for 6502 based systems built\n *   in Typescript.\n *\n *   Copyright (C) 2014 - 2017 Christian Speckner & contributors\n *\n *   This program is free software; you can redistribute it and/or modify\n *   it under the terms of the GNU General Public License as published by\n *   the Free Software Foundation; either version 2 of the License, or\n *   (at your option) any later version.\n *\n *   This program is distributed in the hope that it will be useful,\n *   but WITHOUT ANY WARRANTY; without even the implied warranty of\n *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *   GNU General Public License for more details.\n *\n *   You should have received a copy of the GNU General Public License along\n *   with this program; if not, write to the Free Software Foundation, Inc.,\n *   51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n */\n\nimport AbstractCartridge from './AbstractCartridge';\nimport CartridgeInfo from './CartridgeInfo';\nimport Bus from '../Bus';\nimport * as cartridgeUtil from './util';\n\nclass Cartridge8040 extends AbstractCartridge {\n    constructor(buffer: cartridgeUtil.BufferInterface) {\n        super();\n\n        if (buffer.length !== 0x2000) {\n            throw new Error(`buffer is not an 8k cartridge image: wrong length ${buffer.length}`);\n        }\n\n        for (let i = 0; i < 0x1000; i++) {\n            this._bank0[i] = buffer[i];\n            this._bank1[i] = buffer[0x1000 + i];\n        }\n\n        this.reset();\n    }\n\n    static matchesBuffer(buffer: cartridgeUtil.BufferInterface): boolean {\n        // Signatures shamelessly stolen from stella\n        const signatureCounts = cartridgeUtil.searchForSignatures(buffer, [\n            [0xad, 0x00, 0x08], // LDA $0800\n            [0xad, 0x40, 0x08], // LDA $0840\n            [0x2c, 0x00, 0x08], // BIT $0800\n            [0x0c, 0x00, 0x08, 0x4c], // NOP $0800; JMP ...\n            [0x0c, 0xff, 0x0f, 0x4c] // NOP $0FFF; JMP ...\n        ]);\n\n        for (const count of signatureCounts) {\n            if (count >= 2) {\n                return true;\n            }\n        }\n\n        return false;\n    }\n\n    reset(): void {\n        this._bank = this._bank0;\n    }\n\n    read(address: number): number {\n        return this.peek(address);\n    }\n\n    peek(address: number): number {\n        address &= 0x0fff;\n\n        return this._bank[address];\n    }\n\n    getType(): CartridgeInfo.CartridgeType {\n        return CartridgeInfo.CartridgeType.bankswitch_8k_econobanking;\n    }\n\n    setBus(bus: Bus): this {\n        this._bus = bus;\n\n        this._bus.event.read.addHandler(this._onBusAccess, this);\n        this._bus.event.write.addHandler(this._onBusAccess, this);\n\n        return this;\n    }\n\n    private _onBusAccess(accessType: Bus.AccessType, self: Cartridge8040): void {\n        const address = self._bus.getLastAddresBusValue() & 0x1840;\n\n        switch (address) {\n            case 0x0800:\n                self._bank = self._bank0;\n                break;\n\n            case 0x0840:\n                self._bank = self._bank1;\n                break;\n        }\n    }\n\n    private _bank: Uint8Array = null;\n    private _bank0 = new Uint8Array(0x1000);\n    private _bank1 = new Uint8Array(0x1000);\n\n    private _bus: Bus = null;\n}\n\nexport default Cartridge8040;\n",
    "/*\n *   This file is part of 6502.ts, an emulator for 6502 based systems built\n *   in Typescript.\n *\n *   Copyright (C) 2014 - 2017 Christian Speckner & contributors\n *\n *   This program is free software; you can redistribute it and/or modify\n *   it under the terms of the GNU General Public License as published by\n *   the Free Software Foundation; either version 2 of the License, or\n *   (at your option) any later version.\n *\n *   This program is distributed in the hope that it will be useful,\n *   but WITHOUT ANY WARRANTY; without even the implied warranty of\n *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *   GNU General Public License for more details.\n *\n *   You should have received a copy of the GNU General Public License along\n *   with this program; if not, write to the Free Software Foundation, Inc.,\n *   51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n */\n\nimport AbstractCartridge from './AbstractCartridge';\nimport CartridgeInfo from './CartridgeInfo';\n\nclass Cartridge2k extends AbstractCartridge {\n    constructor(buffer: { [i: number]: number; length: number }) {\n        super();\n\n        if (buffer.length > 0x0800) {\n            throw new Error(`buffer is not a 2k cartridge image: wrong length ${buffer.length}`);\n        }\n\n        for (let i = 0; i < buffer.length && i < 0x0800; i++) {\n            this._rom[0x07ff - i] = buffer[buffer.length - 1 - i];\n        }\n    }\n\n    read(address: number): number {\n        // Mask out A11 - A15\n        return this._rom[address & 0x07ff];\n    }\n\n    getType(): CartridgeInfo.CartridgeType {\n        return CartridgeInfo.CartridgeType.vanilla_2k;\n    }\n\n    // A11 - A15 masked out -> 0x0800 bytes of ROM\n    protected _rom = new Uint8Array(0x0800);\n}\n\nexport default Cartridge2k;\n",
    "/*\n *   This file is part of 6502.ts, an emulator for 6502 based systems built\n *   in Typescript.\n *\n *   Copyright (C) 2014 - 2017 Christian Speckner & contributors\n *\n *   This program is free software; you can redistribute it and/or modify\n *   it under the terms of the GNU General Public License as published by\n *   the Free Software Foundation; either version 2 of the License, or\n *   (at your option) any later version.\n *\n *   This program is distributed in the hope that it will be useful,\n *   but WITHOUT ANY WARRANTY; without even the implied warranty of\n *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *   GNU General Public License for more details.\n *\n *   You should have received a copy of the GNU General Public License along\n *   with this program; if not, write to the Free Software Foundation, Inc.,\n *   51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n */\n\nimport AbstractCartridge from './AbstractCartridge';\nimport * as cartridgeUtil from './util';\nimport CartridgeInfo from './CartridgeInfo';\nimport Bus from '../Bus';\n\nimport RngInterface from '../../../tools/rng/GeneratorInterface';\n\nclass Cartridge3E extends AbstractCartridge {\n    constructor(buffer: cartridgeUtil.BufferInterface) {\n        super();\n\n        if ((buffer.length & 0x07ff) !== 0) {\n            throw new Error(`buffer length ${buffer.length} is not a multiple of 2k`);\n        }\n\n        const bankCount = buffer.length >>> 11;\n        if (bankCount < 2) {\n            throw new Error('image must have at least 2k');\n        }\n\n        this._banks = new Array<Uint8Array>(bankCount);\n\n        for (let i = 0; i < bankCount; i++) {\n            this._banks[i] = new Uint8Array(0x0800);\n        }\n\n        for (let i = 0; i <= 0xff; i++) {\n            this._ramBanks[i] = new Uint8Array(0x0400);\n        }\n\n        this._ramBank = this._ramBanks[0];\n        this._bank1 = this._banks[bankCount - 1];\n        this._bank0 = this._banks[0];\n\n        for (let i = 0; i < 0x0800; i++) {\n            for (let j = 0; j < bankCount; j++) {\n                this._banks[j][i] = buffer[0x0800 * j + i];\n            }\n        }\n    }\n\n    static matchesBuffer(buffer: cartridgeUtil.BufferInterface): boolean {\n        // Signature shamelessly stolen from stella\n        const signatureCounts = cartridgeUtil.searchForSignatures(\n            buffer,\n            [[0x85, 0x3e, 0xa9, 0x00]] // STA $3E, LDA #0\n        );\n\n        return signatureCounts[0] >= 1;\n    }\n\n    reset(): void {\n        this._bank0 = this._banks[0];\n    }\n\n    randomize(rng: RngInterface): void {\n        for (let i = 0; i < this._ramBanks.length; i++) {\n            for (let j = 0; j < 0x0400; j++) {\n                this._ramBanks[i][j] = rng.int(0xff);\n            }\n        }\n    }\n\n    setBus(bus: Bus): this {\n        this._bus = bus;\n\n        this._bus.event.read.addHandler(Cartridge3E._onBusAccess, this);\n        this._bus.event.write.addHandler(Cartridge3E._onBusAccess, this);\n\n        return this;\n    }\n\n    read(address: number): number {\n        address &= 0x0fff;\n\n        if (this._ramSelect) {\n            if (address < 0x0400) {\n                return this._ramBank[address];\n            }\n\n            if (address < 0x0800) {\n                return (this._ramBank[address & 0x03ff] = this._bus.getLastDataBusValue());\n            }\n\n            return this._bank1[address & 0x07ff];\n        }\n\n        return address < 0x0800 ? this._bank0[address] : this._bank1[address & 0x07ff];\n    }\n\n    peek(address: number): number {\n        address &= 0x0fff;\n\n        if (this._ramSelect) {\n            if (address < 0x0400) {\n                return this._ramBank[address];\n            }\n\n            if (address < 0x0800) {\n                return this._bus.getLastDataBusValue();\n            }\n\n            return this._bank1[address & 0x07ff];\n        }\n\n        return address < 0x0800 ? this._bank0[address] : this._bank1[address & 0x07ff];\n    }\n\n    write(address: number, value: number): void {\n        if (!this._ramSelect) {\n            return;\n        }\n\n        address &= 0x0fff;\n\n        if (address >= 0x0400 && address < 0x0800) {\n            this._ramBank[address & 0x03ff] = value;\n        }\n    }\n\n    getType(): CartridgeInfo.CartridgeType {\n        return CartridgeInfo.CartridgeType.bankswitch_3E;\n    }\n\n    private static _onBusAccess(accessType: Bus.AccessType, self: Cartridge3E): void {\n        switch (self._bus.getLastAddresBusValue()) {\n            case 0x003f:\n                self._ramSelect = false;\n                self._bank0 = self._banks[self._bus.getLastDataBusValue() % self._banks.length];\n                break;\n\n            case 0x003e:\n                self._ramSelect = true;\n                self._ramBank = self._ramBanks[self._bus.getLastDataBusValue() % 32];\n                break;\n        }\n    }\n\n    private _banks: Array<Uint8Array> = null;\n    private _bank0: Uint8Array;\n    private _bank1: Uint8Array;\n\n    private _ramSelect = false;\n    private _ramBanks = new Array<Uint8Array>(0x0100);\n    private _ramBank: Uint8Array;\n\n    private _bus: Bus = null;\n}\n\nexport default Cartridge3E;\n",
    "/*\n *   This file is part of 6502.ts, an emulator for 6502 based systems built\n *   in Typescript.\n *\n *   Copyright (C) 2014 - 2017 Christian Speckner & contributors\n *\n *   This program is free software; you can redistribute it and/or modify\n *   it under the terms of the GNU General Public License as published by\n *   the Free Software Foundation; either version 2 of the License, or\n *   (at your option) any later version.\n *\n *   This program is distributed in the hope that it will be useful,\n *   but WITHOUT ANY WARRANTY; without even the implied warranty of\n *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *   GNU General Public License for more details.\n *\n *   You should have received a copy of the GNU General Public License along\n *   with this program; if not, write to the Free Software Foundation, Inc.,\n *   51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n */\n\nimport AbstractCartridge from './AbstractCartridge';\nimport * as cartridgeUtil from './util';\nimport CartridgeInfo from './CartridgeInfo';\nimport Bus from '../Bus';\n\nclass Cartridge3F extends AbstractCartridge {\n    constructor(buffer: cartridgeUtil.BufferInterface) {\n        super();\n\n        if (buffer.length !== 0x2000) {\n            throw new Error(`buffer is not an 8k cartridge image: invalid length ${buffer.length}`);\n        }\n\n        for (let i = 0; i < 4; i++) {\n            this._banks[i] = new Uint8Array(0x0800);\n        }\n\n        this._bank1 = this._banks[3];\n        this._bank0 = this._banks[0];\n\n        for (let i = 0; i < 0x0800; i++) {\n            for (let j = 0; j < 4; j++) {\n                this._banks[j][i] = buffer[0x0800 * j + i];\n            }\n        }\n    }\n\n    static matchesBuffer(buffer: cartridgeUtil.BufferInterface): boolean {\n        // Signature shamelessly stolen from stella\n        const signatureCounts = cartridgeUtil.searchForSignatures(\n            buffer,\n            [[0x85, 0x3f]] // STA $3F\n        );\n\n        return signatureCounts[0] >= 2;\n    }\n\n    reset(): void {\n        this._bank0 = this._banks[0];\n    }\n\n    setBus(bus: Bus): this {\n        this._bus = bus;\n\n        this._bus.event.read.addHandler(Cartridge3F._onBusAccess, this);\n        this._bus.event.write.addHandler(Cartridge3F._onBusAccess, this);\n\n        return this;\n    }\n\n    read(address: number): number {\n        address &= 0x0fff;\n\n        return address < 0x0800 ? this._bank0[address] : this._bank1[address & 0x07ff];\n    }\n\n    getType(): CartridgeInfo.CartridgeType {\n        return CartridgeInfo.CartridgeType.bankswitch_8k_3F;\n    }\n\n    private static _onBusAccess(accessType: Bus.AccessType, self: Cartridge3F): void {\n        if (self._bus.getLastAddresBusValue() === 0x003f) {\n            self._bank0 = self._banks[self._bus.getLastDataBusValue() & 0x03];\n        }\n    }\n\n    private _banks = new Array<Uint8Array>(4);\n    private _bank0: Uint8Array;\n    private _bank1: Uint8Array;\n    private _bus: Bus = null;\n}\n\nexport default Cartridge3F;\n",
    "/*\n *   This file is part of 6502.ts, an emulator for 6502 based systems built\n *   in Typescript.\n *\n *   Copyright (C) 2014 - 2017 Christian Speckner & contributors\n *\n *   This program is free software; you can redistribute it and/or modify\n *   it under the terms of the GNU General Public License as published by\n *   the Free Software Foundation; either version 2 of the License, or\n *   (at your option) any later version.\n *\n *   This program is distributed in the hope that it will be useful,\n *   but WITHOUT ANY WARRANTY; without even the implied warranty of\n *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *   GNU General Public License for more details.\n *\n *   You should have received a copy of the GNU General Public License along\n *   with this program; if not, write to the Free Software Foundation, Inc.,\n *   51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n */\n\nimport AbstractCartridge from './AbstractCartridge';\nimport CartridgeInfo from './CartridgeInfo';\n\nclass Cartridge4k extends AbstractCartridge {\n    constructor(buffer: { [i: number]: number; length: number }) {\n        super();\n\n        if (buffer.length !== 0x1000) {\n            console.warn(`buffer has invalid size for 4K image: ${buffer.length} bytes`);\n        }\n\n        const len = Math.min(0x1000, buffer.length);\n\n        for (let i = 0; i < 0x1000 && i < buffer.length; i++) {\n            this._rom[0x0fff - i] = buffer[len - 1 - i];\n        }\n    }\n\n    read(address: number): number {\n        // Mask out A12 - A15\n        return this._rom[address & 0x0fff];\n    }\n\n    getType(): CartridgeInfo.CartridgeType {\n        return CartridgeInfo.CartridgeType.vanilla_4k;\n    }\n\n    // A12 - A15 masked out -> 0x1000 bytes of ROM\n    protected _rom = new Uint8Array(0x1000);\n}\n\nexport default Cartridge4k;\n",
    "/*\n *   This file is part of 6502.ts, an emulator for 6502 based systems built\n *   in Typescript.\n *\n *   Copyright (C) 2014 - 2017 Christian Speckner & contributors\n *\n *   This program is free software; you can redistribute it and/or modify\n *   it under the terms of the GNU General Public License as published by\n *   the Free Software Foundation; either version 2 of the License, or\n *   (at your option) any later version.\n *\n *   This program is distributed in the hope that it will be useful,\n *   but WITHOUT ANY WARRANTY; without even the implied warranty of\n *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *   GNU General Public License for more details.\n *\n *   You should have received a copy of the GNU General Public License along\n *   with this program; if not, write to the Free Software Foundation, Inc.,\n *   51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n */\n\nimport Thumbulator from 'thumbulator.ts';\n\nimport HarmonySoc from './harmony/Soc';\nimport AbstractCartridge from './AbstractCartridge';\nimport CartridgeInfo from './CartridgeInfo';\nimport Bus from '../Bus';\nimport CartridgeInterface from './CartridgeInterface';\nimport * as cartridgeUtil from './util';\n\nconst enum ReservedStream {\n    amplitude = 0x22,\n    jump = 0x21,\n    comm = 0x20\n}\n\nconst DSPointerBase = new Uint16Array([0x06e0, 0x00a0]);\nconst DSIncrementBase = new Uint16Array([0x0768, 0x0128]);\nconst WaveformBase = new Uint16Array([0x07f0, 0x01b0]);\n\nclass CartridgeCDF extends AbstractCartridge {\n    constructor(buffer: cartridgeUtil.BufferInterface) {\n        super();\n\n        this._version = CartridgeCDF.getVersion(buffer);\n\n        if (buffer.length !== 0x8000) {\n            throw new Error(`not a CDF image: invalid lenght ${buffer.length}`);\n        }\n\n        if (this._version < 0) {\n            throw new Error('not a CDF image: missing signature');\n        }\n\n        this._soc = new HarmonySoc(this._version > 0 ? this._handleBxCDF1 : this._handleBxCDF0);\n        this._soc.trap.addHandler(message => this.triggerTrap(CartridgeInterface.TrapReason.other, message));\n\n        /* ROM layout:\n         *\n         *    2k ARM driver\n         *    2k user ARM code\n         *    28k 6502 ROM\n         */\n\n        this._rom = this._soc.getRom();\n\n        for (let i = 0; i < 0x8000; i++) {\n            this._rom[i] = buffer[i];\n        }\n\n        for (let i = 0; i < 7; i++) {\n            this._banks[i] = new Uint8Array(this._rom.buffer, 0x1000 * (i + 1), 0x1000);\n        }\n\n        /* RAM layout\n         *\n         *    * 2k driver (copied to RAM)\n         *    * 4k display RAM\n         *    * 2k aux RAM\n         */\n\n        this._ram = this._soc.getRam();\n        this._displayRam = new Uint8Array(this._soc.getRam().buffer, 0x0800, 0x1000);\n\n        for (let i = 0; i < 3; i++) {\n            this._musicStreams[i] = new MusicStream();\n        }\n\n        this.reset();\n    }\n\n    static getVersion(buffer: cartridgeUtil.BufferInterface): number {\n        const sig = 'CDF'.split('').map(x => x.charCodeAt(0)),\n            startAddress = cartridgeUtil.searchForSignature(buffer, [...sig, -1, ...sig, -1, ...sig]);\n\n        if (startAddress < 0) {\n            return -1;\n        }\n\n        return buffer[startAddress + 3] > 0 ? 1 : 0;\n    }\n\n    static matchesBuffer(buffer: cartridgeUtil.BufferInterface): boolean {\n        return CartridgeCDF.getVersion(buffer) >= 0;\n    }\n\n    init(): Promise<void> {\n        return this._soc.init();\n    }\n\n    reset() {\n        for (let i = 0; i < 0x0200; i++) {\n            this._soc.setRam32(i << 2, this._soc.getRom32(i << 2));\n        }\n\n        this._fastFetch = false;\n        this._digitalAudio = false;\n\n        this._fastJumpCountdown = 0;\n        this._fastFetchPending = false;\n\n        this._jmpOperandAddress = 0;\n        this._ldaOperandAddress = 0;\n\n        this._currentBank = this._banks[6];\n\n        for (let i = 0; i < 3; i++) {\n            this._musicStreams[i].reset();\n        }\n\n        this._lastCpuTime = 0;\n        this._clockAccumulator = 0;\n    }\n\n    getType(): CartridgeInfo.CartridgeType {\n        return CartridgeInfo.CartridgeType.bankswitch_cdf;\n    }\n\n    setBus(bus: Bus): this {\n        this._bus = bus;\n\n        return this;\n    }\n\n    setCpuTimeProvider(provider: () => number): void {\n        this._cpuTimeProvider = provider;\n    }\n\n    read(address: number): number {\n        return this._access(address, this._bus.getLastDataBusValue());\n    }\n\n    peek(address: number): number {\n        return this._currentBank[address & 0x0fff];\n    }\n\n    write(address: number, value: number): void {\n        this._access(address, value);\n    }\n\n    private _access(address: number, value: number): number {\n        address &= 0x0fff;\n\n        const romValue = this._currentBank[address];\n\n        if (this._fastJumpCountdown-- > 0 && address === this._jmpOperandAddress) {\n            this._jmpOperandAddress++;\n\n            return this._datastreamReadWithIncrement(ReservedStream.jump, 0x0100);\n        }\n\n        if (\n            this._fastFetch &&\n            romValue === 0x4c &&\n            this._currentBank[(address + 1) & 0x0fff] === 0 &&\n            this._currentBank[(address + 2) & 0x0fff] === 0\n        ) {\n            this._fastJumpCountdown = 2;\n            this._jmpOperandAddress = (address + 1) & 0x0fff;\n\n            return romValue;\n        }\n\n        this._fastJumpCountdown = 0;\n\n        if (this._fastFetch && this._fastFetchPending && this._ldaOperandAddress === address && romValue <= 0x22) {\n            this._fastFetchPending = false;\n\n            if (romValue === ReservedStream.amplitude) {\n                this._clockMusicStreams();\n\n                if (this._digitalAudio) {\n                    const counter = this._musicStreams[0].counter,\n                        sampleAddress = this._soc.getRam32(WaveformBase[this._version]) + (counter >>> 21);\n\n                    let sample = 0;\n\n                    if (sampleAddress < 0x8000) {\n                        sample = this._rom[sampleAddress];\n                    }\n\n                    if (sampleAddress > 0x40000000 && sampleAddress < 0x40002000) {\n                        sample = this._ram[sampleAddress - 0x40000000];\n                    }\n\n                    if ((counter & 0x100000) === 0) {\n                        sample >>>= 4;\n                    }\n\n                    return sample & 0x0f;\n                } else {\n                    let acc = 0;\n                    for (let i = 0; i < 3; i++) {\n                        acc += this._displayRam[\n                            (this._getWaveform(i) +\n                                (this._musicStreams[i].counter >>> this._musicStreams[i].waveformSize)) &\n                                0x0fff\n                        ];\n                    }\n\n                    return acc;\n                }\n            }\n\n            return this._datastreamRead(romValue);\n        }\n\n        this._fastFetchPending = false;\n\n        if (address >= 0x0ff0) {\n            switch (address) {\n                case 0x0ff0:\n                    this._datastreamWriteWithIncrement(ReservedStream.comm, value, 0x0100);\n                    break;\n\n                case 0x0ff1: {\n                    let pointer = this._getDatastreamPointer(ReservedStream.comm);\n                    pointer <<= 8;\n                    pointer &= 0xf0000000;\n                    pointer |= value << 20;\n                    this._setDatastreamPointer(ReservedStream.comm, pointer);\n\n                    break;\n                }\n\n                case 0x0ff2:\n                    this._fastFetch = (value & 0x0f) === 0;\n                    this._digitalAudio = (value & 0xf0) === 0;\n                    break;\n\n                case 0x0ff3:\n                    switch (value) {\n                        case 254:\n                        case 255:\n                            this._soc.run(0x080b);\n                            break;\n                    }\n                    break;\n            }\n\n            if (address > 0x0ff4 && address < 0x0ffc) {\n                this._currentBank = this._banks[address - 0x0ff5];\n            }\n        }\n\n        if (this._fastFetch && romValue === 0xa9) {\n            this._fastFetchPending = true;\n            this._ldaOperandAddress = (address + 1) & 0x0fff;\n        }\n\n        return romValue;\n    }\n\n    private _clockMusicStreams(): void {\n        const cpuTime = this._cpuTimeProvider();\n\n        this._clockAccumulator += (cpuTime - this._lastCpuTime) * 20000;\n        this._lastCpuTime = cpuTime;\n\n        const clocks = Math.floor(this._clockAccumulator);\n        this._clockAccumulator -= clocks;\n\n        if (clocks === 0) {\n            return;\n        }\n\n        for (let i = 0; i < 3; i++) {\n            this._musicStreams[i].increment(clocks);\n        }\n    }\n\n    private _getDatastreamPointer(stream: number): number {\n        return this._soc.getRam32(DSPointerBase[this._version] + 4 * stream);\n    }\n\n    private _setDatastreamPointer(stream: number, value: number): void {\n        this._soc.setRam32(DSPointerBase[this._version] + 4 * stream, value);\n    }\n\n    private _getDatastreamIncrement(stream: number): number {\n        return this._soc.getRam32(DSIncrementBase[this._version] + 4 * stream);\n    }\n\n    private _datastreamRead(stream: number): number {\n        const pointer = this._getDatastreamPointer(stream),\n            value = this._displayRam[pointer >>> 20];\n\n        this._setDatastreamPointer(stream, (pointer + (this._getDatastreamIncrement(stream) << 12)) | 0);\n\n        return value;\n    }\n\n    private _datastreamReadWithIncrement(stream: number, increment: number): number {\n        const pointer = this._getDatastreamPointer(stream),\n            value = this._displayRam[pointer >>> 20];\n\n        this._setDatastreamPointer(stream, (pointer + (increment << 12)) | 0);\n\n        return value;\n    }\n\n    private _datastreamWriteWithIncrement(stream: number, value: number, increment: number) {\n        const pointer = this._getDatastreamPointer(stream);\n\n        this._displayRam[pointer >>> 20] = value;\n\n        this._setDatastreamPointer(stream, (pointer + (increment << 12)) | 0);\n    }\n\n    private _getWaveform(index: number): number {\n        const value = this._soc.getRam32(WaveformBase[this._version] + 4 * index);\n\n        return (value - 0x40000000 - 0x0fff) & 0x0fff;\n    }\n\n    private _handleBxCDF0 = (address: number): number => {\n        const thumbulator = this._soc.getThumbulator(),\n            r2 = thumbulator.readRegister(2),\n            r3 = thumbulator.readRegister(3);\n\n        switch (address) {\n            case 0x000006e2:\n                this._musicStreams[r2 % 3].frequency = r3;\n                return 0;\n\n            case 0x000006e6:\n                this._musicStreams[r2 % 3].counter = 0;\n                return 0;\n\n            case 0x000006ea:\n                thumbulator.writeRegister(2, this._musicStreams[r2 % 3].counter);\n                return 0;\n\n            case 0x000006ee:\n                this._musicStreams[r2 % 3].waveformSize = r3;\n                return 0;\n        }\n\n        return Thumbulator.TrapReason.bxLeaveThumb;\n    };\n\n    private _handleBxCDF1 = (address: number): number => {\n        const thumbulator = this._soc.getThumbulator(),\n            r2 = thumbulator.readRegister(2),\n            r3 = thumbulator.readRegister(3);\n\n        switch (address) {\n            case 0x00000752:\n                this._musicStreams[r2 % 3].frequency = r3;\n                return 0;\n\n            case 0x00000756:\n                this._musicStreams[r2 % 3].counter = 0;\n                return 0;\n\n            case 0x0000075a:\n                thumbulator.writeRegister(2, this._musicStreams[r2 % 3].counter);\n                return 0;\n\n            case 0x0000075e:\n                this._musicStreams[r2 % 3].waveformSize = r3;\n                return 0;\n        }\n\n        return Thumbulator.TrapReason.bxLeaveThumb;\n    };\n\n    private _version = 1;\n\n    private _banks = new Array<Uint8Array>(7);\n    private _currentBank: Uint8Array = null;\n\n    private _rom: Uint8Array = null;\n    private _ram: Uint8Array = null;\n    private _displayRam: Uint8Array = null;\n\n    private _musicStreams = new Array<MusicStream>(3);\n    private _clockAccumulator = 0;\n    private _lastCpuTime = 0;\n\n    private _soc: HarmonySoc = null;\n\n    private _fastFetch = false;\n    private _digitalAudio = false;\n\n    private _fastJumpCountdown = 0;\n    private _fastFetchPending = false;\n\n    private _jmpOperandAddress = 0;\n    private _ldaOperandAddress = 0;\n\n    private _bus: Bus = null;\n    private _cpuTimeProvider: () => number = null;\n}\n\nclass MusicStream {\n    reset() {\n        this.counter = this.frequency = 0;\n        this.waveformSize = 27;\n    }\n\n    increment(clocks: number): void {\n        this.counter = (this.counter + clocks * this.frequency) | 0;\n    }\n\n    counter = 0;\n    frequency = 0;\n    waveformSize = 27;\n}\n\nexport default CartridgeCDF;\n",
    "/*\n *   This file is part of 6502.ts, an emulator for 6502 based systems built\n *   in Typescript.\n *\n *   Copyright (C) 2014 - 2017 Christian Speckner & contributors\n *\n *   This program is free software; you can redistribute it and/or modify\n *   it under the terms of the GNU General Public License as published by\n *   the Free Software Foundation; either version 2 of the License, or\n *   (at your option) any later version.\n *\n *   This program is distributed in the hope that it will be useful,\n *   but WITHOUT ANY WARRANTY; without even the implied warranty of\n *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *   GNU General Public License for more details.\n *\n *   You should have received a copy of the GNU General Public License along\n *   with this program; if not, write to the Free Software Foundation, Inc.,\n *   51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n */\n\nimport AbstractCartridge from './AbstractCartridge';\nimport CartridgeInfo from './CartridgeInfo';\nimport Bus from '../Bus';\nimport * as cartridgeUtil from './util';\n\nconst mixerTable = new Uint8Array([0x0, 0x4, 0x5, 0x9, 0x6, 0xa, 0xb, 0xf]);\n\nclass CartridgeDPC extends AbstractCartridge {\n    constructor(buffer: cartridgeUtil.BufferInterface) {\n        super();\n\n        if (buffer.length < 0x2800) {\n            throw new Error(`buffer is not a DPC image: too small ${buffer.length}`);\n        }\n\n        for (let i = 0; i < 8; i++) {\n            this._fetchers[i] = new Fetcher();\n        }\n\n        for (let i = 0; i < 0x1000; i++) {\n            this._bank0[i] = buffer[i];\n            this._bank1[i] = buffer[0x1000 + i];\n        }\n\n        for (let i = 0; i < 0x0800; i++) {\n            this._fetcherData[i] = buffer[0x2000 + i];\n        }\n\n        this.reset();\n    }\n\n    reset(): void {\n        this._bank = this._bank1;\n        this._rng = 1;\n        this._fetchers.forEach(fetcher => fetcher.reset());\n        this._lastCpuTime = 0;\n        this._clockAccumulator = 0;\n    }\n\n    getType(): CartridgeInfo.CartridgeType {\n        return CartridgeInfo.CartridgeType.bankswitch_8k_DPC;\n    }\n\n    setBus(bus: Bus): this {\n        this._bus = bus;\n\n        return this;\n    }\n\n    setCpuTimeProvider(provider: () => number): void {\n        this._cpuTimeProvider = provider;\n    }\n\n    read(address: number): number {\n        return this._access(address, this._bus.getLastDataBusValue());\n    }\n\n    peek(address: number): number {\n        return this._bank[address & 0x0fff];\n    }\n\n    write(address: number, value: number): void {\n        this._access(address, value);\n    }\n\n    private _access(address: number, value: number): number {\n        address &= 0x0fff;\n\n        if (address > 0x7f) {\n            switch (address) {\n                case 0x0ff8:\n                    this._bank = this._bank0;\n                    break;\n\n                case 0x0ff9:\n                    this._bank = this._bank1;\n                    break;\n\n                default:\n                    break;\n            }\n\n            return this._bank[address];\n        }\n\n        if (address < 0x08) {\n            if (address & 0x04) {\n                this._clockMusicFetchers();\n\n                return mixerTable[\n                    (this._fetchers[5].mask & 0x4) | (this._fetchers[6].mask & 0x2) | (this._fetchers[7].mask & 0x1)\n                ];\n            } else {\n                return this._randomNext();\n            }\n        }\n\n        if (address < 0x40) {\n            const fetcher = this._fetchers[(address - 8) & 0x07],\n                mask = fetcher.mask;\n\n            let fetchedData = this._fetcherData[0x07ff - fetcher.pointer];\n\n            fetcher.next();\n\n            switch ((address - 8) >>> 3) {\n                case 0:\n                    return fetchedData;\n\n                case 1:\n                    return fetchedData & mask;\n\n                case 2:\n                    fetchedData &= mask;\n                    return ((fetchedData << 4) | (fetchedData >>> 4)) & 0xff;\n\n                case 3:\n                    fetchedData &= mask;\n\n                    return (\n                        ((fetchedData & 0x01) << 7) |\n                        ((fetchedData & 0x02) << 5) |\n                        ((fetchedData & 0x04) << 3) |\n                        ((fetchedData & 0x08) << 1) |\n                        ((fetchedData & 0x10) >>> 1) |\n                        ((fetchedData & 0x20) >>> 3) |\n                        ((fetchedData & 0x40) >>> 5) |\n                        ((fetchedData & 0x80) >>> 7)\n                    );\n\n                case 4:\n                    return (fetchedData & mask) >>> 1;\n\n                case 5:\n                    return (fetchedData << 1) & mask;\n\n                case 6:\n                    return mask;\n            }\n        }\n\n        if (address < 0x60) {\n            const fetcher = this._fetchers[(address - 0x40) & 0x07];\n\n            switch ((address - 0x40) >>> 3) {\n                case 0:\n                    this._clockMusicFetchers();\n                    fetcher.setStart(value);\n                    break;\n\n                case 1:\n                    this._clockMusicFetchers();\n                    fetcher.setEnd(value);\n                    break;\n\n                case 2:\n                    fetcher.setLow(value);\n                    break;\n\n                case 3:\n                    fetcher.setHigh(value);\n\n                    if (address > 0x5c) {\n                        fetcher.setMusicMode(value);\n                    }\n\n                    break;\n            }\n\n            return this._bank[address];\n        }\n\n        if (address >= 0x70 && address < 0x78) {\n            this._rng = 1;\n\n            return this._bank[address];\n        }\n\n        return this._bank[address];\n    }\n\n    private _randomNext(): number {\n        const oldRng = this._rng;\n\n        this._rng =\n            ((this._rng << 1) |\n                (~((this._rng >>> 7) ^ (this._rng >>> 5) ^ ((this._rng >>> 4) ^ (this._rng >>> 3))) & 0x01)) &\n            0xff;\n\n        return oldRng;\n    }\n\n    private _clockMusicFetchers(): void {\n        const cpuTime = this._cpuTimeProvider();\n        this._clockAccumulator += (cpuTime - this._lastCpuTime) * 20000;\n        this._lastCpuTime = cpuTime;\n\n        const clocks = Math.floor(this._clockAccumulator);\n        this._clockAccumulator -= clocks;\n\n        if (clocks === 0) {\n            return;\n        }\n\n        for (let i = 5; i < 8; i++) {\n            this._fetchers[i].forwardClock(clocks);\n        }\n    }\n\n    private _bank0 = new Uint8Array(0x1000);\n    private _bank1 = new Uint8Array(0x1000);\n\n    private _bank: Uint8Array;\n\n    private _fetcherData = new Uint8Array(0x0800);\n    private _fetchers: Array<Fetcher> = new Array(8);\n\n    private _rng = 1;\n\n    private _bus: Bus;\n\n    private _cpuTimeProvider: () => number = null;\n    private _lastCpuTime = 0;\n    private _clockAccumulator = 0;\n}\n\nclass Fetcher {\n    contructor() {\n        this.reset();\n    }\n\n    reset() {\n        this.pointer = this.start = this.end = this.mask = 0;\n        this.musicMode = false;\n    }\n\n    next(): void {\n        if (this.musicMode) {\n            return;\n        }\n\n        this.pointer = (this.pointer + 0x07ff) & 0x07ff;\n\n        this._updateMask();\n    }\n\n    setStart(start: number): void {\n        this.start = start;\n        this.mask = 0x00;\n\n        this._updateMask();\n    }\n\n    setEnd(end: number): void {\n        this.end = end;\n\n        this._updateMask();\n    }\n\n    setLow(value: number): void {\n        this.pointer = (this.pointer & 0x0700) | value;\n\n        this._updateMask();\n    }\n\n    setHigh(value: number): void {\n        this.pointer = (this.pointer & 0xff) | ((value & 0x07) << 8);\n\n        this._updateMask();\n    }\n\n    setMusicMode(value: number): void {\n        this.musicMode = (value & 0x10) !== 0;\n    }\n\n    forwardClock(clocks: number) {\n        if (!this.musicMode) {\n            return;\n        }\n\n        const period = this.start + 1,\n            newPointerLow = ((this.pointer & 0xff) + period - clocks % period) % period,\n            distanceStart = (256 + this.start - newPointerLow) & 0xff,\n            distanceEnd = (256 + this.end - newPointerLow) & 0xff;\n\n        this.pointer = (this.pointer & 0x0700) | newPointerLow;\n\n        this.mask = distanceStart > distanceEnd ? 0 : 0xff;\n    }\n\n    private _updateMask(): void {\n        if ((this.pointer & 0xff) === this.start) {\n            this.mask = 0xff;\n        }\n\n        if ((this.pointer & 0xff) === this.end) {\n            this.mask = 0x00;\n        }\n    }\n\n    pointer = 0;\n    start = 0;\n    end = 0;\n    musicMode = false;\n    mask = 0x00;\n}\n\nexport default CartridgeDPC;\n",
    "/*\n *   This file is part of 6502.ts, an emulator for 6502 based systems built\n *   in Typescript.\n *\n *   Copyright (C) 2014 - 2017 Christian Speckner & contributors\n *\n *   This program is free software; you can redistribute it and/or modify\n *   it under the terms of the GNU General Public License as published by\n *   the Free Software Foundation; either version 2 of the License, or\n *   (at your option) any later version.\n *\n *   This program is distributed in the hope that it will be useful,\n *   but WITHOUT ANY WARRANTY; without even the implied warranty of\n *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *   GNU General Public License for more details.\n *\n *   You should have received a copy of the GNU General Public License along\n *   with this program; if not, write to the Free Software Foundation, Inc.,\n *   51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n */\n\nimport HarmonySoc from './harmony/Soc';\nimport AbstractCartridge from './AbstractCartridge';\nimport CartridgeInfo from './CartridgeInfo';\nimport Bus from '../Bus';\nimport CartridgeInterface from './CartridgeInterface';\nimport * as cartridgeUtil from './util';\n\nclass CartridgeDPCPlus extends AbstractCartridge {\n    constructor(buffer: cartridgeUtil.BufferInterface) {\n        super();\n\n        if (buffer.length < 28 * 0x0400 || buffer.length > 0x8000) {\n            throw new Error(`not a DPC+ image: invalid lenght ${buffer.length}`);\n        }\n\n        /* ROM layout:\n         *\n         *    3k ARM driver\n         *    6 * 4k banks (either 6502 or ARM)\n         *    4k image ROM\n         *    1k frequency ROM\n         */\n\n        this._rom = this._soc.getRom();\n\n        for (let i = 0; i < 6; i++) {\n            this._banks[i] = new Uint8Array(this._rom.buffer, 0x0c00 + i * 0x1000, 0x1000);\n        }\n\n        // ARM RAM\n        this._ram = this._soc.getRam();\n\n        this._imageRam = new Uint8Array(this._ram.buffer, 0x0c00, 0x1000);\n\n        /* RAM layout\n         *\n         *    * 3k driver (copied to RAM)\n         *    * 4k display RAM\n         *    * 1k frequency RAM\n         */\n\n        const offset = 0x8000 - buffer.length;\n\n        for (let i = 0; i < buffer.length; i++) {\n            this._rom[offset + i] = buffer[i];\n        }\n\n        for (let i = 0; i < 8; i++) {\n            this._fetchers[i] = new Fetcher();\n            this._fractionalFetchers[i] = new FractionalFetcher();\n        }\n\n        for (let i = 0; i < 3; i++) {\n            this._musicFetchers[i] = new MusicFetcher();\n        }\n\n        this._soc.trap.addHandler(message => this.triggerTrap(CartridgeInterface.TrapReason.other, message));\n\n        this.reset();\n    }\n\n    static matchesBuffer(buffer: cartridgeUtil.BufferInterface): boolean {\n        const signatureCounts = cartridgeUtil.searchForSignatures(buffer, ['DPC+'.split('').map(x => x.charCodeAt(0))]);\n\n        return signatureCounts[0] === 2;\n    }\n\n    init(): Promise<void> {\n        return this._soc.init();\n    }\n\n    reset() {\n        this._soc.reset();\n\n        this._currentBank = this._banks[5];\n\n        for (let i = 0; i < 0x0300; i++) {\n            this._soc.setRam32(i << 2, this._soc.getRom32(i << 2));\n        }\n\n        for (let i = 0x1b00; i < 0x2000; i++) {\n            this._soc.setRam32((0x0300 + i - 0x1b00) << 2, this._soc.getRom32(i << 2));\n        }\n\n        this._currentBank = this._banks[5];\n\n        for (let i = 0; i < 8; i++) {\n            this._parameters[i] = 0;\n        }\n\n        for (let i = 0; i < 8; i++) {\n            this._fetchers[i].reset();\n            this._fractionalFetchers[i].reset();\n        }\n\n        for (let i = 0; i < 3; i++) {\n            this._musicFetchers[i].reset();\n        }\n\n        this._parameterIndex = 0;\n\n        this._fastFetch = this._ldaPending = false;\n\n        this._rng = 0x2b435044;\n\n        this._lastCpuTime = 0;\n        this._clockAccumulator = 0;\n    }\n\n    getType(): CartridgeInfo.CartridgeType {\n        return CartridgeInfo.CartridgeType.bankswitch_dpc_plus;\n    }\n\n    setBus(bus: Bus): this {\n        this._bus = bus;\n\n        return this;\n    }\n\n    setCpuTimeProvider(provider: () => number): void {\n        this._cpuTimeProvider = provider;\n    }\n\n    read(address: number): number {\n        return this._access(address, this._bus.getLastDataBusValue());\n    }\n\n    peek(address: number): number {\n        return this._currentBank[address & 0x0fff];\n    }\n\n    write(address: number, value: number): void {\n        this._access(address, value);\n    }\n\n    protected triggerTrap(reason: CartridgeInterface.TrapReason, message: string) {\n        super.triggerTrap(reason, message);\n    }\n\n    private _access(address: number, value: number): number {\n        address &= 0x0fff;\n\n        const readResult = this._currentBank[address];\n\n        if (this._fastFetch && this._ldaPending && address > 0x7f && address < 0x0ff6 && readResult < 0x28) {\n            address = readResult;\n        }\n\n        this._ldaPending = false;\n\n        if (address < 0x28) {\n            const idx = address & 0x07,\n                fetcher = this._fetchers[idx],\n                fractionalFetcher = this._fractionalFetchers[idx];\n            let result = 0;\n\n            switch ((address >>> 3) & 0x07) {\n                case 0x00:\n                    switch (idx) {\n                        case 0x00:\n                            this._advanceRng();\n                            return this._rng & 0xff;\n\n                        case 0x01:\n                            this._rewindRng();\n                            return this._rng & 0xff;\n\n                        case 0x02:\n                            return (this._rng >>> 8) & 0xff;\n\n                        case 0x03:\n                            return (this._rng >>> 16) & 0xff;\n\n                        case 0x04:\n                            return (this._rng >>> 24) & 0xff;\n\n                        case 0x05: {\n                            this._clockMusicFetchers();\n\n                            let acc = 0;\n                            for (let i = 0; i < 3; i++) {\n                                acc += this._imageRam[\n                                    (this._musicFetchers[i].waveform << 5) + this._musicFetchers[i].waveformSample()\n                                ];\n                            }\n\n                            return acc & 0xff;\n                        }\n                    }\n\n                    return 0;\n\n                case 0x01:\n                    result = this._imageRam[fetcher.pointer];\n                    fetcher.increment();\n                    return result;\n\n                case 0x02:\n                    result = this._imageRam[fetcher.pointer] & fetcher.mask();\n                    fetcher.increment();\n                    return result;\n\n                case 0x03:\n                    result = this._imageRam[fractionalFetcher.pointer >>> 8];\n                    fractionalFetcher.increment();\n                    return result;\n\n                case 0x04:\n                    return idx < 4 ? fetcher.mask() : 0;\n\n                default:\n                    return 0;\n            }\n        } else if (address < 0x80) {\n            const idx = address & 0x07,\n                fetcher = this._fetchers[idx],\n                fractionalFetcher = this._fractionalFetchers[idx];\n\n            switch (((address - 0x28) >>> 3) & 0x0f) {\n                case 0x00:\n                    fractionalFetcher.setPointerLo(value);\n                    break;\n\n                case 0x01:\n                    fractionalFetcher.setPointerHi(value);\n                    break;\n\n                case 0x02:\n                    fractionalFetcher.setFraction(value);\n                    break;\n\n                case 0x03:\n                    fetcher.top = value;\n                    break;\n\n                case 0x04:\n                    fetcher.bottom = value;\n                    break;\n\n                case 0x05:\n                    fetcher.setPointerLo(value);\n                    break;\n\n                case 0x06:\n                    switch (idx) {\n                        case 0x00:\n                            this._fastFetch = value === 0;\n                            break;\n\n                        case 0x01:\n                            if (this._parameterIndex < 8) {\n                                this._parameters[this._parameterIndex++] = value;\n                            }\n\n                            break;\n\n                        case 0x02:\n                            this._dispatchFunction(value);\n                            break;\n\n                        case 0x05:\n                        case 0x06:\n                        case 0x07:\n                            this._musicFetchers[idx - 0x05].waveform = value & 0x7f;\n                            break;\n                    }\n\n                    break;\n\n                case 0x07:\n                    fetcher.decrement();\n                    this._imageRam[fetcher.pointer] = value;\n                    break;\n\n                case 0x08:\n                    fetcher.setPointerHi(value);\n                    break;\n\n                case 0x09:\n                    switch (idx) {\n                        case 0x00:\n                            this._rng = 0x2b435044;\n                            break;\n\n                        case 0x01:\n                            this._rng = (this._rng & 0xffffff00) | value;\n                            break;\n\n                        case 0x02:\n                            this._rng = (this._rng & 0xffff00ff) | (value << 8);\n                            break;\n\n                        case 0x03:\n                            this._rng = (this._rng & 0xff00ffff) | (value << 16);\n                            break;\n\n                        case 0x04:\n                            this._rng = (this._rng & 0x00ffffff) | (value << 24);\n                            break;\n\n                        case 0x05:\n                        case 0x06:\n                        case 0x07:\n                            this._musicFetchers[idx - 0x05].frequency = this._soc.getRam32(\n                                0x2000 - 0x400 + (value << 2)\n                            );\n                            break;\n                    }\n\n                    break;\n\n                case 0x0a:\n                    this._imageRam[fetcher.pointer] = value;\n                    fetcher.increment();\n                    break;\n\n                default:\n                    break;\n            }\n        } else if (address > 0x0ff5 && address < 0x0ffc) {\n            this._currentBank = this._banks[address - 0x0ff6];\n        }\n\n        if (this._fastFetch && address > 0x7f && address < 0x0ff6) {\n            this._ldaPending = readResult === 0xa9;\n        }\n\n        return readResult;\n    }\n\n    private _clockMusicFetchers(): void {\n        const cpuTime = this._cpuTimeProvider();\n\n        this._clockAccumulator += (cpuTime - this._lastCpuTime) * 20000;\n        this._lastCpuTime = cpuTime;\n\n        const clocks = Math.floor(this._clockAccumulator);\n        this._clockAccumulator -= clocks;\n\n        if (clocks === 0) {\n            return;\n        }\n\n        for (let i = 0; i < 3; i++) {\n            this._musicFetchers[i].increment(clocks);\n        }\n    }\n\n    private _dispatchFunction(index: number) {\n        const romBase = this._parameters[0] + (this._parameters[1] << 8);\n\n        switch (index) {\n            case 0:\n                this._parameterIndex = 0;\n                break;\n\n            case 1:\n                for (let i = 0; i < this._parameters[3]; i++) {\n                    this._ram[0x0c00 + ((this._fetchers[this._parameters[2] & 0x07].pointer + i) & 0x0fff)] = this._rom[\n                        0x0c00 + (romBase + i) % 0x7400\n                    ];\n                }\n\n                this._parameterIndex = 0;\n                break;\n\n            case 2:\n                for (let i = 0; i < this._parameters[3]; i++) {\n                    this._ram[\n                        0x0c00 + ((this._fetchers[this._parameters[2] & 0x07].pointer + i) & 0x0fff)\n                    ] = this._parameters[0];\n                }\n\n                this._parameterIndex = 0;\n                break;\n\n            case 254:\n            case 255:\n                this._soc.run(0x0c0b);\n                break;\n        }\n    }\n\n    private _advanceRng(): void {\n        this._rng = (this._rng & (1 << 10) ? 0x10adab1e : 0x00) ^ ((this._rng >>> 11) | (this._rng << 21));\n    }\n\n    private _rewindRng(): void {\n        this._rng =\n            this._rng & (1 << 31)\n                ? ((0x10adab1e ^ this._rng) << 11) | ((0x10adab1e ^ this._rng) >>> 21)\n                : (this._rng << 11) | (this._rng >>> 21);\n    }\n\n    private _rom: Uint8Array;\n    private _banks = new Array<Uint8Array>(6);\n    private _currentBank: Uint8Array;\n\n    private _ram: Uint8Array;\n    private _imageRam: Uint8Array;\n\n    private _fetchers = new Array<Fetcher>(8);\n    private _fractionalFetchers = new Array<FractionalFetcher>(8);\n    private _musicFetchers = new Array<MusicFetcher>(3);\n\n    private _parameters = new Uint8Array(8);\n    private _parameterIndex = 0;\n\n    private _rng = 0;\n\n    private _clockAccumulator = 0;\n    private _lastCpuTime = 0;\n\n    private _fastFetch = false;\n    private _ldaPending = false;\n\n    private _bus: Bus;\n    private _cpuTimeProvider: () => number = null;\n\n    private _soc = new HarmonySoc();\n}\n\nclass Fetcher {\n    contructor() {\n        this.reset();\n    }\n\n    reset() {\n        this.pointer = this.top = this.bottom = 0;\n    }\n\n    setPointerHi(value: number): void {\n        this.pointer = (this.pointer & 0xff) | ((value & 0x0f) << 8);\n    }\n\n    setPointerLo(value: number): void {\n        this.pointer = (this.pointer & 0x0f00) | (value & 0xff);\n    }\n\n    increment(): void {\n        this.pointer = (this.pointer + 1) & 0xfff;\n    }\n\n    decrement(): void {\n        this.pointer = (this.pointer + 0xfff) & 0xfff;\n    }\n\n    mask(): number {\n        return ((this.top - (this.pointer & 0xff)) & 0xff) > ((this.top - this.bottom) & 0xff) ? 0xff : 0;\n    }\n\n    pointer = 0;\n    top = 0;\n    bottom = 0;\n}\n\nclass FractionalFetcher {\n    contructor() {\n        this.reset();\n    }\n\n    reset() {\n        this.pointer = this.fraction = 0;\n    }\n\n    setPointerHi(value: number): void {\n        this.pointer = (this.pointer & 0x00ffff) | ((value & 0x0f) << 16);\n    }\n\n    setPointerLo(value: number): void {\n        this.pointer = (this.pointer & 0x0f00ff) | ((value & 0xff) << 8);\n    }\n\n    setFraction(value: number): void {\n        this.fraction = value;\n        this.pointer &= 0x0fff00;\n    }\n\n    increment(): void {\n        this.pointer = (this.pointer + this.fraction) & 0x0fffff;\n    }\n\n    pointer = 0;\n    fraction = 0;\n}\n\nclass MusicFetcher {\n    constructor() {\n        this.reset();\n    }\n\n    reset(): void {\n        this.frequency = 0;\n        this.waveform = 0;\n        this.counter = 0;\n    }\n\n    increment(clocks: number): void {\n        this.counter = (this.counter + clocks * this.frequency) | 0;\n    }\n\n    waveformSample(): number {\n        return this.counter >>> 27;\n    }\n\n    frequency = ~0;\n    counter = ~0;\n    waveform = 0;\n}\n\nexport default CartridgeDPCPlus;\n",
    "/*\n *   This file is part of 6502.ts, an emulator for 6502 based systems built\n *   in Typescript.\n *\n *   Copyright (C) 2014 - 2017 Christian Speckner & contributors\n *\n *   This program is free software; you can redistribute it and/or modify\n *   it under the terms of the GNU General Public License as published by\n *   the Free Software Foundation; either version 2 of the License, or\n *   (at your option) any later version.\n *\n *   This program is distributed in the hope that it will be useful,\n *   but WITHOUT ANY WARRANTY; without even the implied warranty of\n *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *   GNU General Public License for more details.\n *\n *   You should have received a copy of the GNU General Public License along\n *   with this program; if not, write to the Free Software Foundation, Inc.,\n *   51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n */\n\nimport CartridgeInfo from './CartridgeInfo';\nimport CartridgeF8 from './CartridgeF8';\nimport CartridgeE0 from './CartridgeE0';\nimport Cartridge3F from './Cartridge3F';\nimport Cartridge3E from './Cartridge3E';\nimport CartridgeFE from './CartridgeFE';\nimport CartridgeUA from './CartridgeUA';\nimport CartridgeE7 from './CartridgeE7';\nimport CartridgeFA2 from './CartridgeFA2';\nimport CartridgeEF from './CartridgeEF';\nimport CartridgeDPCPlus from './CartridgeDPCPlus';\nimport CartridgeCDF from './CartridgeCDF';\nimport Cartridge8040 from './Cartridge0840';\nimport * as cartridgeUtil from './util';\n\nclass CartridgeDetector {\n    detectCartridgeType(buffer: cartridgeUtil.BufferInterface): CartridgeInfo.CartridgeType {\n        if (buffer.length % 8448 === 0) {\n            return CartridgeInfo.CartridgeType.bankswitch_supercharger;\n        }\n\n        if (buffer.length <= 0x0800) {\n            return CartridgeInfo.CartridgeType.vanilla_2k;\n        }\n\n        if (buffer.length >= 10240 && buffer.length <= 10496) {\n            return CartridgeInfo.CartridgeType.bankswitch_8k_DPC;\n        }\n\n        switch (buffer.length) {\n            case 0x1000:\n                return CartridgeInfo.CartridgeType.vanilla_4k;\n\n            case 0x2000:\n                return this._detect8k(buffer);\n\n            case 0x3000:\n                return CartridgeInfo.CartridgeType.bankswitch_12k_FA;\n\n            case 0x4000:\n                return this._detect16k(buffer);\n\n            case 0x7000:\n                return CartridgeInfo.CartridgeType.bankswitch_FA2;\n\n            case 0x7400:\n                return this._detect29k(buffer);\n\n            case 0x8000:\n                return this._detect32k(buffer);\n\n            case 0x10000:\n                return this._detect64k(buffer);\n\n            default:\n                return CartridgeInfo.CartridgeType.unknown;\n        }\n    }\n\n    private _detect8k(buffer: cartridgeUtil.BufferInterface): CartridgeInfo.CartridgeType {\n        const f8Matches = CartridgeF8.matchesBuffer(buffer);\n\n        if (CartridgeE0.matchesBuffer(buffer)) {\n            return CartridgeInfo.CartridgeType.bankswitch_8k_E0;\n        }\n\n        if (Cartridge3F.matchesBuffer(buffer)) {\n            return CartridgeInfo.CartridgeType.bankswitch_8k_3F;\n        }\n\n        if (CartridgeUA.matchesBuffer(buffer)) {\n            return CartridgeInfo.CartridgeType.bankswitch_8k_UA;\n        }\n\n        if (!f8Matches && CartridgeFE.matchesBuffer(buffer)) {\n            return CartridgeInfo.CartridgeType.bankswitch_8k_FE;\n        }\n\n        if (Cartridge8040.matchesBuffer(buffer)) {\n            return CartridgeInfo.CartridgeType.bankswitch_8k_econobanking;\n        }\n\n        return CartridgeInfo.CartridgeType.bankswitch_8k_F8;\n    }\n\n    private _detect16k(buffer: cartridgeUtil.BufferInterface): CartridgeInfo.CartridgeType {\n        if (CartridgeE7.matchesBuffer(buffer)) {\n            return CartridgeInfo.CartridgeType.bankswitch_16k_E7;\n        }\n\n        return CartridgeInfo.CartridgeType.bankswitch_16k_F6;\n    }\n\n    private _detect29k(buffer: cartridgeUtil.BufferInterface): CartridgeInfo.CartridgeType {\n        if (CartridgeFA2.matchesBuffer(buffer)) {\n            return CartridgeInfo.CartridgeType.bankswitch_FA2;\n        }\n\n        return CartridgeInfo.CartridgeType.bankswitch_dpc_plus;\n    }\n\n    private _detect32k(buffer: cartridgeUtil.BufferInterface): CartridgeInfo.CartridgeType {\n        if (Cartridge3E.matchesBuffer(buffer)) {\n            return CartridgeInfo.CartridgeType.bankswitch_3E;\n        }\n\n        if (CartridgeDPCPlus.matchesBuffer(buffer)) {\n            return CartridgeInfo.CartridgeType.bankswitch_dpc_plus;\n        }\n\n        if (CartridgeCDF.matchesBuffer(buffer)) {\n            return CartridgeInfo.CartridgeType.bankswitch_cdf;\n        }\n\n        return CartridgeInfo.CartridgeType.bankswitch_32k_F4;\n    }\n\n    private _detect64k(buffer: cartridgeUtil.BufferInterface): CartridgeInfo.CartridgeType {\n        if (CartridgeEF.matchesBuffer(buffer)) {\n            return CartridgeInfo.CartridgeType.bankswitch_64k_EF;\n        }\n\n        return CartridgeInfo.CartridgeType.bankswitch_64k_F0;\n    }\n}\n\nexport default CartridgeDetector;\n",
    "/*\n *   This file is part of 6502.ts, an emulator for 6502 based systems built\n *   in Typescript.\n *\n *   Copyright (C) 2014 - 2017 Christian Speckner & contributors\n *\n *   This program is free software; you can redistribute it and/or modify\n *   it under the terms of the GNU General Public License as published by\n *   the Free Software Foundation; either version 2 of the License, or\n *   (at your option) any later version.\n *\n *   This program is distributed in the hope that it will be useful,\n *   but WITHOUT ANY WARRANTY; without even the implied warranty of\n *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *   GNU General Public License for more details.\n *\n *   You should have received a copy of the GNU General Public License along\n *   with this program; if not, write to the Free Software Foundation, Inc.,\n *   51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n */\n\nimport AbstractCartridge from './AbstractCartridge';\nimport * as cartridgeUtil from './util';\nimport CartridgeInfo from './CartridgeInfo';\n\nclass CartridgeE0 extends AbstractCartridge {\n    constructor(buffer: cartridgeUtil.BufferInterface) {\n        super();\n\n        if (buffer.length !== 0x2000) {\n            throw new Error(`buffer is not an 8k cartridge image: invalid length ${buffer.length}`);\n        }\n\n        for (let i = 0; i < 8; i++) {\n            this._banks[i] = new Uint8Array(0x0400);\n        }\n\n        for (let i = 0; i < 0x0400; i++) {\n            for (let j = 0; j < 8; j++) {\n                this._banks[j][i] = buffer[j * 0x0400 + i];\n            }\n        }\n\n        this.reset();\n    }\n\n    static matchesBuffer(buffer: cartridgeUtil.BufferInterface): boolean {\n        // Signatures shamelessly stolen from stella\n        const signatureCounts = cartridgeUtil.searchForSignatures(buffer, [\n            [0x8d, 0xe0, 0x1f], // STA $1FE0\n            [0x8d, 0xe0, 0x5f], // STA $5FE0\n            [0x8d, 0xe9, 0xff], // STA $FFE9\n            [0x0c, 0xe0, 0x1f], // NOP $1FE0\n            [0xad, 0xe0, 0x1f], // LDA $1FE0\n            [0xad, 0xe9, 0xff], // LDA $FFE9\n            [0xad, 0xed, 0xff], // LDA $FFED\n            [0xad, 0xf3, 0xbf] // LDA $BFF3\n        ]);\n\n        for (let i = 0; i < signatureCounts.length; i++) {\n            if (signatureCounts[i] > 0) {\n                return true;\n            }\n        }\n\n        return false;\n    }\n\n    reset(): void {\n        for (let i = 0; i < 4; i++) {\n            this._activeBanks[i] = this._banks[7];\n        }\n    }\n\n    read(address: number): number {\n        address &= 0x0fff;\n\n        if (address >= 0x0fe0 && address < 0x0ff8) {\n            this._handleBankswitch(address);\n        }\n\n        return this._activeBanks[address >> 10][address & 0x03ff];\n    }\n\n    peek(address: number): number {\n        address &= 0x0fff;\n\n        return this._activeBanks[address >> 10][address & 0x03ff];\n    }\n\n    write(address: number, value: number): void {\n        const addressMasked = address & 0x0fff;\n\n        if (addressMasked >= 0x0fe0 && addressMasked < 0x0ff8) {\n            this._handleBankswitch(addressMasked);\n        }\n\n        return super.write(address, value);\n    }\n\n    getType(): CartridgeInfo.CartridgeType {\n        return CartridgeInfo.CartridgeType.bankswitch_8k_E0;\n    }\n\n    private _handleBankswitch(address: number): void {\n        if (address < 0x0fe8) {\n            this._activeBanks[0] = this._banks[address - 0x0fe0];\n        } else if (address < 0x0ff0) {\n            this._activeBanks[1] = this._banks[address - 0x0fe8];\n        } else {\n            this._activeBanks[2] = this._banks[address - 0x0ff0];\n        }\n    }\n\n    private _banks = new Array<Uint8Array>(8);\n    private _activeBanks = new Array<Uint8Array>(4);\n}\n\nexport default CartridgeE0;\n",
    "/*\n *   This file is part of 6502.ts, an emulator for 6502 based systems built\n *   in Typescript.\n *\n *   Copyright (C) 2014 - 2017 Christian Speckner & contributors\n *\n *   This program is free software; you can redistribute it and/or modify\n *   it under the terms of the GNU General Public License as published by\n *   the Free Software Foundation; either version 2 of the License, or\n *   (at your option) any later version.\n *\n *   This program is distributed in the hope that it will be useful,\n *   but WITHOUT ANY WARRANTY; without even the implied warranty of\n *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *   GNU General Public License for more details.\n *\n *   You should have received a copy of the GNU General Public License along\n *   with this program; if not, write to the Free Software Foundation, Inc.,\n *   51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n */\n\nimport AbstractCartridge from './AbstractCartridge';\nimport * as cartridgeUtil from './util';\nimport CartridgeInfo from './CartridgeInfo';\n\nimport RngInterface from '../../../tools/rng/GeneratorInterface';\n\nclass CartrdigeE7 extends AbstractCartridge {\n    constructor(buffer: cartridgeUtil.BufferInterface) {\n        super();\n\n        if (buffer.length !== 0x4000) {\n            throw new Error(`buffer is not a 16k cartridge image: wrong length ${buffer.length}`);\n        }\n\n        for (let i = 0; i < 8; i++) {\n            this._banks[i] = new Uint8Array(0x0800);\n        }\n\n        for (let i = 0; i < 4; i++) {\n            this._ram1Banks[i] = new Uint8Array(0x100);\n        }\n\n        for (let i = 0; i < 0x0800; i++) {\n            for (let j = 0; j < 8; j++) {\n                this._banks[j][i] = buffer[j * 0x0800 + i];\n            }\n        }\n\n        this.reset();\n    }\n\n    static matchesBuffer(buffer: cartridgeUtil.BufferInterface): boolean {\n        // Signatures shamelessly stolen from stella\n        const signatureCounts = cartridgeUtil.searchForSignatures(buffer, [\n            [0xad, 0xe2, 0xff], // LDA $FFE2\n            [0xad, 0xe5, 0xff], // LDA $FFE5\n            [0xad, 0xe5, 0x1f], // LDA $1FE5\n            [0xad, 0xe7, 0x1f], // LDA $1FE7\n            [0x0c, 0xe7, 0x1f], // NOP $1FE7\n            [0x8d, 0xe7, 0xff], // STA $FFE7\n            [0x8d, 0xe7, 0x1f] // STA $1FE7\n        ]);\n\n        for (let i = 0; i < signatureCounts.length; i++) {\n            if (signatureCounts[i] > 0) {\n                return true;\n            }\n        }\n\n        return false;\n    }\n\n    reset(): void {\n        this._bank0 = this._banks[0];\n        this._ram1 = this._ram1Banks[0];\n        this._ram0Enabled = false;\n    }\n\n    read(address: number): number {\n        this._handleBankswitch(address & 0x0fff);\n\n        return this.peek(address);\n    }\n\n    peek(address: number): number {\n        address &= 0x0fff;\n\n        // 0 -> 0x07FF: bank 0 - 6 or RAM\n        if (address < 0x0800) {\n            // RAM enabled?\n            if (this._ram0Enabled) {\n                // 0x0000 - 0x03FF is write, 0x0400 - 0x07FF is read\n                return address >= 0x0400 ? this._ram0[address - 0x0400] : 0;\n            } else {\n                //  bank 0 - 6\n                return this._bank0[address];\n            }\n        }\n\n        // 0x0800 -> 0x9FF is RAM\n        if (address <= 0x09ff) {\n            // 0x0800 - 0x08FF is write, 0x0900 - 0x09FF is read\n            return address >= 0x0900 ? this._ram1[address - 0x0900] : 0;\n        }\n\n        // Higher address are the remaining 1.5k of bank 7\n        return this._banks[7][0x07ff - (0x0fff - address)];\n    }\n\n    write(address: number, value: number) {\n        address &= 0x0fff;\n\n        this._handleBankswitch(address);\n\n        if (address < 0x0400) {\n            if (this._ram0Enabled) {\n                this._ram0[address] = value;\n            } else {\n                super.write(address, value);\n            }\n        } else if (address < 0x0800) {\n            super.write(address, value);\n        } else if (address < 0x08ff) {\n            this._ram1[address - 0x0800] = value;\n        } else {\n            super.write(address, value);\n        }\n    }\n\n    getType(): CartridgeInfo.CartridgeType {\n        return CartridgeInfo.CartridgeType.bankswitch_16k_E7;\n    }\n\n    randomize(rng: RngInterface): void {\n        for (let i = 0; i < 4; i++) {\n            for (let j = 0; j < this._ram1Banks[i].length; j++) {\n                this._ram1Banks[i][j] = rng.int(0xff);\n            }\n        }\n\n        for (let i = 0; i < this._ram0.length; i++) {\n            this._ram0[i] = rng.int(0xff);\n        }\n    }\n\n    private _handleBankswitch(address: number): void {\n        if (address < 0x0fe0) {\n            return;\n        }\n\n        if (address <= 0x0fe6) {\n            this._bank0 = this._banks[address & 0x000f];\n            this._ram0Enabled = false;\n        } else if (address === 0x0fe7) {\n            this._ram0Enabled = true;\n        } else if (address <= 0x0feb) {\n            this._ram1 = this._ram1Banks[address - 0x0fe8];\n        }\n    }\n\n    private _banks = new Array<Uint8Array>(8);\n    private _bank0: Uint8Array;\n\n    private _ram0 = new Uint8Array(0x0400);\n    private _ram1Banks = new Array<Uint8Array>(4);\n    private _ram1: Uint8Array;\n    private _ram0Enabled = false;\n}\n\nexport default CartrdigeE7;\n",
    "/*\n *   This file is part of 6502.ts, an emulator for 6502 based systems built\n *   in Typescript.\n *\n *   Copyright (C) 2014 - 2017 Christian Speckner & contributors\n *\n *   This program is free software; you can redistribute it and/or modify\n *   it under the terms of the GNU General Public License as published by\n *   the Free Software Foundation; either version 2 of the License, or\n *   (at your option) any later version.\n *\n *   This program is distributed in the hope that it will be useful,\n *   but WITHOUT ANY WARRANTY; without even the implied warranty of\n *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *   GNU General Public License for more details.\n *\n *   You should have received a copy of the GNU General Public License along\n *   with this program; if not, write to the Free Software Foundation, Inc.,\n *   51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n */\n\nimport AbstractCartridge from './AbstractCartridge';\nimport CartridgeInfo from './CartridgeInfo';\nimport Bus from '../Bus';\nimport * as cartridgeUtil from './util';\n\nimport RngInterface from '../../../tools/rng/GeneratorInterface';\n\nclass CartridgeEF extends AbstractCartridge {\n    constructor(buffer: { [i: number]: number; length: number }, private _supportSC: boolean = true) {\n        super();\n\n        if (buffer.length !== 0x10000) {\n            throw new Error(`buffer is not a 64k cartridge image: wrong length ${buffer.length}`);\n        }\n\n        for (let i = 0; i < 16; i++) {\n            this._banks[i] = new Uint8Array(0x1000);\n        }\n\n        for (let i = 0; i < 0x1000; i++) {\n            for (let j = 0; j < 16; j++) {\n                this._banks[j][i] = buffer[j * 0x1000 + i];\n            }\n        }\n\n        this.reset();\n    }\n\n    static matchesBuffer(buffer: cartridgeUtil.BufferInterface): boolean {\n        const matchMagic = (magicString: string): boolean => {\n            const magic = magicString.split('').map(x => x.charCodeAt(0));\n\n            for (let i = 0; i < magic.length; i++) {\n                if (magic[i] !== buffer[0xfff8 + i]) {\n                    return false;\n                }\n            }\n\n            return true;\n        };\n\n        if (buffer.length !== 0x10000) {\n            return false;\n        }\n\n        if (matchMagic('efef') || matchMagic('efsc')) {\n            return true;\n        }\n\n        // Signatures shamelessly stolen from stella\n        const signatureCounts = cartridgeUtil.searchForSignatures(buffer, [\n            [0x0c, 0xe0, 0xff], // NOP $FFE0\n            [0xad, 0xe0, 0xff], // LDA $FFE0\n            [0x0c, 0xe0, 0x1f], // NOP $1FE0\n            [0xad, 0xe0, 0x1f] // LDA $1FE0\n        ]);\n\n        for (let i = 0; i < 4; i++) {\n            if (signatureCounts[i] > 0) {\n                return true;\n            }\n        }\n\n        return false;\n    }\n\n    reset(): void {\n        this._bank = this._banks[15];\n        this._hasSC = false;\n    }\n\n    getType(): CartridgeInfo.CartridgeType {\n        return CartridgeInfo.CartridgeType.bankswitch_64k_EF;\n    }\n\n    randomize(rng: RngInterface): void {\n        for (let i = 0; i < this._ram.length; i++) {\n            this._ram[i] = rng.int(0xff);\n        }\n    }\n\n    setBus(bus: Bus): this {\n        this._bus = bus;\n\n        return this;\n    }\n\n    read(address: number): number {\n        this._access(address & 0x0fff, this._bus.getLastDataBusValue());\n\n        return this.peek(address);\n    }\n\n    peek(address: number): number {\n        address &= 0x0fff;\n\n        if (this._hasSC && address >= 0x0080 && address < 0x0100) {\n            return this._ram[address - 0x80];\n        } else {\n            return this._bank[address];\n        }\n    }\n\n    write(address: number, value: number): void {\n        address &= 0x0fff;\n\n        if (address < 0x80 && this._supportSC) {\n            this._hasSC = true;\n        }\n\n        this._access(address, value);\n    }\n\n    private _access(address: number, value: number): void {\n        if (address < 0x80 && this._hasSC) {\n            this._ram[address] = value;\n            return;\n        }\n\n        if (address >= 0x0fe0 && address <= 0x0fef) {\n            this._bank = this._banks[address - 0x0fe0];\n        }\n    }\n\n    private _bus: Bus = null;\n\n    private _bank: Uint8Array;\n    private _banks = new Array<Uint8Array>(16);\n    private _ram = new Uint8Array(0x80);\n    private _hasSC = false;\n}\n\nexport default CartridgeEF;\n",
    "/*\n *   This file is part of 6502.ts, an emulator for 6502 based systems built\n *   in Typescript.\n *\n *   Copyright (C) 2014 - 2017 Christian Speckner & contributors\n *\n *   This program is free software; you can redistribute it and/or modify\n *   it under the terms of the GNU General Public License as published by\n *   the Free Software Foundation; either version 2 of the License, or\n *   (at your option) any later version.\n *\n *   This program is distributed in the hope that it will be useful,\n *   but WITHOUT ANY WARRANTY; without even the implied warranty of\n *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *   GNU General Public License for more details.\n *\n *   You should have received a copy of the GNU General Public License along\n *   with this program; if not, write to the Free Software Foundation, Inc.,\n *   51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n */\n\nimport AbstractCartridge from './AbstractCartridge';\nimport * as cartridgeUtil from './util';\nimport CartridgeInfo from './CartridgeInfo';\n\nclass CartridgeF0 extends AbstractCartridge {\n    constructor(buffer: cartridgeUtil.BufferInterface) {\n        super();\n\n        if (buffer.length !== 0x10000) {\n            throw new Error(`buffer is not a 64k cartridge image: wrong length ${buffer.length}`);\n        }\n\n        for (let i = 0; i < 16; i++) {\n            this._banks[i] = new Uint8Array(0x1000);\n        }\n\n        for (let i = 0; i < 0x1000; i++) {\n            for (let j = 0; j < 16; j++) {\n                this._banks[j][i] = buffer[j * 0x1000 + i];\n            }\n        }\n\n        this.reset();\n    }\n\n    reset(): void {\n        this._bankIdx = 0;\n        this._currentBank = this._banks[this._bankIdx];\n    }\n\n    read(address: number): number {\n        address &= 0x0fff;\n\n        this._handleBankswitch(address);\n\n        return this._currentBank[address];\n    }\n\n    peek(address: number): number {\n        return this._currentBank[address & 0x0fff];\n    }\n\n    write(address: number, value: number) {\n        address &= 0xfff;\n\n        this._handleBankswitch(address);\n\n        super.write(address, value);\n    }\n\n    getType(): CartridgeInfo.CartridgeType {\n        return CartridgeInfo.CartridgeType.bankswitch_64k_F0;\n    }\n\n    private _handleBankswitch(address: number): void {\n        if (address === 0x0ff0) {\n            this._bankIdx = (this._bankIdx + 1) & 0x0f;\n            this._currentBank = this._banks[this._bankIdx];\n        }\n    }\n\n    private _banks = new Array<Uint8Array>(16);\n    private _currentBank: Uint8Array;\n    private _bankIdx = 0;\n}\n\nexport default CartridgeF0;\n",
    "/*\n *   This file is part of 6502.ts, an emulator for 6502 based systems built\n *   in Typescript.\n *\n *   Copyright (C) 2014 - 2017 Christian Speckner & contributors\n *\n *   This program is free software; you can redistribute it and/or modify\n *   it under the terms of the GNU General Public License as published by\n *   the Free Software Foundation; either version 2 of the License, or\n *   (at your option) any later version.\n *\n *   This program is distributed in the hope that it will be useful,\n *   but WITHOUT ANY WARRANTY; without even the implied warranty of\n *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *   GNU General Public License for more details.\n *\n *   You should have received a copy of the GNU General Public License along\n *   with this program; if not, write to the Free Software Foundation, Inc.,\n *   51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n */\n\nimport AbstractCartridge from './AbstractCartridge';\nimport CartridgeInfo from './CartridgeInfo';\nimport Bus from '../Bus';\n\nimport RngInterface from '../../../tools/rng/GeneratorInterface';\n\nclass CartridgeF4 extends AbstractCartridge {\n    constructor(buffer: { [i: number]: number; length: number }, private _supportSC: boolean = true) {\n        super();\n\n        if (buffer.length !== 0x8000) {\n            throw new Error(`buffer is not a 32k cartridge image: wrong length ${buffer.length}`);\n        }\n\n        for (let i = 0; i < 8; i++) {\n            this._banks[i] = new Uint8Array(0x1000);\n        }\n\n        for (let i = 0; i < 0x1000; i++) {\n            for (let j = 0; j < 8; j++) {\n                this._banks[j][i] = buffer[j * 0x1000 + i];\n            }\n        }\n\n        this.reset();\n    }\n\n    reset(): void {\n        this._bank = this._banks[0];\n        this._hasSC = false;\n    }\n\n    getType(): CartridgeInfo.CartridgeType {\n        return CartridgeInfo.CartridgeType.bankswitch_32k_F4;\n    }\n\n    randomize(rng: RngInterface): void {\n        for (let i = 0; i < this._ram.length; i++) {\n            this._ram[i] = rng.int(0xff);\n        }\n    }\n\n    setBus(bus: Bus): this {\n        this._bus = bus;\n\n        return this;\n    }\n\n    read(address: number): number {\n        this._access(address & 0x0fff, this._bus.getLastDataBusValue());\n\n        return this.peek(address);\n    }\n\n    peek(address: number): number {\n        address &= 0x0fff;\n\n        if (this._hasSC && address >= 0x0080 && address < 0x0100) {\n            return this._ram[address - 0x80];\n        } else {\n            return this._bank[address];\n        }\n    }\n\n    write(address: number, value: number): void {\n        address &= 0x0fff;\n\n        if (address < 0x80 && this._supportSC) {\n            this._hasSC = true;\n        }\n\n        this._access(address, value);\n    }\n\n    private _access(address: number, value: number): void {\n        if (address < 0x80 && this._hasSC) {\n            this._ram[address] = value;\n            return;\n        }\n\n        if (address >= 0x0ff4 && address <= 0x0ffb) {\n            this._bank = this._banks[address - 0x0ff4];\n        }\n    }\n\n    private _bus: Bus = null;\n\n    private _bank: Uint8Array;\n    private _banks = new Array<Uint8Array>(8);\n    private _ram = new Uint8Array(0x80);\n    private _hasSC = false;\n}\n\nexport default CartridgeF4;\n",
    "/*\n *   This file is part of 6502.ts, an emulator for 6502 based systems built\n *   in Typescript.\n *\n *   Copyright (C) 2014 - 2017 Christian Speckner & contributors\n *\n *   This program is free software; you can redistribute it and/or modify\n *   it under the terms of the GNU General Public License as published by\n *   the Free Software Foundation; either version 2 of the License, or\n *   (at your option) any later version.\n *\n *   This program is distributed in the hope that it will be useful,\n *   but WITHOUT ANY WARRANTY; without even the implied warranty of\n *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *   GNU General Public License for more details.\n *\n *   You should have received a copy of the GNU General Public License along\n *   with this program; if not, write to the Free Software Foundation, Inc.,\n *   51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n */\n\nimport AbstractCartridge from './AbstractCartridge';\nimport CartridgeInfo from './CartridgeInfo';\nimport Bus from '../Bus';\n\nimport RngInterface from '../../../tools/rng/GeneratorInterface';\n\nclass CartridgeF6 extends AbstractCartridge {\n    constructor(buffer: { [i: number]: number; length: number }, private _supportSC: boolean = true) {\n        super();\n\n        if (buffer.length !== 0x4000) {\n            throw new Error(`buffer is not a 16k cartridge image: wrong length ${buffer.length}`);\n        }\n\n        for (let i = 0; i < 0x1000; i++) {\n            this._bank0[i] = buffer[i];\n            this._bank1[i] = buffer[0x1000 + i];\n            this._bank2[i] = buffer[0x2000 + i];\n            this._bank3[i] = buffer[0x3000 + i];\n        }\n\n        this.reset();\n    }\n\n    reset(): void {\n        this._bank = this._bank0;\n        this._hasSC = false;\n    }\n\n    read(address: number): number {\n        this._access(address & 0x0fff, this._bus.getLastDataBusValue());\n\n        return this.peek(address);\n    }\n\n    peek(address: number): number {\n        address &= 0x0fff;\n\n        if (this._hasSC && address >= 0x0080 && address < 0x0100) {\n            return this._saraRAM[address - 0x80];\n        }\n\n        return this._bank[address];\n    }\n\n    write(address: number, value: number): void {\n        address &= 0x0fff;\n\n        if (address < 0x80 && this._supportSC) {\n            this._hasSC = true;\n        }\n\n        this._access(address, value);\n    }\n\n    getType(): CartridgeInfo.CartridgeType {\n        return CartridgeInfo.CartridgeType.bankswitch_16k_F6;\n    }\n\n    randomize(rng: RngInterface): void {\n        for (let i = 0; i < this._saraRAM.length; i++) {\n            this._saraRAM[i] = rng.int(0xff);\n        }\n    }\n\n    setBus(bus: Bus): this {\n        this._bus = bus;\n\n        return this;\n    }\n\n    private _access(address: number, value: number): void {\n        if (address < 0x80 && this._hasSC) {\n            this._saraRAM[address] = value & 0xff;\n            return;\n        }\n\n        switch (address) {\n            case 0x0ff6:\n                this._bank = this._bank0;\n                break;\n\n            case 0x0ff7:\n                this._bank = this._bank1;\n                break;\n\n            case 0x0ff8:\n                this._bank = this._bank2;\n                break;\n\n            case 0x0ff9:\n                this._bank = this._bank3;\n                break;\n        }\n    }\n\n    private _bank: Uint8Array = null;\n    private _bank0 = new Uint8Array(0x1000);\n    private _bank1 = new Uint8Array(0x1000);\n    private _bank2 = new Uint8Array(0x1000);\n    private _bank3 = new Uint8Array(0x1000);\n\n    private _hasSC = false;\n    private _saraRAM = new Uint8Array(0x80);\n\n    private _bus: Bus = null;\n}\n\nexport default CartridgeF6;\n",
    "/*\n *   This file is part of 6502.ts, an emulator for 6502 based systems built\n *   in Typescript.\n *\n *   Copyright (C) 2014 - 2017 Christian Speckner & contributors\n *\n *   This program is free software; you can redistribute it and/or modify\n *   it under the terms of the GNU General Public License as published by\n *   the Free Software Foundation; either version 2 of the License, or\n *   (at your option) any later version.\n *\n *   This program is distributed in the hope that it will be useful,\n *   but WITHOUT ANY WARRANTY; without even the implied warranty of\n *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *   GNU General Public License for more details.\n *\n *   You should have received a copy of the GNU General Public License along\n *   with this program; if not, write to the Free Software Foundation, Inc.,\n *   51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n */\n\nimport AbstractCartridge from './AbstractCartridge';\nimport CartridgeInfo from './CartridgeInfo';\nimport Bus from '../Bus';\nimport * as cartridgeUtil from './util';\n\nimport RngInterface from '../../../tools/rng/GeneratorInterface';\n\nclass CartridgeF8 extends AbstractCartridge {\n    constructor(buffer: cartridgeUtil.BufferInterface, private _supportSC = true) {\n        super();\n\n        if (buffer.length !== 0x2000) {\n            throw new Error(`buffer is not an 8k cartridge image: wrong length ${buffer.length}`);\n        }\n\n        for (let i = 0; i < 0x1000; i++) {\n            this._bank0[i] = buffer[i];\n            this._bank1[i] = buffer[0x1000 + i];\n        }\n\n        this.reset();\n    }\n\n    static matchesBuffer(buffer: cartridgeUtil.BufferInterface): boolean {\n        // Signatures shamelessly stolen from stella\n        const signatureCounts = cartridgeUtil.searchForSignatures(\n            buffer,\n            [[0x8d, 0xf9, 0x1f]] // STA $1FF9\n        );\n\n        return signatureCounts[0] >= 2;\n    }\n\n    reset(): void {\n        this._bank = this._bank1;\n        this._hasSC = false;\n    }\n\n    read(address: number): number {\n        this._access(address & 0x0fff, this._bus.getLastDataBusValue());\n\n        return this.peek(address);\n    }\n\n    peek(address: number): number {\n        address &= 0x0fff;\n\n        if (this._hasSC && address >= 0x0080 && address < 0x0100) {\n            return this._saraRAM[address - 0x80];\n        }\n\n        return this._bank[address];\n    }\n\n    write(address: number, value: number): void {\n        address &= 0x0fff;\n\n        if (address < 0x80 && this._supportSC) {\n            this._hasSC = true;\n        }\n\n        this._access(address, value);\n    }\n\n    getType(): CartridgeInfo.CartridgeType {\n        return CartridgeInfo.CartridgeType.bankswitch_8k_F8;\n    }\n\n    randomize(rng: RngInterface): void {\n        for (let i = 0; i < this._saraRAM.length; i++) {\n            this._saraRAM[i] = rng.int(0xff);\n        }\n    }\n\n    setBus(bus: Bus): this {\n        this._bus = bus;\n\n        return this;\n    }\n\n    private _access(address: number, value: number): void {\n        if (address < 0x80 && this._hasSC) {\n            this._saraRAM[address] = value & 0xff;\n            return;\n        }\n\n        switch (address) {\n            case 0x0ff8:\n                this._bank = this._bank0;\n                break;\n\n            case 0x0ff9:\n                this._bank = this._bank1;\n                break;\n        }\n    }\n\n    private _bank: Uint8Array = null;\n    private _bank0 = new Uint8Array(0x1000);\n    private _bank1 = new Uint8Array(0x1000);\n\n    private _hasSC = false;\n    private _saraRAM = new Uint8Array(0x80);\n\n    private _bus: Bus = null;\n}\n\nexport default CartridgeF8;\n",
    "/*\n *   This file is part of 6502.ts, an emulator for 6502 based systems built\n *   in Typescript.\n *\n *   Copyright (C) 2014 - 2017 Christian Speckner & contributors\n *\n *   This program is free software; you can redistribute it and/or modify\n *   it under the terms of the GNU General Public License as published by\n *   the Free Software Foundation; either version 2 of the License, or\n *   (at your option) any later version.\n *\n *   This program is distributed in the hope that it will be useful,\n *   but WITHOUT ANY WARRANTY; without even the implied warranty of\n *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *   GNU General Public License for more details.\n *\n *   You should have received a copy of the GNU General Public License along\n *   with this program; if not, write to the Free Software Foundation, Inc.,\n *   51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n */\n\nimport AbstractCartridge from './AbstractCartridge';\nimport CartridgeInfo from './CartridgeInfo';\nimport RngInterface from '../../../tools/rng/GeneratorInterface';\nimport * as cartridgeUtil from './util';\n\nclass CartridgeFA extends AbstractCartridge {\n    constructor(buffer: cartridgeUtil.BufferInterface) {\n        super();\n\n        if (buffer.length !== 0x3000) {\n            throw new Error(`buffer is not a 12k cartridge image: wrong length ${buffer.length}`);\n        }\n\n        for (let i = 0; i < 0x1000; i++) {\n            this._bank0[i] = buffer[i];\n            this._bank1[i] = buffer[0x1000 + i];\n            this._bank2[i] = buffer[0x2000 + i];\n        }\n\n        this.reset();\n    }\n\n    reset(): void {\n        this._bank = this._bank0;\n    }\n\n    randomize(rng: RngInterface): void {\n        for (let i = 0; i < this._ram.length; i++) {\n            this._ram[i] = rng.int(0xff);\n        }\n    }\n\n    read(address: number): number {\n        this._handleBankswitch(address & 0x0fff);\n\n        return this.peek(address);\n    }\n\n    peek(address: number): number {\n        address &= 0x0fff;\n\n        if (address >= 0x0100 && address < 0x0200) {\n            return this._ram[address & 0xff];\n        } else {\n            return this._bank[address];\n        }\n    }\n\n    write(address: number, value: number): void {\n        address &= 0x0fff;\n\n        this._handleBankswitch(address);\n\n        if (address < 0x0100) {\n            this._ram[address] = value & 0xff;\n        } else {\n            super.write(address, value);\n        }\n    }\n\n    getType(): CartridgeInfo.CartridgeType {\n        return CartridgeInfo.CartridgeType.bankswitch_12k_FA;\n    }\n\n    private _handleBankswitch(address: number): void {\n        switch (address) {\n            case 0x0ff8:\n                this._bank = this._bank0;\n                break;\n\n            case 0x0ff9:\n                this._bank = this._bank1;\n                break;\n\n            case 0x0ffa:\n                this._bank = this._bank2;\n                break;\n        }\n    }\n\n    private _bank0 = new Uint8Array(0x1000);\n    private _bank1 = new Uint8Array(0x1000);\n    private _bank2 = new Uint8Array(0x1000);\n\n    private _bank: Uint8Array;\n\n    private _ram = new Uint8Array(0x0100);\n}\n\nexport default CartridgeFA;\n",
    "/*\n *   This file is part of 6502.ts, an emulator for 6502 based systems built\n *   in Typescript.\n *\n *   Copyright (C) 2014 - 2017 Christian Speckner & contributors\n *\n *   This program is free software; you can redistribute it and/or modify\n *   it under the terms of the GNU General Public License as published by\n *   the Free Software Foundation; either version 2 of the License, or\n *   (at your option) any later version.\n *\n *   This program is distributed in the hope that it will be useful,\n *   but WITHOUT ANY WARRANTY; without even the implied warranty of\n *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *   GNU General Public License for more details.\n *\n *   You should have received a copy of the GNU General Public License along\n *   with this program; if not, write to the Free Software Foundation, Inc.,\n *   51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n */\n\nimport AbstractCartridge from './AbstractCartridge';\nimport CartridgeInfo from './CartridgeInfo';\nimport RngInterface from '../../../tools/rng/GeneratorInterface';\nimport Bus from '../Bus';\nimport * as cartridgeUtil from './util';\n\nconst enum IODelay {\n    load = 10,\n    save = 100\n}\n\nclass CartridgeFA2 extends AbstractCartridge {\n    constructor(buffer: cartridgeUtil.BufferInterface) {\n        super();\n\n        if (buffer.length !== 0x7000 && buffer.length !== 0x7400) {\n            throw new Error(`buffer is not a 28k/29k cartridge image: wrong length ${buffer.length}`);\n        }\n\n        for (let i = 0; i < 7; i++) {\n            this._banks[i] = new Uint8Array(0x1000);\n        }\n\n        const offset = buffer.length === 0x7000 ? 0 : 0x0400;\n\n        for (let i = 0; i < 0x1000; i++) {\n            for (let j = 0; j < 7; j++) {\n                this._banks[j][i] = buffer[j * 0x1000 + i + offset];\n            }\n        }\n\n        this.reset();\n    }\n\n    static matchesBuffer(buffer: cartridgeUtil.BufferInterface): boolean {\n        // Signatures shamelessly stolen from Stella\n        const signatureCounts = cartridgeUtil.searchForSignatures(buffer, [\n            [0xa0, 0xc1, 0x1f, 0xe0],\n            [0x00, 0x80, 0x02, 0xe0]\n        ]);\n\n        return signatureCounts[0] > 0 || signatureCounts[1] > 0;\n    }\n\n    reset(): void {\n        this._accessCounter = 0;\n        this._accessCounterLimit = 0;\n        this._bank = this._banks[0];\n    }\n\n    getType(): CartridgeInfo.CartridgeType {\n        return CartridgeInfo.CartridgeType.bankswitch_FA2;\n    }\n\n    randomize(rng: RngInterface): void {\n        for (let i = 0; i < this._ram.length; i++) {\n            this._ram[i] = rng.int(0xff);\n        }\n    }\n\n    setBus(bus: Bus): this {\n        this._bus = bus;\n\n        return this;\n    }\n\n    read(address: number): number {\n        this.write(address & 0x0fff, this._bus.getLastDataBusValue());\n\n        return this.peek(address);\n    }\n\n    peek(address: number): number {\n        address &= 0x0fff;\n\n        if (address >= 0x0100 && address < 0x0200) {\n            return this._ram[address - 0x0100];\n        } else if (address === 0x0ff4) {\n            return this._accessCounter >= this._accessCounterLimit\n                ? // bit 6 zero: operation complete\n                  this._bank[address] & ~0x40\n                : // bit 6 one: operation pending\n                  this._bank[address] | 0x40;\n        } else {\n            return this._bank[address];\n        }\n    }\n\n    write(address: number, value: number): void {\n        address &= 0x0fff;\n\n        this._accessCounter++;\n\n        if (address < 0x0100) {\n            this._ram[address] = value;\n            return;\n        }\n\n        if (address === 0x0ff4) {\n            return this._handleIo();\n        }\n\n        if (address >= 0x0ff5 && address <= 0x0ffb) {\n            this._bank = this._banks[address - 0x0ff5];\n        }\n    }\n\n    private _handleIo(): void {\n        if (this._accessCounter < this._accessCounterLimit) {\n            return;\n        }\n\n        if (this._ram[0xff] === 1) {\n            for (let i = 0; i < 0x100; i++) {\n                this._ram[i] = this._savedRam[i];\n            }\n\n            this._accessCounterLimit = IODelay.load;\n        } else if (this._ram[0xff] === 2) {\n            for (let i = 0; i < 0x100; i++) {\n                this._savedRam[i] = this._ram[i];\n            }\n\n            this._accessCounterLimit = IODelay.save;\n        } else {\n            return;\n        }\n\n        this._accessCounter = 0;\n        this._ram[0xff] = 0;\n    }\n\n    private _bank: Uint8Array;\n    private _banks = new Array<Uint8Array>(7);\n    private _ram = new Uint8Array(0x100);\n\n    private _savedRam = new Uint8Array(0x100);\n    private _accessCounter = 0;\n    private _accessCounterLimit = 0;\n\n    private _bus: Bus;\n}\n\nexport default CartridgeFA2;\n",
    "/*\n *   This file is part of 6502.ts, an emulator for 6502 based systems built\n *   in Typescript.\n *\n *   Copyright (C) 2014 - 2017 Christian Speckner & contributors\n *\n *   This program is free software; you can redistribute it and/or modify\n *   it under the terms of the GNU General Public License as published by\n *   the Free Software Foundation; either version 2 of the License, or\n *   (at your option) any later version.\n *\n *   This program is distributed in the hope that it will be useful,\n *   but WITHOUT ANY WARRANTY; without even the implied warranty of\n *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *   GNU General Public License for more details.\n *\n *   You should have received a copy of the GNU General Public License along\n *   with this program; if not, write to the Free Software Foundation, Inc.,\n *   51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n */\n\nimport AbstractCartridge from './AbstractCartridge';\nimport CpuInterface from '../../cpu/CpuInterface';\nimport Bus from '../Bus';\nimport CartridgeInfo from './CartridgeInfo';\nimport * as cartridgeUtil from './util';\n\nclass CartridgeFE extends AbstractCartridge {\n    constructor(buffer: cartridgeUtil.BufferInterface) {\n        super();\n\n        if (buffer.length !== 0x2000) {\n            throw new Error(`buffer is not an 8k cartridge image: wrong length ${buffer.length}`);\n        }\n\n        for (let i = 0; i < 0x1000; i++) {\n            this._bank0[i] = buffer[i];\n            this._bank1[i] = buffer[0x1000 + i];\n        }\n\n        this.reset();\n    }\n\n    static matchesBuffer(buffer: cartridgeUtil.BufferInterface): boolean {\n        // Signatures shamelessly stolen from stella\n        const signatureCounts = cartridgeUtil.searchForSignatures(buffer, [\n            [0x20, 0x00, 0xd0, 0xc6, 0xc5], // JSR $D000; DEC $C5\n            [0x20, 0xc3, 0xf8, 0xa5, 0x82], // JSR $F8C3; LDA $82\n            [0xd0, 0xfb, 0x20, 0x73, 0xfe], // BNE $FB; JSR $FE73\n            [0x20, 0x00, 0xf0, 0x84, 0xd6] // JSR $F000; STY $D6\n        ]);\n\n        for (let i = 0; i < signatureCounts.length; i++) {\n            if (signatureCounts[i] > 0) {\n                return true;\n            }\n        }\n\n        return false;\n    }\n\n    reset(): void {\n        this._bank = this._bank0;\n        this._lastAccessWasFE = false;\n        this._lastAddressBusValue = -1;\n    }\n\n    read(address: number): number {\n        return this._bank[address & 0x0fff];\n    }\n\n    write(address: number, value: number): void {\n        super.write(address, value);\n    }\n\n    setCpu(cpu: CpuInterface): this {\n        this._cpu = cpu;\n\n        return this;\n    }\n\n    setBus(bus: Bus): this {\n        this._bus = bus;\n\n        this._bus.event.read.addHandler(CartridgeFE._onBusAccess, this);\n        this._bus.event.write.addHandler(CartridgeFE._onBusAccess, this);\n\n        return this;\n    }\n\n    getType(): CartridgeInfo.CartridgeType {\n        return CartridgeInfo.CartridgeType.bankswitch_8k_FE;\n    }\n\n    private static _onBusAccess(accessType: Bus.AccessType, self: CartridgeFE): void {\n        const lastAddressBusValue = self._lastAddressBusValue;\n        self._lastAddressBusValue = self._bus.getLastAddresBusValue();\n\n        if (self._lastAddressBusValue === lastAddressBusValue) {\n            return;\n        }\n\n        if (self._lastAccessWasFE) {\n            self._bank = (self._bus.getLastDataBusValue() & 0x20) > 0 ? self._bank0 : self._bank1;\n        }\n\n        self._lastAccessWasFE = self._bus.getLastAddresBusValue() === 0x01fe;\n    }\n\n    private _cpu: CpuInterface;\n    private _bus: Bus;\n\n    private _bank0 = new Uint8Array(0x1000);\n    private _bank1 = new Uint8Array(0x1000);\n    private _bank: Uint8Array;\n\n    private _lastAccessWasFE = false;\n    private _lastAddressBusValue = -1;\n}\n\nexport default CartridgeFE;\n",
    "/*\n *   This file is part of 6502.ts, an emulator for 6502 based systems built\n *   in Typescript.\n *\n *   Copyright (C) 2014 - 2017 Christian Speckner & contributors\n *\n *   This program is free software; you can redistribute it and/or modify\n *   it under the terms of the GNU General Public License as published by\n *   the Free Software Foundation; either version 2 of the License, or\n *   (at your option) any later version.\n *\n *   This program is distributed in the hope that it will be useful,\n *   but WITHOUT ANY WARRANTY; without even the implied warranty of\n *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *   GNU General Public License for more details.\n *\n *   You should have received a copy of the GNU General Public License along\n *   with this program; if not, write to the Free Software Foundation, Inc.,\n *   51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n */\n\nimport Cartridge2k from './Cartridge2k';\nimport Cartridge4k from './Cartridge4k';\nimport CartridgeF8 from './CartridgeF8';\nimport CartridgeF6 from './CartridgeF6';\nimport CartridgeE0 from './CartridgeE0';\nimport CartridgeFE from './CartridgeFE';\nimport Cartridge3F from './Cartridge3F';\nimport Cartridge3E from './Cartridge3E';\nimport CartridgeUA from './CartridgeUA';\nimport CartridgeFA from './CartridgeFA';\nimport CartridgeE7 from './CartridgeE7';\nimport CartridgeF0 from './CartridgeF0';\nimport CartridgeEF from './CartridgeEF';\nimport CartridgeF4 from './CartridgeF4';\nimport CartridgeFA2 from './CartridgeFA2';\nimport CartridgeSupercharger from './CartridgeSupercharger';\nimport CartridgeDPC from './CartridgeDPC';\nimport CartridgeDPCPlus from './CartridgeDPCPlus';\nimport CartdridgeCDF from './CartridgeCDF';\nimport Cartidge8040 from './Cartridge0840';\n\nimport CartridgeInfo from './CartridgeInfo';\nimport CartridgeDetector from './CartridgeDetector';\nimport CartridgeInterface from './CartridgeInterface';\n\nexport default class CartridgeFactory {\n    async createCartridge(\n        buffer: { [i: number]: number; length: number },\n        cartridgeType?: CartridgeInfo.CartridgeType\n    ): Promise<CartridgeInterface> {\n        const cartridge = this._createCartridge(buffer, cartridgeType);\n\n        await cartridge.init();\n\n        return cartridge;\n    }\n\n    private _createCartridge(\n        buffer: { [i: number]: number; length: number },\n        cartridgeType?: CartridgeInfo.CartridgeType\n    ): CartridgeInterface {\n        if (typeof cartridgeType === 'undefined') {\n            const detector = new CartridgeDetector();\n\n            cartridgeType = detector.detectCartridgeType(buffer);\n        }\n\n        switch (cartridgeType) {\n            case CartridgeInfo.CartridgeType.vanilla_2k:\n                return new Cartridge2k(buffer);\n\n            case CartridgeInfo.CartridgeType.vanilla_4k:\n                return new Cartridge4k(buffer);\n\n            case CartridgeInfo.CartridgeType.bankswitch_8k_F8:\n                return new CartridgeF8(buffer);\n\n            case CartridgeInfo.CartridgeType.bankswitch_8k_E0:\n                return new CartridgeE0(buffer);\n\n            case CartridgeInfo.CartridgeType.bankswitch_8k_3F:\n                return new Cartridge3F(buffer);\n\n            case CartridgeInfo.CartridgeType.bankswitch_8k_FE:\n                return new CartridgeFE(buffer);\n\n            case CartridgeInfo.CartridgeType.bankswitch_8k_UA:\n                return new CartridgeUA(buffer);\n\n            case CartridgeInfo.CartridgeType.bankswitch_8k_DPC:\n                return new CartridgeDPC(buffer);\n\n            case CartridgeInfo.CartridgeType.bankswitch_8k_econobanking:\n                return new Cartidge8040(buffer);\n\n            case CartridgeInfo.CartridgeType.bankswitch_12k_FA:\n                return new CartridgeFA(buffer);\n\n            case CartridgeInfo.CartridgeType.bankswitch_16k_F6:\n                return new CartridgeF6(buffer);\n\n            case CartridgeInfo.CartridgeType.bankswitch_16k_E7:\n                return new CartridgeE7(buffer);\n\n            case CartridgeInfo.CartridgeType.bankswitch_FA2:\n                return new CartridgeFA2(buffer);\n\n            case CartridgeInfo.CartridgeType.bankswitch_32k_F4:\n                return new CartridgeF4(buffer);\n\n            case CartridgeInfo.CartridgeType.bankswitch_64k_F0:\n                return new CartridgeF0(buffer);\n\n            case CartridgeInfo.CartridgeType.bankswitch_64k_EF:\n                return new CartridgeEF(buffer);\n\n            case CartridgeInfo.CartridgeType.bankswitch_3E:\n                return new Cartridge3E(buffer);\n\n            case CartridgeInfo.CartridgeType.bankswitch_supercharger:\n                return new CartridgeSupercharger(buffer);\n\n            case CartridgeInfo.CartridgeType.bankswitch_dpc_plus:\n                return new CartridgeDPCPlus(buffer);\n\n            case CartridgeInfo.CartridgeType.bankswitch_cdf:\n                return new CartdridgeCDF(buffer);\n\n            default:\n                throw new Error(`invalid or unsupported cartridge image`);\n        }\n    }\n}\n",
    "/*\n *   This file is part of 6502.ts, an emulator for 6502 based systems built\n *   in Typescript.\n *\n *   Copyright (C) 2014 - 2017 Christian Speckner & contributors\n *\n *   This program is free software; you can redistribute it and/or modify\n *   it under the terms of the GNU General Public License as published by\n *   the Free Software Foundation; either version 2 of the License, or\n *   (at your option) any later version.\n *\n *   This program is distributed in the hope that it will be useful,\n *   but WITHOUT ANY WARRANTY; without even the implied warranty of\n *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *   GNU General Public License for more details.\n *\n *   You should have received a copy of the GNU General Public License along\n *   with this program; if not, write to the Free Software Foundation, Inc.,\n *   51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n */\n\nnamespace CartridgeInfo {\n    export enum CartridgeType {\n        vanilla_2k = 'vanilla_2k',\n        vanilla_4k = 'vanilla_4k',\n\n        bankswitch_8k_F8 = 'bankswitch_8k_F8',\n        bankswitch_8k_E0 = 'bankswitch_8k_E0',\n        bankswitch_8k_3F = 'bankswitch_8k_3F',\n        bankswitch_8k_FE = 'bankswitch_8k_FE',\n        bankswitch_8k_UA = 'bankswitch_8k_UA',\n        bankswitch_8k_DPC = 'bankswitch_8k_DPC',\n        bankswitch_8k_econobanking = 'bankswitch_8k_econobanking',\n\n        bankswitch_12k_FA = 'bankswitch_12k_FA',\n\n        bankswitch_16k_F6 = 'bankswitch_16k_F6',\n        bankswitch_16k_E7 = 'bankswitch_16k_E7',\n\n        bankswitch_FA2 = 'bankswitch_FA2',\n\n        bankswitch_32k_F4 = 'bankswitch_32k_F4',\n\n        bankswitch_64k_F0 = 'bankswitch_64k_F0',\n        bankswitch_64k_EF = 'bankswitch_64k_EF',\n\n        bankswitch_3E = 'bankswitch_3E',\n        bankswitch_supercharger = 'bankswitch_supercharger',\n        bankswitch_dpc_plus = 'bankswitch_dpc_plus',\n        bankswitch_cdf = 'bankswitch_cdf',\n\n        unknown = 'unknown'\n    }\n\n    export function getAllTypes(): Array<CartridgeType> {\n        return [\n            CartridgeType.vanilla_2k,\n            CartridgeType.vanilla_4k,\n            CartridgeType.bankswitch_8k_F8,\n            CartridgeType.bankswitch_8k_E0,\n            CartridgeType.bankswitch_8k_3F,\n            CartridgeType.bankswitch_8k_FE,\n            CartridgeType.bankswitch_8k_UA,\n            CartridgeType.bankswitch_8k_econobanking,\n            CartridgeType.bankswitch_12k_FA,\n            CartridgeType.bankswitch_8k_DPC,\n            CartridgeType.bankswitch_16k_F6,\n            CartridgeType.bankswitch_16k_E7,\n            CartridgeType.bankswitch_FA2,\n            CartridgeType.bankswitch_32k_F4,\n            CartridgeType.bankswitch_3E,\n            CartridgeType.bankswitch_64k_F0,\n            CartridgeType.bankswitch_64k_EF,\n            CartridgeType.bankswitch_supercharger,\n            CartridgeType.bankswitch_dpc_plus,\n            CartridgeType.bankswitch_cdf,\n            CartridgeType.unknown\n        ];\n    }\n\n    export function describeCartridgeType(cartridgeType: CartridgeType): string {\n        switch (cartridgeType) {\n            case CartridgeType.vanilla_2k:\n                return 'plain 2k';\n\n            case CartridgeType.vanilla_4k:\n                return 'plain 4k';\n\n            case CartridgeType.bankswitch_8k_F8:\n                return 'bankswitched 8k, F8 (Atari) scheme';\n\n            case CartridgeType.bankswitch_8k_E0:\n                return 'bankswitched 8k, E0 (Parker Bros.) scheme';\n\n            case CartridgeType.bankswitch_8k_3F:\n                return 'bankswitched 8k, 3F (Tigervision) scheme';\n\n            case CartridgeType.bankswitch_8k_FE:\n                return 'bankswitched 8k, FE (Activision) scheme';\n\n            case CartridgeType.bankswitch_8k_UA:\n                return 'bankswitched 8k, UA (Pleiades) scheme';\n\n            case CartridgeType.bankswitch_12k_FA:\n                return 'bankswitched 12k, FA (CBS) scheme';\n\n            case CartridgeType.bankswitch_8k_DPC:\n                return 'bankswitched 8k + DPC';\n\n            case CartridgeType.bankswitch_8k_econobanking:\n                return 'bankswitched 8k, econobanking scheme';\n\n            case CartridgeType.bankswitch_16k_F6:\n                return 'bankswitched 16k, F6 (Atari) scheme';\n\n            case CartridgeType.bankswitch_16k_E7:\n                return 'bankswitched 16k, E7 (M-Network) scheme';\n\n            case CartridgeType.bankswitch_FA2:\n                return 'bankswitched 28k/29k, FA2 (modified CBS) scheme';\n\n            case CartridgeType.bankswitch_32k_F4:\n                return 'bankswitched 32k, F4 (Atari) scheme';\n\n            case CartridgeType.bankswitch_3E:\n                return 'bankswitched 3E (Tigervision + RAM) scheme';\n\n            case CartridgeType.bankswitch_64k_F0:\n                return 'bankswitched 64k, F0 (Megaboy) scheme';\n\n            case CartridgeType.bankswitch_64k_EF:\n                return 'bankswitched 64k, EFSC (Homestar Runner) scheme';\n\n            case CartridgeType.bankswitch_supercharger:\n                return 'bankswitched supercharger';\n\n            case CartridgeType.bankswitch_dpc_plus:\n                return 'bankswitched DPC+';\n\n            case CartridgeType.bankswitch_cdf:\n                return 'bankswitched CDF';\n\n            case CartridgeType.unknown:\n                return 'unknown';\n        }\n    }\n}\n\nexport default CartridgeInfo;\n",
    "/*\n *   This file is part of 6502.ts, an emulator for 6502 based systems built\n *   in Typescript.\n *\n *   Copyright (C) 2014 - 2017 Christian Speckner & contributors\n *\n *   This program is free software; you can redistribute it and/or modify\n *   it under the terms of the GNU General Public License as published by\n *   the Free Software Foundation; either version 2 of the License, or\n *   (at your option) any later version.\n *\n *   This program is distributed in the hope that it will be useful,\n *   but WITHOUT ANY WARRANTY; without even the implied warranty of\n *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *   GNU General Public License for more details.\n *\n *   You should have received a copy of the GNU General Public License along\n *   with this program; if not, write to the Free Software Foundation, Inc.,\n *   51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n */\n\nimport { EventInterface } from 'microevent.ts';\n\nimport CartridgeInfo from './CartridgeInfo';\nimport Cpuinterface from '../../cpu/CpuInterface';\nimport BusInterface from '../../bus/BusInterface';\n\nimport RngInterface from '../../../tools/rng/GeneratorInterface';\n\ninterface CartridgeInterface {\n    init(): Promise<void>;\n\n    reset(): void;\n\n    read(address: number): number;\n\n    peek(address: number): number;\n\n    write(address: number, value: number): void;\n\n    getType(): CartridgeInfo.CartridgeType;\n\n    setCpu(cpu: Cpuinterface): this;\n\n    setBus(bus: BusInterface): this;\n\n    setCpuTimeProvider(provider: () => number): void;\n\n    notifyCpuCycleComplete(): void;\n\n    randomize(rng: RngInterface): void;\n\n    trap: EventInterface<CartridgeInterface.TrapPayload>;\n}\n\nnamespace CartridgeInterface {\n    export const enum TrapReason {\n        invalidRead,\n        invalidWrite,\n        other\n    }\n\n    export class TrapPayload {\n        constructor(public reason: TrapReason, public cartridge: CartridgeInterface, public message?: string) {}\n    }\n}\n\nexport default CartridgeInterface;\n",
    "/*\n *   This file is part of 6502.ts, an emulator for 6502 based systems built\n *   in Typescript.\n *\n *   Copyright (C) 2014 - 2017 Christian Speckner & contributors\n *\n *   This program is free software; you can redistribute it and/or modify\n *   it under the terms of the GNU General Public License as published by\n *   the Free Software Foundation; either version 2 of the License, or\n *   (at your option) any later version.\n *\n *   This program is distributed in the hope that it will be useful,\n *   but WITHOUT ANY WARRANTY; without even the implied warranty of\n *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *   GNU General Public License for more details.\n *\n *   You should have received a copy of the GNU General Public License along\n *   with this program; if not, write to the Free Software Foundation, Inc.,\n *   51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n */\n\nimport AbstractCartridge from './AbstractCartridge';\nimport CartridgeInfo from './CartridgeInfo';\nimport Bus from '../Bus';\n\nimport Header from './supercharger/Header';\nimport { bios } from './supercharger/blob';\n\nconst enum BankType {\n    ram,\n    rom\n}\n\nclass CartridgeSupercharger extends AbstractCartridge {\n    constructor(buffer: { [i: number]: number; length: number }, private _showLoadingBars = true) {\n        super();\n\n        if (buffer.length % 8448 !== 0) {\n            throw new Error(`not a supercharger image --- invalid size`);\n        }\n\n        this._loadCount = buffer.length / 8448;\n\n        this._loads = new Array<Uint8Array>(this._loadCount);\n        this._headers = new Array<Header>(this._loadCount);\n\n        for (let i = 0; i < this._loadCount; i++) {\n            this._loads[i] = new Uint8Array(8448);\n        }\n\n        for (let i = 0; i < 8448; i++) {\n            for (let j = 0; j < this._loadCount; j++) {\n                this._loads[j][i] = buffer[j * 8448 + i];\n            }\n        }\n\n        for (let i = 0; i < this._loadCount; i++) {\n            this._headers[i] = new Header(this._loads[i]);\n\n            if (!this._headers[i].verify()) {\n                console.log(`load ${i} has invalid checksum`);\n            }\n        }\n\n        for (let i = 0; i < 3; i++) {\n            this._ramBanks[i] = new Uint8Array(0x0800);\n        }\n\n        this._loadBios();\n\n        this.reset();\n    }\n\n    reset() {\n        this._setBankswitchMode(0);\n        this._transitionCount = 0;\n        this._pendingWrite = false;\n        this._pendingWriteData = 0;\n        this._lastAddressBusValue = -1;\n        this._writeRamEnabled = false;\n    }\n\n    setBus(bus: Bus): this {\n        this._bus = bus;\n\n        this._bus.event.read.addHandler(CartridgeSupercharger._onBusAccess, this);\n        this._bus.event.write.addHandler(CartridgeSupercharger._onBusAccess, this);\n\n        return this;\n    }\n\n    read(address: number): number {\n        address &= 0x0fff;\n\n        if (address === 0x0850 && this._bank1Type === BankType.rom) {\n            this._loadIntoRam(this._bus.peek(0x80));\n        }\n\n        const value = this._access(address, this._bus.getLastDataBusValue());\n        if (value >= 0) {\n            return value;\n        }\n\n        return address < 0x0800 ? this._bank0[address] : this._bank1[address & 0x07ff];\n    }\n\n    peek(address: number): number {\n        address &= 0x0fff;\n\n        if (this._pendingWrite && this._writeRamEnabled && this._transitionCount === 5) {\n            return this._pendingWriteData;\n        }\n\n        return address < 0x0800 ? this._bank0[address] : this._bank1[address & 0x07ff];\n    }\n\n    write(address: number, value: number): void {\n        this._access(address, value);\n    }\n\n    getType(): CartridgeInfo.CartridgeType {\n        return CartridgeInfo.CartridgeType.bankswitch_supercharger;\n    }\n\n    private static _onBusAccess(type: Bus.AccessType, self: CartridgeSupercharger) {\n        const address = self._bus.getLastAddresBusValue();\n\n        if (address !== self._lastAddressBusValue) {\n            if (++self._transitionCount > 5) {\n                self._pendingWrite = false;\n            }\n\n            self._lastAddressBusValue = address;\n        }\n    }\n\n    private _access(address: number, value: number): number {\n        address &= 0x0fff;\n\n        if ((address & 0x0f00) === 0 && (!this._pendingWrite || !this._writeRamEnabled)) {\n            this._pendingWriteData = address & 0x00ff;\n            this._transitionCount = 0;\n            this._pendingWrite = true;\n\n            return -1;\n        }\n\n        if (address === 0x0ff8) {\n            this._setBankswitchMode((this._pendingWriteData & 28) >>> 2);\n            this._writeRamEnabled = (this._pendingWriteData & 0x02) > 0;\n\n            this._pendingWrite = false;\n\n            return -1;\n        }\n\n        if (this._pendingWrite && this._writeRamEnabled && this._transitionCount === 5) {\n            if (address < 0x0800) {\n                this._bank0[address] = this._pendingWriteData;\n            } else if (this._bank1Type === BankType.ram) {\n                this._bank1[address & 0x07ff] = this._pendingWriteData;\n            }\n\n            this._pendingWrite = false;\n\n            return this._pendingWriteData;\n        }\n\n        return -1;\n    }\n\n    private _setBankswitchMode(mode: number): void {\n        switch (mode) {\n            case 0:\n                return this._configureBanks(2, BankType.rom);\n\n            case 1:\n                return this._configureBanks(0, BankType.rom);\n\n            case 2:\n                return this._configureBanks(2, BankType.ram, 0);\n\n            case 3:\n                return this._configureBanks(0, BankType.ram, 2);\n\n            case 4:\n                return this._configureBanks(2, BankType.rom);\n\n            case 5:\n                return this._configureBanks(1, BankType.rom);\n\n            case 6:\n                return this._configureBanks(2, BankType.ram, 1);\n\n            case 7:\n                return this._configureBanks(1, BankType.ram, 2);\n\n            default:\n                throw new Error('invalid bankswitching mode');\n        }\n    }\n\n    private _configureBanks(bank0: number, bank1Type: BankType, bank1 = 0): void {\n        this._bank0 = this._ramBanks[bank0];\n        this._bank1Type = bank1Type;\n        this._bank1 = bank1Type === BankType.ram ? this._ramBanks[bank1] : this._rom;\n    }\n\n    private _loadBios() {\n        for (let i = 0; i < 0x0800; i++) {\n            this._rom[i] = i < bios.length ? bios[i] : 0x02;\n        }\n\n        this._rom[109] = this._showLoadingBars ? 0 : 0xff;\n\n        this._rom[0x07ff] = this._rom[0x07fd] = 0xf8;\n        this._rom[0x07fe] = this._rom[0x07fc] = 0x0a;\n    }\n\n    private _loadIntoRam(loadId: number) {\n        let loadIndex: number;\n\n        for (loadIndex = 0; loadIndex < this._loadCount; loadIndex++) {\n            if (this._headers[loadIndex].multiloadId === loadId || this._loadCount === 1) {\n                break;\n            }\n        }\n\n        if (loadIndex >= this._loadCount) {\n            console.log(`no load with id ${loadId}`);\n        }\n\n        const header = this._headers[loadIndex],\n            load = this._loads[loadIndex];\n\n        for (let blockIdx = 0; blockIdx < header.blockCount; blockIdx++) {\n            const location = header.blockLocation[blockIdx];\n\n            let bank = location & 0x03;\n\n            if (bank > 2) {\n                bank = 0;\n                console.log(`invalid bank for block ${blockIdx}, load ${loadIndex}`);\n            }\n\n            const base = ((location & 28) >>> 2) * 256;\n            let checksum = location + header.blockChecksum[blockIdx];\n\n            for (let i = 0; i < 256; i++) {\n                checksum += load[256 * blockIdx + i];\n                this._ramBanks[bank][base + i] = load[256 * blockIdx + i];\n            }\n\n            if ((checksum & 0xff) !== 0x55) {\n                console.log(`load ${loadIndex}, block ${blockIdx}: invalid checksum`);\n            }\n        }\n\n        this._bus.write(0xfe, header.startAddressLow);\n        this._bus.write(0xff, header.startAddressHigh);\n        this._bus.write(0x80, header.controlWord);\n    }\n\n    private _bus: Bus;\n\n    private _loadCount = 0;\n    private _loads: Array<Uint8Array> = null;\n    private _headers: Array<Header> = null;\n\n    private _rom = new Uint8Array(0x0800);\n    private _ramBanks = new Array<Uint8Array>(3);\n\n    private _bank0: Uint8Array = null;\n    private _bank1: Uint8Array = null;\n    private _bank1Type = BankType.rom;\n\n    private _transitionCount = 0;\n    private _pendingWriteData = 0;\n    private _pendingWrite = false;\n    private _lastAddressBusValue = -1;\n    private _writeRamEnabled = false;\n}\n\nexport default CartridgeSupercharger;\n",
    "/*\n *   This file is part of 6502.ts, an emulator for 6502 based systems built\n *   in Typescript.\n *\n *   Copyright (C) 2014 - 2017 Christian Speckner & contributors\n *\n *   This program is free software; you can redistribute it and/or modify\n *   it under the terms of the GNU General Public License as published by\n *   the Free Software Foundation; either version 2 of the License, or\n *   (at your option) any later version.\n *\n *   This program is distributed in the hope that it will be useful,\n *   but WITHOUT ANY WARRANTY; without even the implied warranty of\n *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *   GNU General Public License for more details.\n *\n *   You should have received a copy of the GNU General Public License along\n *   with this program; if not, write to the Free Software Foundation, Inc.,\n *   51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n */\n\nimport AbstractCartridge from './AbstractCartridge';\nimport CartridgeInfo from './CartridgeInfo';\nimport * as cartridgeUtil from './util';\nimport Bus from '../Bus';\n\nclass CartridgeUA extends AbstractCartridge {\n    constructor(buffer: cartridgeUtil.BufferInterface) {\n        super();\n\n        if (buffer.length !== 0x2000) {\n            throw new Error(`buffer is not an 8k cartridge image: wrong length ${buffer.length}`);\n        }\n\n        for (let i = 0; i < 0x1000; i++) {\n            this._bank0[i] = buffer[i];\n            this._bank1[i] = buffer[0x1000 + i];\n        }\n\n        this.reset();\n    }\n\n    static matchesBuffer(buffer: cartridgeUtil.BufferInterface): boolean {\n        // Signatures shamelessly stolen from stella\n        const signatureCounts = cartridgeUtil.searchForSignatures(buffer, [\n            [0x8d, 0x40, 0x02], // STA $240\n            [0xad, 0x40, 0x02], // LDA $240\n            [0xbd, 0x1f, 0x02] // LDA $21F,X\n        ]);\n\n        for (let i = 0; i < signatureCounts.length; i++) {\n            if (signatureCounts[i] > 0) {\n                return true;\n            }\n        }\n\n        return false;\n    }\n\n    reset(): void {\n        this._bank = this._bank0;\n    }\n\n    read(address: number): number {\n        return this._bank[address & 0x0fff];\n    }\n\n    setBus(bus: Bus): this {\n        this._bus = bus;\n\n        bus.event.read.addHandler(CartridgeUA._onBusAccess, this);\n        bus.event.write.addHandler(CartridgeUA._onBusAccess, this);\n\n        return this;\n    }\n\n    getType(): CartridgeInfo.CartridgeType {\n        return CartridgeInfo.CartridgeType.bankswitch_8k_UA;\n    }\n\n    private static _onBusAccess(accessType: Bus.AccessType, self: CartridgeUA): void {\n        switch (self._bus.getLastAddresBusValue()) {\n            case 0x0220:\n                self._bank = self._bank0;\n                break;\n\n            case 0x0240:\n                self._bank = self._bank1;\n                break;\n        }\n    }\n\n    private _bus: Bus = null;\n\n    private _bank: Uint8Array = null;\n    private _bank0 = new Uint8Array(0x1000);\n    private _bank1 = new Uint8Array(0x1000);\n}\n\nexport default CartridgeUA;\n",
    "/*\n *   This file is part of 6502.ts, an emulator for 6502 based systems built\n *   in Typescript.\n *\n *   Copyright (C) 2014 - 2017 Christian Speckner & contributors\n *\n *   This program is free software; you can redistribute it and/or modify\n *   it under the terms of the GNU General Public License as published by\n *   the Free Software Foundation; either version 2 of the License, or\n *   (at your option) any later version.\n *\n *   This program is distributed in the hope that it will be useful,\n *   but WITHOUT ANY WARRANTY; without even the implied warranty of\n *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *   GNU General Public License for more details.\n *\n *   You should have received a copy of the GNU General Public License along\n *   with this program; if not, write to the Free Software Foundation, Inc.,\n *   51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n */\n\nimport Thumbulator from 'thumbulator.ts';\nimport { Event } from 'microevent.ts';\n\nimport { encode as hex } from '../../../../tools/hex';\n\nconst enum CONST {\n    returnAddress = 0x8004\n}\n\nfunction hostIsLittleEndian(): boolean {\n    const buffer8 = new Uint8Array([1, 2, 3, 4]),\n        buffer32 = new Uint32Array(buffer8.buffer);\n\n    return buffer32[0] === 0x04030201;\n}\n\nclass Soc {\n    constructor(blx32Handler: Soc.Blx32Handler = () => Thumbulator.TrapReason.bxLeaveThumb) {\n        if (hostIsLittleEndian()) {\n            // If we are on a little endian host, we use typed arrays to take advantage of\n            // hardware word access\n            this.getRom16 = address => this._rom16[address >>> 1];\n            this.getRom32 = address => this._rom32[address >>> 2];\n            this.getRam16 = address => this._ram16[address >>> 1];\n            this.getRam32 = address => this._ram32[address >>> 2];\n            this.setRam16 = (address, value) => (this._ram16[address >>> 1] = value);\n            this.setRam32 = (address, value) => (this._ram32[address >>> 2] = value);\n        } else {\n            // On big endian, we dance the endianness shuffle ourselves (DataView is dead slow)\n            this.getRom16 = address => this._rom8[address] | (this._rom8[address + 1] << 8);\n            this.getRom32 = address =>\n                this._rom8[address] |\n                (this._rom8[address + 1] << 8) |\n                (this._rom8[address + 2] << 16) |\n                (this._rom8[address + 3] << 24);\n            this.getRam16 = address => this._ram8[address] | (this._ram8[address + 1] << 8);\n            this.getRam32 = address =>\n                this._ram8[address] |\n                (this._ram8[address + 1] << 8) |\n                (this._ram8[address + 2] << 16) |\n                (this._ram8[address + 3] << 24);\n            this.setRam16 = (address, value) => {\n                this._ram8[address] = value & 0xff;\n                this._ram8[address + 1] = (value >>> 8) & 0xff;\n            };\n            this.setRam32 = (address, value) => {\n                this._ram8[address] = value & 0xff;\n                this._ram8[address + 1] = (value >>> 8) & 0xff;\n                this._ram8[address + 2] = (value >>> 16) & 0xff;\n                this._ram8[address + 3] = (value >>> 24) & 0xff;\n            };\n        }\n\n        // ARM ROM: the whole ROM image, suitable for 16bit and 32bit access\n        this._rom8 = new Uint8Array(this._romBuffer);\n        this._rom16 = new Uint16Array(this._romBuffer);\n        this._rom32 = new Uint32Array(this._romBuffer);\n\n        // ARM RAM\n        this._ram8 = new Uint8Array(this._ramBuffer);\n        this._ram16 = new Uint16Array(this._ramBuffer);\n        this._ram32 = new Uint32Array(this._ramBuffer);\n\n        this._thumbulator = new Thumbulator(this._thumbulatorBus, {\n            stopAddress: CONST.returnAddress,\n            trapOnBx32: blx32Handler\n        });\n\n        this.reset();\n    }\n\n    init(): Promise<void> {\n        return this._thumbulator.init();\n    }\n\n    reset(): void {}\n\n    getRom(): Uint8Array {\n        return this._rom8;\n    }\n\n    getRam(): Uint8Array {\n        return this._ram8;\n    }\n\n    run(entry: number): void {\n        this._thumbulator.reset();\n        this._thumbulator.enableDebug(false);\n\n        for (let i = 0; i <= 12; i++) {\n            this._thumbulator.writeRegister(i, 0);\n        }\n\n        this._thumbulator.writeRegister(13, 0x40001fb4);\n        this._thumbulator.writeRegister(14, CONST.returnAddress + 1);\n        this._thumbulator.writeRegister(15, entry);\n\n        this._armMamcr = 0;\n\n        const trap = this._thumbulator.run(500000);\n\n        if (trap !== Thumbulator.TrapReason.stop && trap !== Thumbulator.TrapReason.abort) {\n            this._triggerTrap(`ARM execution trapped: ${trap}`);\n        }\n    }\n\n    getThumbulator(): Thumbulator {\n        return this._thumbulator;\n    }\n\n    private _triggerTrap(message: string): void {\n        this._thumbulator.abort();\n        this.trap.dispatch(message);\n    }\n\n    getRom16: (address: number) => number;\n    getRom32: (address: number) => number;\n    getRam16: (address: number) => number;\n    getRam32: (address: number) => number;\n    setRam16: (address: number, value: number) => void;\n    setRam32: (address: number, value: number) => void;\n\n    trap = new Event<string>();\n\n    private _thumbulatorBus: Thumbulator.Bus = {\n        read16: (address: number): number => {\n            if (address & 0x01) {\n                this._triggerTrap(`unaligned 16 bit ARM read from ${hex(address, 8, false)}`);\n                return 0;\n            }\n\n            const region = address >>> 28,\n                addr = address & 0x0fffffff;\n\n            switch (region) {\n                case 0x0:\n                    if (addr < 0x8000) {\n                        return this.getRom16(addr);\n                    }\n                    break;\n\n                case 0x4:\n                    if (addr < 0x2000) {\n                        return this.getRam16(addr);\n                    }\n                    break;\n\n                case 0xe:\n                    switch (addr) {\n                        case 0x001fc000:\n                            return this._armMamcr;\n                    }\n\n                    break;\n\n                default:\n            }\n\n            this._triggerTrap(`invalid 16 bit ARM read from ${hex(address, 8, false)}`);\n        },\n\n        read32: (address: number): number => {\n            if (address & 0x03) {\n                this._triggerTrap(`unaligned 32 bit ARM read from ${hex(address, 8, false)}`);\n                return 0;\n            }\n\n            const region = address >>> 28,\n                addr = address & 0x0fffffff;\n\n            switch (region) {\n                case 0x0:\n                    if (addr < 0x8000) {\n                        return this.getRom32(addr);\n                    }\n                    break;\n\n                case 0x4:\n                    if (addr < 0x2000) {\n                        return this.getRam32(addr);\n                    }\n                    break;\n\n                case 0xe:\n                    switch (addr) {\n                        case 0x8004:\n                        case 0x8008:\n                            return 0;\n                    }\n\n                    break;\n\n                default:\n            }\n\n            this._triggerTrap(`invalid 32 bit ARM read from ${hex(address, 8, false)}`);\n        },\n\n        write16: (address: number, value: number): void => {\n            if (address & 0x01) {\n                this._triggerTrap(`unaligned 16 bit ARM write: ${hex(value, 4)} -> ${hex(address, 8, false)}`);\n                return;\n            }\n\n            const region = address >>> 28,\n                addr = address & 0x0fffffff;\n\n            switch (region) {\n                case 0x04:\n                    if (addr < 0x2000) {\n                        this.setRam16(addr, value & 0xffff);\n                        return;\n                    }\n                    break;\n\n                case 0xe:\n                    switch (addr) {\n                        case 0x001fc000:\n                            this._armMamcr = value;\n                            return;\n                    }\n\n                    break;\n            }\n\n            this._triggerTrap(`invalid 16 bit ARM write: ${hex(value, 4)} -> ${hex(address, 8, false)}`);\n        },\n\n        write32: (address: number, value: number): void => {\n            if (address & 0x03) {\n                this._triggerTrap(`unaligned 32 bit ARM write: ${hex(value, 8, false)} -> ${hex(address, 8, false)}`);\n                return;\n            }\n\n            const region = address >>> 28,\n                addr = address & 0x0fffffff;\n\n            switch (region) {\n                case 0x4:\n                    if (addr < 0x2000) {\n                        this.setRam32(addr, value);\n                        return;\n                    }\n\n                case 0xe:\n                    switch (addr) {\n                        case 0x8004:\n                        case 0x8008:\n                            return;\n                    }\n\n                    break;\n            }\n\n            this._triggerTrap(`invalid 32 bit ARM write: ${hex(value, 8, false)} -> ${hex(address, 8, false)}`);\n        }\n    };\n\n    private _romBuffer = new ArrayBuffer(0x8000);\n\n    private _rom8: Uint8Array;\n    private _rom16: Uint16Array;\n    private _rom32: Uint32Array;\n\n    private _ramBuffer = new ArrayBuffer(0x2000);\n\n    private _ram8: Uint8Array;\n    private _ram16: Uint16Array;\n    private _ram32: Uint32Array;\n\n    private _armMamcr = 0;\n\n    private _thumbulator: Thumbulator = null;\n}\n\nnamespace Soc {\n    export interface Blx32Handler {\n        (address: number, targetAddress: number): number;\n    }\n}\n\nexport default Soc;\n",
    "/*\n *   This file is part of 6502.ts, an emulator for 6502 based systems built\n *   in Typescript.\n *\n *   Copyright (C) 2014 - 2017 Christian Speckner & contributors\n *\n *   This program is free software; you can redistribute it and/or modify\n *   it under the terms of the GNU General Public License as published by\n *   the Free Software Foundation; either version 2 of the License, or\n *   (at your option) any later version.\n *\n *   This program is distributed in the hope that it will be useful,\n *   but WITHOUT ANY WARRANTY; without even the implied warranty of\n *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *   GNU General Public License for more details.\n *\n *   You should have received a copy of the GNU General Public License along\n *   with this program; if not, write to the Free Software Foundation, Inc.,\n *   51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n */\n\nclass Header {\n    constructor(buffer: { [idx: number]: number; length: number }) {\n        this.startAddressLow = buffer[0x2000];\n        this.startAddressHigh = buffer[0x2001];\n        this.controlWord = buffer[0x2002];\n        this.blockCount = buffer[0x2003];\n        this.checksum = buffer[0x2004];\n        this.multiloadId = buffer[0x2005];\n        this.progressBarSpeedLow = buffer[0x2006];\n        this.progressBarSpeedHigh = buffer[0x2007];\n\n        this.blockLocation = new Uint8Array(this.blockCount);\n        this.blockChecksum = new Uint8Array(this.blockCount);\n\n        for (let i = 0; i < this.blockCount; i++) {\n            this.blockLocation[i] = buffer[0x2000 + 16 + i];\n            this.blockChecksum[i] = buffer[0x2000 + 64 + i];\n        }\n    }\n\n    verify(): boolean {\n        const checksum =\n            this.startAddressLow +\n            this.startAddressHigh +\n            this.controlWord +\n            this.blockCount +\n            this.checksum +\n            this.multiloadId +\n            this.progressBarSpeedLow +\n            this.progressBarSpeedHigh;\n\n        return (checksum & 0xff) === 0x55;\n    }\n\n    startAddressLow: number;\n    startAddressHigh: number;\n    controlWord: number;\n    blockCount: number;\n    checksum: number;\n    multiloadId: number;\n    progressBarSpeedLow: number;\n    progressBarSpeedHigh: number;\n\n    blockLocation: Uint8Array = null;\n    blockChecksum: Uint8Array = null;\n}\n\nexport default Header;\n",
    "/*\n *   This file is part of 6502.ts, an emulator for 6502 based systems built\n *   in Typescript.\n *\n *   Copyright (C) 2014 - 2017 Christian Speckner & contributors\n *\n *   This program is free software; you can redistribute it and/or modify\n *   it under the terms of the GNU General Public License as published by\n *   the Free Software Foundation; either version 2 of the License, or\n *   (at your option) any later version.\n *\n *   This program is distributed in the hope that it will be useful,\n *   but WITHOUT ANY WARRANTY; without even the implied warranty of\n *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *   GNU General Public License for more details.\n *\n *   You should have received a copy of the GNU General Public License along\n *   with this program; if not, write to the Free Software Foundation, Inc.,\n *   51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n */\n\nexport const bios = new Uint8Array([\n    0xa5,\n    0xfa,\n    0x85,\n    0x80,\n    0x4c,\n    0x18,\n    0xf8,\n    0xff,\n    0xff,\n    0xff,\n    0x78,\n    0xd8,\n    0xa0,\n    0x00,\n    0xa2,\n    0x00,\n    0x94,\n    0x00,\n    0xe8,\n    0xd0,\n    0xfb,\n    0x4c,\n    0x50,\n    0xf8,\n    0xa2,\n    0x00,\n    0xbd,\n    0x06,\n    0xf0,\n    0xad,\n    0xf8,\n    0xff,\n    0xa2,\n    0x00,\n    0xad,\n    0x00,\n    0xf0,\n    0xea,\n    0xbd,\n    0x00,\n    0xf7,\n    0xca,\n    0xd0,\n    0xf6,\n    0x4c,\n    0x50,\n    0xf8,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xa2,\n    0x03,\n    0xbc,\n    0x22,\n    0xf9,\n    0x94,\n    0xfa,\n    0xca,\n    0x10,\n    0xf8,\n    0xa0,\n    0x00,\n    0xa2,\n    0x28,\n    0x94,\n    0x04,\n    0xca,\n    0x10,\n    0xfb,\n    0xa2,\n    0x1c,\n    0x94,\n    0x81,\n    0xca,\n    0x10,\n    0xfb,\n    0xa9,\n    0xff,\n    0xc9,\n    0x00,\n    0xd0,\n    0x03,\n    0x4c,\n    0x13,\n    0xf9,\n    0xa9,\n    0x00,\n    0x85,\n    0x1b,\n    0x85,\n    0x1c,\n    0x85,\n    0x1d,\n    0x85,\n    0x1e,\n    0x85,\n    0x1f,\n    0x85,\n    0x19,\n    0x85,\n    0x1a,\n    0x85,\n    0x08,\n    0x85,\n    0x01,\n    0xa9,\n    0x10,\n    0x85,\n    0x21,\n    0x85,\n    0x02,\n    0xa2,\n    0x07,\n    0xca,\n    0xca,\n    0xd0,\n    0xfd,\n    0xa9,\n    0x00,\n    0x85,\n    0x20,\n    0x85,\n    0x10,\n    0x85,\n    0x11,\n    0x85,\n    0x02,\n    0x85,\n    0x2a,\n    0xa9,\n    0x05,\n    0x85,\n    0x0a,\n    0xa9,\n    0xff,\n    0x85,\n    0x0d,\n    0x85,\n    0x0e,\n    0x85,\n    0x0f,\n    0x85,\n    0x84,\n    0x85,\n    0x85,\n    0xa9,\n    0xf0,\n    0x85,\n    0x83,\n    0xa9,\n    0x74,\n    0x85,\n    0x09,\n    0xa9,\n    0x0c,\n    0x85,\n    0x15,\n    0xa9,\n    0x1f,\n    0x85,\n    0x17,\n    0x85,\n    0x82,\n    0xa9,\n    0x07,\n    0x85,\n    0x19,\n    0xa2,\n    0x08,\n    0xa0,\n    0x00,\n    0x85,\n    0x02,\n    0x88,\n    0xd0,\n    0xfb,\n    0x85,\n    0x02,\n    0x85,\n    0x02,\n    0xa9,\n    0x02,\n    0x85,\n    0x02,\n    0x85,\n    0x00,\n    0x85,\n    0x02,\n    0x85,\n    0x02,\n    0x85,\n    0x02,\n    0xa9,\n    0x00,\n    0x85,\n    0x00,\n    0xca,\n    0x10,\n    0xe4,\n    0x06,\n    0x83,\n    0x66,\n    0x84,\n    0x26,\n    0x85,\n    0xa5,\n    0x83,\n    0x85,\n    0x0d,\n    0xa5,\n    0x84,\n    0x85,\n    0x0e,\n    0xa5,\n    0x85,\n    0x85,\n    0x0f,\n    0xa6,\n    0x82,\n    0xca,\n    0x86,\n    0x82,\n    0x86,\n    0x17,\n    0xe0,\n    0x0a,\n    0xd0,\n    0xc3,\n    0xa9,\n    0x02,\n    0x85,\n    0x01,\n    0xa2,\n    0x1c,\n    0xa0,\n    0x00,\n    0x84,\n    0x19,\n    0x84,\n    0x09,\n    0x94,\n    0x81,\n    0xca,\n    0x10,\n    0xfb,\n    0xa6,\n    0x80,\n    0xdd,\n    0x00,\n    0xf0,\n    0xa9,\n    0x9a,\n    0xa2,\n    0xff,\n    0xa0,\n    0x00,\n    0x9a,\n    0x4c,\n    0xfa,\n    0x00,\n    0xcd,\n    0xf8,\n    0xff,\n    0x4c\n]);\n\nexport const defaultHeader = new Uint8Array([\n    0xac,\n    0xfa,\n    0x0f,\n    0x18,\n    0x62,\n    0x00,\n    0x24,\n    0x02,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0x00,\n    0x04,\n    0x08,\n    0x0c,\n    0x10,\n    0x14,\n    0x18,\n    0x1c,\n    0x01,\n    0x05,\n    0x09,\n    0x0d,\n    0x11,\n    0x15,\n    0x19,\n    0x1d,\n    0x02,\n    0x06,\n    0x0a,\n    0x0e,\n    0x12,\n    0x16,\n    0x1a,\n    0x1e,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0x00,\n    0x00,\n    0x00,\n    0x00,\n    0x00,\n    0x00,\n    0x00,\n    0x00,\n    0x00,\n    0x00,\n    0x00,\n    0x00,\n    0x00,\n    0x00,\n    0x00,\n    0x00,\n    0x00,\n    0x00,\n    0x00,\n    0x00,\n    0x00,\n    0x00,\n    0x00,\n    0x00,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0xff,\n    0x00\n]);\n",
    "/*\n *   This file is part of 6502.ts, an emulator for 6502 based systems built\n *   in Typescript.\n *\n *   Copyright (C) 2014 - 2017 Christian Speckner & contributors\n *\n *   This program is free software; you can redistribute it and/or modify\n *   it under the terms of the GNU General Public License as published by\n *   the Free Software Foundation; either version 2 of the License, or\n *   (at your option) any later version.\n *\n *   This program is distributed in the hope that it will be useful,\n *   but WITHOUT ANY WARRANTY; without even the implied warranty of\n *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *   GNU General Public License for more details.\n *\n *   You should have received a copy of the GNU General Public License along\n *   with this program; if not, write to the Free Software Foundation, Inc.,\n *   51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n */\n\nexport interface BufferInterface {\n    [index: number]: number;\n    length: number;\n}\n\nexport function searchForSignatures(buffer: BufferInterface, signatures: Array<Array<number>>): Array<number> {\n    interface Candidate {\n        signature: number;\n        nextIndex: number;\n    }\n\n    const candidates: Array<Candidate> = [],\n        counts = signatures.map((signature: Array<number>) => 0);\n\n    for (let i = 0; i < buffer.length; i++) {\n        for (let iCandidate = 0; iCandidate < candidates.length; iCandidate++) {\n            const candidate = candidates[iCandidate],\n                signature = signatures[candidate.signature];\n\n            if (buffer[i] === signature[candidate.nextIndex]) {\n                if (++candidate.nextIndex === signature.length) {\n                    counts[candidate.signature]++;\n                    candidates.splice(iCandidate, 1);\n                    iCandidate--;\n                }\n            } else {\n                candidates.splice(iCandidate, 1);\n                iCandidate--;\n            }\n        }\n\n        for (let iSignature = 0; iSignature < signatures.length; iSignature++) {\n            const signature = signatures[iSignature];\n\n            if (signature.length > 0 && buffer[i] === signature[0]) {\n                if (signature.length === 1) {\n                    counts[iSignature]++;\n                } else {\n                    candidates.push({\n                        signature: iSignature,\n                        nextIndex: 1\n                    });\n                }\n            }\n        }\n    }\n\n    return counts;\n}\n\nexport function searchForSignature(buffer: BufferInterface, signature: Array<number>): number {\n    for (let i = 0; i < buffer.length; i++) {\n        let j: number;\n\n        for (j = 0; j < signature.length && (buffer[i + j] === signature[j] || signature[j] < 0); j++) {}\n\n        if (j === signature.length) {\n            return i;\n        }\n    }\n\n    return -1;\n}\n",
    "/*\n *   This file is part of 6502.ts, an emulator for 6502 based systems built\n *   in Typescript.\n *\n *   Copyright (C) 2014 - 2017 Christian Speckner & contributors\n *\n *   This program is free software; you can redistribute it and/or modify\n *   it under the terms of the GNU General Public License as published by\n *   the Free Software Foundation; either version 2 of the License, or\n *   (at your option) any later version.\n *\n *   This program is distributed in the hope that it will be useful,\n *   but WITHOUT ANY WARRANTY; without even the implied warranty of\n *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *   GNU General Public License for more details.\n *\n *   You should have received a copy of the GNU General Public License along\n *   with this program; if not, write to the Free Software Foundation, Inc.,\n *   51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n */\n\nconst enum Count {\n    renderCounterOffset = -4\n}\n\nexport default class Ball {\n    constructor(private _collisionMask: number, private _flushLineCache: () => void) {\n        this.reset();\n    }\n\n    reset(): void {\n        this.color = 0xffffffff;\n        this.collision = 0;\n        this._width = 1;\n        this._enabledOld = false;\n        this._enabledNew = false;\n        this._enabled = false;\n        this._counter = 0;\n        this._rendering = false;\n        this._renderCounter = Count.renderCounterOffset;\n        this._moving = false;\n        this._hmmClocks = 0;\n        this._delaying = false;\n        this._effectiveWidth = 0;\n        this._lastMovementTick = 0;\n    }\n\n    enabl(value: number): void {\n        const enabledNewOldValue = this._enabledNew;\n\n        this._enabledNew = (value & 2) > 0;\n\n        if (enabledNewOldValue !== this._enabledNew && !this._delaying) {\n            this._flushLineCache();\n            this._updateEnabled();\n        }\n    }\n\n    hmbl(value: number): void {\n        // Shift and flip the highest bit --- this gives us the necessary movement to the right\n        this._hmmClocks = (value >>> 4) ^ 0x8;\n    }\n\n    resbl(counter: number): void {\n        this._counter = counter;\n\n        this._rendering = true;\n        this._renderCounter = Count.renderCounterOffset + (counter - 157);\n    }\n\n    ctrlpf(value: number): void {\n        const width = this._widths[(value & 0x30) >>> 4];\n\n        if (width !== this._width) {\n            this._flushLineCache();\n        }\n\n        this._width = width;\n    }\n\n    vdelbl(value: number): void {\n        const oldDelaying = this._delaying;\n\n        this._delaying = (value & 0x01) > 0;\n\n        if (oldDelaying !== this._delaying) {\n            this._flushLineCache();\n            this._updateEnabled();\n        }\n    }\n\n    startMovement(): void {\n        this._moving = true;\n    }\n\n    movementTick(clock: number, apply: boolean): boolean {\n        this._lastMovementTick = this._counter;\n\n        // Stop movement only if the clock matches exactly --- this is crucial for cosmic ark type hacks\n        if (clock === this._hmmClocks) {\n            this._moving = false;\n        }\n\n        if (this._moving && apply) {\n            this.tick(false);\n        }\n\n        return this._moving;\n    }\n\n    tick(isReceivingHclock: boolean): void {\n        this.collision = this._rendering && this._renderCounter >= 0 && this._enabled ? 0 : this._collisionMask;\n\n        const starfieldEffect = this._moving && isReceivingHclock;\n\n        if (this._counter === 156) {\n            const starfieldDelta = (this._counter - this._lastMovementTick + 160) % 4;\n\n            this._rendering = true;\n            this._renderCounter = Count.renderCounterOffset;\n\n            if (starfieldEffect && starfieldDelta === 3 && this._width < 4) {\n                this._renderCounter++;\n            }\n\n            switch (starfieldDelta) {\n                case 3:\n                    this._effectiveWidth = this._width === 1 ? 2 : this._width;\n                    break;\n\n                case 2:\n                    this._effectiveWidth = 0;\n                    break;\n\n                default:\n                    this._effectiveWidth = this._width;\n                    break;\n            }\n        } else if (this._rendering && ++this._renderCounter >= (starfieldEffect ? this._effectiveWidth : this._width)) {\n            this._rendering = false;\n        }\n\n        if (++this._counter >= 160) {\n            this._counter = 0;\n        }\n    }\n\n    getPixel(colorIn: number): number {\n        return this.collision ? colorIn : this.color;\n    }\n\n    shuffleStatus(): void {\n        const oldEnabledOld = this._enabledOld;\n\n        this._enabledOld = this._enabledNew;\n\n        if (this._delaying && this._enabledOld !== oldEnabledOld) {\n            this._flushLineCache();\n            this._updateEnabled();\n        }\n    }\n\n    setColor(color: number): void {\n        if (color !== this.color && this._enabled) {\n            this._flushLineCache();\n        }\n\n        this.color = color;\n    }\n\n    private _updateEnabled(): void {\n        this._enabled = this._delaying ? this._enabledOld : this._enabledNew;\n    }\n\n    color = 0xffffffff;\n    collision = 0;\n\n    private _enabledOld = false;\n    private _enabledNew = false;\n    private _enabled = false;\n\n    private _hmmClocks = 0;\n    private _counter = 0;\n    private _moving = false;\n    private _width = 1;\n    private _effectiveWidth = 0;\n    private _lastMovementTick = 0;\n\n    private _rendering = false;\n    private _renderCounter = Count.renderCounterOffset;\n\n    private _widths = new Uint8Array([1, 2, 4, 8]);\n\n    private _delaying = false;\n}\n",
    "/*\n *   This file is part of 6502.ts, an emulator for 6502 based systems built\n *   in Typescript.\n *\n *   Copyright (C) 2014 - 2017 Christian Speckner & contributors\n *\n *   This program is free software; you can redistribute it and/or modify\n *   it under the terms of the GNU General Public License as published by\n *   the Free Software Foundation; either version 2 of the License, or\n *   (at your option) any later version.\n *\n *   This program is distributed in the hope that it will be useful,\n *   but WITHOUT ANY WARRANTY; without even the implied warranty of\n *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *   GNU General Public License for more details.\n *\n *   You should have received a copy of the GNU General Public License along\n *   with this program; if not, write to the Free Software Foundation, Inc.,\n *   51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n */\n\nclass DelayQueue {\n    constructor(private _length: number, size: number) {\n        this._queue = new Array<QueueEntry>(this._length);\n\n        for (let i = 0; i < this._length; i++) {\n            this._queue[i] = new QueueEntry(size);\n        }\n    }\n\n    reset() {\n        for (let i = 0; i < this._length; i++) {\n            this._queue[i].nextIndex = 0;\n        }\n    }\n\n    push(address: number, value: number, delay: number): this {\n        if (delay >= this._length) {\n            throw new Error('delay exceeds queue length');\n        }\n\n        const currentIndex = this._indices[address];\n\n        if (currentIndex < this._length) {\n            this._queue[currentIndex].remove(address);\n        }\n\n        const index = (this._nextIndex + delay) % this._length;\n        this._queue[index].push(address, value);\n\n        this._indices[address] = index;\n\n        return this;\n    }\n\n    execute<T>(handler: (address: number, value: number, scope: T) => void, scope?: T): void {\n        const entry = this._queue[this._nextIndex];\n        this._nextIndex = (this._nextIndex + 1) % this._length;\n\n        for (let i = 0; i < entry.nextIndex; i++) {\n            handler(entry.addresses[i], entry.values[i], scope);\n            this._indices[entry.addresses[i]] = 0xff;\n        }\n\n        entry.nextIndex = 0;\n    }\n\n    private _queue: Array<QueueEntry>;\n    private _nextIndex = 0;\n    private _indices = new Uint8Array(0xff);\n}\n\nclass QueueEntry {\n    constructor(public size: number) {\n        this.addresses = new Uint8Array(size);\n        this.values = new Uint8Array(size);\n    }\n\n    push(address: number, value: number): void {\n        if (this.nextIndex >= this.size) {\n            throw new Error('delay queue overflow');\n        }\n\n        this.addresses[this.nextIndex] = address;\n        this.values[this.nextIndex] = value;\n\n        this.nextIndex++;\n    }\n\n    remove(address: number): void {\n        let i: number;\n\n        for (i = 0; i < this.nextIndex; i++) {\n            if (this.addresses[i] === address) {\n                break;\n            }\n        }\n\n        if (i < this.nextIndex) {\n            this.addresses[i] = this.addresses[this.nextIndex - 1];\n            this.values[i] = this.values[this.nextIndex - 1];\n            this.nextIndex--;\n        }\n    }\n\n    addresses: Uint8Array;\n    values: Uint8Array;\n    nextIndex = 0;\n}\n\nexport default DelayQueue;\n",
    "/*\n *   This file is part of 6502.ts, an emulator for 6502 based systems built\n *   in Typescript.\n *\n *   Copyright (C) 2014 - 2017 Christian Speckner & contributors\n *\n *   This program is free software; you can redistribute it and/or modify\n *   it under the terms of the GNU General Public License as published by\n *   the Free Software Foundation; either version 2 of the License, or\n *   (at your option) any later version.\n *\n *   This program is distributed in the hope that it will be useful,\n *   but WITHOUT ANY WARRANTY; without even the implied warranty of\n *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *   GNU General Public License for more details.\n *\n *   You should have received a copy of the GNU General Public License along\n *   with this program; if not, write to the Free Software Foundation, Inc.,\n *   51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n */\n\nimport { Event } from 'microevent.ts';\n\nimport VideoOutputInterface from '../../io/VideoOutputInterface';\nimport RGBASurfaceInterface from '../../../video/surface/RGBASurfaceInterface';\nimport Config from '../Config';\n\nconst enum Metrics {\n    vblankNTSC = 40,\n    vblankPAL = 48,\n    kernelNTSC = 192,\n    kernelPAL = 228,\n    overscanNTSC = 30,\n    overscanPAL = 36,\n    vsync = 3,\n    visibleOverscan = 20,\n    maxUnderscan = 10,\n    maxLinesWithoutVsync = 150\n}\n\nconst enum State {\n    waitForVsyncStart,\n    waitForVsyncEnd,\n    waitForFrameStart,\n    frame,\n    overscan\n}\n\nexport default class FrameManager {\n    constructor(private _config: Config) {\n        switch (this._config.tvMode) {\n            case Config.TvMode.ntsc:\n                this._vblankLines = Metrics.vblankNTSC;\n                this._kernelLines = Metrics.kernelNTSC;\n                this._overscanLines = Metrics.overscanNTSC;\n                break;\n\n            case Config.TvMode.pal:\n            case Config.TvMode.secam:\n                this._vblankLines = Metrics.vblankPAL;\n                this._kernelLines = Metrics.kernelPAL;\n                this._overscanLines = Metrics.overscanPAL;\n                break;\n\n            default:\n                throw new Error(`invalid tv mode ${this._config.tvMode}`);\n        }\n\n        this._frameStart = this._config.frameStart;\n\n        this.reset();\n    }\n\n    reset(): void {\n        this.vblank = false;\n        this.surfaceBuffer = null;\n        this._linesWithoutVsync = 0;\n        this._state = State.waitForVsyncStart;\n        this._vsync = false;\n        this._lineInState = 0;\n        this._surface = null;\n    }\n\n    nextLine(): void {\n        if (!this._surfaceFactory) {\n            return;\n        }\n\n        this._lineInState++;\n\n        switch (this._state) {\n            case State.waitForVsyncStart:\n            case State.waitForVsyncEnd:\n                if (++this._linesWithoutVsync > Metrics.maxLinesWithoutVsync) {\n                    this._setState(State.waitForFrameStart);\n                }\n\n                break;\n\n            case State.waitForFrameStart:\n                if (this._frameStart >= 0) {\n                    if (this._lineInState > this._frameStart) {\n                        this._startFrame();\n                    }\n                } else {\n                    if (\n                        this._lineInState >=\n                        (this.vblank ? this._vblankLines : this._vblankLines - Metrics.maxUnderscan)\n                    ) {\n                        this._startFrame();\n                    }\n                }\n\n                break;\n\n            case State.frame:\n                if (this._lineInState >= this._kernelLines + Metrics.visibleOverscan) {\n                    this._finalizeFrame();\n                }\n                break;\n\n            case State.overscan:\n                if (this._lineInState >= this._overscanLines - Metrics.visibleOverscan) {\n                    this._setState(State.waitForVsyncStart);\n                }\n                break;\n        }\n    }\n\n    isRendering(): boolean {\n        return this._state === State.frame && !!this._surface;\n    }\n\n    setVblank(vblank: boolean): void {\n        if (this._surfaceFactory) {\n            this.vblank = vblank;\n        }\n    }\n\n    setVsync(vsync: boolean): void {\n        if (!this._surfaceFactory || vsync === this._vsync) {\n            return;\n        }\n\n        this._vsync = vsync;\n\n        switch (this._state) {\n            case State.waitForVsyncStart:\n                this._linesWithoutVsync = 0;\n            case State.waitForFrameStart:\n            case State.overscan:\n                if (vsync) {\n                    this._setState(State.waitForVsyncEnd);\n                }\n                break;\n\n            case State.waitForVsyncEnd:\n                if (!vsync) {\n                    this._setState(State.waitForFrameStart);\n                }\n                break;\n\n            case State.frame:\n                if (vsync) {\n                    // State is reset by finalizeFrame\n                    this._finalizeFrame();\n                }\n                break;\n        }\n    }\n\n    getHeight(): number {\n        return this._kernelLines + Metrics.visibleOverscan;\n    }\n\n    setSurfaceFactory(factory: VideoOutputInterface.SurfaceFactoryInterface): void {\n        this._surfaceFactory = factory;\n    }\n\n    getCurrentLine(): number {\n        return this._state === State.frame ? this._lineInState : 0;\n    }\n\n    getDebugState(): string {\n        return `${this._getReadableState()}, line = ${this._lineInState}, ` + `vblank = ${this.vblank ? '1' : '0'}`;\n    }\n\n    private _getReadableState(): string {\n        switch (this._state) {\n            case State.waitForVsyncStart:\n                return `wait for vsync start`;\n\n            case State.waitForVsyncEnd:\n                return `wait for vsync end`;\n\n            case State.waitForFrameStart:\n                return `wait for frame start`;\n\n            case State.frame:\n                return `frame`;\n\n            case State.overscan:\n                return `overscan`;\n        }\n    }\n\n    private _startFrame(): void {\n        this._setState(State.frame);\n        this._surface = this._surfaceFactory();\n        this.surfaceBuffer = this._surface.getBuffer();\n    }\n\n    private _finalizeFrame(): void {\n        if (this._state !== State.frame) {\n            throw new Error(`finalize frame in invalid state ${this._state}`);\n        }\n\n        this.newFrame.dispatch(this._surface);\n        this._setState(State.overscan);\n    }\n\n    private _setState(newState: State) {\n        this._state = newState;\n        this._lineInState = 0;\n    }\n\n    newFrame = new Event<RGBASurfaceInterface>();\n\n    vblank = false;\n    surfaceBuffer: RGBASurfaceInterface.BufferInterface = null;\n\n    private _vblankLines = 0;\n    private _kernelLines = 0;\n    private _overscanLines = 0;\n\n    private _linesWithoutVsync = 0;\n    private _state = State.waitForVsyncStart;\n\n    private _vsync = false;\n    private _lineInState = 0;\n\n    private _surfaceFactory: VideoOutputInterface.SurfaceFactoryInterface = null;\n    private _surface: RGBASurfaceInterface = null;\n\n    private _frameStart = -1;\n}\n",
    "/*\n *   This file is part of 6502.ts, an emulator for 6502 based systems built\n *   in Typescript.\n *\n *   Copyright (C) 2014 - 2017 Christian Speckner & contributors\n *\n *   This program is free software; you can redistribute it and/or modify\n *   it under the terms of the GNU General Public License as published by\n *   the Free Software Foundation; either version 2 of the License, or\n *   (at your option) any later version.\n *\n *   This program is distributed in the hope that it will be useful,\n *   but WITHOUT ANY WARRANTY; without even the implied warranty of\n *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *   GNU General Public License for more details.\n *\n *   You should have received a copy of the GNU General Public License along\n *   with this program; if not, write to the Free Software Foundation, Inc.,\n *   51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n */\n\nimport SwitchInterface from '../../io/SwitchInterface';\n\nexport default class LatchedInput {\n    constructor(private _switch: SwitchInterface) {\n        this.reset();\n    }\n\n    reset(): void {\n        this._modeLatched = false;\n        this._latchedValue = 0;\n    }\n\n    vblank(value: number): void {\n        if (value & 0x40) {\n            this._modeLatched = true;\n        } else {\n            this._modeLatched = false;\n            this._latchedValue = 0x80;\n        }\n    }\n\n    inpt(): number {\n        let value = this._switch.read() ? 0 : 0x80;\n\n        if (this._modeLatched) {\n            this._latchedValue &= value;\n            value = this._latchedValue;\n        }\n\n        return value;\n    }\n\n    private _modeLatched = false;\n    private _latchedValue = 0;\n}\n",
    "/*\n *   This file is part of 6502.ts, an emulator for 6502 based systems built\n *   in Typescript.\n *\n *   Copyright (C) 2014 - 2017 Christian Speckner & contributors\n *\n *   This program is free software; you can redistribute it and/or modify\n *   it under the terms of the GNU General Public License as published by\n *   the Free Software Foundation; either version 2 of the License, or\n *   (at your option) any later version.\n *\n *   This program is distributed in the hope that it will be useful,\n *   but WITHOUT ANY WARRANTY; without even the implied warranty of\n *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *   GNU General Public License for more details.\n *\n *   You should have received a copy of the GNU General Public License along\n *   with this program; if not, write to the Free Software Foundation, Inc.,\n *   51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n */\n\nimport { decodesMissile } from './drawCounterDecodes';\n\nimport Player from './Player';\n\nconst enum Count {\n    renderCounterOffset = -4\n}\n\nclass Missile {\n    constructor(private _collisionMask: number, private _flushLineCache: () => void) {\n        this.reset();\n    }\n\n    reset(): void {\n        this.color = 0xffffffff;\n        this._width = 1;\n        this._enabled = false;\n        this._counter = 0;\n        this._rendering = false;\n        this._renderCounter = Count.renderCounterOffset;\n        this._moving = false;\n        this._hmmClocks = 0;\n        this._decodes = decodesMissile[0];\n        this._resmp = -1;\n        this._enam = false;\n        this._effectiveWidth = 0;\n        this._lastMovementTick = 0;\n    }\n\n    enam(value: number): void {\n        const enam = (value & 2) > 0,\n            enabled = enam && this._resmp === 0;\n\n        if (enam !== this._enam || enabled !== this._enabled) {\n            this._flushLineCache();\n        }\n\n        this._enam = enam;\n        this._enabled = enabled;\n    }\n\n    hmm(value: number): void {\n        // Shift and flip the highest bit --- this gives us the necessary movement to the right\n        this._hmmClocks = (value >>> 4) ^ 0x8;\n    }\n\n    resm(counter: number, hblank: boolean): void {\n        this._counter = counter;\n\n        if (this._rendering) {\n            if (this._renderCounter < 0) {\n                this._renderCounter = Count.renderCounterOffset + (counter - 157);\n            } else {\n                switch (this._width) {\n                    case 8:\n                        this._renderCounter = counter - 157 + (this._renderCounter >= 4 ? 4 : 0);\n                        break;\n\n                    case 4:\n                        this._renderCounter = counter - 157;\n                        break;\n\n                    case 2:\n                        if (hblank) {\n                            this._rendering = this._renderCounter > 1;\n                        } else if (this._renderCounter === 0) {\n                            this._renderCounter++;\n                        }\n\n                        break;\n\n                    default:\n                        if (hblank) {\n                            this._rendering = this._renderCounter > 0;\n                        }\n\n                        break;\n                }\n            }\n        }\n    }\n\n    resmp(value: number, player: Player) {\n        const resmp = value & 0x02;\n\n        if (resmp === this._resmp) {\n            return;\n        }\n\n        this._flushLineCache();\n\n        this._resmp = resmp;\n\n        if (resmp) {\n            this._enabled = false;\n        } else {\n            this._enabled = this._enam;\n            this._counter = player.getRespClock();\n        }\n    }\n\n    nusiz(value: number): void {\n        this._width = this._widths[(value & 0x30) >>> 4];\n        this._decodes = decodesMissile[value & 0x07];\n\n        if (this._rendering && this._renderCounter >= this._width) {\n            this._rendering = false;\n        }\n    }\n\n    startMovement(): void {\n        this._moving = true;\n    }\n\n    movementTick(clock: number, apply: boolean): boolean {\n        this._lastMovementTick = this._counter;\n\n        // Stop movement only if the clock matches exactly --- this is crucial for cosmic ark type hacks\n        if (clock === this._hmmClocks) {\n            this._moving = false;\n        }\n\n        if (this._moving && apply) {\n            this.tick(false);\n        }\n\n        return this._moving;\n    }\n\n    tick(isReceivingHclock: boolean): void {\n        this.collision = this._rendering && this._renderCounter >= 0 && this._enabled ? 0 : this._collisionMask;\n\n        const starfieldEffect = this._moving && isReceivingHclock;\n\n        if (this._decodes[this._counter] && !this._resmp) {\n            const starfieldDelta = (this._counter - this._lastMovementTick + 160) % 4;\n\n            this._rendering = true;\n            this._renderCounter = Count.renderCounterOffset;\n\n            if (starfieldEffect && starfieldDelta === 3 && this._width < 4) {\n                this._renderCounter++;\n            }\n\n            switch (starfieldDelta) {\n                case 3:\n                    this._effectiveWidth = this._width === 1 ? 2 : this._width;\n                    break;\n\n                case 2:\n                    this._effectiveWidth = 0;\n                    break;\n\n                default:\n                    this._effectiveWidth = this._width;\n                    break;\n            }\n        } else if (this._rendering && ++this._renderCounter >= (starfieldEffect ? this._effectiveWidth : this._width)) {\n            this._rendering = false;\n        }\n\n        if (++this._counter >= 160) {\n            this._counter = 0;\n        }\n    }\n\n    getPixel(colorIn: number): number {\n        return this.collision ? colorIn : this.color;\n    }\n\n    setColor(color: number): void {\n        if (color !== this.color && this._enabled) {\n            this._flushLineCache();\n        }\n\n        this.color = color;\n    }\n\n    color = 0xffffffff;\n    collision = 0;\n\n    private _enabled = false;\n    private _enam = false;\n    private _resmp = -1;\n\n    private _hmmClocks = 0;\n    private _counter = 0;\n    private _moving = false;\n    private _width = 1;\n    private _effectiveWidth = 0;\n    private _lastMovementTick = 0;\n\n    private _rendering = false;\n    private _renderCounter = Count.renderCounterOffset;\n\n    private _decodes: Uint8Array;\n    private _widths = new Uint8Array([1, 2, 4, 8]);\n}\n\nexport default Missile;\n",
    "/*\n *   This file is part of 6502.ts, an emulator for 6502 based systems built\n *   in Typescript.\n *\n *   Copyright (C) 2014 - 2017 Christian Speckner & contributors\n *\n *   This program is free software; you can redistribute it and/or modify\n *   it under the terms of the GNU General Public License as published by\n *   the Free Software Foundation; either version 2 of the License, or\n *   (at your option) any later version.\n *\n *   This program is distributed in the hope that it will be useful,\n *   but WITHOUT ANY WARRANTY; without even the implied warranty of\n *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *   GNU General Public License for more details.\n *\n *   You should have received a copy of the GNU General Public License along\n *   with this program; if not, write to the Free Software Foundation, Inc.,\n *   51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n */\n\nimport { Event } from 'microevent.ts';\n\nimport PCMAudioInterface from '../../io/PCMAudioOutputInterface';\nimport AudioInterface from './AudioInterface';\nimport AudioOutputBuffer from '../../../tools/AudioOutputBuffer';\nimport StellaConfig from '../Config';\nimport PCMChannel from './PCMChannel';\n\n// The highest resistance in the resistor network is 30kOhms, the others follow from division\n// by powers of two: 30 -> 15 -> 7.5 -> 3.75\nconst R_MAX = 30;\n\n// The second resistor in the divider (1kOhms)\nconst R = 1;\n\n// The maximum sum of the individual volume of the two channels: 0x1e = 0xf + 0xf\nconst VOL_MAX = 0x1e;\n\nconst mixingTable = new Float32Array(VOL_MAX + 1);\n\nexport namespace __init {\n    for (let vol = 0; vol <= VOL_MAX; vol++) {\n        mixingTable[vol] = vol / VOL_MAX * (R_MAX + R * VOL_MAX) / (R_MAX + R * vol);\n    }\n}\n\nclass PCMAudio implements PCMAudioInterface {\n    constructor(private _config: StellaConfig) {\n        this._sampleRate = (this._config.tvMode === StellaConfig.TvMode.ntsc ? 60 * 262 : 50 * 312) * 2;\n        this._frameSize = (this._config.tvMode === StellaConfig.TvMode.ntsc ? 262 : 312) * 4;\n\n        this.reset();\n    }\n\n    getChannels(): Array<AudioInterface> {\n        return [\n            {\n                audv: value => this._channel0.audv(value),\n                audc: value => this._channel0.audc(value),\n                audf: value => this._channel0.audf(value),\n                reset: () => this.reset(),\n                setActive: active => this.setActive(active)\n            },\n            {\n                audv: value => this._channel1.audv(value),\n                audc: value => this._channel1.audc(value),\n                audf: value => this._channel1.audf(value),\n                reset: () => undefined,\n                setActive: () => undefined\n            }\n        ];\n    }\n\n    reset() {\n        this._bufferIndex = 0;\n        this._counter = 0;\n\n        this._channel0.reset();\n        this._channel1.reset();\n    }\n\n    tick(): void {\n        switch (this._counter) {\n            case 9:\n            case 81:\n                this._channel0.phase0();\n                this._channel1.phase0();\n                break;\n\n            case 37:\n            case 149:\n                this._currentOutputBuffer.getContent()[this._bufferIndex++] =\n                    mixingTable[this._channel0.phase1() + this._channel1.phase1()];\n\n                if (this._bufferIndex === this._currentOutputBuffer.getLength()) {\n                    this._dispatchBuffer();\n                }\n\n                break;\n        }\n\n        if (++this._counter === 228) {\n            this._counter = 0;\n        }\n    }\n\n    isPaused(): boolean {\n        return !this._isActive;\n    }\n\n    setActive(isActive: boolean): void {\n        if (isActive === this._isActive) {\n            return;\n        }\n\n        this._isActive = isActive;\n\n        this.togglePause.dispatch(!isActive);\n    }\n\n    getSampleRate(): number {\n        return this._sampleRate;\n    }\n\n    getFrameSize(): number {\n        return this._frameSize;\n    }\n\n    setFrameBufferFactory(factory: PCMAudioInterface.FrameBufferFactory): void {\n        this._bufferFactory = factory;\n\n        if (!this._currentOutputBuffer && factory) {\n            this._currentOutputBuffer = factory();\n            this._bufferIndex = 0;\n        }\n    }\n\n    private _dispatchBuffer(): void {\n        this.newFrame.dispatch(this._currentOutputBuffer);\n        this._currentOutputBuffer = this._bufferFactory ? this._bufferFactory() : null;\n        this._bufferIndex = 0;\n    }\n\n    newFrame = new Event<AudioOutputBuffer>();\n\n    togglePause = new Event<boolean>();\n\n    private _currentOutputBuffer: AudioOutputBuffer = null;\n\n    private _bufferIndex = 0;\n    private _sampleRate = 0;\n    private _frameSize: number;\n    private _counter = 0;\n    private _isActive = false;\n\n    private _bufferFactory: PCMAudioInterface.FrameBufferFactory;\n\n    private _channel0 = new PCMChannel();\n    private _channel1 = new PCMChannel();\n}\n\nexport default PCMAudio;\n",
    "/*\n *   This file is part of 6502.ts, an emulator for 6502 based systems built\n *   in Typescript.\n *\n *   Copyright (C) 2014 - 2017 Christian Speckner & contributors\n *\n *   This program is free software; you can redistribute it and/or modify\n *   it under the terms of the GNU General Public License as published by\n *   the Free Software Foundation; either version 2 of the License, or\n *   (at your option) any later version.\n *\n *   This program is distributed in the hope that it will be useful,\n *   but WITHOUT ANY WARRANTY; without even the implied warranty of\n *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *   GNU General Public License for more details.\n *\n *   You should have received a copy of the GNU General Public License along\n *   with this program; if not, write to the Free Software Foundation, Inc.,\n *   51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n */\n\nclass PCMChannel {\n    constructor() {\n        this.reset();\n    }\n\n    reset(): void {\n        this._audc = this._audf = this._audv = 0;\n\n        this._clkEnable = false;\n        this._noiseFeedback = false;\n        this._noiseCounterBit4 = false;\n        this._pulseCounterHold = false;\n\n        this._divCounter = 0;\n        this._noiseCounter = 0;\n        this._pulseCounter = 0;\n    }\n\n    phase0(): void {\n        if (this._clkEnable) {\n            this._noiseCounterBit4 = !!(this._noiseCounter & 0x01);\n\n            switch (this._audc & 0x03) {\n                case 0x00:\n                case 0x01:\n                    this._pulseCounterHold = false;\n                    break;\n\n                case 0x02:\n                    this._pulseCounterHold = (this._noiseCounter & 0x1e) !== 0x02;\n                    break;\n\n                case 0x03:\n                    this._pulseCounterHold = !this._noiseCounterBit4;\n                    break;\n            }\n\n            switch (this._audc & 0x03) {\n                case 0x00:\n                    this._noiseFeedback =\n                        !!((this._pulseCounter ^ this._noiseCounter) & 0x01) ||\n                        !(this._noiseCounter !== 0 || this._pulseCounter !== 0x0a) ||\n                        !(this._audc & 0x0c);\n\n                    break;\n\n                default:\n                    this._noiseFeedback =\n                        !!((this._noiseCounter & 0x04 ? 1 : 0) ^ (this._noiseCounter & 0x01)) ||\n                        this._noiseCounter === 0;\n\n                    break;\n            }\n        }\n\n        this._clkEnable = this._divCounter === this._audf;\n\n        if (this._divCounter === this._audf || this._divCounter === 0x1f) {\n            this._divCounter = 0;\n        } else {\n            this._divCounter++;\n        }\n    }\n\n    phase1(): number {\n        let pulseFeedback = false;\n\n        if (this._clkEnable) {\n            switch (this._audc >>> 2) {\n                case 0x00:\n                    pulseFeedback =\n                        !!((this._pulseCounter & 0x02 ? 1 : 0) ^ (this._pulseCounter & 0x01)) &&\n                        this._pulseCounter !== 0x0a &&\n                        !!(this._audc & 0x03);\n\n                    break;\n\n                case 0x01:\n                    pulseFeedback = !(this._pulseCounter & 0x08);\n                    break;\n\n                case 0x02:\n                    pulseFeedback = !this._noiseCounterBit4;\n                    break;\n\n                case 0x03:\n                    pulseFeedback = !(!!(this._pulseCounter & 0x02) || !(this._pulseCounter & 0x0e));\n                    break;\n            }\n\n            this._noiseCounter >>>= 1;\n            if (this._noiseFeedback) {\n                this._noiseCounter |= 0x10;\n            }\n\n            if (!this._pulseCounterHold) {\n                this._pulseCounter = ~(this._pulseCounter >>> 1) & 0x07;\n\n                if (pulseFeedback) {\n                    this._pulseCounter |= 0x08;\n                }\n            }\n        }\n\n        return (this._pulseCounter & 0x01) * this._audv;\n    }\n\n    audc(value: number): void {\n        this._audc = value & 0x0f;\n    }\n\n    audf(value: number): void {\n        this._audf = value & 0x1f;\n    }\n\n    audv(value: number): void {\n        this._audv = value & 0x0f;\n    }\n\n    private _audv = 0;\n    private _audc = 0;\n    private _audf = 0;\n\n    private _clkEnable = false;\n    private _noiseFeedback = false;\n    private _noiseCounterBit4 = false;\n    private _pulseCounterHold = false;\n\n    private _divCounter = 0;\n    private _noiseCounter = 0;\n    private _pulseCounter = 0;\n}\n\nexport default PCMChannel;\n",
    "/*\n *   This file is part of 6502.ts, an emulator for 6502 based systems built\n *   in Typescript.\n *\n *   Copyright (C) 2014 - 2017 Christian Speckner & contributors\n *\n *   This program is free software; you can redistribute it and/or modify\n *   it under the terms of the GNU General Public License as published by\n *   the Free Software Foundation; either version 2 of the License, or\n *   (at your option) any later version.\n *\n *   This program is distributed in the hope that it will be useful,\n *   but WITHOUT ANY WARRANTY; without even the implied warranty of\n *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *   GNU General Public License for more details.\n *\n *   You should have received a copy of the GNU General Public License along\n *   with this program; if not, write to the Free Software Foundation, Inc.,\n *   51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n */\n\nimport Paddle from '../../io/Paddle';\n\nconst C = 68e-9, // capacitor\n    RPOT = 1e6, // total paddle resistance\n    R0 = 1.8e3, // series resistor\n    U = 5, // supply voltage\n    LINES_FULL = 380; // treshold voltage in terms of scanline count\n\nexport default class PaddleReader {\n    constructor(clockFreq: number, private _paddle: Paddle) {\n        this._uThresh = U * (1 - Math.exp(-LINES_FULL * 228 / clockFreq / (RPOT + R0) / C));\n\n        this._paddle.valueChanged.addHandler((value: number) => {\n            this._updateValue();\n            this._value = value;\n        });\n\n        this.reset();\n    }\n\n    setCpuTimeProvider(provider: () => number): void {\n        this._cpuTimeProvider = provider;\n        this._timestamp = this._cpuTimeProvider();\n    }\n\n    reset(): void {\n        this._u = 0;\n        this._value = this._paddle.getValue();\n        this._dumped = false;\n        this._timestamp = this._cpuTimeProvider ? this._cpuTimeProvider() : 0;\n    }\n\n    vblank(value: number): void {\n        const oldValue = this._dumped;\n\n        if (value & 0x80) {\n            this._dumped = true;\n            this._u = 0;\n        } else if (oldValue) {\n            this._dumped = false;\n            this._timestamp = this._cpuTimeProvider();\n        }\n    }\n\n    inpt(): number {\n        this._updateValue();\n\n        const state = this._dumped ? false : this._u >= this._uThresh;\n\n        return state ? 0x80 : 0;\n    }\n\n    private _updateValue(): void {\n        if (this._dumped) {\n            return;\n        }\n\n        const timestamp = this._cpuTimeProvider();\n\n        // Update the voltage with the integral between the two timestamps\n        this._u =\n            U * (1 - (1 - this._u / U) * Math.exp(-(timestamp - this._timestamp) / (this._value * RPOT + R0) / C));\n\n        this._timestamp = timestamp;\n    }\n\n    private _uThresh = 0;\n    private _u = 0;\n    private _dumped = false;\n    private _value = 0.5;\n    private _timestamp = 0;\n\n    private _cpuTimeProvider: () => number = null;\n}\n",
    "/*\n *   This file is part of 6502.ts, an emulator for 6502 based systems built\n *   in Typescript.\n *\n *   Copyright (C) 2014 - 2017 Christian Speckner & contributors\n *\n *   This program is free software; you can redistribute it and/or modify\n *   it under the terms of the GNU General Public License as published by\n *   the Free Software Foundation; either version 2 of the License, or\n *   (at your option) any later version.\n *\n *   This program is distributed in the hope that it will be useful,\n *   but WITHOUT ANY WARRANTY; without even the implied warranty of\n *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *   GNU General Public License for more details.\n *\n *   You should have received a copy of the GNU General Public License along\n *   with this program; if not, write to the Free Software Foundation, Inc.,\n *   51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n */\n\nimport { decodesPlayer } from './drawCounterDecodes';\n\nconst enum Count {\n    renderCounterOffset = -5\n}\n\nexport default class Player {\n    constructor(private _collisionMask: number, private _flushLineCache: () => void) {\n        this.reset();\n    }\n\n    reset(): void {\n        this.color = 0xffffffff;\n        this.collision = 0;\n        this._hmmClocks = 0;\n        this._counter = 0;\n        this._moving = false;\n        this._rendering = false;\n        this._renderCounter = Count.renderCounterOffset;\n        this._decodes = decodesPlayer[0];\n        this._patternNew = 0;\n        this._patternOld = 0;\n        this._pattern = 0;\n        this._reflected = false;\n        this._delaying = false;\n        this._sampleCounter = 0;\n        this._dividerPending = 0;\n        this._dividerChangeCounter = -1;\n\n        this._setDivider(1);\n    }\n\n    grp(pattern: number) {\n        if (pattern === this._patternNew) {\n            return;\n        }\n\n        this._patternNew = pattern;\n\n        if (!this._delaying) {\n            this._flushLineCache();\n            this._updatePattern();\n        }\n    }\n\n    hmp(value: number): void {\n        this._hmmClocks = (value >>> 4) ^ 0x8;\n    }\n\n    nusiz(value: number, hblank: boolean): void {\n        const masked = value & 0x07;\n\n        switch (masked) {\n            case 5:\n                this._dividerPending = 2;\n                break;\n\n            case 7:\n                this._dividerPending = 4;\n                break;\n\n            default:\n                this._dividerPending = 1;\n        }\n\n        const oldDecodes = this._decodes;\n\n        this._decodes = decodesPlayer[masked];\n\n        if (\n            this._decodes !== oldDecodes &&\n            this._rendering &&\n            this._renderCounter - Count.renderCounterOffset < 2 &&\n            !this._decodes[(this._counter - this._renderCounter + Count.renderCounterOffset + 159) % 160]\n        ) {\n            this._rendering = false;\n        }\n\n        if (this._dividerPending === this._divider) {\n            return;\n        }\n\n        if (!this._rendering) {\n            this._setDivider(this._dividerPending);\n            return;\n        }\n\n        const delta = this._renderCounter - Count.renderCounterOffset;\n\n        switch ((this._divider << 4) | this._dividerPending) {\n            case 0x12:\n            case 0x14:\n                if (hblank) {\n                    if (delta < 4) {\n                        this._setDivider(this._dividerPending);\n                    } else {\n                        this._dividerChangeCounter = delta < 5 ? 1 : 0;\n                    }\n                } else {\n                    if (delta < 3) {\n                        this._setDivider(this._dividerPending);\n                    } else {\n                        this._dividerChangeCounter = 1;\n                    }\n                }\n\n                break;\n\n            case 0x21:\n            case 0x41:\n                if (delta < (hblank ? 4 : 3)) {\n                    this._setDivider(this._dividerPending);\n                } else if (delta < (hblank ? 6 : 5)) {\n                    this._setDivider(this._dividerPending);\n                    this._renderCounter--;\n                } else {\n                    this._dividerChangeCounter = hblank ? 0 : 1;\n                }\n\n                break;\n\n            case 0x42:\n            case 0x24:\n                if (this._renderCounter < 1 || (hblank && this._renderCounter % this._divider === 1)) {\n                    this._setDivider(this._dividerPending);\n                } else {\n                    this._dividerChangeCounter = this._divider - (this._renderCounter - 1) % this._divider;\n                }\n\n                break;\n\n            default:\n                throw new Error('cannot happen');\n        }\n    }\n\n    resp(counter: number): void {\n        this._counter = counter;\n\n        if (this._rendering && this._renderCounter - Count.renderCounterOffset < 4) {\n            this._renderCounter = Count.renderCounterOffset + (counter - 157);\n        }\n    }\n\n    refp(value: number): void {\n        const oldReflected = this._reflected;\n\n        this._reflected = (value & 0x08) > 0;\n\n        if (this._reflected !== oldReflected) {\n            this._flushLineCache();\n            this._updatePattern();\n        }\n    }\n\n    vdelp(value: number): void {\n        const oldDelaying = this._delaying;\n\n        this._delaying = (value & 0x01) > 0;\n\n        if (this._delaying !== oldDelaying) {\n            this._flushLineCache();\n            this._updatePattern();\n        }\n    }\n\n    startMovement(): void {\n        this._moving = true;\n    }\n\n    movementTick(clock: number, apply: boolean): boolean {\n        // Stop movement only if the clock matches exactly --- this is crucial for cosmic ark type hacks\n        if (clock === this._hmmClocks) {\n            this._moving = false;\n        }\n\n        if (this._moving && apply) {\n            this.tick();\n        }\n\n        return this._moving;\n    }\n\n    tick(): void {\n        this.collision =\n            this._rendering &&\n            this._renderCounter >= this._renderCounterTripPoint &&\n            this._pattern & (1 << this._sampleCounter)\n                ? 0\n                : this._collisionMask;\n\n        if (this._decodes[this._counter]) {\n            this._rendering = true;\n            this._renderCounter = Count.renderCounterOffset;\n            this._sampleCounter = 0;\n        } else if (this._rendering) {\n            this._renderCounter++;\n\n            switch (this._divider) {\n                case 1:\n                    if (this._renderCounter > 0) {\n                        this._sampleCounter++;\n                    }\n\n                    if (\n                        this._renderCounter >= 0 &&\n                        this._dividerChangeCounter >= 0 &&\n                        this._dividerChangeCounter-- === 0\n                    ) {\n                        this._setDivider(this._dividerPending);\n                    }\n\n                    break;\n\n                default:\n                    if (this._renderCounter > 1 && (this._renderCounter - 1) % this._divider === 0) {\n                        this._sampleCounter++;\n                    }\n\n                    if (\n                        this._renderCounter > 0 &&\n                        this._dividerChangeCounter >= 0 &&\n                        this._dividerChangeCounter-- === 0\n                    ) {\n                        this._setDivider(this._dividerPending);\n                    }\n\n                    break;\n            }\n\n            if (this._sampleCounter > 7) {\n                this._rendering = false;\n            }\n        }\n\n        if (++this._counter >= 160) {\n            this._counter = 0;\n        }\n    }\n\n    getPixel(colorIn: number): number {\n        return this.collision ? colorIn : this.color;\n    }\n\n    shufflePatterns(): void {\n        const oldPatternOld = this._patternOld;\n\n        this._patternOld = this._patternNew;\n\n        if (this._delaying && oldPatternOld !== this._patternOld) {\n            this._flushLineCache();\n            this._updatePattern();\n        }\n    }\n\n    getRespClock(): number {\n        switch (this._divider) {\n            case 1:\n                return (this._counter - 5 + 160) % 160;\n\n            case 2:\n                return (this._counter - 9 + 160) % 160;\n\n            case 4:\n                return (this._counter - 12 + 160) % 160;\n\n            default:\n                throw new Error(`cannot happen: invalid divider ${this._divider}`);\n        }\n    }\n\n    setColor(color: number): void {\n        if (color !== this.color && this._pattern) {\n            this._flushLineCache();\n        }\n\n        this.color = color;\n    }\n\n    private _updatePattern(): void {\n        this._pattern = this._delaying ? this._patternOld : this._patternNew;\n\n        if (!this._reflected) {\n            this._pattern =\n                ((this._pattern & 0x01) << 7) |\n                ((this._pattern & 0x02) << 5) |\n                ((this._pattern & 0x04) << 3) |\n                ((this._pattern & 0x08) << 1) |\n                ((this._pattern & 0x10) >>> 1) |\n                ((this._pattern & 0x20) >>> 3) |\n                ((this._pattern & 0x40) >>> 5) |\n                ((this._pattern & 0x80) >>> 7);\n        }\n    }\n\n    private _setDivider(divider: number): void {\n        this._divider = divider;\n        this._renderCounterTripPoint = divider === 1 ? 0 : 1;\n    }\n\n    color = 0xffffffff;\n    collision = 0;\n\n    private _hmmClocks = 0;\n    private _counter = 0;\n    private _moving = false;\n    private _divider = 1;\n    private _dividerPending = 1;\n    private _dividerChangeCounter = -1;\n    private _sampleCounter = 0;\n\n    private _rendering = false;\n    private _renderCounter = Count.renderCounterOffset;\n    private _renderCounterTripPoint = 0;\n\n    private _decodes: Uint8Array;\n\n    private _patternNew = 0;\n    private _patternOld = 0;\n    private _pattern = 0;\n\n    private _reflected = false;\n    private _delaying = false;\n}\n",
    "/*\n *   This file is part of 6502.ts, an emulator for 6502 based systems built\n *   in Typescript.\n *\n *   Copyright (C) 2014 - 2017 Christian Speckner & contributors\n *\n *   This program is free software; you can redistribute it and/or modify\n *   it under the terms of the GNU General Public License as published by\n *   the Free Software Foundation; either version 2 of the License, or\n *   (at your option) any later version.\n *\n *   This program is distributed in the hope that it will be useful,\n *   but WITHOUT ANY WARRANTY; without even the implied warranty of\n *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *   GNU General Public License for more details.\n *\n *   You should have received a copy of the GNU General Public License along\n *   with this program; if not, write to the Free Software Foundation, Inc.,\n *   51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n */\n\nconst enum ColorMode {\n    normal,\n    score\n}\n\nclass Playfield {\n    constructor(private _collisionMask: number, private _flushLineCache: () => void) {\n        this.reset();\n    }\n\n    reset() {\n        this._pattern = 0;\n        this._reflected = false;\n        this._refp = false;\n\n        this._pf0 = 0;\n        this._pf1 = 0;\n        this._pf2 = 0;\n\n        this._color = 0;\n        this._colorP0 = 0;\n        this._colorP1 = 0;\n        this._colorMode = ColorMode.normal;\n        this._applyColors();\n    }\n\n    pf0(value: number) {\n        if (this._pf0 === value >>> 4) {\n            return;\n        }\n\n        this._flushLineCache();\n        this._pf0 = value >>> 4;\n\n        this._pattern = (this._pattern & 0x000ffff0) | this._pf0;\n    }\n\n    pf1(value: number) {\n        if (this._pf1 === value) {\n            return;\n        }\n\n        this._flushLineCache();\n        this._pf1 = value;\n\n        this._pattern =\n            (this._pattern & 0x000ff00f) |\n            ((value & 0x80) >>> 3) |\n            ((value & 0x40) >>> 1) |\n            ((value & 0x20) << 1) |\n            ((value & 0x10) << 3) |\n            ((value & 0x08) << 5) |\n            ((value & 0x04) << 7) |\n            ((value & 0x02) << 9) |\n            ((value & 0x01) << 11);\n    }\n\n    pf2(value: number) {\n        if (this._pf2 === value) {\n            return;\n        }\n\n        this._flushLineCache();\n        this._pf2 = value;\n\n        this._pattern = (this._pattern & 0x00000fff) | ((value & 0xff) << 12);\n    }\n\n    ctrlpf(value: number): void {\n        const reflected = (value & 0x01) > 0,\n            colorMode = (value & 0x06) === 0x02 ? ColorMode.score : ColorMode.normal;\n\n        if (reflected === this._reflected && colorMode === this._colorMode) {\n            return;\n        }\n\n        this._flushLineCache();\n\n        this._reflected = reflected;\n        this._colorMode = colorMode;\n\n        this._applyColors();\n    }\n\n    setColor(color: number): void {\n        if (color !== this._color && this._colorMode === ColorMode.normal) {\n            this._flushLineCache();\n        }\n\n        this._color = color;\n        this._applyColors();\n    }\n\n    setColorP0(color: number): void {\n        if (color !== this._colorP0 && this._colorMode === ColorMode.score) {\n            this._flushLineCache();\n        }\n\n        this._colorP0 = color;\n        this._applyColors();\n    }\n\n    setColorP1(color: number): void {\n        if (color !== this._colorP1 && this._colorMode === ColorMode.score) {\n            this._flushLineCache();\n        }\n\n        this._colorP1 = color;\n        this._applyColors();\n    }\n\n    tick(x: number) {\n        this._x = x;\n\n        if (x === 80 || x === 0) {\n            this._refp = this._reflected;\n        }\n\n        if (x & 0x03) {\n            return;\n        }\n\n        let currentPixel: number;\n\n        if (this._pattern === 0) {\n            currentPixel = 0;\n        } else if (x < 80) {\n            currentPixel = this._pattern & (1 << (x >>> 2));\n        } else if (this._refp) {\n            currentPixel = this._pattern & (1 << (39 - (x >>> 2)));\n        } else {\n            currentPixel = this._pattern & (1 << ((x >>> 2) - 20));\n        }\n\n        this.collision = currentPixel ? 0 : this._collisionMask;\n    }\n\n    getPixel(colorIn: number): number {\n        if (!this.collision) {\n            return this._x < 80 ? this._colorLeft : this._colorRight;\n        }\n\n        return colorIn;\n    }\n\n    private _applyColors(): void {\n        switch (this._colorMode) {\n            case ColorMode.normal:\n                this._colorLeft = this._colorRight = this._color;\n                break;\n\n            case ColorMode.score:\n                this._colorLeft = this._colorP0;\n                this._colorRight = this._colorP1;\n                break;\n        }\n    }\n\n    collision = 0;\n\n    private _colorLeft = 0;\n    private _colorRight = 0;\n    private _color = 0;\n    private _colorP0 = 0;\n    private _colorP1 = 0;\n    private _colorMode = ColorMode.normal;\n\n    private _pattern = 0;\n    private _refp = false;\n    private _reflected = false;\n\n    private _pf0 = 0;\n    private _pf1 = 0;\n    private _pf2 = 0;\n\n    private _x = 0;\n}\n\nexport default Playfield;\n",
    "/*\n *   This file is part of 6502.ts, an emulator for 6502 based systems built\n *   in Typescript.\n *\n *   Copyright (C) 2014 - 2017 Christian Speckner & contributors\n *\n *   This program is free software; you can redistribute it and/or modify\n *   it under the terms of the GNU General Public License as published by\n *   the Free Software Foundation; either version 2 of the License, or\n *   (at your option) any later version.\n *\n *   This program is distributed in the hope that it will be useful,\n *   but WITHOUT ANY WARRANTY; without even the implied warranty of\n *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *   GNU General Public License for more details.\n *\n *   You should have received a copy of the GNU General Public License along\n *   with this program; if not, write to the Free Software Foundation, Inc.,\n *   51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n */\n\nimport { Event } from 'microevent.ts';\n\nimport VideoOutputInterface from '../../io/VideoOutputInterface';\nimport WaveformAudioOutputInterface from '../../io/WaveformAudioOutputInterface';\nimport PCMAudioOutputInterface from '../../io/PCMAudioOutputInterface';\nimport DigitalJoystickInterface from '../../io/DigitalJoystickInterface';\nimport RGBASurfaceInterface from '../../../video/surface/RGBASurfaceInterface';\nimport Config from '../Config';\nimport CpuInterface from '../../cpu/CpuInterface';\nimport WaveformAudio from './WaveformAudio';\nimport PCMAudio from './PCMAudio';\nimport AudioInterface from './AudioInterface';\nimport Paddle from '../../io/Paddle';\nimport Bus from '../Bus';\n\nimport Missile from './Missile';\nimport Playfield from './Playfield';\nimport Player from './Player';\nimport Ball from './Ball';\nimport LatchedInput from './LatchedInput';\nimport PaddleReader from './PaddleReader';\nimport FrameManager from './FrameManager';\nimport DelayQueue from './DelayQueue';\nimport * as palette from './palette';\n\nconst enum Metrics {\n    frameLinesPAL = 312,\n    frameLinesNTSC = 262\n}\n\nconst enum Delay {\n    hmove = 6,\n    pf = 2,\n    grp = 1,\n    shufflePlayer = 1,\n    shuffleBall = 1,\n    hmp = 2,\n    hmm = 2,\n    hmbl = 2,\n    hmclr = 2,\n    refp = 1,\n    vblank = 1,\n    enabl = 1,\n    enam = 1\n}\n\nconst enum ResxCounter {\n    hblank = 159,\n    lateHblank = 158,\n    frame = 157,\n    // This parameter still has room for tuning. If we go lower than 73, long005 will show\n    // a slight artifact (still have to crosscheck on real hardware), if we go lower than\n    // 70, the G.I. Joe will show an artifact (hole in roof).\n    lateHblankThreshold = 73\n}\n\n// Each bit in the collision mask identifies a single collision pair\nconst enum CollisionMask {\n    player0 = 0b0111110000000000,\n    player1 = 0b0100001111000000,\n    missile0 = 0b0010001000111000,\n    missile1 = 0b0001000100100110,\n    ball = 0b0000100010010101,\n    playfield = 0b0000010001001011\n}\n\nconst enum HState {\n    blank,\n    frame\n}\nconst enum Priority {\n    normal,\n    pfp,\n    score\n}\n\nclass Tia implements VideoOutputInterface {\n    constructor(\n        private _config: Config,\n        joystick0: DigitalJoystickInterface,\n        joystick1: DigitalJoystickInterface,\n        paddles: Array<Paddle>\n    ) {\n        this._frameManager = new FrameManager(this._config);\n        this._frameManager.newFrame.addHandler(Tia._onNewFrame, this);\n\n        this._palette = this._getPalette(this._config);\n        this._input0 = new LatchedInput(joystick0.getFire());\n        this._input1 = new LatchedInput(joystick1.getFire());\n\n        this._pcmAudio = new PCMAudio(this._config);\n        const pcmChannels = this._pcmAudio.getChannels();\n\n        for (let i = 0; i < 2; i++) {\n            this._waveformAudio[i] = new WaveformAudio(this._config);\n\n            this._audio[i] = this._config.pcmAudio ? pcmChannels[i] : this._waveformAudio[i];\n        }\n\n        const clockFreq = this._getClockFreq(this._config);\n\n        this._paddles = new Array(4);\n        for (let i = 0; i < 4; i++) {\n            this._paddles[i] = new PaddleReader(clockFreq, paddles[i]);\n        }\n\n        this.reset();\n    }\n\n    reset(): void {\n        this._hblankCtr = 0;\n        this._hctr = 0;\n        this._movementInProgress = false;\n        this._extendedHblank = false;\n        this._movementClock = 0;\n        this._priority = Priority.normal;\n        this._hstate = HState.blank;\n        this._collisionMask = 0;\n        this._colorBk = 0xff000000;\n        this._linesSinceChange = 0;\n        this._collisionUpdateRequired = false;\n        this._maxLinesTotal = 0;\n        this._xDelta = 0;\n\n        this._delayQueue.reset();\n        this._frameManager.reset();\n\n        this._missile0.reset();\n        this._missile1.reset();\n        this._player0.reset();\n        this._player1.reset();\n        this._playfield.reset();\n        this._ball.reset();\n\n        this._audio[0].reset();\n        this._audio[1].reset();\n\n        this._input0.reset();\n        this._input1.reset();\n\n        for (let i = 0; i < 4; i++) {\n            this._paddles[i].reset();\n        }\n\n        if (this._cpu) {\n            this._cpu.resume();\n        }\n    }\n\n    setCpu(cpu: CpuInterface): Tia {\n        this._cpu = cpu;\n\n        return this;\n    }\n\n    setCpuTimeProvider(provider: () => number): this {\n        for (let i = 0; i < 4; i++) {\n            this._paddles[i].setCpuTimeProvider(provider);\n        }\n\n        return this;\n    }\n\n    getWidth(): number {\n        return 160;\n    }\n\n    getHeight(): number {\n        return this._frameManager.getHeight();\n    }\n\n    setSurfaceFactory(factory: VideoOutputInterface.SurfaceFactoryInterface): Tia {\n        this._frameManager.setSurfaceFactory(factory);\n\n        return this;\n    }\n\n    getWaveformChannel(i: number): WaveformAudioOutputInterface {\n        return this._waveformAudio[i];\n    }\n\n    getPCMChannel(): PCMAudioOutputInterface {\n        return this._pcmAudio;\n    }\n\n    setAudioEnabled(state: boolean): void {\n        this._audio[0].setActive(state && this._config.enableAudio);\n        this._audio[1].setActive(state && this._config.enableAudio);\n    }\n\n    read(address: number): number {\n        const lastDataBusValue = this._bus.getLastDataBusValue();\n\n        let result: number;\n\n        // Only keep the lowest four bits\n        switch (address & 0x0f) {\n            case Tia.Registers.inpt0:\n                result = this._config.emulatePaddles ? this._paddles[0].inpt() : 0;\n                break;\n\n            case Tia.Registers.inpt1:\n                result = this._config.emulatePaddles ? this._paddles[1].inpt() : 0;\n                break;\n\n            case Tia.Registers.inpt2:\n                result = this._config.emulatePaddles ? this._paddles[2].inpt() : 0;\n                break;\n\n            case Tia.Registers.inpt3:\n                result = this._config.emulatePaddles ? this._paddles[3].inpt() : 0;\n                break;\n\n            case Tia.Registers.inpt4:\n                result = this._input0.inpt();\n                break;\n\n            case Tia.Registers.inpt5:\n                result = this._input1.inpt();\n                break;\n\n            case Tia.Registers.cxm0p:\n                result =\n                    (this._collisionMask & CollisionMask.missile0 & CollisionMask.player0 ? 0x40 : 0) |\n                    (this._collisionMask & CollisionMask.missile0 & CollisionMask.player1 ? 0x80 : 0);\n                break;\n\n            case Tia.Registers.cxm1p:\n                result =\n                    (this._collisionMask & CollisionMask.missile1 & CollisionMask.player1 ? 0x40 : 0) |\n                    (this._collisionMask & CollisionMask.missile1 & CollisionMask.player0 ? 0x80 : 0);\n                break;\n\n            case Tia.Registers.cxp0fb:\n                result =\n                    (this._collisionMask & CollisionMask.player0 & CollisionMask.ball ? 0x40 : 0) |\n                    (this._collisionMask & CollisionMask.player0 & CollisionMask.playfield ? 0x80 : 0);\n                break;\n\n            case Tia.Registers.cxp1fb:\n                result =\n                    (this._collisionMask & CollisionMask.player1 & CollisionMask.ball ? 0x40 : 0) |\n                    (this._collisionMask & CollisionMask.player1 & CollisionMask.playfield ? 0x80 : 0);\n                break;\n\n            case Tia.Registers.cxm0fb:\n                result =\n                    (this._collisionMask & CollisionMask.missile0 & CollisionMask.ball ? 0x40 : 0) |\n                    (this._collisionMask & CollisionMask.missile0 & CollisionMask.playfield ? 0x80 : 0);\n                break;\n\n            case Tia.Registers.cxm1fb:\n                result =\n                    (this._collisionMask & CollisionMask.missile1 & CollisionMask.ball ? 0x40 : 0) |\n                    (this._collisionMask & CollisionMask.missile1 & CollisionMask.playfield ? 0x80 : 0);\n                break;\n\n            case Tia.Registers.cxppmm:\n                result =\n                    (this._collisionMask & CollisionMask.missile0 & CollisionMask.missile1 ? 0x40 : 0) |\n                    (this._collisionMask & CollisionMask.player0 & CollisionMask.player1 ? 0x80 : 0);\n                break;\n\n            case Tia.Registers.cxblpf:\n                result = this._collisionMask & CollisionMask.ball & CollisionMask.playfield ? 0x80 : 0;\n                break;\n\n            default:\n                result = lastDataBusValue;\n                break;\n        }\n\n        return (result & 0xc0) | (lastDataBusValue & 0x3f);\n    }\n\n    peek(address: number): number {\n        return this.read(address);\n    }\n\n    write(address: number, value: number): void {\n        let v = 0;\n\n        // Mask out A6 - A15\n        switch (address & 0x3f) {\n            case Tia.Registers.wsync:\n                this._cpu.halt();\n                break;\n\n            case Tia.Registers.rsync:\n                this._flushLineCache();\n                this._rsync();\n                break;\n\n            case Tia.Registers.vsync:\n                this._frameManager.setVsync((value & 0x02) > 0);\n                break;\n\n            case Tia.Registers.vblank:\n                this._input0.vblank(value);\n                this._input1.vblank(value);\n\n                for (let i = 0; i < 4; i++) {\n                    this._paddles[i].vblank(value);\n                }\n\n                this._delayQueue.push(Tia.Registers.vblank, value, Delay.vblank);\n                break;\n\n            case Tia.Registers.enam0:\n                this._delayQueue.push(Tia.Registers.enam0, value, Delay.enam);\n                break;\n\n            case Tia.Registers.enam1:\n                this._delayQueue.push(Tia.Registers.enam1, value, Delay.enam);\n                break;\n\n            case Tia.Registers.hmm0:\n                this._delayQueue.push(Tia.Registers.hmm0, value, Delay.hmm);\n                break;\n\n            case Tia.Registers.hmm1:\n                this._delayQueue.push(Tia.Registers.hmm1, value, Delay.hmm);\n                break;\n\n            case Tia.Registers.resm0:\n                this._flushLineCache();\n                this._missile0.resm(this._resxCounter(), this._hstate === HState.blank);\n                break;\n\n            case Tia.Registers.resm1:\n                this._flushLineCache();\n                this._missile1.resm(this._resxCounter(), this._hstate === HState.blank);\n                break;\n\n            case Tia.Registers.resmp0:\n                this._missile0.resmp(value, this._player0);\n                break;\n\n            case Tia.Registers.resmp1:\n                this._missile1.resmp(value, this._player1);\n                break;\n\n            case Tia.Registers.hmclr:\n                this._delayQueue.push(Tia.Registers.hmclr, value, Delay.hmclr);\n                break;\n\n            case Tia.Registers.nusiz0:\n                this._flushLineCache();\n                this._missile0.nusiz(value);\n                this._player0.nusiz(value, this._hstate === HState.blank);\n                break;\n\n            case Tia.Registers.nusiz1:\n                this._flushLineCache();\n                this._missile1.nusiz(value);\n                this._player1.nusiz(value, this._hstate === HState.blank);\n                break;\n\n            case Tia.Registers.hmove:\n                this._delayQueue.push(Tia.Registers.hmove, value, Delay.hmove);\n                break;\n\n            case Tia.Registers.colubk:\n                this._flushLineCache();\n                this._colorBk = this._palette[(value & 0xff) >>> 1];\n                break;\n\n            case Tia.Registers.colup0:\n                v = this._palette[(value & 0xff) >>> 1];\n                this._missile0.setColor(v);\n                this._player0.setColor(v);\n                this._playfield.setColorP0(v);\n\n                break;\n\n            case Tia.Registers.colup1:\n                v = this._palette[(value & 0xff) >>> 1];\n                this._missile1.setColor(v);\n                this._player1.setColor(v);\n                this._playfield.setColorP1(v);\n\n                break;\n\n            case Tia.Registers.pf0:\n                this._delayQueue.push(Tia.Registers.pf0, value, Delay.pf);\n                break;\n\n            case Tia.Registers.pf1:\n                this._delayQueue.push(Tia.Registers.pf1, value, Delay.pf);\n                break;\n\n            case Tia.Registers.pf2:\n                this._delayQueue.push(Tia.Registers.pf2, value, Delay.pf);\n                break;\n\n            case Tia.Registers.ctrlpf:\n                this._setPriority(value);\n                this._playfield.ctrlpf(value);\n                this._ball.ctrlpf(value);\n                break;\n\n            case Tia.Registers.colupf:\n                this._flushLineCache();\n                v = this._palette[(value & 0xff) >>> 1];\n                this._playfield.setColor(v);\n                this._ball.color = v;\n                break;\n\n            case Tia.Registers.grp0:\n                this._delayQueue\n                    .push(Tia.Registers.grp0, value, Delay.grp)\n                    .push(Tia.Registers._shuffleP1, 0, Delay.shufflePlayer);\n\n                break;\n\n            case Tia.Registers.grp1:\n                this._delayQueue\n                    .push(Tia.Registers.grp1, value, Delay.grp)\n                    .push(Tia.Registers._shuffleP0, 0, Delay.shufflePlayer)\n                    .push(Tia.Registers._shuffleBL, 0, Delay.shuffleBall);\n\n                break;\n\n            case Tia.Registers.resp0:\n                this._flushLineCache();\n                this._player0.resp(this._resxCounter());\n                break;\n\n            case Tia.Registers.resp1:\n                this._flushLineCache();\n                this._player1.resp(this._resxCounter());\n                break;\n\n            case Tia.Registers.refp0:\n                this._delayQueue.push(Tia.Registers.refp0, value, Delay.refp);\n                break;\n\n            case Tia.Registers.refp1:\n                this._delayQueue.push(Tia.Registers.refp1, value, Delay.refp);\n                break;\n\n            case Tia.Registers.hmp0:\n                this._delayQueue.push(Tia.Registers.hmp0, value, Delay.hmp);\n                break;\n\n            case Tia.Registers.hmp1:\n                this._delayQueue.push(Tia.Registers.hmp1, value, Delay.hmp);\n                break;\n\n            case Tia.Registers.vdelp0:\n                this._player0.vdelp(value);\n                break;\n\n            case Tia.Registers.vdelp1:\n                this._player1.vdelp(value);\n                break;\n\n            case Tia.Registers.enabl:\n                this._delayQueue.push(Tia.Registers.enabl, value, Delay.enabl);\n                break;\n\n            case Tia.Registers.hmbl:\n                this._delayQueue.push(Tia.Registers.hmbl, value, Delay.hmbl);\n                break;\n\n            case Tia.Registers.resbl:\n                this._flushLineCache();\n                this._ball.resbl(this._resxCounter());\n                break;\n\n            case Tia.Registers.vdelbl:\n                this._ball.vdelbl(value);\n                break;\n\n            case Tia.Registers.cxclr:\n                this._flushLineCache();\n                this._collisionMask = 0;\n                break;\n\n            case Tia.Registers.audc0:\n                this._audio[0].audc(value);\n                break;\n\n            case Tia.Registers.audc1:\n                this._audio[1].audc(value);\n                break;\n\n            case Tia.Registers.audf0:\n                this._audio[0].audf(value);\n                break;\n\n            case Tia.Registers.audf1:\n                this._audio[1].audf(value);\n                break;\n\n            case Tia.Registers.audv0:\n                this._audio[0].audv(value);\n                break;\n\n            case Tia.Registers.audv1:\n                this._audio[1].audv(value);\n                break;\n        }\n    }\n\n    getDebugState(): string {\n        return (\n            '' +\n            `hclock: ${this._hctr}   line: ${this._frameManager.getCurrentLine()}\\n` +\n            this._frameManager.getDebugState()\n        );\n    }\n\n    setBus(bus: Bus): this {\n        this._bus = bus;\n\n        return this;\n    }\n\n    cycle(): void {\n        this._delayQueue.execute(Tia._delayedWrite, this);\n\n        this._collisionUpdateRequired = false;\n\n        if (this._linesSinceChange < 2) {\n            this._tickMovement();\n\n            if (this._hstate === HState.blank) {\n                this._tickHblank();\n            } else {\n                this._tickHframe();\n            }\n\n            if (this._collisionUpdateRequired && !this._frameManager.vblank) {\n                this._updateCollision();\n            }\n        } else {\n            if (this._hctr === 0) {\n                this._cpu.resume();\n            }\n        }\n\n        if (++this._hctr >= 228) {\n            this._nextLine();\n        }\n\n        if (this._config.pcmAudio) {\n            this._pcmAudio.tick();\n        }\n    }\n\n    private static _delayedWrite(address: number, value: number, self: Tia): void {\n        switch (address) {\n            case Tia.Registers.vblank:\n                self._flushLineCache();\n                self._frameManager.setVblank((value & 0x02) > 0);\n                break;\n\n            case Tia.Registers.hmove:\n                self._flushLineCache();\n\n                // Start the timer and increase hblank\n                self._movementClock = 0;\n                self._movementInProgress = true;\n\n                if (!self._extendedHblank) {\n                    self._hblankCtr -= 8;\n                    self._clearHmoveComb();\n                    self._extendedHblank = true;\n                }\n\n                // Start sprite movement\n                self._missile0.startMovement();\n                self._missile1.startMovement();\n                self._player0.startMovement();\n                self._player1.startMovement();\n                self._ball.startMovement();\n\n                break;\n\n            case Tia.Registers.pf0:\n                self._playfield.pf0(value);\n                break;\n\n            case Tia.Registers.pf1:\n                self._playfield.pf1(value);\n                break;\n\n            case Tia.Registers.pf2:\n                self._playfield.pf2(value);\n                break;\n\n            case Tia.Registers.grp0:\n                self._player0.grp(value);\n                break;\n\n            case Tia.Registers.grp1:\n                self._player1.grp(value);\n                break;\n\n            case Tia.Registers._shuffleP0:\n                self._player0.shufflePatterns();\n                break;\n\n            case Tia.Registers._shuffleP1:\n                self._player1.shufflePatterns();\n                break;\n\n            case Tia.Registers.hmp0:\n                self._player0.hmp(value);\n                break;\n\n            case Tia.Registers.hmp1:\n                self._player1.hmp(value);\n                break;\n\n            case Tia.Registers.hmm0:\n                self._missile0.hmm(value);\n                break;\n\n            case Tia.Registers.hmm1:\n                self._missile1.hmm(value);\n                break;\n\n            case Tia.Registers.hmbl:\n                self._ball.hmbl(value);\n                break;\n\n            case Tia.Registers.hmclr:\n                self._missile0.hmm(0);\n                self._missile1.hmm(0);\n                self._player0.hmp(0);\n                self._player1.hmp(0);\n                self._ball.hmbl(0);\n                break;\n\n            case Tia.Registers.refp0:\n                self._player0.refp(value);\n                break;\n\n            case Tia.Registers.refp1:\n                self._player1.refp(value);\n                break;\n\n            case Tia.Registers._shuffleBL:\n                self._ball.shuffleStatus();\n                break;\n\n            case Tia.Registers.enabl:\n                self._ball.enabl(value);\n                break;\n\n            case Tia.Registers.enam0:\n                self._missile0.enam(value);\n                break;\n\n            case Tia.Registers.enam1:\n                self._missile1.enam(value);\n                break;\n        }\n    }\n\n    private static _onNewFrame(surface: RGBASurfaceInterface, self: Tia): void {\n        const linesTotal = self._frameManager.getCurrentLine();\n\n        if (linesTotal > self._maxLinesTotal) {\n            self._maxLinesTotal = linesTotal;\n        }\n\n        if (linesTotal < self._maxLinesTotal) {\n            const buffer = surface.getBuffer(),\n                base = 160 * linesTotal,\n                boundary = self._maxLinesTotal * 160;\n\n            for (let i = base; i < boundary; i++) {\n                buffer[i] = 0xff000000;\n            }\n        }\n\n        self.newFrame.dispatch(surface);\n    }\n\n    private _tickMovement(): void {\n        if (!this._movementInProgress) {\n            return;\n        }\n\n        // color clock mod 4\n        if ((this._hctr & 0x3) === 0) {\n            // The tick is only propagated to the sprite counters if we are in blank\n            // mode --- in frame mode, it overlaps with the sprite clock and is gobbled.\n            const apply = this._hstate === HState.blank;\n\n            // did any sprite receive the clock?\n            let m = false;\n\n            const movementCounter = this._movementClock > 15 ? 0 : this._movementClock;\n\n            m = this._missile0.movementTick(movementCounter, apply) || m;\n            m = this._missile1.movementTick(movementCounter, apply) || m;\n            m = this._player0.movementTick(movementCounter, apply) || m;\n            m = this._player1.movementTick(movementCounter, apply) || m;\n            m = this._ball.movementTick(movementCounter, apply) || m;\n\n            // stop collision counter if all latches were cleared\n            this._movementInProgress = m;\n\n            // the collision latches must be updated if any sprite received a tick\n            this._collisionUpdateRequired = m;\n\n            this._movementClock++;\n        }\n    }\n\n    private _tickHblank() {\n        if (this._hctr === 0) {\n            this._hblankCtr = 0;\n            this._cpu.resume();\n        }\n\n        if (++this._hblankCtr >= 68) {\n            this._hstate = HState.frame;\n        }\n    }\n\n    private _tickHframe() {\n        const y = this._frameManager.getCurrentLine(),\n            x = this._hctr - 68 + this._xDelta;\n\n        // collision latches must be updated if we cannot use cached line daa\n        this._collisionUpdateRequired = true;\n\n        // The playfield does not have its own counter and must be cycled before rendering the sprites.\n        this._playfield.tick(x);\n\n        // spin sprite timers\n        this._tickSprites();\n\n        // render pixel data\n        if (this._frameManager.isRendering()) {\n            this._renderPixel(x, y);\n        }\n    }\n\n    private _tickSprites() {\n        this._missile0.tick(true);\n        this._missile1.tick(true);\n        this._player0.tick();\n        this._player1.tick();\n        this._ball.tick(true);\n    }\n\n    private _nextLine() {\n        if (this._linesSinceChange >= 2) {\n            this._cloneLastLine();\n        }\n\n        // Reset the counters\n        this._hctr = 0;\n\n        if (!this._movementInProgress) {\n            this._linesSinceChange++;\n        }\n\n        this._hstate = HState.blank;\n        this._extendedHblank = false;\n        this._xDelta = 0;\n\n        this._frameManager.nextLine();\n\n        if (this._frameManager.isRendering() && this._frameManager.getCurrentLine() === 0) {\n            this._flushLineCache();\n        }\n    }\n\n    private _cloneLastLine(): void {\n        const y = this._frameManager.getCurrentLine();\n\n        if (!this._frameManager.isRendering() || y === 0) {\n            return;\n        }\n\n        const delta = y * 160,\n            prevDelta = (y - 1) * 160;\n\n        for (let x = 0; x < 160; x++) {\n            this._frameManager.surfaceBuffer[delta + x] = this._frameManager.surfaceBuffer[prevDelta + x];\n        }\n    }\n\n    private _getPalette(config: Config) {\n        switch (config.tvMode) {\n            case Config.TvMode.ntsc:\n                return palette.NTSC;\n\n            case Config.TvMode.pal:\n                return palette.PAL;\n\n            case Config.TvMode.secam:\n                return palette.SECAM;\n\n            default:\n                throw new Error('invalid TV mode');\n        }\n    }\n\n    private _getClockFreq(config: Config) {\n        return config.tvMode === Config.TvMode.ntsc\n            ? 60 * 228 * Metrics.frameLinesNTSC\n            : 50 * 228 * Metrics.frameLinesPAL;\n    }\n\n    private _renderPixel(x: number, y: number): void {\n        if (this._frameManager.vblank) {\n            this._frameManager.surfaceBuffer[y * 160 + x] = 0xff000000;\n            return;\n        }\n\n        let color = this._colorBk;\n\n        switch (this._priority) {\n            case Priority.normal:\n                color = this._playfield.getPixel(color);\n                color = this._ball.getPixel(color);\n                color = this._missile1.getPixel(color);\n                color = this._player1.getPixel(color);\n                color = this._missile0.getPixel(color);\n                color = this._player0.getPixel(color);\n                break;\n\n            case Priority.pfp:\n                color = this._missile1.getPixel(color);\n                color = this._player1.getPixel(color);\n                color = this._missile0.getPixel(color);\n                color = this._player0.getPixel(color);\n                color = this._playfield.getPixel(color);\n                color = this._ball.getPixel(color);\n                break;\n\n            case Priority.score:\n                color = this._ball.getPixel(color);\n                color = this._missile1.getPixel(color);\n                color = this._player1.getPixel(color);\n                color = this._playfield.getPixel(color);\n                color = this._missile0.getPixel(color);\n                color = this._player0.getPixel(color);\n                break;\n\n            default:\n                throw new Error('invalid priority');\n        }\n\n        this._frameManager.surfaceBuffer[y * 160 + x] = color;\n    }\n\n    private _updateCollision() {\n        this._collisionMask |=\n            ~this._player0.collision &\n            ~this._player1.collision &\n            ~this._missile0.collision &\n            ~this._missile1.collision &\n            ~this._ball.collision &\n            ~this._playfield.collision;\n    }\n\n    private _clearHmoveComb(): void {\n        if (this._frameManager.isRendering() && this._hstate === HState.blank) {\n            const offset = this._frameManager.getCurrentLine() * 160;\n\n            for (let i = 0; i < 8; i++) {\n                this._frameManager.surfaceBuffer[offset + i] = 0xff000000;\n            }\n        }\n    }\n\n    private _resxCounter(): number {\n        return this._hstate === HState.blank\n            ? this._hctr >= ResxCounter.lateHblankThreshold ? ResxCounter.lateHblank : ResxCounter.hblank\n            : ResxCounter.frame;\n    }\n\n    private _rsync(): void {\n        const x = this._hctr > 68 ? this._hctr - 68 : 0;\n\n        this._xDelta = 157 - x;\n\n        if (this._frameManager.isRendering()) {\n            const y = this._frameManager.getCurrentLine(),\n                base = y * 160 + x,\n                boundary = base + (y + 1) * 160;\n\n            for (let i = base; i < boundary; i++) {\n                this._frameManager.surfaceBuffer[i] = 0xff000000;\n            }\n        }\n\n        this._hctr = 225;\n    }\n\n    private _setPriority(value: number): void {\n        const priority = value & 0x04 ? Priority.pfp : value & 0x02 ? Priority.score : Priority.normal;\n\n        if (priority !== this._priority) {\n            this._flushLineCache();\n            this._priority = priority;\n        }\n    }\n\n    private _flushLineCache(): void {\n        const wasCaching = this._linesSinceChange >= 2;\n\n        this._linesSinceChange = 0;\n\n        if (wasCaching) {\n            const rewindCycles = this._hctr;\n\n            for (this._hctr = 0; this._hctr < rewindCycles; this._hctr++) {\n                if (this._hstate === HState.blank) {\n                    this._tickHblank();\n                } else {\n                    this._tickHframe();\n                }\n            }\n        }\n    }\n\n    newFrame = new Event<RGBASurfaceInterface>();\n\n    trap = new Event<Tia.TrapPayload>();\n\n    private _cpu: CpuInterface = null;\n    private _bus: Bus = null;\n\n    private _frameManager: FrameManager;\n    private _delayQueue = new DelayQueue(10, 20);\n\n    private _palette: Uint32Array;\n\n    private _hstate = HState.blank;\n\n    // We need a separate counter for the blank period that will be decremented by hmove\n    private _hblankCtr = 0;\n    // hclock counter\n    private _hctr = 0;\n    // collision latch update required?\n    private _collisionUpdateRequired = false;\n    // Count the extra clocks triggered by move\n    private _movementClock = 0;\n    // Is the movement clock active and shoud pulse?\n    private _movementInProgress = false;\n    // do we have an extended hblank triggered by hmove?\n    private _extendedHblank = false;\n    // Delta during x calculation. Can become temporarily nonzero aftern a rsync.\n    private _xDelta = 0;\n\n    // Lines since the last cache-invalidating change. If this is > 1 we can safely use the linecache\n    private _linesSinceChange = 0;\n\n    // Max total lines. Used to clear garbage lines.\n    private _maxLinesTotal = 0;\n\n    private _colorBk = 0xff000000;\n    private _priority = Priority.normal;\n    // bitfield with collision latches\n    private _collisionMask = 0;\n\n    private _player0 = new Player(CollisionMask.player0, () => this._flushLineCache());\n    private _player1 = new Player(CollisionMask.player1, () => this._flushLineCache());\n    private _missile0 = new Missile(CollisionMask.missile0, () => this._flushLineCache());\n    private _missile1 = new Missile(CollisionMask.missile1, () => this._flushLineCache());\n    private _playfield = new Playfield(CollisionMask.playfield, () => this._flushLineCache());\n    private _ball = new Ball(CollisionMask.ball, () => this._flushLineCache());\n\n    private _waveformAudio = new Array<WaveformAudio>(2);\n    private _pcmAudio: PCMAudio = null;\n    private _audio = new Array<AudioInterface>(2);\n\n    private _input0: LatchedInput;\n    private _input1: LatchedInput;\n\n    private _paddles: Array<PaddleReader>;\n}\n\nnamespace Tia {\n    export const enum Registers {\n        vsync = 0x00,\n        vblank = 0x01,\n        wsync = 0x02,\n        rsync = 0x03,\n        nusiz0 = 0x04,\n        nusiz1 = 0x05,\n        colup0 = 0x06,\n        colup1 = 0x07,\n        colupf = 0x08,\n        colubk = 0x09,\n        ctrlpf = 0x0a,\n        refp0 = 0x0b,\n        refp1 = 0x0c,\n        pf0 = 0x0d,\n        pf1 = 0x0e,\n        pf2 = 0x0f,\n        resp0 = 0x10,\n        resp1 = 0x11,\n        resm0 = 0x12,\n        resm1 = 0x13,\n        resbl = 0x14,\n        audc0 = 0x15,\n        audc1 = 0x16,\n        audf0 = 0x17,\n        audf1 = 0x18,\n        audv0 = 0x19,\n        audv1 = 0x1a,\n        grp0 = 0x1b,\n        grp1 = 0x1c,\n        enam0 = 0x1d,\n        enam1 = 0x1e,\n        enabl = 0x1f,\n        hmp0 = 0x20,\n        hmp1 = 0x21,\n        hmm0 = 0x22,\n        hmm1 = 0x23,\n        hmbl = 0x24,\n        vdelp0 = 0x25,\n        vdelp1 = 0x26,\n        vdelbl = 0x27,\n        resmp0 = 0x28,\n        resmp1 = 0x29,\n        hmove = 0x2a,\n        hmclr = 0x2b,\n        cxclr = 0x2c,\n        cxm0p = 0x00,\n        cxm1p = 0x01,\n        cxp0fb = 0x02,\n        cxp1fb = 0x03,\n        cxm0fb = 0x04,\n        cxm1fb = 0x05,\n        cxblpf = 0x06,\n        cxppmm = 0x07,\n        inpt0 = 0x08,\n        inpt1 = 0x09,\n        inpt2 = 0x0a,\n        inpt3 = 0x0b,\n        inpt4 = 0x0c,\n        inpt5 = 0x0d,\n\n        // These \"registers\" are not exposed to the system and only used in delaying\n        // internal processes.\n        _shuffleP0 = 0xf0,\n        _shuffleP1 = 0xf1,\n        _shuffleBL = 0xf2\n    }\n\n    export const enum TrapReason {\n        invalidRead,\n        invalidWrite\n    }\n\n    export class TrapPayload {\n        constructor(public reason: TrapReason, public tia: Tia, public message?: string) {}\n    }\n}\n\nexport default Tia;\n",
    "/*\n *   This file is part of 6502.ts, an emulator for 6502 based systems built\n *   in Typescript.\n *\n *   Copyright (C) 2014 - 2017 Christian Speckner & contributors\n *\n *   This program is free software; you can redistribute it and/or modify\n *   it under the terms of the GNU General Public License as published by\n *   the Free Software Foundation; either version 2 of the License, or\n *   (at your option) any later version.\n *\n *   This program is distributed in the hope that it will be useful,\n *   but WITHOUT ANY WARRANTY; without even the implied warranty of\n *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *   GNU General Public License for more details.\n *\n *   You should have received a copy of the GNU General Public License along\n *   with this program; if not, write to the Free Software Foundation, Inc.,\n *   51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n */\n\n/*\n * The tone generator has been heavily influenced by the code found at\n * http://www.biglist.com/lists/stella/archives/200311/msg00156.html with following licence:\n *\n * sound.c\n * version 0.2\n *\n * Copyright (c) 2003 Adam Wozniak (adam@wozniakconsulting.com)\n * All Rights Reserved\n *\n * Permission granted to freely copy and use for any purpose, provided\n * this copyright header remains intact.\n */\nimport Config from '../Config';\nimport AudioOutputBuffer from '../../../tools/AudioOutputBuffer';\nimport { decode as decodeBase64 } from '../../../tools/base64';\n\nconst FREQUENCY_DIVISIORS = decodeBase64('AQEPAQEBAQEBAQEBAwMDAQ==');\n\n// all ones\nconst POLY0 = new Int8Array([1]);\n\n// 50% duty cycle\nconst POLY1 = new Int8Array([1, 1]);\n\n// 16/31 duty cycle\nconst POLY2 = new Int8Array([16, 15]);\n\n// 4 bit LFSR\nconst POLY4 = decodeBase64('AQICAQEBBAM=');\n\n// 5 bit LFSR\nconst POLY5 = decodeBase64('AQIBAQICBQQCAQMBAQEBBA==');\n\n// 9 bit LFSR\nconst POLY9 = decodeBase64(\n    'AQQBAwIEAQIDAgEBAQEBAQIEAgEEAQECAgEDAgEDAQEBBAEBAQECAQECBgECAgECAQIBAQIBBg' +\n        'IBAgIBAQEBAgICAgcCAwICAQEBAwIBAQIBAQcBAQMBAQIDAwEBAQICAQECAgQDBQEDAQEFAgEB' +\n        'AQIBAgEDAQIFAQECAQEBBQEBAQEBAQEBBgEBAQIBAQEBBAIBAQMBAwYDAgMBAQIBAgQBAQEDAQ' +\n        'EBAQMBAgEEAgIDBAEBBAECAQICAgEBBAMBBAQJBQQBBQMBAQMCAgIBBQECAQEBAgMBAgEBAwQC' +\n        'BQICAQIDAQEBAQECAQMDAwIBAgEBAQEBAwMBAgIDAQMBCA=='\n);\n\n// used by mode 15\nconst POLY68 = decodeBase64('BQYEBQoFAwcECgYDBgQJBg==');\n\n// used by mode 3\nconst POLY465 = decodeBase64(\n    'AgMCAQQBBgoCBAIBAQQFCQMDBAEBAQgFBQUEAQEBCAQCCAMDAQEHBAIHBQEDAQcEAQQIAgEDBA' +\n        'cBAwcDAgEGBgICBAUDAgYGAQMDAgUDBwMEAwICAgUJAwEFAwECAgsFAQUDAQECDAUBAgUCAQEM' +\n        'BgECBQECAQoGAwICBAECBgo='\n);\n\nconst POLYS = [\n    POLY0,\n    POLY4,\n    POLY4,\n    POLY465,\n    POLY1,\n    POLY1,\n    POLY2,\n    POLY5,\n    POLY9,\n    POLY5,\n    POLY2,\n    POLY0,\n    POLY1,\n    POLY1,\n    POLY2,\n    POLY68\n];\n\nclass ToneGenerator {\n    constructor(private _config?: Config) {}\n\n    setConfig(config: Config) {\n        this._config = config;\n    }\n\n    getKey(tone: number, frequency: number): number {\n        // Hack: this is at the boundary of hearing anyway and causes nasty artifacts during\n        // resampling, so we kill it right away.\n        if (POLYS[tone] === POLY1 && FREQUENCY_DIVISIORS[tone] * (frequency + 1) === 1) {\n            return 0;\n        }\n\n        return (tone << 5) | frequency;\n    }\n\n    getBuffer(key: number): AudioOutputBuffer {\n        const tone = (key >>> 5) & 0x0f,\n            frequency = key & 0x1f;\n\n        const poly = POLYS[tone];\n\n        let length = 0;\n        for (let i = 0; i < poly.length; i++) {\n            length += poly[i];\n        }\n\n        length = length * FREQUENCY_DIVISIORS[tone] * (frequency + 1);\n\n        const content = new Float32Array(length);\n\n        const sampleRate = Config.getClockHz(this._config) / 114;\n\n        let f = 0;\n        let count = 0;\n        let offset = 0;\n        let state = true;\n\n        for (let i = 0; i < length; i++) {\n            f++;\n\n            if (f === FREQUENCY_DIVISIORS[tone] * (frequency + 1)) {\n                f = 0;\n                count++;\n\n                if (count === poly[offset]) {\n                    offset++;\n                    count = 0;\n\n                    if (poly.length === offset) {\n                        offset = 0;\n                    }\n                }\n\n                state = !(offset & 0x01);\n            }\n\n            content[i] = state ? 1 : -1;\n        }\n\n        return new AudioOutputBuffer(content, sampleRate);\n    }\n}\n\nexport default ToneGenerator;\n",
    "/*\n *   This file is part of 6502.ts, an emulator for 6502 based systems built\n *   in Typescript.\n *\n *   Copyright (C) 2014 - 2017 Christian Speckner & contributors\n *\n *   This program is free software; you can redistribute it and/or modify\n *   it under the terms of the GNU General Public License as published by\n *   the Free Software Foundation; either version 2 of the License, or\n *   (at your option) any later version.\n *\n *   This program is distributed in the hope that it will be useful,\n *   but WITHOUT ANY WARRANTY; without even the implied warranty of\n *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *   GNU General Public License for more details.\n *\n *   You should have received a copy of the GNU General Public License along\n *   with this program; if not, write to the Free Software Foundation, Inc.,\n *   51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n */\n\nimport { Event } from 'microevent.ts';\n\nimport AudioOutputBuffer from '../../../tools/AudioOutputBuffer';\nimport WaveformAudioOutputInterface from '../../io/WaveformAudioOutputInterface';\nimport Config from '../Config';\nimport ToneGenerator from './ToneGenerator';\nimport AudioInterface from './AudioInterface';\n\nexport default class WaveformAudio implements WaveformAudioOutputInterface, AudioInterface {\n    constructor(private _config: Config) {\n        this._toneGenerator = new ToneGenerator(this._config);\n\n        this.reset();\n    }\n\n    reset(): void {\n        this._volume = -1;\n        this._tone = -1;\n        this._frequency = -1;\n    }\n\n    audc(value: number): void {\n        value &= 0x0f;\n\n        if (value === this._tone) {\n            return;\n        }\n\n        this._tone = value;\n        this._dispatchBufferChanged();\n    }\n\n    audf(value: number): void {\n        value &= 0x1f;\n\n        if (value === this._frequency) {\n            return;\n        }\n\n        this._frequency = value;\n        this._dispatchBufferChanged();\n    }\n\n    audv(value: number): void {\n        value &= 0x0f;\n\n        if (value === this._volume) {\n            return;\n        }\n\n        this._volume = value / 15;\n        this.volumeChanged.dispatch(this._volume);\n    }\n\n    setActive(active: boolean): void {\n        this._active = active;\n\n        if (active) {\n            this._dispatchBufferChanged();\n        } else {\n            this.stop.dispatch(undefined);\n        }\n    }\n\n    getVolume(): number {\n        return this._volume >= 0 ? this._volume : 0;\n    }\n\n    getBuffer(key: number): AudioOutputBuffer {\n        return this._toneGenerator.getBuffer(key);\n    }\n\n    protected _getKey(): number {\n        return this._toneGenerator.getKey(this._tone, this._frequency);\n    }\n\n    protected _dispatchBufferChanged() {\n        if (this._active && this.bufferChanged.hasHandlers) {\n            this.bufferChanged.dispatch(this._getKey());\n        }\n    }\n\n    bufferChanged = new Event<number>();\n    volumeChanged = new Event<number>();\n    stop = new Event<void>();\n\n    private _volume = -1;\n    private _tone = -1;\n    private _frequency = -1;\n    private _active = false;\n    private _toneGenerator: ToneGenerator = null;\n}\n",
    "/*\n *   This file is part of 6502.ts, an emulator for 6502 based systems built\n *   in Typescript.\n *\n *   Copyright (C) 2014 - 2017 Christian Speckner & contributors\n *\n *   This program is free software; you can redistribute it and/or modify\n *   it under the terms of the GNU General Public License as published by\n *   the Free Software Foundation; either version 2 of the License, or\n *   (at your option) any later version.\n *\n *   This program is distributed in the hope that it will be useful,\n *   but WITHOUT ANY WARRANTY; without even the implied warranty of\n *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *   GNU General Public License for more details.\n *\n *   You should have received a copy of the GNU General Public License along\n *   with this program; if not, write to the Free Software Foundation, Inc.,\n *   51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n */\n\nconst decodes0 = new Uint8Array(160),\n    decodes1 = new Uint8Array(160),\n    decodes2 = new Uint8Array(160),\n    decodes3 = new Uint8Array(160),\n    decodes4 = new Uint8Array(160),\n    decodes6 = new Uint8Array(160);\n\nexport const decodesMissile: Array<Uint8Array> = [\n    decodes0,\n    decodes1,\n    decodes2,\n    decodes3,\n    decodes4,\n    decodes0,\n    decodes6,\n    decodes0\n];\n\nexport const decodesPlayer: Array<Uint8Array> = [\n    decodes0,\n    decodes1,\n    decodes2,\n    decodes3,\n    decodes4,\n    decodes0,\n    decodes6,\n    decodes0\n];\n\n[decodes0, decodes1, decodes2, decodes3, decodes4, decodes6].forEach(decodes => {\n    for (let i = 0; i < 160; i++) {\n        decodes[i] = 0;\n    }\n\n    decodes[156] = 1;\n});\n\ndecodes1[12] = 1;\ndecodes2[28] = 1;\ndecodes3[12] = decodes3[28] = 1;\ndecodes4[60] = 1;\ndecodes6[28] = decodes6[60] = 1;\n",
    "/*\n *   This file is part of 6502.ts, an emulator for 6502 based systems built\n *   in Typescript.\n *\n *   Copyright (C) 2014 - 2017 Christian Speckner & contributors\n *\n *   This program is free software; you can redistribute it and/or modify\n *   it under the terms of the GNU General Public License as published by\n *   the Free Software Foundation; either version 2 of the License, or\n *   (at your option) any later version.\n *\n *   This program is distributed in the hope that it will be useful,\n *   but WITHOUT ANY WARRANTY; without even the implied warranty of\n *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *   GNU General Public License for more details.\n *\n *   You should have received a copy of the GNU General Public License along\n *   with this program; if not, write to the Free Software Foundation, Inc.,\n *   51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n */\n\nexport const NTSC = new Uint32Array([\n    0xff000000,\n    0xff4a4a4a,\n    0xff6f6f6f,\n    0xff8e8e8e,\n    0xffaaaaaa,\n    0xffc0c0c0,\n    0xffd6d6d6,\n    0xffececec,\n    0xff004848,\n    0xff0f6969,\n    0xff1d8686,\n    0xff2aa2a2,\n    0xff35bbbb,\n    0xff40d2d2,\n    0xff4ae8e8,\n    0xff54fcfc,\n    0xff002c7c,\n    0xff114890,\n    0xff2162a2,\n    0xff307ab4,\n    0xff3d90c3,\n    0xff4aa4d2,\n    0xff55b7df,\n    0xff60c8ec,\n    0xff001c90,\n    0xff1539a3,\n    0xff2853b5,\n    0xff3a6cc6,\n    0xff4a82d5,\n    0xff5997e3,\n    0xff67aaf0,\n    0xff74bcfc,\n    0xff000094,\n    0xff1a1aa7,\n    0xff3232b8,\n    0xff4848c8,\n    0xff5c5cd6,\n    0xff6f6fe4,\n    0xff8080f0,\n    0xff9090fc,\n    0xff640084,\n    0xff7a1997,\n    0xff8f30a8,\n    0xffa246b8,\n    0xffb359c6,\n    0xffc36cd4,\n    0xffd27ce0,\n    0xffe08cec,\n    0xff840050,\n    0xff9a1968,\n    0xffad307d,\n    0xffc04692,\n    0xffd059a4,\n    0xffe06cb5,\n    0xffee7cc5,\n    0xfffc8cd4,\n    0xff900014,\n    0xffa31a33,\n    0xffb5324e,\n    0xffc64868,\n    0xffd55c7f,\n    0xffe36f95,\n    0xfff080a9,\n    0xfffc90bc,\n    0xff940000,\n    0xffa71a18,\n    0xffb8322d,\n    0xffc84842,\n    0xffd65c54,\n    0xffe46f65,\n    0xfff08075,\n    0xfffc9084,\n    0xff881c00,\n    0xff9d3b18,\n    0xffb0572d,\n    0xffc27242,\n    0xffd28a54,\n    0xffe1a065,\n    0xffefb575,\n    0xfffcc884,\n    0xff643000,\n    0xff805018,\n    0xff986d2d,\n    0xffb08842,\n    0xffc5a054,\n    0xffd9b765,\n    0xffebcc75,\n    0xfffce084,\n    0xff304000,\n    0xff4e6218,\n    0xff69812d,\n    0xff829e42,\n    0xff99b854,\n    0xffaed165,\n    0xffc2e775,\n    0xffd4fc84,\n    0xff004400,\n    0xff1a661a,\n    0xff328432,\n    0xff48a048,\n    0xff5cba5c,\n    0xff6fd26f,\n    0xff80e880,\n    0xff90fc90,\n    0xff003c14,\n    0xff185f35,\n    0xff2d7e52,\n    0xff429c6e,\n    0xff54b787,\n    0xff65d09e,\n    0xff75e7b4,\n    0xff84fcc8,\n    0xff003830,\n    0xff165950,\n    0xff2b766d,\n    0xff3e9288,\n    0xff4faba0,\n    0xff5fc2b7,\n    0xff6ed8cc,\n    0xff7cece0,\n    0xff002c48,\n    0xff144d69,\n    0xff266a86,\n    0xff3886a2,\n    0xff479fbb,\n    0xff56b6d2,\n    0xff63cce8,\n    0xff70e0fc\n]);\n\nexport const PAL = new Uint32Array([\n    0xff000000,\n    0xff2b2b2b,\n    0xff525252,\n    0xff767676,\n    0xff979797,\n    0xffb6b6b6,\n    0xffd2d2d2,\n    0xffececec,\n    0xff000000,\n    0xff2b2b2b,\n    0xff525252,\n    0xff767676,\n    0xff979797,\n    0xffb6b6b6,\n    0xffd2d2d2,\n    0xffececec,\n    0xff005880,\n    0xff1a7196,\n    0xff3287ab,\n    0xff489cbe,\n    0xff5cafcf,\n    0xff6fc0df,\n    0xff80d1ee,\n    0xff90e0fc,\n    0xff005c44,\n    0xff1a795e,\n    0xff329376,\n    0xff48ac8c,\n    0xff5cc2a0,\n    0xff6fd7b3,\n    0xff80eac4,\n    0xff90fcd4,\n    0xff003470,\n    0xff1a5189,\n    0xff326ba0,\n    0xff4884b6,\n    0xff5c9ac9,\n    0xff6fafdc,\n    0xff80c2ec,\n    0xff90d4fc,\n    0xff146400,\n    0xff35801a,\n    0xff529832,\n    0xff6eb048,\n    0xff87c55c,\n    0xff9ed96f,\n    0xffb4eb80,\n    0xffc8fc90,\n    0xff140070,\n    0xff351a89,\n    0xff5232a0,\n    0xff6e48b6,\n    0xff875cc9,\n    0xff9e6fdc,\n    0xffb480ec,\n    0xffc890fc,\n    0xff5c5c00,\n    0xff76761a,\n    0xff8e8e32,\n    0xffa4a448,\n    0xffb8b85c,\n    0xffcbcb6f,\n    0xffdcdc80,\n    0xffecec90,\n    0xff5c0070,\n    0xff741a84,\n    0xff893296,\n    0xff9e48a8,\n    0xffb05cb7,\n    0xffc16fc6,\n    0xffd180d3,\n    0xffe090e0,\n    0xff703c00,\n    0xff895a19,\n    0xffa0752f,\n    0xffb68e44,\n    0xffc9a557,\n    0xffdcba68,\n    0xffecce79,\n    0xfffce088,\n    0xff700058,\n    0xff891a6e,\n    0xffa03283,\n    0xffb64896,\n    0xffc95ca7,\n    0xffdc6fb7,\n    0xffec80c6,\n    0xfffc90d4,\n    0xff702000,\n    0xff893f19,\n    0xffa05a2f,\n    0xffb67444,\n    0xffc98b57,\n    0xffdca168,\n    0xffecb579,\n    0xfffcc888,\n    0xff800034,\n    0xff961a4a,\n    0xffab325f,\n    0xffbe4872,\n    0xffcf5c83,\n    0xffdf6f93,\n    0xffee80a2,\n    0xfffc90b0,\n    0xff880000,\n    0xff9d1a1a,\n    0xffb03232,\n    0xffc24848,\n    0xffd25c5c,\n    0xffe16f6f,\n    0xffef8080,\n    0xfffc9090,\n    0xff000000,\n    0xff2b2b2b,\n    0xff525252,\n    0xff767676,\n    0xff979797,\n    0xffb6b6b6,\n    0xffd2d2d2,\n    0xffececec,\n    0xff000000,\n    0xff2b2b2b,\n    0xff525252,\n    0xff767676,\n    0xff979797,\n    0xffb6b6b6,\n    0xffd2d2d2,\n    0xffececec\n]);\n\nexport const SECAM = new Uint32Array([\n    0xff000000,\n    0xffff2121,\n    0xff793cf0,\n    0xffff50ff,\n    0xff00ff7f,\n    0xffffff7f,\n    0xff3fffff,\n    0xffffffff,\n    0xff000000,\n    0xffff2121,\n    0xff793cf0,\n    0xffff50ff,\n    0xff00ff7f,\n    0xffffff7f,\n    0xff3fffff,\n    0xffffffff,\n    0xff000000,\n    0xffff2121,\n    0xff793cf0,\n    0xffff50ff,\n    0xff00ff7f,\n    0xffffff7f,\n    0xff3fffff,\n    0xffffffff,\n    0xff000000,\n    0xffff2121,\n    0xff793cf0,\n    0xffff50ff,\n    0xff00ff7f,\n    0xffffff7f,\n    0xff3fffff,\n    0xffffffff,\n    0xff000000,\n    0xffff2121,\n    0xff793cf0,\n    0xffff50ff,\n    0xff00ff7f,\n    0xffffff7f,\n    0xff3fffff,\n    0xffffffff,\n    0xff000000,\n    0xffff2121,\n    0xff793cf0,\n    0xffff50ff,\n    0xff00ff7f,\n    0xffffff7f,\n    0xff3fffff,\n    0xffffffff,\n    0xff000000,\n    0xffff2121,\n    0xff793cf0,\n    0xffff50ff,\n    0xff00ff7f,\n    0xffffff7f,\n    0xff3fffff,\n    0xffffffff,\n    0xff000000,\n    0xffff2121,\n    0xff793cf0,\n    0xffff50ff,\n    0xff00ff7f,\n    0xffffff7f,\n    0xff3fffff,\n    0xffffffff,\n    0xff000000,\n    0xffff2121,\n    0xff793cf0,\n    0xffff50ff,\n    0xff00ff7f,\n    0xffffff7f,\n    0xff3fffff,\n    0xffffffff,\n    0xff000000,\n    0xffff2121,\n    0xff793cf0,\n    0xffff50ff,\n    0xff00ff7f,\n    0xffffff7f,\n    0xff3fffff,\n    0xffffffff,\n    0xff000000,\n    0xffff2121,\n    0xff793cf0,\n    0xffff50ff,\n    0xff00ff7f,\n    0xffffff7f,\n    0xff3fffff,\n    0xffffffff,\n    0xff000000,\n    0xffff2121,\n    0xff793cf0,\n    0xffff50ff,\n    0xff00ff7f,\n    0xffffff7f,\n    0xff3fffff,\n    0xffffffff,\n    0xff000000,\n    0xffff2121,\n    0xff793cf0,\n    0xffff50ff,\n    0xff00ff7f,\n    0xffffff7f,\n    0xff3fffff,\n    0xffffffff,\n    0xff000000,\n    0xffff2121,\n    0xff793cf0,\n    0xffff50ff,\n    0xff00ff7f,\n    0xffffff7f,\n    0xff3fffff,\n    0xffffffff,\n    0xff000000,\n    0xffff2121,\n    0xff793cf0,\n    0xffff50ff,\n    0xff00ff7f,\n    0xffffff7f,\n    0xff3fffff,\n    0xffffffff,\n    0xff000000,\n    0xffff2121,\n    0xff793cf0,\n    0xffff50ff,\n    0xff00ff7f,\n    0xffffff7f,\n    0xff3fffff,\n    0xffffffff\n]);\n",
    "/*\n *   This file is part of 6502.ts, an emulator for 6502 based systems built\n *   in Typescript.\n *\n *   Copyright (C) 2014 - 2017 Christian Speckner & contributors\n *\n *   This program is free software; you can redistribute it and/or modify\n *   it under the terms of the GNU General Public License as published by\n *   the Free Software Foundation; either version 2 of the License, or\n *   (at your option) any later version.\n *\n *   This program is distributed in the hope that it will be useful,\n *   but WITHOUT ANY WARRANTY; without even the implied warranty of\n *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *   GNU General Public License for more details.\n *\n *   You should have received a copy of the GNU General Public License along\n *   with this program; if not, write to the Free Software Foundation, Inc.,\n *   51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n */\n\nimport { Event } from 'microevent.ts';\n\nimport BoardInterface from '../board/BoardInterface';\nimport CpuInterface from '../cpu/CpuInterface';\nimport Cpu from '../cpu/Cpu';\nimport Memory from './Memory';\nimport BusInterface from '../bus/BusInterface';\nimport TimerInterface from '../board/TimerInterface';\nimport SchedulerInterface from '../../tools/scheduler/SchedulerInterface';\nimport TaskInterface from '../../tools/scheduler/TaskInterface';\n\nclass Board implements BoardInterface {\n    constructor(cpuFactory?: (bus: BusInterface) => CpuInterface) {\n        this.cpuClock = this.clock;\n\n        this._bus = this._createBus();\n\n        if (typeof cpuFactory === 'undefined') {\n            cpuFactory = bus => new Cpu(bus);\n        }\n\n        this._cpu = cpuFactory(this._bus);\n        this._cpu.setInvalidInstructionCallback(() => this._onInvalidInstruction());\n    }\n\n    getCpu(): CpuInterface {\n        return this._cpu;\n    }\n\n    getBus(): BusInterface {\n        return this._bus;\n    }\n\n    getTimer(): TimerInterface {\n        return this._timer;\n    }\n\n    reset(hard: boolean): Board {\n        this._cpu.reset();\n        this._bus.reset();\n\n        if (hard) {\n            this._bus.clear();\n        }\n\n        return this;\n    }\n\n    boot(): Board {\n        let clock = 0;\n\n        if (this._cpu.executionState !== CpuInterface.ExecutionState.boot) {\n            throw new Error('Already booted!');\n        }\n\n        while ((this._cpu.executionState as CpuInterface.ExecutionState) !== CpuInterface.ExecutionState.fetch) {\n            this._cpu.cycle();\n            clock++;\n        }\n\n        this.clock.dispatch(clock);\n        return this;\n    }\n\n    suspend(): void {}\n\n    resume(): void {}\n\n    triggerTrap(reason: BoardInterface.TrapReason, message?: string): Board {\n        this._stop();\n\n        this._trap = true;\n\n        if (this.trap.hasHandlers) {\n            this.trap.dispatch(new BoardInterface.TrapPayload(reason, this, message));\n        } else {\n            throw new Error(message);\n        }\n\n        return this;\n    }\n\n    getBoardStateDebug(): string {\n        return undefined;\n    }\n\n    setClockMode(clockMode: BoardInterface.ClockMode): Board {\n        this._clockMode = clockMode;\n\n        return this;\n    }\n\n    getClockMode(): BoardInterface.ClockMode {\n        return this._clockMode;\n    }\n\n    protected _createBus() {\n        return new Memory();\n    }\n\n    protected _tick(clocks: number): number {\n        let i = 0,\n            clock = 0;\n\n        this._trap = false;\n\n        while (i++ < clocks && !this._trap) {\n            this._cpu.cycle();\n            clock++;\n\n            if (\n                this._clockMode === BoardInterface.ClockMode.instruction &&\n                this._cpu.executionState === CpuInterface.ExecutionState.fetch &&\n                this.clock.hasHandlers\n            ) {\n                this.clock.dispatch(clock);\n                clock = 0;\n            }\n        }\n\n        if (clock > 0 && this.clock.hasHandlers) {\n            this.clock.dispatch(clock);\n        }\n\n        return clock;\n    }\n\n    protected _start(scheduler: SchedulerInterface, sliceHint = 100000) {\n        if (this._runTask) {\n            return;\n        }\n\n        this._sliceHint = sliceHint;\n\n        this._runTask = scheduler.start(this._executeSlice, this);\n    }\n\n    protected _executeSlice(board: Board) {\n        board._tick(board._sliceHint);\n    }\n\n    protected _stop() {\n        if (!this._runTask) {\n            return;\n        }\n\n        this._runTask.stop();\n\n        this._runTask = undefined;\n    }\n\n    protected _onInvalidInstruction() {\n        this.triggerTrap(BoardInterface.TrapReason.cpu, 'invalid instruction');\n    }\n\n    clock = new Event<number>();\n\n    cpuClock: Event<number>;\n\n    trap = new Event<BoardInterface.TrapPayload>();\n\n    protected _cpu: CpuInterface;\n    protected _bus: Memory;\n    protected _trap = false;\n    protected _sliceHint: number;\n    protected _runTask: TaskInterface;\n    protected _clockMode = BoardInterface.ClockMode.lazy;\n\n    protected _timer = {\n        tick: (clocks: number): number => this._tick(clocks),\n        start: (scheduler: SchedulerInterface, sliceHint?: number): void => this._start(scheduler, sliceHint),\n        stop: (): void => this._stop(),\n        isRunning: (): boolean => !!this._runTask\n    };\n}\n\nexport default Board;\n",
    "/*\n *   This file is part of 6502.ts, an emulator for 6502 based systems built\n *   in Typescript.\n *\n *   Copyright (C) 2014 - 2017 Christian Speckner & contributors\n *\n *   This program is free software; you can redistribute it and/or modify\n *   it under the terms of the GNU General Public License as published by\n *   the Free Software Foundation; either version 2 of the License, or\n *   (at your option) any later version.\n *\n *   This program is distributed in the hope that it will be useful,\n *   but WITHOUT ANY WARRANTY; without even the implied warranty of\n *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *   GNU General Public License for more details.\n *\n *   You should have received a copy of the GNU General Public License along\n *   with this program; if not, write to the Free Software Foundation, Inc.,\n *   51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n */\n\nimport BusInterface from '../bus/BusInterface';\n\nclass Memory implements BusInterface {\n    constructor() {\n        this.clear();\n    }\n\n    reset(): void {}\n\n    clear(): void {\n        for (let i = 0; i < 0x10000; i++) {\n            this._data[i] = 0;\n        }\n    }\n\n    read(address: number): number {\n        return this._data[address];\n    }\n\n    peek(address: number): number {\n        return this._data[address];\n    }\n\n    readWord(address: number): number {\n        return this._data[address] + (this._data[(address + 1) & 0xffff] << 8);\n    }\n\n    write(address: number, value: number) {\n        this._data[address] = value;\n    }\n\n    poke(address: number, value: number) {\n        this._data[address] = value;\n    }\n\n    protected _data = new Uint8Array(0x10000);\n}\n\nexport default Memory;\n",
    "/*\n *   This file is part of 6502.ts, an emulator for 6502 based systems built\n *   in Typescript.\n *\n *   Copyright (C) 2014 - 2017 Christian Speckner & contributors\n *\n *   This program is free software; you can redistribute it and/or modify\n *   it under the terms of the GNU General Public License as published by\n *   the Free Software Foundation; either version 2 of the License, or\n *   (at your option) any later version.\n *\n *   This program is distributed in the hope that it will be useful,\n *   but WITHOUT ANY WARRANTY; without even the implied warranty of\n *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *   GNU General Public License for more details.\n *\n *   You should have received a copy of the GNU General Public License along\n *   with this program; if not, write to the Free Software Foundation, Inc.,\n *   51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n */\n\nclass AudioOutputBuffer {\n    constructor(private _content: Float32Array, private _sampleRate: number) {}\n\n    getLength(): number {\n        return this._content.length;\n    }\n\n    getContent(): Float32Array {\n        return this._content;\n    }\n\n    getSampleRate(): number {\n        return this._sampleRate;\n    }\n\n    replaceUnderlyingBuffer(buffer: Float32Array): void {\n        this._content = buffer;\n    }\n}\n\nexport default AudioOutputBuffer;\n",
    "/*\n *   This file is part of 6502.ts, an emulator for 6502 based systems built\n *   in Typescript.\n *\n *   Copyright (C) 2014 - 2017 Christian Speckner & contributors\n *\n *   This program is free software; you can redistribute it and/or modify\n *   it under the terms of the GNU General Public License as published by\n *   the Free Software Foundation; either version 2 of the License, or\n *   (at your option) any later version.\n *\n *   This program is distributed in the hope that it will be useful,\n *   but WITHOUT ANY WARRANTY; without even the implied warranty of\n *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *   GNU General Public License for more details.\n *\n *   You should have received a copy of the GNU General Public License along\n *   with this program; if not, write to the Free Software Foundation, Inc.,\n *   51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n */\n\nimport { Event, EventInterface } from 'microevent.ts';\n\nimport SchedulerInterface from './scheduler/SchedulerInterface';\nimport TaskInterface from './scheduler/TaskInterface';\n\nclass ClockProbe {\n    constructor(private _scheduler: SchedulerInterface) {}\n\n    attach(clock: EventInterface<any>): ClockProbe {\n        if (this._clock) {\n            this.detach();\n        }\n\n        this._clock = clock;\n        clock.addHandler(this._clockHandler, this);\n\n        return this;\n    }\n\n    start(): ClockProbe {\n        if (this._measurementTask) {\n            return this;\n        }\n\n        this._timestamp = Date.now();\n        this._counter = 0;\n        this._measurementTask = this._scheduler.start(this._updateMeasurement, this);\n\n        return this;\n    }\n\n    detach(): ClockProbe {\n        if (!this._clock) {\n            return this;\n        }\n\n        this._clock.removeHandler(this._clockHandler, this);\n        this._clock = undefined;\n\n        return this;\n    }\n\n    stop(): ClockProbe {\n        if (!this._measurementTask) {\n            return this;\n        }\n\n        this._measurementTask.stop();\n        this._measurementTask = undefined;\n\n        return this;\n    }\n\n    getFrequency(): number {\n        return this._frequency;\n    }\n\n    private _updateMeasurement(probe: ClockProbe) {\n        const timestamp = Date.now();\n\n        probe._frequency = probe._counter / (timestamp - probe._timestamp) * 1000;\n\n        probe._counter = 0;\n        probe._timestamp = timestamp;\n\n        probe.frequencyUpdate.dispatch(probe._frequency);\n    }\n\n    private _clockHandler(clocks: number, ctx: ClockProbe) {\n        ctx._counter += clocks;\n    }\n\n    frequencyUpdate = new Event<number>();\n\n    private _counter = 0;\n    private _timestamp: number;\n    private _frequency = 0;\n\n    private _clock: EventInterface<any>;\n\n    private _measurementTask: TaskInterface;\n}\n\nexport default ClockProbe;\n",
    "/*\n *   This file is part of 6502.ts, an emulator for 6502 based systems built\n *   in Typescript.\n *\n *   Copyright (C) 2014 - 2017 Christian Speckner & contributors\n *\n *   This program is free software; you can redistribute it and/or modify\n *   it under the terms of the GNU General Public License as published by\n *   the Free Software Foundation; either version 2 of the License, or\n *   (at your option) any later version.\n *\n *   This program is distributed in the hope that it will be useful,\n *   but WITHOUT ANY WARRANTY; without even the implied warranty of\n *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *   GNU General Public License for more details.\n *\n *   You should have received a copy of the GNU General Public License along\n *   with this program; if not, write to the Free Software Foundation, Inc.,\n *   51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n */\n\nclass RingBuffer<T> {\n    constructor(private _capacity: number) {\n        this._buffer = new Array<T>(this._capacity);\n\n        for (let i = 0; i < this._capacity; i++) {\n            this._buffer[i] = null;\n        }\n    }\n\n    size(): number {\n        return this._size;\n    }\n\n    pop(): T {\n        if (this._size === 0) {\n            return undefined;\n        }\n\n        const item = this._buffer[this._index];\n        this._buffer[this._index] = null;\n\n        this._index = (this._index + 1) % this._capacity;\n        this._size--;\n\n        return item;\n    }\n\n    push(item: T): this {\n        if (this._size === this._capacity) {\n            this.pop();\n        }\n\n        this._buffer[(this._index + this._size++) % this._capacity] = item;\n\n        return this;\n    }\n\n    forEach(fn: (item: T) => void): this {\n        for (let i = 0; i < this._size; i++) {\n            fn(this._buffer[(this._index + i) % this._capacity]);\n        }\n\n        return this;\n    }\n\n    clear(): this {\n        for (let i = 0; i < this._capacity; i++) {\n            this._buffer[i] = null;\n        }\n\n        this._size = 0;\n        this._index = 0;\n\n        return this;\n    }\n\n    private _size = 0;\n    private _index = 0;\n    private _buffer: Array<T>;\n}\n\nexport default RingBuffer;\n",
    "/*\n *   This file is part of 6502.ts, an emulator for 6502 based systems built\n *   in Typescript.\n *\n *   Copyright (C) 2014 - 2017 Christian Speckner & contributors\n *\n *   This program is free software; you can redistribute it and/or modify\n *   it under the terms of the GNU General Public License as published by\n *   the Free Software Foundation; either version 2 of the License, or\n *   (at your option) any later version.\n *\n *   This program is distributed in the hope that it will be useful,\n *   but WITHOUT ANY WARRANTY; without even the implied warranty of\n *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *   GNU General Public License for more details.\n *\n *   You should have received a copy of the GNU General Public License along\n *   with this program; if not, write to the Free Software Foundation, Inc.,\n *   51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n */\n\nconst encodingsString = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/',\n    encodings = new Uint8Array(256);\n\nexport namespace __init {\n    let i: number;\n\n    for (i = 0; i < 256; i++) {\n        encodings[i] = 255;\n    }\n    for (i = 0; i < 64; i++) {\n        encodings[encodingsString.charCodeAt(i)] = i;\n    }\n\n    encodings['='.charCodeAt(0)] = 0;\n}\n\nfunction decodeChar(data: string, idx: number): number {\n    const value = encodings[data.charCodeAt(idx)];\n\n    if (value > 63) {\n        throw new Error('invalid base64 character \"' + data[idx] + '\" at index ' + idx);\n    }\n\n    return value;\n}\n\nfunction decodeNibble(data: string, idx: number): number {\n    return (\n        (decodeChar(data, idx) << 18) +\n        (decodeChar(data, idx + 1) << 12) +\n        (decodeChar(data, idx + 2) << 6) +\n        decodeChar(data, idx + 3)\n    );\n}\n\nfunction getPadding(data: string): number {\n    let padding = 0,\n        idx = data.length - 1;\n\n    while (idx >= 0 && data[idx--] === '=') {\n        padding++;\n    }\n\n    return padding;\n}\n\nexport function decode(data: string): Uint8Array {\n    if (data.length % 4 !== 0) {\n        throw new Error('invalid base64 data --- char count mismatch');\n    }\n\n    const nibbles = data.length / 4,\n        decodedSize = nibbles * 3 - getPadding(data),\n        decoded = new Uint8Array(decodedSize);\n\n    let idx = 0;\n\n    for (let i = 0; i < nibbles; i++) {\n        const nibble = decodeNibble(data, i * 4);\n\n        for (let j = 0; j < 3 && idx < decodedSize; j++) {\n            decoded[idx++] = (nibble >>> (8 * (2 - j))) & 0xff;\n        }\n    }\n\n    return decoded;\n}\n",
    "/*\n *   This file is part of 6502.ts, an emulator for 6502 based systems built\n *   in Typescript.\n *\n *   Copyright (C) 2014 - 2017 Christian Speckner & contributors\n *\n *   This program is free software; you can redistribute it and/or modify\n *   it under the terms of the GNU General Public License as published by\n *   the Free Software Foundation; either version 2 of the License, or\n *   (at your option) any later version.\n *\n *   This program is distributed in the hope that it will be useful,\n *   but WITHOUT ANY WARRANTY; without even the implied warranty of\n *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *   GNU General Public License for more details.\n *\n *   You should have received a copy of the GNU General Public License along\n *   with this program; if not, write to the Free Software Foundation, Inc.,\n *   51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n */\n\nexport function encode(value: number, width?: number): string {\n    let result = Math.abs(value).toString(2);\n\n    if (typeof width !== 'undefined') {\n        while (result.length < width) {\n            result = '0' + result;\n        }\n    }\n\n    return (value < 0 ? '-' : '') + '0b' + result;\n}\n",
    "/*\n *   This file is part of 6502.ts, an emulator for 6502 based systems built\n *   in Typescript.\n *\n *   Copyright (C) 2014 - 2017 Christian Speckner & contributors\n *\n *   This program is free software; you can redistribute it and/or modify\n *   it under the terms of the GNU General Public License as published by\n *   the Free Software Foundation; either version 2 of the License, or\n *   (at your option) any later version.\n *\n *   This program is distributed in the hope that it will be useful,\n *   but WITHOUT ANY WARRANTY; without even the implied warranty of\n *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *   GNU General Public License for more details.\n *\n *   You should have received a copy of the GNU General Public License along\n *   with this program; if not, write to the Free Software Foundation, Inc.,\n *   51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n */\n\nfunction encodeWithPrefix(value: number, width?: number, signed = true, prefix = ''): string {\n    if (!signed && value < 0) {\n        return (\n            encodeWithPrefix(value >>> 16, width && width > 8 ? width - 4 : 4, false, prefix) +\n            encodeWithPrefix(value & 0xffff, 4)\n        );\n    }\n\n    let result = Math.abs(value)\n        .toString(16)\n        .toUpperCase();\n\n    if (typeof width !== 'undefined') {\n        while (result.length < width) {\n            result = '0' + result;\n        }\n    }\n\n    return (value < 0 ? '-' : '') + prefix + result;\n}\n\nexport function encode(value: number, width?: number, signed = true): string {\n    return encodeWithPrefix(value, width, signed, '$');\n}\n\nexport function decode(value: string): number {\n    const sign = value.match(/^-/) ? -1 : 1;\n\n    let stripped = value.replace(/^-/, '').toUpperCase();\n\n    if (stripped.match(/^0X[0-9A-F]+$/)) {\n        stripped = stripped.replace(/^0x/, '');\n    } else if (stripped.match(/^\\$[0-9A-F]+$/)) {\n        stripped = stripped.replace(/^\\$/, '');\n    } else {\n        throw new TypeError('invalid hex number ' + value);\n    }\n\n    return sign * parseInt(stripped, 16);\n}\n",
    "/*\n *   This file is part of 6502.ts, an emulator for 6502 based systems built\n *   in Typescript.\n *\n *   Copyright (C) 2014 - 2017 Christian Speckner & contributors\n *\n *   This program is free software; you can redistribute it and/or modify\n *   it under the terms of the GNU General Public License as published by\n *   the Free Software Foundation; either version 2 of the License, or\n *   (at your option) any later version.\n *\n *   This program is distributed in the hope that it will be useful,\n *   but WITHOUT ANY WARRANTY; without even the implied warranty of\n *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *   GNU General Public License for more details.\n *\n *   You should have received a copy of the GNU General Public License along\n *   with this program; if not, write to the Free Software Foundation, Inc.,\n *   51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n */\n\nimport PoolMemberInterface from './PoolMemberInterface';\n\nclass InducedMember<T, U> implements PoolMemberInterface<U> {\n    constructor(\n        private _value: PoolMemberInterface<T>,\n        private _mapper: (value: T) => U,\n        private _adopter: (value: PoolMemberInterface<T>, target: U) => void\n    ) {}\n\n    adopt(target: U): void {\n        this._adopter(this._value, target);\n    }\n\n    get(): U {\n        return this._mapper(this._value.get());\n    }\n\n    release(): void {\n        this._value.release();\n    }\n\n    dispose(): void {\n        this._value.dispose();\n    }\n}\n\nexport default InducedMember;\n",
    "/*\n *   This file is part of 6502.ts, an emulator for 6502 based systems built\n *   in Typescript.\n *\n *   Copyright (C) 2014 - 2017 Christian Speckner & contributors\n *\n *   This program is free software; you can redistribute it and/or modify\n *   it under the terms of the GNU General Public License as published by\n *   the Free Software Foundation; either version 2 of the License, or\n *   (at your option) any later version.\n *\n *   This program is distributed in the hope that it will be useful,\n *   but WITHOUT ANY WARRANTY; without even the implied warranty of\n *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *   GNU General Public License for more details.\n *\n *   You should have received a copy of the GNU General Public License along\n *   with this program; if not, write to the Free Software Foundation, Inc.,\n *   51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n */\n\nimport InducedMember from './InducedMember';\nimport PoolMemberInterface from './PoolMemberInterface';\n\nclass InducedPool<T, U> {\n    constructor(\n        private _mapper: (value: T) => U,\n        private _adopter: (value: PoolMemberInterface<T>, target: U) => void = () => {\n            throw new Error('adopt is not supported');\n        }\n    ) {}\n\n    get(original: PoolMemberInterface<T>): InducedMember<T, U> {\n        if (!this._map.has(original)) {\n            this._map.set(original, new InducedMember(original, this._mapper, this._adopter));\n        }\n\n        return this._map.get(original);\n    }\n\n    private _map = new WeakMap<PoolMemberInterface<T>, InducedMember<T, U>>();\n}\n\nexport default InducedPool;\n",
    "/*\n *   This file is part of 6502.ts, an emulator for 6502 based systems built\n *   in Typescript.\n *\n *   Copyright (C) 2014 - 2017 Christian Speckner & contributors\n *\n *   This program is free software; you can redistribute it and/or modify\n *   it under the terms of the GNU General Public License as published by\n *   the Free Software Foundation; either version 2 of the License, or\n *   (at your option) any later version.\n *\n *   This program is distributed in the hope that it will be useful,\n *   but WITHOUT ANY WARRANTY; without even the implied warranty of\n *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *   GNU General Public License for more details.\n *\n *   You should have received a copy of the GNU General Public License along\n *   with this program; if not, write to the Free Software Foundation, Inc.,\n *   51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n */\n\nimport { Event } from 'microevent.ts';\n\nimport PoolMember from './PoolMember';\nimport PoolInterface from './PoolInterface';\n\nclass Pool<T> implements PoolInterface<T> {\n    constructor(private _factory: Pool.FactoryInterface<T>) {}\n\n    get(): PoolMember<T> {\n        let member: PoolMember<T>;\n\n        if (this._poolSize === 0) {\n            const newItem = this._factory();\n\n            member = new PoolMember<T>(\n                newItem,\n                (victim: PoolMember<T>) => this._releaseMember(victim),\n                (victim: PoolMember<T>) => this._disposeMember(victim)\n            );\n        } else {\n            member = this._pool[--this._poolSize];\n            member._isAvailable = false;\n        }\n\n        return member;\n    }\n\n    private _releaseMember(victim: PoolMember<T>) {\n        if (victim._isAvailable) {\n            throw new Error('Trying to release an already released pool member');\n        }\n\n        if (victim._isDisposed) {\n            throw new Error('Trying to release an already disposed pool member');\n        }\n\n        const position = this._poolSize++;\n\n        this._pool[position] = victim;\n\n        victim._isAvailable = true;\n        victim._poolPosition = position;\n\n        this.event.release.dispatch(victim.get());\n    }\n\n    private _disposeMember(victim: PoolMember<T>) {\n        if (victim._isDisposed) {\n            throw new Error('Trying to dispose of an already disposed pool member');\n        }\n\n        if (victim._isAvailable) {\n            if (this._poolSize > 1) {\n                this._pool[victim._poolPosition] = this._pool[this._poolSize - 1];\n            }\n\n            this._poolSize--;\n        }\n\n        victim._isDisposed = true;\n\n        this.event.dispose.dispatch(victim.get());\n    }\n\n    event = {\n        release: new Event<T>(),\n        dispose: new Event<T>()\n    };\n\n    private _pool: Array<PoolMember<T>> = [];\n\n    private _poolSize = 0;\n}\n\nnamespace Pool {\n    export interface FactoryInterface<T> {\n        (): T;\n    }\n\n    export interface RecycleCallbackInterface<T> {\n        (value: T): void;\n    }\n\n    export interface DisposeCallbackInterface<T> {\n        (value: T): void;\n    }\n}\n\nexport default Pool;\n",
    "/*\n *   This file is part of 6502.ts, an emulator for 6502 based systems built\n *   in Typescript.\n *\n *   Copyright (C) 2014 - 2017 Christian Speckner & contributors\n *\n *   This program is free software; you can redistribute it and/or modify\n *   it under the terms of the GNU General Public License as published by\n *   the Free Software Foundation; either version 2 of the License, or\n *   (at your option) any later version.\n *\n *   This program is distributed in the hope that it will be useful,\n *   but WITHOUT ANY WARRANTY; without even the implied warranty of\n *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *   GNU General Public License for more details.\n *\n *   You should have received a copy of the GNU General Public License along\n *   with this program; if not, write to the Free Software Foundation, Inc.,\n *   51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n */\n\nimport PoolMemberInterface from './PoolMemberInterface';\n\nclass PoolMember<T> implements PoolMemberInterface<T> {\n    constructor(\n        private _value: T,\n        private _releaseCB: (victim: PoolMember<T>) => void,\n        private _disposeCB: (victim: PoolMember<T>) => void\n    ) {}\n\n    adopt(target: T): void {\n        this._value = target;\n    }\n\n    get(): T {\n        return this._value;\n    }\n\n    release(): void {\n        this._releaseCB(this);\n    }\n\n    dispose(): void {\n        this._disposeCB(this);\n    }\n\n    public _isAvailable = false;\n    public _isDisposed = false;\n    public _poolPosition: number;\n}\n\nexport default PoolMember;\n",
    "/*\n *   This file is part of 6502.ts, an emulator for 6502 based systems built\n *   in Typescript.\n *\n *   Copyright (C) 2014 - 2017 Christian Speckner & contributors\n *\n *   This program is free software; you can redistribute it and/or modify\n *   it under the terms of the GNU General Public License as published by\n *   the Free Software Foundation; either version 2 of the License, or\n *   (at your option) any later version.\n *\n *   This program is distributed in the hope that it will be useful,\n *   but WITHOUT ANY WARRANTY; without even the implied warranty of\n *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *   GNU General Public License for more details.\n *\n *   You should have received a copy of the GNU General Public License along\n *   with this program; if not, write to the Free Software Foundation, Inc.,\n *   51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n */\n\nimport GeneratorInterface from './GeneratorInterface';\n\ninterface SeedrandomPrng {\n    quick(): number;\n    int32(): number;\n    double(): number;\n    state(): any;\n}\n\nclass SeedrandomGenerator implements GeneratorInterface {\n    constructor(private _rng: SeedrandomPrng) {}\n\n    single(): number {\n        return this._rng.quick();\n    }\n\n    double(): number {\n        return this._rng.double();\n    }\n\n    int32(): number {\n        return this._rng.int32();\n    }\n\n    int(max: number) {\n        return (this._rng.int32() >>> 0) % (max + 1);\n    }\n\n    saveState(): any {\n        return this._rng.state();\n    }\n}\n\nexport default SeedrandomGenerator;\n",
    "/*\n *   This file is part of 6502.ts, an emulator for 6502 based systems built\n *   in Typescript.\n *\n *   Copyright (C) 2014 - 2017 Christian Speckner & contributors\n *\n *   This program is free software; you can redistribute it and/or modify\n *   it under the terms of the GNU General Public License as published by\n *   the Free Software Foundation; either version 2 of the License, or\n *   (at your option) any later version.\n *\n *   This program is distributed in the hope that it will be useful,\n *   but WITHOUT ANY WARRANTY; without even the implied warranty of\n *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *   GNU General Public License for more details.\n *\n *   You should have received a copy of the GNU General Public License along\n *   with this program; if not, write to the Free Software Foundation, Inc.,\n *   51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n */\n\nimport * as seedrandom from 'seedrandom';\n\nimport GeneratorInterface from './GeneratorInterface';\nimport SeedrandomGenerator from './SeedrandomGenerator';\n\nexport function createRng(seed: number): GeneratorInterface {\n    if (seed < 0) {\n        seed = Math.random();\n    }\n\n    return new SeedrandomGenerator(\n        seedrandom.alea(seed as any, {\n            state: true\n        })\n    );\n}\n\nexport function restoreRng(state: any): GeneratorInterface {\n    return new SeedrandomGenerator(\n        seedrandom.alea('', {\n            state\n        })\n    );\n}\n",
    "/*\n *   This file is part of 6502.ts, an emulator for 6502 based systems built\n *   in Typescript.\n *\n *   Copyright (C) 2014 - 2017 Christian Speckner & contributors\n *\n *   This program is free software; you can redistribute it and/or modify\n *   it under the terms of the GNU General Public License as published by\n *   the Free Software Foundation; either version 2 of the License, or\n *   (at your option) any later version.\n *\n *   This program is distributed in the hope that it will be useful,\n *   but WITHOUT ANY WARRANTY; without even the implied warranty of\n *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *   GNU General Public License for more details.\n *\n *   You should have received a copy of the GNU General Public License along\n *   with this program; if not, write to the Free Software Foundation, Inc.,\n *   51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n */\n\nimport { setImmediate } from './setImmediate';\n\nimport SchedulerInterface from './SchedulerInterface';\nimport TaskInterface from './TaskInterface';\n\nclass ImmediateScheduler implements SchedulerInterface {\n    start<T>(worker: SchedulerInterface.WorkerInterface<T>, context?: T): TaskInterface {\n        let terminate = false;\n\n        function handler() {\n            if (terminate) {\n                return;\n            }\n\n            worker(context);\n            setImmediate(handler);\n        }\n\n        setImmediate(handler);\n\n        return {\n            stop: () => (terminate = true)\n        };\n    }\n}\n\nexport default ImmediateScheduler;\n",
    "/*\n *   This file is part of 6502.ts, an emulator for 6502 based systems built\n *   in Typescript.\n *\n *   Copyright (C) 2014 - 2017 Christian Speckner & contributors\n *\n *   This program is free software; you can redistribute it and/or modify\n *   it under the terms of the GNU General Public License as published by\n *   the Free Software Foundation; either version 2 of the License, or\n *   (at your option) any later version.\n *\n *   This program is distributed in the hope that it will be useful,\n *   but WITHOUT ANY WARRANTY; without even the implied warranty of\n *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *   GNU General Public License for more details.\n *\n *   You should have received a copy of the GNU General Public License along\n *   with this program; if not, write to the Free Software Foundation, Inc.,\n *   51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n */\n\nimport SchedulerInterface from './SchedulerInterface';\nimport TaskInterface from './TaskInterface';\n\nclass PeriodicScheduler implements SchedulerInterface {\n    constructor(private _period: number) {}\n\n    setPeriod(period: number): PeriodicScheduler {\n        this._period = period;\n\n        return this;\n    }\n\n    getPeriod(): number {\n        return this._period;\n    }\n\n    start<T>(worker: SchedulerInterface.WorkerInterface<T>, context?: T): TaskInterface {\n        let terminate = false;\n\n        const handler = () => {\n            if (terminate) {\n                return;\n            }\n\n            worker(context);\n\n            setTimeout(handler, this._period);\n        };\n\n        setTimeout(handler, this._period);\n\n        return {\n            stop: () => (terminate = true)\n        };\n    }\n}\n\nexport default PeriodicScheduler;\n",
    "/*\n *   This file is part of 6502.ts, an emulator for 6502 based systems built\n *   in Typescript.\n *\n *   Copyright (C) 2014 - 2017 Christian Speckner & contributors\n *\n *   This program is free software; you can redistribute it and/or modify\n *   it under the terms of the GNU General Public License as published by\n *   the Free Software Foundation; either version 2 of the License, or\n *   (at your option) any later version.\n *\n *   This program is distributed in the hope that it will be useful,\n *   but WITHOUT ANY WARRANTY; without even the implied warranty of\n *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *   GNU General Public License for more details.\n *\n *   You should have received a copy of the GNU General Public License along\n *   with this program; if not, write to the Free Software Foundation, Inc.,\n *   51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n */\n\nconst getTimestamp =\n    (self as any).performance && (self as any).performance.now\n        ? () => (self as any).performance.now()\n        : () => Date.now();\n\nexport default getTimestamp;\n",
    "/*\n *   This file is part of 6502.ts, an emulator for 6502 based systems built\n *   in Typescript.\n *\n *   Copyright (C) 2014 - 2017 Christian Speckner & contributors\n *\n *   This program is free software; you can redistribute it and/or modify\n *   it under the terms of the GNU General Public License as published by\n *   the Free Software Foundation; either version 2 of the License, or\n *   (at your option) any later version.\n *\n *   This program is distributed in the hope that it will be useful,\n *   but WITHOUT ANY WARRANTY; without even the implied warranty of\n *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *   GNU General Public License for more details.\n *\n *   You should have received a copy of the GNU General Public License along\n *   with this program; if not, write to the Free Software Foundation, Inc.,\n *   51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n */\n\nimport SchedulerInterface from '../SchedulerInterface';\nimport TaskInterface from '../TaskInterface';\nimport getTimestamp from '../getTimestamp';\nimport { setImmediate } from '../setImmediate';\n\nconst CORRECTION_THESHOLD = 3,\n    MAX_ACCUMULATED_DELTA = 100;\n\nclass ConstantCyclesScheduler implements SchedulerInterface {\n    start<T>(worker: SchedulerInterface.WorkerInterface<T>, context?: T): TaskInterface {\n        let terminate = false,\n            targetSleepInterval = -1,\n            lastYieldTimestamp = 0,\n            accumulatedDelta = 0;\n\n        function handler() {\n            if (terminate) {\n                return;\n            }\n\n            const timestamp0 = getTimestamp(),\n                targetDuration = worker(context) || 0,\n                timestamp1 = getTimestamp();\n\n            let delay = targetDuration - timestamp1 + timestamp0;\n\n            if (targetSleepInterval >= 0) {\n                accumulatedDelta += targetSleepInterval - timestamp0 + lastYieldTimestamp;\n            }\n\n            if (accumulatedDelta > MAX_ACCUMULATED_DELTA) {\n                accumulatedDelta = MAX_ACCUMULATED_DELTA;\n            } else if (accumulatedDelta < -MAX_ACCUMULATED_DELTA) {\n                accumulatedDelta = -MAX_ACCUMULATED_DELTA;\n            }\n\n            if (Math.abs(accumulatedDelta) > CORRECTION_THESHOLD) {\n                delay += accumulatedDelta;\n                accumulatedDelta = 0;\n            }\n\n            if (delay < 0) {\n                delay = 0;\n                accumulatedDelta = delay;\n            }\n\n            if (delay > 0) {\n                setTimeout(handler, Math.round(delay));\n            } else {\n                setImmediate(handler);\n            }\n\n            targetSleepInterval = delay;\n            lastYieldTimestamp = getTimestamp();\n        }\n\n        setImmediate(handler);\n\n        return {\n            stop: () => (terminate = true)\n        };\n    }\n}\n\nexport default ConstantCyclesScheduler;\n",
    "/*\n *   This file is part of 6502.ts, an emulator for 6502 based systems built\n *   in Typescript.\n *\n *   Copyright (C) 2014 - 2017 Christian Speckner & contributors\n *\n *   This program is free software; you can redistribute it and/or modify\n *   it under the terms of the GNU General Public License as published by\n *   the Free Software Foundation; either version 2 of the License, or\n *   (at your option) any later version.\n *\n *   This program is distributed in the hope that it will be useful,\n *   but WITHOUT ANY WARRANTY; without even the implied warranty of\n *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *   GNU General Public License for more details.\n *\n *   You should have received a copy of the GNU General Public License along\n *   with this program; if not, write to the Free Software Foundation, Inc.,\n *   51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n */\n\nimport SchedulerInterface from '../SchedulerInterface';\nimport TaskInterface from '../TaskInterface';\nimport getTimestamp from '../getTimestamp';\nimport { setImmediate } from '../setImmediate';\n\nconst SAFETY_FACTOR = 3;\n\nclass ConstantTimesliceScheduler implements SchedulerInterface {\n    start<T>(worker: SchedulerInterface.WorkerInterface<T>, context?: T, _timeSlice?: number): TaskInterface {\n        const timeSlice = _timeSlice || 100;\n\n        let timestamp0 = getTimestamp(),\n            emulationTime = 0,\n            running = true;\n\n        function handler() {\n            if (!running) {\n                return;\n            }\n\n            const timestamp = getTimestamp();\n            let delta = timestamp - timestamp0 - emulationTime;\n\n            if (delta > SAFETY_FACTOR * timeSlice) {\n                delta = SAFETY_FACTOR * timeSlice;\n                timestamp0 = timestamp - delta;\n                emulationTime = 0;\n            }\n\n            emulationTime += worker(context, delta) as number;\n\n            const timeToSleep = timeSlice - getTimestamp() + timestamp;\n\n            if (timeToSleep > 0) {\n                setTimeout(handler, timeToSleep);\n            } else {\n                setImmediate(handler);\n            }\n        }\n\n        setImmediate(handler);\n\n        return { stop: () => (running = false) };\n    }\n}\n\nexport default ConstantTimesliceScheduler;\n",
    "/*\n *   This file is part of 6502.ts, an emulator for 6502 based systems built\n *   in Typescript.\n *\n *   Copyright (C) 2014 - 2017 Christian Speckner & contributors\n *\n *   This program is free software; you can redistribute it and/or modify\n *   it under the terms of the GNU General Public License as published by\n *   the Free Software Foundation; either version 2 of the License, or\n *   (at your option) any later version.\n *\n *   This program is distributed in the hope that it will be useful,\n *   but WITHOUT ANY WARRANTY; without even the implied warranty of\n *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *   GNU General Public License for more details.\n *\n *   You should have received a copy of the GNU General Public License along\n *   with this program; if not, write to the Free Software Foundation, Inc.,\n *   51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n */\n\nimport * as polyfill from 'setimmediate2';\n\n// Make sure that setTimeout is called every now and then in order to work around\n// scheduling issues in chrome.\n\nconst enum CONST {\n    setTimeoutRecurrence = 10\n}\n\nlet index = 0;\n\nexport function setImmediate(callback: () => void) {\n    if (index === 0) {\n        setTimeout(callback, 0);\n    } else {\n        polyfill.setImmediate(callback);\n    }\n\n    index = (index + 1) % CONST.setTimeoutRecurrence;\n}\n",
    "/*\n *   This file is part of 6502.ts, an emulator for 6502 based systems built\n *   in Typescript.\n *\n *   Copyright (C) 2014 - 2017 Christian Speckner & contributors\n *\n *   This program is free software; you can redistribute it and/or modify\n *   it under the terms of the GNU General Public License as published by\n *   the Free Software Foundation; either version 2 of the License, or\n *   (at your option) any later version.\n *\n *   This program is distributed in the hope that it will be useful,\n *   but WITHOUT ANY WARRANTY; without even the implied warranty of\n *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *   GNU General Public License for more details.\n *\n *   You should have received a copy of the GNU General Public License along\n *   with this program; if not, write to the Free Software Foundation, Inc.,\n *   51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n */\n\nimport { Event } from 'microevent.ts';\n\nimport ProcessorInterface from './ProcessorInterface';\nimport RGBASurfaceInterface from '../surface/RGBASurfaceInterface';\nimport PoolMemberInterface from '../../tools/pool/PoolMemberInterface';\n\nclass FrameMergeProcessor implements ProcessorInterface {\n    init(width: number, height: number) {\n        this.flush();\n\n        this._width = width;\n        this._height = height;\n    }\n\n    flush(): void {\n        for (let i = 0; i < this._nFramesOnHold; i++) {\n            this._framesOnHold[i].release();\n            this._framesOnHold[i] = null;\n        }\n\n        this._nFramesOnHold = 0;\n    }\n\n    processSurface(wrappedSurface: PoolMemberInterface<RGBASurfaceInterface>): void {\n        const surface = wrappedSurface.get();\n\n        if (surface.getHeight() !== this._height || surface.getWidth() !== this._width) {\n            throw new Error('surface dimensions do not match');\n        }\n\n        this._framesOnHold[this._nFramesOnHold++] = wrappedSurface;\n\n        if (this._nFramesOnHold === 2) {\n            this._process();\n        }\n    }\n\n    private _process(): void {\n        const buffer0 = this._framesOnHold[0].get().getBuffer(),\n            buffer1 = this._framesOnHold[1].get().getBuffer();\n\n        for (let i = 0; i < this._width * this._height; i++) {\n            buffer0[i] =\n                0xff000000 |\n                ((((buffer0[i] & 0xff0000) + (buffer1[i] & 0xff0000)) >>> 1) & 0xff0000) |\n                ((((buffer0[i] & 0xff00) + (buffer1[i] & 0xff00)) >>> 1) & 0xff00) |\n                ((((buffer0[i] & 0xff) + (buffer1[i] & 0xff)) >>> 1) & 0xff);\n        }\n\n        this.emit.dispatch(this._framesOnHold[0]);\n        this._framesOnHold[1].release();\n\n        this._nFramesOnHold = 0;\n    }\n\n    emit = new Event<PoolMemberInterface<RGBASurfaceInterface>>();\n\n    private _framesOnHold = new Array<PoolMemberInterface<RGBASurfaceInterface>>(2);\n    private _nFramesOnHold = 0;\n\n    private _width = 0;\n    private _height = 0;\n}\n\nexport default FrameMergeProcessor;\n",
    "/*\n *   This file is part of 6502.ts, an emulator for 6502 based systems built\n *   in Typescript.\n *\n *   Copyright (C) 2014 - 2017 Christian Speckner & contributors\n *\n *   This program is free software; you can redistribute it and/or modify\n *   it under the terms of the GNU General Public License as published by\n *   the Free Software Foundation; either version 2 of the License, or\n *   (at your option) any later version.\n *\n *   This program is distributed in the hope that it will be useful,\n *   but WITHOUT ANY WARRANTY; without even the implied warranty of\n *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *   GNU General Public License for more details.\n *\n *   You should have received a copy of the GNU General Public License along\n *   with this program; if not, write to the Free Software Foundation, Inc.,\n *   51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n */\n\nimport { Event } from 'microevent.ts';\n\nimport RGBASurfaceInterface from '../surface/RGBASurfaceInterface';\nimport PoolMemberInterface from '../../tools/pool/PoolMemberInterface';\nimport ProcessorInterface from './ProcessorInterface';\n\nclass PassthroughProcessor implements ProcessorInterface {\n    init(): void {}\n\n    flush(): void {}\n\n    processSurface(surface: PoolMemberInterface<RGBASurfaceInterface>): void {\n        this.emit.dispatch(surface);\n    }\n\n    emit = new Event<PoolMemberInterface<RGBASurfaceInterface>>();\n}\n\nexport default PassthroughProcessor;\n",
    "/*\n *   This file is part of 6502.ts, an emulator for 6502 based systems built\n *   in Typescript.\n *\n *   Copyright (C) 2014 - 2017 Christian Speckner & contributors\n *\n *   This program is free software; you can redistribute it and/or modify\n *   it under the terms of the GNU General Public License as published by\n *   the Free Software Foundation; either version 2 of the License, or\n *   (at your option) any later version.\n *\n *   This program is distributed in the hope that it will be useful,\n *   but WITHOUT ANY WARRANTY; without even the implied warranty of\n *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *   GNU General Public License for more details.\n *\n *   You should have received a copy of the GNU General Public License along\n *   with this program; if not, write to the Free Software Foundation, Inc.,\n *   51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n */\n\nimport ProcessorInterface from './ProcessorInterface';\nimport * as Config from './config';\n\nimport PassthroughProcessor from './PassthroughProcessor';\nimport FrameMergeProcessor from './FrameMergeProcessor';\n\nclass ProcessorFactory {\n    create(config: Config.ProcessorConfig): ProcessorInterface {\n        switch (config.type) {\n            case Config.Type.passthrough:\n                return new PassthroughProcessor();\n\n            case Config.Type.merge:\n                return new FrameMergeProcessor();\n\n            default:\n                throw new Error('cannot happen: invalid processor type');\n        }\n    }\n}\n\nexport default ProcessorFactory;\n",
    "/*\n *   This file is part of 6502.ts, an emulator for 6502 based systems built\n *   in Typescript.\n *\n *   Copyright (C) 2014 - 2017 Christian Speckner & contributors\n *\n *   This program is free software; you can redistribute it and/or modify\n *   it under the terms of the GNU General Public License as published by\n *   the Free Software Foundation; either version 2 of the License, or\n *   (at your option) any later version.\n *\n *   This program is distributed in the hope that it will be useful,\n *   but WITHOUT ANY WARRANTY; without even the implied warranty of\n *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *   GNU General Public License for more details.\n *\n *   You should have received a copy of the GNU General Public License along\n *   with this program; if not, write to the Free Software Foundation, Inc.,\n *   51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n */\n\nimport { EventInterface } from 'microevent.ts';\n\nimport RGBASurfaceInterface from '../surface/RGBASurfaceInterface';\nimport PoolMemberInterface from '../../tools/pool/PoolMemberInterface';\nimport ProcessorInterface from './ProcessorInterface';\nimport ProcessorFactory from './ProcessorFactory';\nimport { ProcessorConfig, Type } from './config';\n\nclass ProcessorPipeline implements ProcessorInterface {\n    constructor(config?: Array<ProcessorConfig>) {\n        if (!config || config.length === 0) {\n            config = [{ type: Type.passthrough }];\n        }\n\n        const factory = new ProcessorFactory();\n\n        this._processors = config.map(cfg => factory.create(cfg));\n\n        for (let i = 1; i < this._processors.length; i++) {\n            this._processors[i - 1].emit.addHandler(surface => this._processors[i].processSurface(surface));\n        }\n\n        this.emit = this._processors[this._processors.length - 1].emit;\n    }\n\n    init(width: number, height: number): void {\n        this._processors.forEach(prc => prc.init(width, height));\n    }\n\n    flush(): void {\n        this._processors.forEach(prc => prc.flush());\n    }\n\n    processSurface(surface: PoolMemberInterface<RGBASurfaceInterface>): void {\n        this._processors[0].processSurface(surface);\n    }\n\n    emit: EventInterface<PoolMemberInterface<RGBASurfaceInterface>>;\n\n    private _processors: Array<ProcessorInterface>;\n}\n\nexport default ProcessorPipeline;\n",
    "/*\n *   This file is part of 6502.ts, an emulator for 6502 based systems built\n *   in Typescript.\n *\n *   Copyright (C) 2014 - 2017 Christian Speckner & contributors\n *\n *   This program is free software; you can redistribute it and/or modify\n *   it under the terms of the GNU General Public License as published by\n *   the Free Software Foundation; either version 2 of the License, or\n *   (at your option) any later version.\n *\n *   This program is distributed in the hope that it will be useful,\n *   but WITHOUT ANY WARRANTY; without even the implied warranty of\n *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *   GNU General Public License for more details.\n *\n *   You should have received a copy of the GNU General Public License along\n *   with this program; if not, write to the Free Software Foundation, Inc.,\n *   51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n */\n\nimport RGBASurfaceInterface from './RGBASurfaceInterface';\n\nclass ArrayBufferSurface implements RGBASurfaceInterface {\n    static createFromArrayBuffer(width: number, height: number, buffer: ArrayBuffer): ArrayBufferSurface {\n        return new ArrayBufferSurface().replaceUnderlyingBuffer(width, height, buffer);\n    }\n\n    replaceUnderlyingBuffer(width: number, height: number, buffer: ArrayBuffer): ArrayBufferSurface {\n        if (width * height * 4 !== buffer.byteLength) {\n            throw new Error('surface size mismatch');\n        }\n\n        this._width = width;\n        this._height = height;\n        this._underlyingBuffer = buffer;\n\n        this._buffer = new Uint32Array(this._underlyingBuffer);\n\n        return this;\n    }\n\n    getUnderlyingBuffer(): ArrayBuffer {\n        return this._underlyingBuffer;\n    }\n\n    resetUnderlyingBuffer(): ArrayBufferSurface {\n        this._width = this._height = 0;\n        this._underlyingBuffer = this._buffer = null;\n\n        return this;\n    }\n\n    getWidth(): number {\n        return this._width;\n    }\n\n    getHeight(): number {\n        return this._height;\n    }\n\n    getBuffer(): Uint32Array {\n        return this._buffer;\n    }\n\n    getByteOrder(): RGBASurfaceInterface.ByteOrder {\n        return RGBASurfaceInterface.ByteOrder.rgba;\n    }\n\n    fill(value: number): this {\n        for (let i = 0; i < this._buffer.length; i++) {\n            this._buffer[i] = value;\n        }\n\n        return this;\n    }\n\n    private _height = 0;\n    private _width = 0;\n    private _underlyingBuffer: ArrayBuffer;\n\n    private _buffer: Uint32Array = null;\n}\n\nexport default ArrayBufferSurface;\n",
    "/*\n *   This file is part of 6502.ts, an emulator for 6502 based systems built\n *   in Typescript.\n *\n *   Copyright (C) 2014 - 2017 Christian Speckner & contributors\n *\n *   This program is free software; you can redistribute it and/or modify\n *   it under the terms of the GNU General Public License as published by\n *   the Free Software Foundation; either version 2 of the License, or\n *   (at your option) any later version.\n *\n *   This program is distributed in the hope that it will be useful,\n *   but WITHOUT ANY WARRANTY; without even the implied warranty of\n *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *   GNU General Public License for more details.\n *\n *   You should have received a copy of the GNU General Public License along\n *   with this program; if not, write to the Free Software Foundation, Inc.,\n *   51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n */\n\nimport * as screenfull from 'screenfull';\nimport VideoDriver from './VideoDriverInterface';\n\nexport default class FullscreenVideoDriver {\n    constructor(private _videoDriver: VideoDriver) {}\n\n    engage(): void {\n        if (this._engaged) {\n            return;\n        }\n\n        this._engaged = true;\n\n        screenfull.on('change', this._changeListener);\n        screenfull.request(this._videoDriver.getCanvas());\n    }\n\n    disengage(): void {\n        if (!this._engaged) {\n            return;\n        }\n\n        screenfull.exit();\n    }\n\n    toggle(): void {\n        if (this._engaged) {\n            this.disengage();\n        } else {\n            this.engage();\n        }\n    }\n\n    isEngaged(): boolean {\n        return this._engaged;\n    }\n\n    private _onChange(): void {\n        if (screenfull.isFullscreen) {\n            window.addEventListener('resize', this._resizeListener);\n            this._adjustSizeForFullscreen();\n        } else {\n            this._resetSize();\n            window.removeEventListener('resize', this._resizeListener);\n            screenfull.off('change', this._changeListener);\n\n            this._engaged = false;\n        }\n    }\n\n    private _resetSize() {\n        const element = this._videoDriver.getCanvas();\n\n        element.style.width = '';\n        element.style.height = '';\n\n        setTimeout(() => this._videoDriver.resize(), 0);\n    }\n\n    private _adjustSizeForFullscreen() {\n        const element = this._videoDriver.getCanvas();\n\n        this._videoDriver.resize(window.innerWidth, window.innerHeight);\n        element.style.width = window.innerWidth + 'px';\n        element.style.height = window.innerHeight + 'px';\n    }\n\n    private _resizeListener: () => void = this._adjustSizeForFullscreen.bind(this);\n\n    private _changeListener: () => void = this._onChange.bind(this);\n\n    private _engaged = false;\n}\n",
    "/*\n *   This file is part of 6502.ts, an emulator for 6502 based systems built\n *   in Typescript.\n *\n *   Copyright (C) 2014 - 2017 Christian Speckner & contributors\n *\n *   This program is free software; you can redistribute it and/or modify\n *   it under the terms of the GNU General Public License as published by\n *   the Free Software Foundation; either version 2 of the License, or\n *   (at your option) any later version.\n *\n *   This program is distributed in the hope that it will be useful,\n *   but WITHOUT ANY WARRANTY; without even the implied warranty of\n *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *   GNU General Public License for more details.\n *\n *   You should have received a copy of the GNU General Public License along\n *   with this program; if not, write to the Free Software Foundation, Inc.,\n *   51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n */\n\nimport PaddleInterface from '../../machine/io/PaddleInterface';\n\nexport default class MouseAsPaddleDriver {\n    bind(paddle: PaddleInterface): void {\n        if (this._paddle) {\n            return;\n        }\n\n        this._paddle = paddle;\n        this._x = -1;\n\n        document.addEventListener('mousemove', this._listener);\n    }\n\n    unbind(): void {\n        if (!this._paddle) {\n            return;\n        }\n\n        document.removeEventListener('mousemove', this._listener);\n        this._paddle = null;\n    }\n\n    private _onDocumentMouseMove(e: MouseEvent) {\n        if (this._x >= 0) {\n            const dx = e.screenX - this._x;\n            let value = this._paddle.getValue();\n\n            value += -dx / window.innerWidth / 0.9;\n            if (value < 0) {\n                value = 0;\n            }\n            if (value > 1) {\n                value = 1;\n            }\n\n            this._paddle.setValue(value);\n        }\n\n        this._x = e.screenX;\n    }\n\n    private _paddle: PaddleInterface;\n    private _x = -1;\n    private _listener: (e: MouseEvent) => void = this._onDocumentMouseMove.bind(this);\n}\n",
    "/*\n *   This file is part of 6502.ts, an emulator for 6502 based systems built\n *   in Typescript.\n *\n *   Copyright (C) 2014 - 2017 Christian Speckner & contributors\n *\n *   This program is free software; you can redistribute it and/or modify\n *   it under the terms of the GNU General Public License as published by\n *   the Free Software Foundation; either version 2 of the License, or\n *   (at your option) any later version.\n *\n *   This program is distributed in the hope that it will be useful,\n *   but WITHOUT ANY WARRANTY; without even the implied warranty of\n *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *   GNU General Public License for more details.\n *\n *   You should have received a copy of the GNU General Public License along\n *   with this program; if not, write to the Free Software Foundation, Inc.,\n *   51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n */\n\nimport { Event } from 'microevent.ts';\n\nimport Pool from '../../tools/pool/Pool';\nimport InducedPool from '../../tools/pool/InducedPool';\nimport PoolMemberInterface from '../../tools/pool/PoolMemberInterface';\nimport PCMAudioEndpointInterface from './PCMAudioEndpointInterface';\nimport PCMAudioOutputInterface from '../../machine/io/PCMAudioOutputInterface';\nimport AudioOutputBuffer from '../../tools/AudioOutputBuffer';\n\nclass PCMAudioEndpoint implements PCMAudioEndpointInterface {\n    constructor(private _output: PCMAudioOutputInterface) {\n        this._output.newFrame.addHandler((buffer: AudioOutputBuffer) =>\n            this.newFrame.dispatch(this._pcmDataPool.get(this._audioBufferMap.get(buffer)))\n        );\n\n        this._output.togglePause.addHandler((paused: boolean) => this.togglePause.dispatch(paused));\n\n        this._output.setFrameBufferFactory(() => {\n            const wrappedBuffer = this._audioBufferPool.get();\n\n            if (!this._audioBufferMap.has(wrappedBuffer.get())) {\n                this._audioBufferMap.set(wrappedBuffer.get(), wrappedBuffer);\n            }\n\n            return wrappedBuffer.get();\n        });\n    }\n\n    getSampleRate(): number {\n        return this._output.getSampleRate();\n    }\n\n    getFrameSize(): number {\n        return this._output.getFrameSize();\n    }\n\n    isPaused(): boolean {\n        return this._output.isPaused();\n    }\n\n    newFrame = new Event<PoolMemberInterface<Float32Array>>();\n\n    togglePause = new Event<boolean>();\n\n    private _audioBufferPool = new Pool<AudioOutputBuffer>(\n        () => new AudioOutputBuffer(new Float32Array(this.getFrameSize()), this.getSampleRate())\n    );\n\n    private _audioBufferMap = new WeakMap<AudioOutputBuffer, PoolMemberInterface<AudioOutputBuffer>>();\n\n    private _pcmDataPool = new InducedPool(\n        (buffer: AudioOutputBuffer) => buffer.getContent(),\n        (value: PoolMemberInterface<AudioOutputBuffer>, target: Float32Array) =>\n            value.get().replaceUnderlyingBuffer(target)\n    );\n}\n\nexport default PCMAudioEndpoint;\n",
    "/*\n *   This file is part of 6502.ts, an emulator for 6502 based systems built\n *   in Typescript.\n *\n *   Copyright (C) 2014 - 2017 Christian Speckner & contributors\n *\n *   This program is free software; you can redistribute it and/or modify\n *   it under the terms of the GNU General Public License as published by\n *   the Free Software Foundation; either version 2 of the License, or\n *   (at your option) any later version.\n *\n *   This program is distributed in the hope that it will be useful,\n *   but WITHOUT ANY WARRANTY; without even the implied warranty of\n *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *   GNU General Public License for more details.\n *\n *   You should have received a copy of the GNU General Public License along\n *   with this program; if not, write to the Free Software Foundation, Inc.,\n *   51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n */\n\nimport VideoEndpointInterface from './VideoEndpointInterface';\nimport PoolMemberInterface from '../../tools/pool/PoolMemberInterface';\nimport VideoDriverInterface from './VideoDriverInterface';\n\nconst SMOOTHING_PROPS = [\n    'imageSmoothingEnabled',\n    'mozImageSmoothingEnabled',\n    'webkitImageSmoothingEnabled',\n    'msImageSmoothingEnabled'\n];\n\nconst INITIAL_RENDER_CANVAS_SIZE = 100;\n\nexport default class SimpleCanvasVideo implements VideoDriverInterface {\n    constructor(private _canvas: HTMLCanvasElement, private _aspect = 4 / 3) {\n        this._context = this._canvas.getContext('2d');\n\n        this._renderCanvas = document.createElement('canvas');\n        this._renderCanvas.width = this._renderCanvas.height = INITIAL_RENDER_CANVAS_SIZE;\n        this._renderContext = this._renderCanvas.getContext('2d');\n    }\n\n    resize(width?: number, height?: number): this {\n        if (typeof width === 'undefined' || typeof height === 'undefined') {\n            width = this._canvas.clientWidth;\n            height = this._canvas.clientHeight;\n        }\n\n        this._canvas.width = width;\n        this._canvas.height = height;\n\n        this._clearCanvas();\n        this._recalculateBlittingMetrics();\n        this._applyInterpolationSettings();\n\n        if (this._video) {\n            this._blitToCanvas();\n        }\n\n        return this;\n    }\n\n    init(): this {\n        this.enableInterpolation(true);\n        this._clearRenderCanvas();\n        this.resize();\n\n        return this;\n    }\n\n    close(): this {\n        return this;\n    }\n\n    enableSyncRendering(syncRendering: boolean): this {\n        if (syncRendering === this._syncRendering) {\n            return this;\n        }\n\n        this._cancelPendingFrame();\n\n        this._syncRendering = syncRendering;\n\n        return this;\n    }\n\n    syncRenderingEnabled(): boolean {\n        return this._syncRendering;\n    }\n\n    bind(video: VideoEndpointInterface): this {\n        if (this._video) {\n            return this;\n        }\n\n        this._video = video;\n\n        this._videoWidth = this._renderCanvas.width = this._video.getWidth();\n        this._videoHeight = this._renderCanvas.height = this._video.getHeight();\n\n        this.resize();\n        this._clearRenderCanvas();\n\n        this._video.newFrame.addHandler(SimpleCanvasVideo._frameHandler, this);\n\n        return this;\n    }\n\n    unbind(): this {\n        if (!this._video) {\n            return this;\n        }\n\n        this._video.newFrame.removeHandler(SimpleCanvasVideo._frameHandler, this);\n        this._video = null;\n\n        this._cancelPendingFrame();\n        this._clearCanvas();\n\n        return this;\n    }\n\n    enableInterpolation(enable: boolean): this {\n        if (this._interpolate === enable) {\n            return this;\n        }\n\n        this._interpolate = enable;\n\n        this._applyInterpolationSettings();\n\n        return this;\n    }\n\n    interpolationEnabled(): boolean {\n        return this._interpolate;\n    }\n\n    getCanvas(): HTMLCanvasElement {\n        return this._canvas;\n    }\n\n    private static _frameHandler(imageDataPoolMember: PoolMemberInterface<ImageData>, self: SimpleCanvasVideo): void {\n        if (self._pendingFrame) {\n            self._pendingFrame.release();\n        }\n\n        self._pendingFrame = imageDataPoolMember;\n\n        if (self._syncRendering) {\n            if (!self._animationFrameHandle) {\n                self._scheduleDraw();\n            }\n        } else {\n            self._draw();\n        }\n    }\n\n    private _clearCanvas(): void {\n        this._context.fillStyle = 'solid black';\n        this._context.fillRect(0, 0, this._canvas.width, this._canvas.height);\n    }\n\n    private _clearRenderCanvas(): void {\n        this._renderContext.fillStyle = 'solid black';\n        this._renderContext.fillRect(0, 0, this._renderCanvas.width, this._renderCanvas.height);\n    }\n\n    private _draw(): void {\n        this._blitToRenderCanvas();\n        this._blitToCanvas();\n\n        this._pendingFrame.release();\n        this._pendingFrame = null;\n    }\n\n    private _blitToRenderCanvas(): void {\n        this._renderContext.putImageData(this._pendingFrame.get(), 0, 0);\n    }\n\n    private _blitToCanvas(): void {\n        this._context.drawImage(\n            this._renderCanvas,\n            0,\n            0,\n            this._videoWidth,\n            this._videoHeight,\n            this._renderX,\n            this._renderY,\n            this._renderWidth,\n            this._renderHeight\n        );\n    }\n\n    private _scheduleDraw(): void {\n        if (!this._animationFrameHandle) {\n            this._animationFrameHandle = requestAnimationFrame(() => {\n                this._draw();\n                this._animationFrameHandle = 0;\n            });\n        }\n    }\n\n    private _cancelPendingFrame(): void {\n        if (this._animationFrameHandle) {\n            cancelAnimationFrame(this._animationFrameHandle);\n            this._animationFrameHandle = 0;\n        }\n\n        if (this._pendingFrame) {\n            this._pendingFrame.release();\n            this._pendingFrame = null;\n        }\n    }\n\n    private _recalculateBlittingMetrics(): void {\n        const targetWidth = this._canvas.width,\n            targetHeight = this._canvas.height;\n\n        if (this._aspect * targetHeight <= targetWidth) {\n            this._renderHeight = targetHeight;\n            this._renderWidth = this._aspect * targetHeight;\n            this._renderY = 0;\n            this._renderX = Math.floor((targetWidth - this._renderWidth) / 2);\n        } else {\n            this._renderHeight = targetWidth / this._aspect;\n            this._renderWidth = targetWidth;\n            this._renderY = Math.floor((targetHeight - this._renderHeight) / 2);\n            this._renderX = 0;\n        }\n    }\n\n    private _applyInterpolationSettings(): void {\n        for (const prop of SMOOTHING_PROPS) {\n            (this._context as any)[prop] = this._interpolate;\n        }\n    }\n\n    private _syncRendering = true;\n    private _animationFrameHandle = 0;\n    private _pendingFrame: PoolMemberInterface<ImageData> = null;\n\n    private _context: CanvasRenderingContext2D;\n    private _video: VideoEndpointInterface = null;\n\n    private _renderCanvas: HTMLCanvasElement;\n    private _renderContext: CanvasRenderingContext2D;\n\n    private _interpolate = true;\n\n    private _renderX: number;\n    private _renderY: number;\n    private _renderWidth: number;\n    private _renderHeight: number;\n\n    private _videoWidth: number;\n    private _videoHeight: number;\n}\n",
    "/*\n *   This file is part of 6502.ts, an emulator for 6502 based systems built\n *   in Typescript.\n *\n *   Copyright (C) 2014 - 2017 Christian Speckner & contributors\n *\n *   This program is free software; you can redistribute it and/or modify\n *   it under the terms of the GNU General Public License as published by\n *   the Free Software Foundation; either version 2 of the License, or\n *   (at your option) any later version.\n *\n *   This program is distributed in the hope that it will be useful,\n *   but WITHOUT ANY WARRANTY; without even the implied warranty of\n *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *   GNU General Public License for more details.\n *\n *   You should have received a copy of the GNU General Public License along\n *   with this program; if not, write to the Free Software Foundation, Inc.,\n *   51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n */\n\nimport { Event } from 'microevent.ts';\n\nimport VideoOutputInterface from '../..//machine/io/VideoOutputInterface';\nimport ObjectPool from '../../tools/pool/Pool';\nimport PoolMemberInterface from '../../tools/pool/PoolMemberInterface';\nimport ArrayBufferSurface from '../../video/surface/ArrayBufferSurface';\nimport RGBASurfaceInterface from '../../video/surface/RGBASurfaceInterface';\nimport VideoEndpointInterface from '../driver/VideoEndpointInterface';\nimport InducedPool from '../../tools/pool/InducedPool';\n\nimport VideoProcessorPipeline from '../../video/processing/ProcessorPipeline';\nimport * as VideoProcessorConfig from '../../video/processing/config';\nimport VideoProcessorInterface from '../../video/processing/ProcessorInterface';\n\nclass VideoEndpoint implements VideoEndpointInterface {\n    constructor(private _video: VideoOutputInterface, videoProcessing?: Array<VideoProcessorConfig.ProcessorConfig>) {\n        this._videoProcessor = new VideoProcessorPipeline(videoProcessing);\n        this._videoProcessor.init(this._video.getWidth(), this._video.getHeight());\n\n        this._pool = new ObjectPool<ImageData>(() => new ImageData(this._video.getWidth(), this._video.getHeight()));\n\n        this._video.setSurfaceFactory((): RGBASurfaceInterface => {\n            const poolMember = this._pool.get(),\n                imageData = poolMember.get();\n\n            if (!this._surfaces.has(imageData)) {\n                const newSurface = ArrayBufferSurface.createFromArrayBuffer(\n                    imageData.width,\n                    imageData.height,\n                    imageData.data.buffer\n                );\n\n                this._surfaces.set(imageData, newSurface.fill(0xff000000));\n            }\n\n            const surface = this._surfaces.get(imageData);\n\n            this._poolMembers.set(surface, poolMember);\n\n            return surface;\n        });\n\n        this._video.newFrame.addHandler(imageData =>\n            this._videoProcessor.processSurface(this._surfacePool.get(this._poolMembers.get(imageData)))\n        );\n\n        this._videoProcessor.emit.addHandler(wrappedSurface =>\n            this.newFrame.dispatch(this._poolMembers.get(wrappedSurface.get()))\n        );\n    }\n\n    getWidth(): number {\n        return this._video.getWidth();\n    }\n\n    getHeight(): number {\n        return this._video.getHeight();\n    }\n\n    newFrame = new Event<PoolMemberInterface<ImageData>>();\n\n    private _pool: ObjectPool<ImageData>;\n    private _poolMembers = new WeakMap<RGBASurfaceInterface, PoolMemberInterface<ImageData>>();\n    private _surfaces = new WeakMap<ImageData, RGBASurfaceInterface>();\n    private _surfacePool = new InducedPool<ImageData, RGBASurfaceInterface>(imageData => this._surfaces.get(imageData));\n\n    private _videoProcessor: VideoProcessorInterface;\n}\n\nexport default VideoEndpoint;\n",
    "/*\n *   This file is part of 6502.ts, an emulator for 6502 based systems built\n *   in Typescript.\n *\n *   Copyright (C) 2014 - 2017 Christian Speckner & contributors\n *\n *   This program is free software; you can redistribute it and/or modify\n *   it under the terms of the GNU General Public License as published by\n *   the Free Software Foundation; either version 2 of the License, or\n *   (at your option) any later version.\n *\n *   This program is distributed in the hope that it will be useful,\n *   but WITHOUT ANY WARRANTY; without even the implied warranty of\n *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *   GNU General Public License for more details.\n *\n *   You should have received a copy of the GNU General Public License along\n *   with this program; if not, write to the Free Software Foundation, Inc.,\n *   51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n */\n\nimport { Mutex } from 'async-mutex';\n\nimport ChannelInterface from './audio/ChannelInterface';\nimport WaveformChannel from './audio/WaveformChannel';\nimport PCMChannel from './audio/PCMChannel';\n\nimport WaveformAudioOutputInterface from '../../machine/io/WaveformAudioOutputInterface';\nimport PCMAudioEndpointInterface from './PCMAudioEndpointInterface';\n\ntype AudioContextType = typeof AudioContext;\n\ndeclare namespace window {\n    const webkitAudioContext: AudioContextType;\n    // tslint:disable-next-line:variable-name\n    const AudioContext: AudioContextType;\n}\n\nclass WebAudioDriver {\n    constructor(waveformChannels = 0, pcmChannels = 0, fragmentSize?: number) {\n        this._waveformChannels = new Array<WaveformChannel>(waveformChannels);\n        this._pcmChannels = new Array<PCMChannel>(pcmChannels);\n\n        for (let i = 0; i < waveformChannels; i++) {\n            this._waveformChannels[i] = new WaveformChannel(this._cache);\n        }\n\n        for (let i = 0; i < pcmChannels; i++) {\n            this._pcmChannels[i] = new PCMChannel(fragmentSize);\n        }\n\n        this._channels = [...this._waveformChannels, ...this._pcmChannels];\n    }\n\n    init(): void {\n        const ctor = window.AudioContext || window.webkitAudioContext;\n\n        if (!ctor) {\n            throw new Error(`web audio is not supported by runtime`);\n        }\n\n        this._context = new ctor();\n\n        try {\n            this._context.destination.channelCount = 1;\n        } catch (e) {\n            console.warn('audio driver: failed to set channel count');\n        }\n\n        this._merger = this._context.createChannelMerger(this._channels.length);\n        this._merger.connect(this._context.destination);\n\n        this._channels.forEach(channel => channel.init(this._context, this._merger));\n    }\n\n    bind(\n        waveformSources: Array<WaveformAudioOutputInterface> = [],\n        pcmSources: Array<PCMAudioEndpointInterface> = []\n    ): void {\n        if (this._isBound) {\n            return;\n        }\n\n        if (waveformSources.length !== this._waveformChannels.length) {\n            throw new Error(\n                `invalid number of waveform sources: expected ${this._waveformChannels\n                    .length}, got ${waveformSources.length}`\n            );\n        }\n\n        if (pcmSources.length !== this._pcmChannels.length) {\n            throw new Error(\n                `invalid number of waveform sources: expected ${this._pcmChannels.length}, got ${pcmSources.length}`\n            );\n        }\n\n        this._waveformChannels.forEach((channel, i) => channel.bind(waveformSources[i]));\n        this._pcmChannels.forEach((channel, i) => channel.bind(pcmSources[i]));\n\n        this._isBound = true;\n\n        this.resume();\n    }\n\n    unbind(): void {\n        if (!this._isBound) {\n            return;\n        }\n\n        this._channels.forEach(channel => channel.unbind());\n\n        this._isBound = false;\n\n        this.pause();\n    }\n\n    setMasterVolume(channel: number, volume: number): void {\n        this._channels[channel].setMasterVolume(volume);\n    }\n\n    pause(): Promise<void> {\n        return this._mutex.runExclusive(\n            () =>\n                new Promise(resolve => {\n                    this._context.suspend().then(resolve, resolve);\n                    setTimeout(resolve, 200);\n                })\n        );\n    }\n\n    resume(): Promise<void> {\n        return this._mutex.runExclusive(\n            () =>\n                new Promise(resolve => {\n                    this._context.resume().then(resolve, resolve);\n                    setTimeout(resolve, 200);\n                })\n        );\n    }\n\n    close(): void {\n        this._mutex.runExclusive(() => this._context.close());\n    }\n\n    private _context: AudioContext = null;\n    private _merger: ChannelMergerNode = null;\n    private _waveformChannels: Array<WaveformChannel> = null;\n    private _pcmChannels: Array<PCMChannel> = null;\n    private _channels: Array<ChannelInterface> = null;\n    private _cache = new Map<number, AudioBuffer>();\n    private _mutex = new Mutex();\n\n    private _isBound = false;\n}\n\nexport default WebAudioDriver;\n",
    "/*\n *   This file is part of 6502.ts, an emulator for 6502 based systems built\n *   in Typescript.\n *\n *   Copyright (C) 2014 - 2017 Christian Speckner & contributors\n *\n *   This program is free software; you can redistribute it and/or modify\n *   it under the terms of the GNU General Public License as published by\n *   the Free Software Foundation; either version 2 of the License, or\n *   (at your option) any later version.\n *\n *   This program is distributed in the hope that it will be useful,\n *   but WITHOUT ANY WARRANTY; without even the implied warranty of\n *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *   GNU General Public License for more details.\n *\n *   You should have received a copy of the GNU General Public License along\n *   with this program; if not, write to the Free Software Foundation, Inc.,\n *   51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n */\n\nimport ResamplerInterface from './ResamplerInterface';\n\nclass LinearReasmpler implements ResamplerInterface {\n    constructor() {\n        this.reset(1, 1);\n    }\n\n    reset(sourceRate: number, targetRate: number) {\n        this._ratio = sourceRate / targetRate;\n        this._needsData = false;\n        this._fractionalIndex = 0;\n\n        for (let i = 0; i < 2; i++) {\n            this._buffer[i] = 0;\n        }\n    }\n\n    get(): number {\n        const x = (1 - this._fractionalIndex) * this._buffer[0] + this._fractionalIndex * this._buffer[1];\n\n        this._fractionalIndex += this._ratio;\n        if (this._fractionalIndex > 1) {\n            this._fractionalIndex -= 1;\n            this._needsData = true;\n        }\n\n        return x;\n    }\n\n    push(sample: number): void {\n        this._buffer[0] = this._buffer[1];\n        this._buffer[1] = sample;\n\n        this._needsData = false;\n    }\n\n    needsData(): boolean {\n        return this._needsData;\n    }\n\n    private _buffer = new Float32Array(2);\n    private _fractionalIndex = 0;\n    private _needsData = false;\n\n    private _ratio = 0;\n}\n\nexport default LinearReasmpler;\n",
    "/*\n *   This file is part of 6502.ts, an emulator for 6502 based systems built\n *   in Typescript.\n *\n *   Copyright (C) 2014 - 2017 Christian Speckner & contributors\n *\n *   This program is free software; you can redistribute it and/or modify\n *   it under the terms of the GNU General Public License as published by\n *   the Free Software Foundation; either version 2 of the License, or\n *   (at your option) any later version.\n *\n *   This program is distributed in the hope that it will be useful,\n *   but WITHOUT ANY WARRANTY; without even the implied warranty of\n *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *   GNU General Public License for more details.\n *\n *   You should have received a copy of the GNU General Public License along\n *   with this program; if not, write to the Free Software Foundation, Inc.,\n *   51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n */\n\nimport ChannelInterface from './ChannelInterface';\nimport PCMAudioEndpointInterface from '../PCMAudioEndpointInterface';\nimport PoolMemberInterface from '../../../tools/pool/PoolMemberInterface';\nimport RingBuffer from '../../../tools/RingBuffer';\nimport ResamplerInterface from './ResamplerInterface';\nimport LinearReasmpler from './LinearResampler';\n\nclass PCMChannel implements ChannelInterface {\n    constructor(private _hostFragmentSize = 1024) {}\n\n    init(context: AudioContext, target: AudioNode) {\n        this._outputSampleRate = context.sampleRate;\n\n        this._gain = context.createGain();\n        this._gain.gain.value = this._volume;\n        this._gain.connect(target);\n\n        this._processor = context.createScriptProcessor(this._hostFragmentSize, 1, 1);\n        this._bufferSize = this._processor.bufferSize;\n\n        this._processor.connect(this._gain);\n        this._processor.onaudioprocess = e => this._processAudio(e);\n\n        const buffer = context.createBuffer(1, 1, context.sampleRate);\n        buffer.getChannelData(0).set([0]);\n    }\n\n    bind(audio: PCMAudioEndpointInterface): void {\n        this.unbind();\n\n        this._audio = audio;\n        this._fragmentSize = audio.getFrameSize();\n        this._inputSampleRate = audio.getSampleRate();\n        this._fragmentIndex = 0;\n        this._lastFragment = null;\n        this._bufferUnderrun = true;\n        this._fragmentRing = new RingBuffer<PoolMemberInterface<Float32Array>>(\n            Math.ceil(4 * this._bufferSize / this._outputSampleRate / this._fragmentSize * this._inputSampleRate)\n        );\n\n        this._audio.newFrame.addHandler(PCMChannel._onNewFragment, this);\n\n        this._resampler.reset(this._inputSampleRate, this._outputSampleRate);\n    }\n\n    unbind() {\n        if (!this._audio) {\n            return;\n        }\n\n        this._audio.newFrame.removeHandler(PCMChannel._onNewFragment, this);\n\n        if (this._lastFragment) {\n            this._lastFragment.release();\n            this._lastFragment = null;\n        }\n\n        if (this._currentFragment) {\n            this._currentFragment.release();\n            this._currentFragment = null;\n        }\n\n        if (this._fragmentRing) {\n            this._fragmentRing.forEach(b => b.release());\n            this._fragmentRing.clear();\n            this._fragmentRing = null;\n        }\n    }\n\n    setMasterVolume(volume: number): void {\n        this._volume = volume;\n    }\n\n    private static _onNewFragment(fragment: PoolMemberInterface<Float32Array>, self: PCMChannel): void {\n        self._fragmentRing.push(fragment);\n\n        if (!self._currentFragment) {\n            self._currentFragment = self._fragmentRing.pop();\n            self._fragmentIndex = 0;\n        }\n    }\n\n    private _processAudio(e: AudioProcessingEvent): void {\n        if (!this._audio) {\n            return;\n        }\n\n        const outputBuffer = e.outputBuffer.getChannelData(0);\n        let bufferIndex = 0;\n\n        const fillBuffer = (until: number) => {\n            const previousFragmentBuffer = this._lastFragment && this._lastFragment.get();\n\n            while (bufferIndex < until) {\n                if (this._resampler.needsData()) {\n                    this._resampler.push(\n                        (this._audio && this._audio.isPaused()) || !previousFragmentBuffer\n                            ? 0\n                            : previousFragmentBuffer[this._fragmentIndex++] * this._volume\n                    );\n\n                    if (this._fragmentIndex >= this._fragmentSize) {\n                        this._fragmentIndex = 0;\n                    }\n                }\n\n                outputBuffer[bufferIndex++] = this._resampler.get();\n            }\n        };\n\n        // Give the emulation half a fragment of head start when recovering from an underrun\n        if (this._currentFragment && this._bufferUnderrun) {\n            fillBuffer(this._bufferSize >>> 1);\n            this._bufferUnderrun = false;\n        }\n\n        let fragmentBuffer = this._currentFragment && this._currentFragment.get();\n\n        while (bufferIndex < this._bufferSize && this._currentFragment) {\n            if (this._resampler.needsData()) {\n                this._resampler.push(fragmentBuffer[this._fragmentIndex++] * this._volume);\n\n                if (this._fragmentIndex >= this._fragmentSize) {\n                    this._fragmentIndex = 0;\n\n                    if (this._lastFragment) {\n                        this._lastFragment.release();\n                    }\n\n                    this._lastFragment = this._currentFragment;\n                    this._currentFragment = this._fragmentRing.pop();\n\n                    fragmentBuffer = this._currentFragment && this._currentFragment.get();\n                }\n            }\n\n            outputBuffer[bufferIndex++] = this._resampler.get();\n        }\n\n        if (bufferIndex < this._bufferSize) {\n            this._bufferUnderrun = true;\n        }\n\n        fillBuffer(this._bufferSize);\n    }\n\n    private _outputSampleRate = 0;\n    private _bufferSize = 0;\n    private _volume = 1;\n\n    private _gain: GainNode = null;\n    private _processor: ScriptProcessorNode = null;\n    private _bufferUnderrun = false;\n\n    private _fragmentRing: RingBuffer<PoolMemberInterface<Float32Array>> = null;\n\n    private _fragmentSize = 0;\n    private _inputSampleRate = 0;\n    private _fragmentIndex = 0;\n    private _currentFragment: PoolMemberInterface<Float32Array> = null;\n    private _lastFragment: PoolMemberInterface<Float32Array> = null;\n\n    private _audio: PCMAudioEndpointInterface;\n\n    private _resampler: ResamplerInterface = new LinearReasmpler();\n}\n\nexport default PCMChannel;\n",
    "/*\n *   This file is part of 6502.ts, an emulator for 6502 based systems built\n *   in Typescript.\n *\n *   Copyright (C) 2014 - 2017 Christian Speckner & contributors\n *\n *   This program is free software; you can redistribute it and/or modify\n *   it under the terms of the GNU General Public License as published by\n *   the Free Software Foundation; either version 2 of the License, or\n *   (at your option) any later version.\n *\n *   This program is distributed in the hope that it will be useful,\n *   but WITHOUT ANY WARRANTY; without even the implied warranty of\n *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *   GNU General Public License for more details.\n *\n *   You should have received a copy of the GNU General Public License along\n *   with this program; if not, write to the Free Software Foundation, Inc.,\n *   51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n */\n\nimport ChannelInterface from './ChannelInterface';\nimport WaveformAudioOutputInterface from '../../../machine/io/WaveformAudioOutputInterface';\n\nclass WaveformChannel implements ChannelInterface {\n    constructor(private _cache: Map<number, AudioBuffer>) {}\n\n    init(context: AudioContext, target: AudioNode): void {\n        this._context = context;\n\n        this._gain = this._context.createGain();\n        this._gain.connect(target);\n    }\n\n    bind(target: WaveformAudioOutputInterface): void {\n        if (this._audio) {\n            return;\n        }\n\n        this._audio = target;\n        this._volume = this._audio.getVolume();\n        this._updateGain();\n\n        this._audio.volumeChanged.addHandler(WaveformChannel._onVolumeChanged, this);\n        this._audio.bufferChanged.addHandler(WaveformChannel._onBufferChanged, this);\n        this._audio.stop.addHandler(WaveformChannel._onStop, this);\n    }\n\n    unbind(): void {\n        if (!this._audio) {\n            return;\n        }\n\n        this._audio.volumeChanged.removeHandler(WaveformChannel._onVolumeChanged, this);\n        this._audio.bufferChanged.removeHandler(WaveformChannel._onBufferChanged, this);\n        this._audio.stop.removeHandler(WaveformChannel._onStop, this);\n\n        if (this._source) {\n            this._source.stop();\n            this._source = null;\n        }\n\n        this._audio = null;\n    }\n\n    setMasterVolume(volume: number): void {\n        this._masterVolume = volume;\n        this._updateGain();\n    }\n\n    private static _onVolumeChanged(volume: number, self: WaveformChannel): void {\n        self._volume = volume;\n        self._updateGain();\n    }\n\n    private static _onBufferChanged(key: number, self: WaveformChannel): void {\n        if (!self._cache.has(key)) {\n            const sampleBuffer = self._audio.getBuffer(key),\n                audioBuffer = self._context.createBuffer(1, sampleBuffer.getLength(), sampleBuffer.getSampleRate());\n\n            audioBuffer.getChannelData(0).set(sampleBuffer.getContent());\n            self._cache.set(key, audioBuffer);\n        }\n\n        const buffer = self._cache.get(key),\n            source = self._context.createBufferSource();\n\n        if (self._source) {\n            self._source.stop();\n        }\n\n        source.loop = true;\n        source.buffer = buffer;\n        source.connect(self._gain);\n        source.start();\n\n        self._source = source;\n    }\n\n    private static _onStop(payload: void, self: WaveformChannel): void {\n        if (self._source) {\n            self._source.stop();\n            self._source = null;\n        }\n    }\n\n    private _updateGain(): void {\n        this._gain.gain.value = this._volume * this._masterVolume;\n    }\n\n    private _context: AudioContext = null;\n    private _source: AudioBufferSourceNode = null;\n    private _gain: GainNode = null;\n    private _audio: WaveformAudioOutputInterface = null;\n\n    private _volume = 0;\n    private _masterVolume = 1;\n}\n\nexport default WaveformChannel;\n",
    "/*\n *   This file is part of 6502.ts, an emulator for 6502 based systems built\n *   in Typescript.\n *\n *   Copyright (C) 2014 - 2017 Christian Speckner & contributors\n *\n *   This program is free software; you can redistribute it and/or modify\n *   it under the terms of the GNU General Public License as published by\n *   the Free Software Foundation; either version 2 of the License, or\n *   (at your option) any later version.\n *\n *   This program is distributed in the hope that it will be useful,\n *   but WITHOUT ANY WARRANTY; without even the implied warranty of\n *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *   GNU General Public License for more details.\n *\n *   You should have received a copy of the GNU General Public License along\n *   with this program; if not, write to the Free Software Foundation, Inc.,\n *   51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n */\n\nimport { Event } from 'microevent.ts';\n\nimport SwitchInterface from '../../../machine/io/SwitchInterface';\nimport JoystickInterface from '../../../machine/io/DigitalJoystickInterface';\nimport ControlPanelInterface from '../../../machine/stella/ControlPanelInterface';\n\nconst enum DispatchType {\n    swtch,\n    triggerDown\n}\n\ninterface SwitchDispatch {\n    type: DispatchType.swtch;\n    swtch: SwitchInterface;\n}\n\ninterface TriggerDispatch {\n    type: DispatchType.triggerDown;\n    trigger: Event<void>;\n}\n\ntype Dispatch = SwitchDispatch | TriggerDispatch;\n\nfunction mkSwitch(swtch: SwitchInterface): SwitchDispatch {\n    return {\n        type: DispatchType.swtch,\n        swtch\n    };\n}\n\nfunction mkTrigger(event: Event<void>): TriggerDispatch {\n    return {\n        type: DispatchType.triggerDown,\n        trigger: event\n    };\n}\n\nclass KeyboardIO {\n    constructor(\n        private _target: HTMLElement | HTMLDocument,\n        // tslint:disable-next-line\n        mappings: Array<KeyboardIO.Mapping> = KeyboardIO.defaultMappings\n    ) {\n        this._compileMappings(mappings);\n    }\n\n    bind(joystick0: JoystickInterface, joystick1: JoystickInterface, controlPanel: ControlPanelInterface): void {\n        if (this._joystick0) {\n            return;\n        }\n\n        this._joystick0 = joystick0;\n        this._joystick1 = joystick1;\n        this._controlPanel = controlPanel;\n\n        this._updateActionTable();\n\n        this._keydownListener = e => {\n            if (!this._compiledMappings.has(e.keyCode)) {\n                return;\n            }\n\n            const modifiers =\n                (e.shiftKey ? KeyboardIO.Modifier.shift : 0) |\n                (e.ctrlKey ? KeyboardIO.Modifier.ctrl : 0) |\n                (e.altKey ? KeyboardIO.Modifier.alt : 0);\n\n            if (!this._compiledMappings.get(e.keyCode).has(modifiers)) {\n                return;\n            }\n\n            const action = this._compiledMappings.get(e.keyCode).get(modifiers);\n\n            if (typeof action !== 'undefined') {\n                e.preventDefault();\n\n                const dispatch = this._dispatchTable[action];\n                switch (dispatch.type) {\n                    case DispatchType.swtch:\n                        dispatch.swtch.toggle(true);\n                        break;\n\n                    case DispatchType.triggerDown:\n                        dispatch.trigger.dispatch(undefined);\n                        break;\n\n                    default:\n                }\n            }\n        };\n\n        this._keyupListener = e => {\n            if (!this._compiledMappings.has(e.keyCode)) {\n                return;\n            }\n\n            for (const action of this._compiledMappings.get(e.keyCode).values()) {\n                e.preventDefault();\n\n                const dispatch = this._dispatchTable[action];\n\n                switch (dispatch.type) {\n                    case DispatchType.swtch:\n                        dispatch.swtch.toggle(false);\n                        break;\n\n                    default:\n                }\n            }\n        };\n\n        this._target.addEventListener('keydown', this._keydownListener);\n        this._target.addEventListener('keyup', this._keyupListener);\n    }\n\n    unbind(): void {\n        if (!this._joystick0) {\n            return;\n        }\n\n        this._target.removeEventListener('keydown', this._keydownListener);\n        this._target.removeEventListener('keyup', this._keyupListener);\n\n        this._joystick0 = this._joystick1 = this._controlPanel = null;\n        this._keydownListener = this._keyupListener = null;\n    }\n\n    private _updateActionTable(): void {\n        this._dispatchTable[KeyboardIO.Action.fullscreen] = mkTrigger(this.toggleFullscreen);\n        this._dispatchTable[KeyboardIO.Action.hardReset] = mkTrigger(this.hardReset);\n        this._dispatchTable[KeyboardIO.Action.togglePause] = mkTrigger(this.togglePause);\n        this._dispatchTable[KeyboardIO.Action.select] = mkSwitch(this._controlPanel.getSelectSwitch());\n        this._dispatchTable[KeyboardIO.Action.reset] = mkSwitch(this._controlPanel.getResetButton());\n        this._dispatchTable[KeyboardIO.Action.left0] = mkSwitch(this._joystick0.getLeft());\n        this._dispatchTable[KeyboardIO.Action.right0] = mkSwitch(this._joystick0.getRight());\n        this._dispatchTable[KeyboardIO.Action.up0] = mkSwitch(this._joystick0.getUp());\n        this._dispatchTable[KeyboardIO.Action.down0] = mkSwitch(this._joystick0.getDown());\n        this._dispatchTable[KeyboardIO.Action.fire0] = mkSwitch(this._joystick0.getFire());\n        this._dispatchTable[KeyboardIO.Action.left1] = mkSwitch(this._joystick1.getLeft());\n        this._dispatchTable[KeyboardIO.Action.right1] = mkSwitch(this._joystick1.getRight());\n        this._dispatchTable[KeyboardIO.Action.up1] = mkSwitch(this._joystick1.getUp());\n        this._dispatchTable[KeyboardIO.Action.down1] = mkSwitch(this._joystick1.getDown());\n        this._dispatchTable[KeyboardIO.Action.fire1] = mkSwitch(this._joystick1.getFire());\n    }\n\n    private _compileMappings(mappings: Array<KeyboardIO.Mapping>): void {\n        const compileMapping = (action: KeyboardIO.Action, keycode: number, modifiers: number) => {\n            if ((modifiers & ~(KeyboardIO.Modifier.shift | KeyboardIO.Modifier.ctrl | KeyboardIO.Modifier.alt)) !== 0) {\n                throw new Error(`invalid modifier set ${modifiers}`);\n            }\n\n            if (!this._compiledMappings.has(keycode)) {\n                this._compiledMappings.set(keycode, new Map<number, KeyboardIO.Action>());\n            }\n\n            this._compiledMappings.get(keycode).set(modifiers, action);\n        };\n\n        mappings.forEach(mapping => {\n            const action = mapping.action,\n                specs = Array.isArray(mapping.spec) ? mapping.spec : [mapping.spec];\n\n            specs.forEach(spec =>\n                compileMapping(\n                    action,\n                    typeof spec === 'object' ? spec.keycode : spec,\n                    typeof spec === 'object' ? spec.modifiers : 0\n                )\n            );\n        });\n    }\n\n    toggleFullscreen = new Event<void>();\n    hardReset = new Event<void>();\n    togglePause = new Event<void>();\n\n    private _keydownListener: (e: KeyboardEvent) => void = null;\n    private _keyupListener: (e: KeyboardEvent) => void = null;\n\n    private _joystick0: JoystickInterface = null;\n    private _joystick1: JoystickInterface = null;\n    private _controlPanel: ControlPanelInterface = null;\n\n    private _dispatchTable: { [action: number]: Dispatch } = {};\n    private _compiledMappings = new Map<number, Map<number, KeyboardIO.Action>>();\n}\n\nnamespace KeyboardIO {\n    export const enum Action {\n        select,\n        reset,\n        left0,\n        right0,\n        up0,\n        down0,\n        left1,\n        right1,\n        up1,\n        down1,\n        fire0,\n        fire1,\n\n        fullscreen,\n        hardReset,\n        togglePause\n    }\n\n    export const enum Modifier {\n        ctrl = 1,\n        alt = 2,\n        shift = 4\n    }\n\n    export interface ComplexKeySpec {\n        keycode: number;\n        modifiers: number;\n    }\n\n    export type keySpec = number | ComplexKeySpec;\n\n    export interface Mapping {\n        action: Action;\n        spec: keySpec | Array<keySpec>;\n    }\n\n    export const defaultMappings: Array<Mapping> = [\n        {\n            action: Action.select,\n            spec: {\n                keycode: 32, // space\n                modifiers: Modifier.shift\n            }\n        },\n        {\n            action: Action.reset,\n            spec: {\n                keycode: 13, // enter\n                modifiers: Modifier.shift\n            }\n        },\n        {\n            action: Action.left0,\n            spec: [\n                65, // w\n                37 // left\n            ]\n        },\n        {\n            action: Action.right0,\n            spec: [\n                68, // d\n                39 // right\n            ]\n        },\n        {\n            action: Action.up0,\n            spec: [\n                87, // w\n                38 // up\n            ]\n        },\n        {\n            action: Action.down0,\n            spec: [\n                83, // s\n                40 // down\n            ]\n        },\n        {\n            action: Action.fire0,\n            spec: [\n                32, // space\n                86 // v\n            ]\n        },\n        {\n            action: Action.left1,\n            spec: 74 // j\n        },\n        {\n            action: Action.right1,\n            spec: 76 // l\n        },\n        {\n            action: Action.up1,\n            spec: 73 // i\n        },\n        {\n            action: Action.down1,\n            spec: 75 // k\n        },\n        {\n            action: Action.fire1,\n            spec: 66 // b\n        },\n        {\n            action: Action.fullscreen,\n            spec: 13 // enter\n        },\n        {\n            action: Action.hardReset,\n            spec: {\n                keycode: 82, // r\n                modifiers: Modifier.shift\n            }\n        },\n        {\n            action: Action.togglePause,\n            spec: 80 // p\n        }\n    ];\n}\n\nexport default KeyboardIO;\n",
    "/*\n *   This file is part of 6502.ts, an emulator for 6502 based systems built\n *   in Typescript.\n *\n *   Copyright (C) 2014 - 2017 Christian Speckner & contributors\n *\n *   This program is free software; you can redistribute it and/or modify\n *   it under the terms of the GNU General Public License as published by\n *   the Free Software Foundation; either version 2 of the License, or\n *   (at your option) any later version.\n *\n *   This program is distributed in the hope that it will be useful,\n *   but WITHOUT ANY WARRANTY; without even the implied warranty of\n *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *   GNU General Public License for more details.\n *\n *   You should have received a copy of the GNU General Public License along\n *   with this program; if not, write to the Free Software Foundation, Inc.,\n *   51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n */\n\nimport VanillaDriver from '../../driver/WebAudio';\nimport WaveformAudioOutputInterface from '../../../machine/io/WaveformAudioOutputInterface';\nimport PCMAudioEndpointInterface from '../../driver/PCMAudioEndpointInterface';\n\nclass WebAudioDriver {\n    constructor(private _fragmentSize?: number) {}\n\n    init(): void {}\n\n    bind(pcmAudio: boolean, channels: WebAudioDriver.Channels): void {\n        if (this._channels) {\n            return;\n        }\n        this._channels = [...channels] as any;\n\n        if (!this._driver || this._pcmAudio !== pcmAudio) {\n            if (this._driver) {\n                this._driver.close();\n            }\n\n            this._driver = pcmAudio\n                ? new VanillaDriver(0, this._channels.length, this._fragmentSize)\n                : new VanillaDriver(this._channels.length, 0, this._fragmentSize);\n            this._driver.init();\n        }\n\n        if (pcmAudio) {\n            this._driver.bind([], this._channels as Array<PCMAudioEndpointInterface>);\n        } else {\n            this._driver.bind(this._channels as Array<WaveformAudioOutputInterface>, []);\n        }\n\n        for (let i = 0; i < this._channels.length; i++) {\n            this._driver.setMasterVolume(i, this._volume);\n        }\n\n        this._pcmAudio = pcmAudio;\n    }\n\n    unbind(): void {\n        if (!this._channels) {\n            return;\n        }\n\n        this._driver.unbind();\n\n        this._channels = null;\n    }\n\n    setMasterVolume(volume: number): void {\n        this._volume = volume;\n\n        if (this._channels) {\n            for (let i = 0; i < this._channels.length; i++) {\n                this._driver.setMasterVolume(i, this._volume);\n            }\n        }\n    }\n\n    getMasterVolume(): number {\n        return this._volume;\n    }\n\n    async pause(): Promise<void> {\n        if (this._driver) {\n            await this._driver.pause();\n        }\n    }\n\n    async resume(): Promise<void> {\n        if (this._driver) {\n            await this._driver.resume();\n        }\n    }\n\n    private _driver: VanillaDriver;\n    private _pcmAudio = false;\n    private _volume = 1;\n    private _channels: WebAudioDriver.Channels;\n}\n\nnamespace WebAudioDriver {\n    export type Channels = Array<WaveformAudioOutputInterface> | Array<PCMAudioEndpointInterface>;\n}\n\nexport default WebAudioDriver;\n",
    "/*\n *   This file is part of 6502.ts, an emulator for 6502 based systems built\n *   in Typescript.\n *\n *   Copyright (C) 2014 - 2017 Christian Speckner & contributors\n *\n *   This program is free software; you can redistribute it and/or modify\n *   it under the terms of the GNU General Public License as published by\n *   the Free Software Foundation; either version 2 of the License, or\n *   (at your option) any later version.\n *\n *   This program is distributed in the hope that it will be useful,\n *   but WITHOUT ANY WARRANTY; without even the implied warranty of\n *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *   GNU General Public License for more details.\n *\n *   You should have received a copy of the GNU General Public License along\n *   with this program; if not, write to the Free Software Foundation, Inc.,\n *   51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n */\n\nimport StellaCLI from '../cli/stella/StellaCLI';\nimport Board from '../machine/stella/Board';\nimport JqtermCLIRunner from '../cli/JqtermCLIRunner';\nimport PrepackagedFilesystemProvider from '../fs/PrepackagedFilesystemProvider';\nimport SimpleCanvasVideoDriver from './driver/SimpleCanvasVideo';\nimport KeyboardIoDriver from './stella/driver/KeyboardIO';\nimport WebAudioDriver from './stella/driver/WebAudio';\nimport FullscreenVideoDriver from './driver/FullscreenVideo';\nimport PaddleInterface from '../machine/io/PaddleInterface';\nimport MouseAsPaddleDriver from './driver/MouseAsPaddle';\nimport VideoEndpoint from './driver/VideoEndpoint';\nimport PCMAudioEndpoint from './driver/PCMAudioEndpoint';\n\ninterface PageConfig {\n    cartridge?: string;\n    tvMode?: string;\n    audio?: string;\n    paddles?: string;\n    seed?: string;\n    pcm?: string;\n}\n\nexport function run({\n    fileBlob,\n    terminalElt,\n    interruptButton,\n    clearButton,\n    canvas,\n    pageConfig,\n    cartridgeFileInput,\n    cartridgeFileInputLabel\n}: {\n    fileBlob: PrepackagedFilesystemProvider.BlobInterface;\n    terminalElt: JQuery;\n    interruptButton: JQuery;\n    clearButton: JQuery;\n    canvas: JQuery;\n    pageConfig: PageConfig;\n    cartridgeFileInput?: JQuery;\n    cartridgeFileInputLabel?: JQuery;\n}) {\n    const fsProvider = new PrepackagedFilesystemProvider(fileBlob),\n        cli = new StellaCLI(fsProvider),\n        runner = new JqtermCLIRunner(cli, terminalElt, {\n            interruptButton,\n            clearButton\n        });\n\n    cli.allowQuit(false);\n\n    const canvasElt = canvas.get(0) as HTMLCanvasElement,\n        context = canvasElt.getContext('2d');\n\n    context.fillStyle = 'solid black';\n    context.fillRect(0, 0, canvasElt.width, canvasElt.height);\n\n    cli.hardwareInitialized.addHandler(() => {\n        const board = cli.getBoard(),\n            videoDriver = setupVideo(canvas.get(0) as HTMLCanvasElement, board),\n            fullscreenDriver = new FullscreenVideoDriver(videoDriver);\n\n        setupAudio(board, cli);\n        setupKeyboardControls(canvas, board, fullscreenDriver);\n        setupPaddles(board.getPaddle(0));\n\n        board.setAudioEnabled(true);\n    });\n\n    runner.startup();\n\n    if (cartridgeFileInput) {\n        setupCartridgeReader(cli, cartridgeFileInput, cartridgeFileInputLabel);\n    }\n\n    if (pageConfig) {\n        if (pageConfig.tvMode) {\n            cli.pushInput(`tv-mode ${pageConfig.tvMode}\\n`);\n        }\n\n        if (pageConfig.audio) {\n            cli.pushInput(`audio ${pageConfig.audio}\\n`);\n        }\n\n        if (pageConfig.paddles) {\n            cli.pushInput(`paddles ${pageConfig.paddles}\\n`);\n        }\n\n        if (pageConfig.seed) {\n            cli.pushInput(`seed ${pageConfig.seed}\\n`);\n        }\n\n        if (pageConfig.pcm) {\n            cli.pushInput(`pcm ${pageConfig.pcm}\\n`);\n        }\n\n        if (pageConfig.cartridge) {\n            cli.pushInput(`load-cartridge ${pageConfig.cartridge}\\n`);\n        }\n    }\n}\n\nfunction setupCartridgeReader(cli: StellaCLI, cartridgeFileInput: JQuery, cartridgeFileInputLabel?: JQuery): void {\n    const onCliStateChange: () => void = cartridgeFileInputLabel\n        ? () =>\n              cli.getState() === StellaCLI.State.setup ? cartridgeFileInputLabel.show() : cartridgeFileInputLabel.hide()\n        : () => undefined;\n\n    cli.events.stateChanged.addHandler(onCliStateChange);\n    onCliStateChange();\n\n    cartridgeFileInput.change(e => {\n        const files = (e.currentTarget as HTMLInputElement).files;\n\n        if (files.length !== 1) {\n            return;\n        }\n\n        const reader = new FileReader(),\n            file = files[0];\n        reader.addEventListener('load', () => {\n            if (cli.getState() !== StellaCLI.State.setup) {\n                return;\n            }\n\n            cli.loadCartridgeFromBuffer(new Uint8Array(reader.result), file.name);\n        });\n\n        reader.readAsArrayBuffer(files[0]);\n    });\n}\n\nfunction setupVideo(canvas: HTMLCanvasElement, board: Board): SimpleCanvasVideoDriver {\n    const driver = new SimpleCanvasVideoDriver(canvas);\n    driver.init();\n    driver.bind(new VideoEndpoint(board.getVideoOutput()));\n\n    return driver;\n}\n\nfunction setupAudio(board: Board, cli: StellaCLI) {\n    const driver = new WebAudioDriver();\n\n    try {\n        driver.init();\n    } catch (e) {\n        console.log(`audio unavailable: ${e.message}`);\n    }\n\n    const config = board.getConfig();\n    driver.bind(\n        config.pcmAudio,\n        config.pcmAudio ? [new PCMAudioEndpoint(board.getPCMChannel())] : board.getWaveformChannels()\n    );\n\n    cli.events.stateChanged.addHandler(newState => {\n        switch (newState) {\n            case StellaCLI.State.run:\n                driver.resume();\n                break;\n\n            case StellaCLI.State.debug:\n                driver.pause();\n                break;\n        }\n    });\n}\n\nfunction setupKeyboardControls(element: JQuery, board: Board, fullscreenDriver: FullscreenVideoDriver) {\n    const ioDriver = new KeyboardIoDriver(element.get(0));\n    ioDriver.bind(board.getJoystick0(), board.getJoystick1(), board.getControlPanel());\n\n    ioDriver.toggleFullscreen.addHandler(() => fullscreenDriver.toggle());\n}\n\nfunction setupPaddles(paddle0: PaddleInterface): void {\n    const paddleDriver = new MouseAsPaddleDriver();\n    paddleDriver.bind(paddle0);\n}\n"
  ]
}